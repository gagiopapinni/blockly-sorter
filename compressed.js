var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};
$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.findIndex",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).i}},"es6","es3");$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var b=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}},"es6","es3");$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var h=0;h<f&&c<e;)if(b[c++]!=a[h++])return!1;return h>=f}},"es6","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(a){return a?a:function(){return[]}},"es6","es5");
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)$jscomp.owns(d,e)&&(a[e]=d[e])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6","es3");$jscomp.polyfill("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6","es3");
$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,c){return c})}},"es8","es3");
$jscomp.polyfill("Number.isNaN",function(a){return a?a:function(a){return"number"===typeof a&&isNaN(a)}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this;goog.isDef=function(a){return void 0!==a};goog.isString=function(a){return"string"==typeof a};goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};
goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}};
goog.define=function(a,b){if(!COMPILED){var c=goog.global.CLOSURE_UNCOMPILED_DEFINES,d=goog.global.CLOSURE_DEFINES;c&&void 0===c.nodeType&&Object.prototype.hasOwnProperty.call(c,a)?b=c[a]:d&&void 0===d.nodeType&&Object.prototype.hasOwnProperty.call(d,a)&&(b=d[a])}goog.exportPath_(a,b)};goog.DEBUG=!1;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;
goog.provide=function(a){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');goog.constructNamespace_(a)};goog.constructNamespace_=function(a,b){if(!COMPILED){delete goog.implicitNamespaces_[a];for(var c=a;(c=c.substring(0,c.lastIndexOf(".")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0}goog.exportPath_(a,b)};
goog.getScriptNonce=function(){null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)||"");return goog.cspNonce_};goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/;goog.cspNonce_=null;goog.getScriptNonce_=function(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(a)?a:null};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;
goog.module=function(a){if(!goog.isString(a)||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");
if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=a;if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};
goog.module.getInternal_=function(a){if(!COMPILED){if(a in goog.loadedModules_)return goog.loadedModules_[a].exports;if(!goog.implicitNamespaces_[a])return a=goog.getObjectByName(a),null!=a?a:null}return null};goog.ModuleType={ES6:"es6",GOOG:"goog"};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG};
goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var a=goog.global.$jscomp;return a?"function"!=typeof a.getCurrentModulePath?!1:!!a.getCurrentModulePath():!1};
goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};
goog.module.declareNamespace=function(a){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.module.declareNamespace may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.module.declareNamespace may only be called once per module.");if(a in goog.loadedModules_)throw Error('Module with namespace "'+a+'" already exists.');}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=a;else{var b=goog.global.$jscomp;
if(!b||"function"!=typeof b.getCurrentModulePath)throw Error('Module with namespace "'+a+'" has been loaded incorrectly.');b=b.require(b.getCurrentModulePath());goog.loadedModules_[a]={exports:b,type:goog.ModuleType.ES6,moduleId:a}}};goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};goog.forwardDeclare=function(a){};
COMPILED||(goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={"goog.module":!0});goog.getObjectByName=function(a,b){a=a.split(".");b=b||goog.global;for(var c=0;c<a.length;c++)if(b=b[a[c]],!goog.isDefAndNotNull(b))return null;return b};goog.globalize=function(a,b){b=b||goog.global;for(var c in a)b[c]=a[c]};
goog.addDependency=function(a,b,c,d){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(a,b,c,d)};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};
goog.require=function(a){if(!COMPILED){goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(a);if(goog.isProvided_(a)){if(goog.isInModuleLoader_())return goog.module.getInternal_(a)}else if(goog.ENABLE_DEBUG_LOADER){var b=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(a)}finally{goog.moduleLoaderState_=b}}return null}};goog.basePath="";goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(a){a.instance_=void 0;a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.TRANSPILE="detect";goog.TRANSPILE_TO_LANGUAGE="";goog.TRANSPILER="transpile.js";
goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(a){return"(function(){"+a+"\n;})();\n"};
goog.loadModule=function(a){var b=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};if(goog.isFunction(a))var c=a.call(void 0,{});else if(goog.isString(a))goog.useSafari10Workaround()&&(a=goog.workaroundSafari10EvalBug(a)),c=goog.loadModuleFromSource_.call(void 0,a);else throw Error("Invalid module definition");var d=goog.moduleLoaderState_.moduleName;if(goog.isString(d)&&d)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(d,
c):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof c&&null!=c&&Object.seal(c),goog.loadedModules_[d]={exports:c,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+d+'"');}finally{goog.moduleLoaderState_=b}};goog.loadModuleFromSource_=function(a){eval(a);return{}};goog.normalizePath_=function(a){a=a.split("/");for(var b=0;b<a.length;)"."==a[b]?a.splice(b,1):b&&".."==a[b]&&a[b-1]&&".."!=a[b-1]?a.splice(--b,2):b++;return a.join("/")};
goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var b=new goog.global.XMLHttpRequest;b.open("get",a,!1);b.send();return 0==b.status||200==b.status?b.responseText:null}catch(c){return null}};
goog.transpile_=function(a,b,c){var d=goog.global.$jscomp;d||(goog.global.$jscomp=d={});var e=d.transpile;if(!e){var f=goog.basePath+goog.TRANSPILER,h=goog.loadFileSync_(f);if(h){(function(){eval(h+"\n//# sourceURL="+f)}).call(goog.global);if(goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=
goog.global.$gwtExport.$jscomp.transpile;d=goog.global.$jscomp;e=d.transpile}}e||(e=d.transpile=function(a,b){goog.logToConsole_(b+" requires transpilation but no transpiler was found.");return a});return e(a,b,c)};
goog.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isFunction=function(a){return"function"==goog.typeOf(a)};
goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;
goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if("function"===typeof a.clone)return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval){if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(d){}if("undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(d){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=
!1;c.appendChild(b.createTextNode(a));b.head.appendChild(c);b.head.removeChild(c)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;
goog.getCssName=function(a,b){if("."==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+a);var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split("-");for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")};d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};a=b?a+"-"+d(b):d(a);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(a):a};
goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,b){b&&(a=a.replace(/\{\$([^}]+)}/g,function(a,d){return null!=b&&d in b?b[d]:a}));return a};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};
goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};
goog.base=function(a,b,c){var d=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if("undefined"!==typeof d.superClass_){for(var e=Array(arguments.length-1),f=1;f<arguments.length;f++)e[f-1]=arguments[f];return d.superClass_.constructor.apply(a,e)}if("string"!=typeof b&&"symbol"!=typeof b)throw Error("method names provided to goog.base must be a string or a symbol");
e=Array(arguments.length-2);for(f=2;f<arguments.length;f++)e[f-2]=arguments[f];f=!1;for(var h=a.constructor;h;h=h.superClass_&&h.superClass_.constructor)if(h.prototype[b]===d)f=!0;else if(f)return h.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(a){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");a.call(goog.global)};
COMPILED||(goog.global.COMPILED=COMPILED);goog.defineClass=function(a,b){var c=b.constructor,d=b.statics;c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).");});c=goog.defineClass.createSealingConstructor_(c,a);a&&goog.inherits(c,a);delete b.constructor;delete b.statics;goog.defineClass.applyProperties_(c.prototype,b);null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d));return c};
goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;goog.defineClass.createSealingConstructor_=function(a,b){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return a;var c=!goog.defineClass.isUnsealable_(b),d=function(){var b=a.apply(this,arguments)||this;b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_];this.constructor===d&&c&&Object.seal instanceof Function&&Object.seal(b);return b};return d};goog.defineClass.isUnsealable_=function(a){return a&&a.prototype&&a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};
goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.defineClass.applyProperties_=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};
goog.tagUnsealableClass=function(a){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";
!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var a=goog.global.document;return null!=a&&"write"in a},goog.isDocumentLoading_=function(){var a=goog.global.document;return a.attachEvent?"complete"!=a.readyState:"loading"==a.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var a=goog.global.document,b=a.currentScript;
a=b?[b]:a.getElementsByTagName("SCRIPT");for(b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf("?");d=-1==d?c.length:d;if("base.js"==c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null;this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(a,b){e?d[a]=!0:b()?(c=a,d[a]=!1):e=d[a]=!0}function b(a){try{return!!eval(a)}catch(g){return!1}}
var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";a("es5",function(){return b("[1,].length==1")});a("es6",function(){var a=f.match(/Edge\/(\d+)(\.\d)*/i);return a&&15>Number(a[1])?!1:b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')});
a("es6-impl",function(){return!0});a("es7",function(){return b("2 ** 2 == 4")});a("es8",function(){return b("async () => 1, true")});a("es9",function(){return b("({...rest} = {}), true")});a("es_next",function(){return!1});return{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(a,b){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var c=this.createRequiresTranspilation_();this.requiresTranspilation_=c.map;this.transpilationTarget_=
this.transpilationTarget_||c.target}if(a in this.requiresTranspilation_)return this.requiresTranspilation_[a]?!0:!goog.inHtmlDocument_()||"es6"!=b||"noModule"in goog.global.document.createElement("script")?!1:!0;throw Error("Unknown language mode: "+a);},goog.Transpiler.prototype.transpile=function(a,b){return goog.transpile_(a,b,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(a){return a.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_=
{};this.idToPath_={};this.written_={};this.loadingDeps_=[];this.depsToLoad_=[];this.paused_=!1;this.factory_=new goog.DependencyFactory(goog.transpiler_);this.deferredCallbacks_={};this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(a,b){function c(){d&&(goog.global.setTimeout(d,0),d=null)}var d=b;if(a.length){b=[];for(var e=0;e<a.length;e++){var f=this.getPathFromDeps_(a[e]);if(!f)throw Error("Unregonized namespace: "+a[e]);b.push(this.dependencies_[f])}f=goog.require;var h=0;
for(e=0;e<a.length;e++)f(a[e]),b[e].onLoad(function(){++h==a.length&&c()})}else c()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1));this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(a,b){(a=this.getPathFromDeps_(a))&&(b||this.areDepsLoaded_(this.dependencies_[a].requires))&&(b=this.deferredCallbacks_[a])&&(delete this.deferredCallbacks_[a],b())},goog.DebugLoader_.prototype.setDependencyFactory=
function(a){this.factory_=a},goog.DebugLoader_.prototype.load_=function(a){if(this.getPathFromDeps_(a)){var b=this,c=[],d=function(a){var f=b.getPathFromDeps_(a);if(!f)throw Error("Bad dependency path or symbol: "+a);if(!b.written_[f]){b.written_[f]=!0;a=b.dependencies_[f];for(f=0;f<a.requires.length;f++)goog.isProvided_(a.requires[f])||d(a.requires[f]);c.push(a)}};d(a);a=!!this.depsToLoad_.length;this.depsToLoad_=this.depsToLoad_.concat(c);this.paused_||a||this.loadDeps_()}else throw a="goog.require could not find: "+
a,goog.logToConsole_(a),Error(a);},goog.DebugLoader_.prototype.loadDeps_=function(){for(var a=this,b=this.paused_;this.depsToLoad_.length&&!b;)(function(){var c=!1,d=a.depsToLoad_.shift(),e=!1;a.loading_(d);var f={pause:function(){if(c)throw Error("Cannot call pause after the call to load.");b=!0},resume:function(){c?a.resume_():b=!1},loaded:function(){if(e)throw Error("Double call to loaded.");e=!0;a.loaded_(d)},pending:function(){for(var b=[],c=0;c<a.loadingDeps_.length;c++)b.push(a.loadingDeps_[c]);
return b},setModuleState:function(a){goog.moduleLoaderState_={type:a,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(a,b,c){c&&(goog.loadedModules_[c]={exports:b,type:goog.ModuleType.ES6,moduleId:c||""})},registerGoogModuleExports:function(a,b){goog.loadedModules_[a]={exports:b,type:goog.ModuleType.GOOG,moduleId:a}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(b){if(c)throw Error("Cannot register with defer after the call to load.");a.defer_(d,
b)},areDepsLoaded:function(){return a.areDepsLoaded_(d.requires)}};try{d.load(f)}finally{c=!0}})();b&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(a){this.loadingDeps_.push(a)},goog.DebugLoader_.prototype.loaded_=function(a){for(var b=0;b<this.loadingDeps_.length;b++)if(this.loadingDeps_[b]==a){this.loadingDeps_.splice(b,1);
break}for(b=0;b<this.deferredQueue_.length;b++)if(this.deferredQueue_[b]==a.path){this.deferredQueue_.splice(b,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);a.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(a){for(var b=0;b<a.length;b++){var c=this.getPathFromDeps_(a[b]);if(!c||!(c in this.deferredCallbacks_||goog.isProvided_(a[b])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=
function(a){return a in this.idToPath_?this.idToPath_[a]:a in this.dependencies_?a:null},goog.DebugLoader_.prototype.defer_=function(a,b){this.deferredCallbacks_[a.path]=b;this.deferredQueue_.push(a.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(a,
b,c){},goog.LoadController.prototype.setModuleState=function(a){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(a){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(a,b,c,d,e){this.path=a;this.relativePath=b;this.provides=c;this.requires=d;this.loadFlags=e;this.loaded_=!1;this.loadCallbacks_=[]},goog.Dependency.prototype.onLoad=function(a){this.loaded_?a():this.loadCallbacks_.push(a)},goog.Dependency.prototype.loaded=
function(){this.loaded_=!0;var a=this.loadCallbacks_;this.loadCallbacks_=[];for(var b=0;b<a.length;b++)a[b]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(a){var b=Math.random().toString(32);goog.Dependency.callbackMap_[b]=a;return b},goog.Dependency.unregisterCallback_=function(a){delete goog.Dependency.callbackMap_[a]},goog.Dependency.callback_=function(a,b){if(a in goog.Dependency.callbackMap_){for(var c=goog.Dependency.callbackMap_[a],d=
[],e=1;e<arguments.length;e++)d.push(arguments[e]);c.apply(void 0,d)}else throw Error("Callback key "+a+" does not exist (was base.js loaded more than once?).");},goog.Dependency.prototype.load=function(a){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?a.loaded():a.pause();else if(goog.inHtmlDocument_()){var b=goog.global.document;if("complete"==b.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path)){a.loaded();return}throw Error('Cannot write "'+
this.path+'" after document load');}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var c=goog.Dependency.registerCallback_(function(b){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=b.readyState||(goog.Dependency.unregisterCallback_(c),a.loaded())}),d=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";b.write('<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+
c+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+d+">\x3c/script>")}else{var e=b.createElement("script");e.defer=goog.Dependency.defer_;e.async=!1;e.type="text/javascript";(d=goog.getScriptNonce())&&e.setAttribute("nonce",d);goog.DebugLoader_.IS_OLD_IE_?(a.pause(),e.onreadystatechange=function(){if("loaded"==e.readyState||"complete"==e.readyState)a.loaded(),a.resume()}):e.onload=function(){e.onload=null;a.loaded()};e.src=this.path;b.head.appendChild(e)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),
"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),a.loaded()):a.pause()},goog.Es6ModuleDependency=function(a,b,c,d,e){goog.Dependency.call(this,a,b,c,d,e)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(a){function b(a,b){b?d.write('<script type="module" crossorigin>'+b+"\x3c/script>"):d.write('<script type="module" crossorigin src="'+a+'">\x3c/script>')}
function c(a,b){var c=d.createElement("script");c.defer=!0;c.async=!1;c.type="module";c.setAttribute("crossorigin",!0);var f=goog.getScriptNonce();f&&c.setAttribute("nonce",f);b?c.textContent=b:c.src=a;d.head.appendChild(c)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?a.loaded():a.pause();else if(goog.inHtmlDocument_()){var d=goog.global.document,e=this;if(goog.isDocumentLoading_()){var f=b;goog.Dependency.defer_=!0}else f=c;var h=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(h);
a.setModuleState(goog.ModuleType.ES6)});f(void 0,'goog.Dependency.callback_("'+h+'")');f(this.path,void 0);var g=goog.Dependency.registerCallback_(function(b){goog.Dependency.unregisterCallback_(g);a.registerEs6ModuleExports(e.path,b,goog.moduleLoaderState_.moduleName)});f(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+g+'", m)');var k=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(k);a.clearModuleState();a.loaded()});f(void 0,'goog.Dependency.callback_("'+
k+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),a.pause()},goog.TransformedDependency=function(a,b,c,d,e){goog.Dependency.call(this,a,b,c,d,e);this.contents_=null},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(a){function b(){e.contents_=goog.loadFileSync_(e.path);e.contents_&&(e.contents_=e.transform(e.contents_),e.contents_&&(e.contents_+="\n//# sourceURL="+e.path))}function c(){b();if(e.contents_){f&&
a.setModuleState(goog.ModuleType.ES6);try{var c=e.contents_;e.contents_=null;goog.globalEval(c);if(f)var d=goog.moduleLoaderState_.moduleName}finally{f&&a.clearModuleState()}f&&goog.global.$jscomp.require.ensure([e.path],function(){a.registerEs6ModuleExports(e.path,goog.global.$jscomp.require(e.path),d)});a.loaded()}}function d(){var a=goog.global.document,b=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(b);c()});a.write('<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+
b+'");')+"\x3c/script>")}var e=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)b(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,a.loaded()):a.pause();else{var f=this.loadFlags.module==goog.ModuleType.ES6,h=1<a.pending().length,g=h&&goog.DebugLoader_.IS_OLD_IE_;h=goog.Dependency.defer_&&(h||goog.isDocumentLoading_());if(g||h)a.defer(function(){c()});else{var k=goog.global.document;g=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global;if(f&&goog.inHtmlDocument_()&&
goog.isDocumentLoading_()&&!g){goog.Dependency.defer_=!0;a.pause();var p=k.onreadystatechange;k.onreadystatechange=function(){"interactive"==k.readyState&&(k.onreadystatechange=p,c(),a.resume());goog.isFunction(p)&&p.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?d():c()}}},goog.TransformedDependency.prototype.transform=function(a){},goog.TranspiledDependency=function(a,b,c,d,e,f){goog.TransformedDependency.call(this,a,b,c,d,e);this.transpiler=
f},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(a){return this.transpiler.transpile(a,this.path)},goog.GoogModuleDependency=function(a,b,c,d,e,f,h){goog.TransformedDependency.call(this,a,b,c,d,e);this.needsTranspile_=f;this.transpiler_=h},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(a){this.needsTranspile_&&(a=this.transpiler_.transpile(a,this.path));
return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(a+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+a+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(a,b,c,d){b=b||[];a=a.replace(/\\/g,"/");var e=goog.normalizePath_(goog.basePath+a);d&&"boolean"!==
typeof d||(d=d?{module:goog.ModuleType.GOOG}:{});c=this.factory_.createDependency(e,a,b,c,d,goog.transpiler_.needsTranspile(d.lang||"es3",d.module));this.dependencies_[e]=c;for(c=0;c<b.length;c++)this.idToPath_[b[c]]=e;this.idToPath_[a]=e},goog.DependencyFactory=function(a){this.transpiler=a},goog.DependencyFactory.prototype.createDependency=function(a,b,c,d,e,f){return e.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(a,b,c,d,e,f,this.transpiler):f?new goog.TranspiledDependency(a,b,c,
d,e,this.transpiler):e.module==goog.ModuleType.ES6?new goog.Es6ModuleDependency(a,b,c,d,e):new goog.Dependency(a,b,c,d,e)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(a){goog.debugLoader_.setDependencyFactory(a)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(a,b){goog.debugLoader_.bootstrap(a,b)});goog.debug={};goog.debug.Error=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,b){goog.debug.Error.call(this,goog.asserts.subs_(a,b));this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(a){throw a;};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;
goog.asserts.subs_=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");return c+a[d]};goog.asserts.doAssertFailure_=function(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var f=d}else a&&(e+=": "+a,f=b);a=new goog.asserts.AssertionError(""+e,f||[]);goog.asserts.errorHandler_(a)};goog.asserts.setErrorHandler=function(a){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=a)};
goog.asserts.assert=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.fail=function(a,b){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};
goog.asserts.assertNumber=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertString=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertFunction=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertObject=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertArray=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertBoolean=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertElement=function(a,b,c){!goog.asserts.ENABLE_ASSERTS||goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertInstanceof=function(a,b,c,d){!goog.asserts.ENABLE_ASSERTS||a instanceof b||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(b),goog.asserts.getType_(a)],c,Array.prototype.slice.call(arguments,3));return a};goog.asserts.assertFinite=function(a,b,c){!goog.asserts.ENABLE_ASSERTS||"number"==typeof a&&isFinite(a)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertObjectPrototypeIsIntact=function(){for(var a in Object.prototype)goog.asserts.fail(a+" should not be enumerable in Object.prototype.")};goog.asserts.getType_=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.ASSUME_NATIVE_FUNCTIONS=!1;goog.array.peek=function(a){return a[a.length-1]};goog.array.last=goog.array.peek;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(goog.isString(a))return goog.isString(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(goog.isString(a))return goog.isString(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(a,b,c){goog.asserts.assert(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};goog.array.forEachRight=function(a,b,c){var d=a.length,e=goog.isString(a)?a.split(""):a;for(--d;0<=d;--d)d in e&&b.call(c,e[d],d,a)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=goog.isString(a)?a.split(""):a,g=0;g<d;g++)if(g in h){var k=h[g];b.call(c,k,g,a)&&(e[f++]=k)}return e};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=goog.isString(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e};
goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(a,b,c,d){goog.asserts.assert(null!=a.length);d&&(b=goog.bind(b,d));return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;goog.array.forEach(a,function(c,h){e=b.call(d,e,c,h,a)});return e};
goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(a,b,c,d){goog.asserts.assert(null!=a.length);goog.asserts.assert(null!=b);d&&(b=goog.bind(b,d));return Array.prototype.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;goog.array.forEachRight(a,function(c,h){e=b.call(d,e,c,h,a)});return e};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};goog.array.count=function(a,b,c){var d=0;goog.array.forEach(a,function(a,f,h){b.call(c,a,f,h)&&++d},c);return d};
goog.array.find=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndex=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1};goog.array.findRight=function(a,b,c){b=goog.array.findIndexRight(a,b,c);return 0>b?null:goog.isString(a)?a.charAt(b):a[b]};
goog.array.findIndexRight=function(a,b,c){var d=a.length,e=goog.isString(a)?a.split(""):a;for(--d;0<=d;d--)if(d in e&&b.call(c,e[d],d,a))return d;return-1};goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)};goog.array.isEmpty=function(a){return 0==a.length};goog.array.clear=function(a){if(!goog.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0};goog.array.insert=function(a,b){goog.array.contains(a,b)||a.push(b)};
goog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)};goog.array.insertArrayAt=function(a,b,c){goog.partial(goog.array.splice,a,c,0).apply(null,b)};goog.array.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=goog.array.indexOf(a,c))?a.push(b):goog.array.insertAt(a,b,d)};goog.array.remove=function(a,b){b=goog.array.indexOf(a,b);var c;(c=0<=b)&&goog.array.removeAt(a,b);return c};
goog.array.removeLast=function(a,b){b=goog.array.lastIndexOf(a,b);return 0<=b?(goog.array.removeAt(a,b),!0):!1};goog.array.removeAt=function(a,b){goog.asserts.assert(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length};goog.array.removeIf=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0<=b?(goog.array.removeAt(a,b),!0):!1};goog.array.removeAllIf=function(a,b,c){var d=0;goog.array.forEachRight(a,function(e,f){b.call(c,e,f,a)&&goog.array.removeAt(a,f)&&d++});return d};
goog.array.concat=function(a){return Array.prototype.concat.apply([],arguments)};goog.array.join=function(a){return Array.prototype.concat.apply([],arguments)};goog.array.toArray=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};goog.array.clone=goog.array.toArray;goog.array.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(goog.isArrayLike(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}};
goog.array.splice=function(a,b,c,d){goog.asserts.assert(null!=a.length);return Array.prototype.splice.apply(a,goog.array.slice(arguments,1))};goog.array.slice=function(a,b,c){goog.asserts.assert(null!=a.length);return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};
goog.array.removeDuplicates=function(a,b,c){b=b||a;var d=function(a){return goog.isObject(a)?"o"+goog.getUid(a):(typeof a).charAt(0)+a};c=c||d;d={};for(var e=0,f=0;f<a.length;){var h=a[f++],g=c(h);Object.prototype.hasOwnProperty.call(d,g)||(d[g]=!0,b[e++]=h)}b.length=e};goog.array.binarySearch=function(a,b,c){return goog.array.binarySearch_(a,c||goog.array.defaultCompare,!1,b)};goog.array.binarySelect=function(a,b,c){return goog.array.binarySearch_(a,b,!0,void 0,c)};
goog.array.binarySearch_=function(a,b,c,d,e){for(var f=0,h=a.length,g;f<h;){var k=f+h>>1;var p=c?b.call(e,a[k],k,a):b(d,a[k]);0<p?f=k+1:(h=k,g=!p)}return g?f:~f};goog.array.sort=function(a,b){a.sort(b||goog.array.defaultCompare)};goog.array.stableSort=function(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||goog.array.defaultCompare;goog.array.sort(c,function(a,b){return e(a.value,b.value)||a.index-b.index});for(d=0;d<a.length;d++)a[d]=c[d].value};
goog.array.sortByKey=function(a,b,c){var d=c||goog.array.defaultCompare;goog.array.sort(a,function(a,c){return d(b(a),b(c))})};goog.array.sortObjectsByKey=function(a,b,c){goog.array.sortByKey(a,function(a){return a[b]},c)};goog.array.isSorted=function(a,b,c){b=b||goog.array.defaultCompare;for(var d=1;d<a.length;d++){var e=b(a[d-1],a[d]);if(0<e||0==e&&c)return!1}return!0};
goog.array.equals=function(a,b,c){if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)return!1;var d=a.length;c=c||goog.array.defaultCompareEquality;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};goog.array.compare3=function(a,b,c){c=c||goog.array.defaultCompare;for(var d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f)return f}return goog.array.defaultCompare(a.length,b.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};
goog.array.inverseDefaultCompare=function(a,b){return-goog.array.defaultCompare(a,b)};goog.array.defaultCompareEquality=function(a,b){return a===b};goog.array.binaryInsert=function(a,b,c){c=goog.array.binarySearch(a,b,c);return 0>c?(goog.array.insertAt(a,b,-(c+1)),!0):!1};goog.array.binaryRemove=function(a,b,c){b=goog.array.binarySearch(a,b,c);return 0<=b?goog.array.removeAt(a,b):!1};
goog.array.bucket=function(a,b,c){for(var d={},e=0;e<a.length;e++){var f=a[e],h=b.call(c,f,e,a);goog.isDef(h)&&(d[h]||(d[h]=[])).push(f)}return d};goog.array.toObject=function(a,b,c){var d={};goog.array.forEach(a,function(e,f){d[b.call(c,e,f,a)]=e});return d};goog.array.range=function(a,b,c){var d=[],e=0,f=a;c=c||1;void 0!==b&&(e=a,f=b);if(0>c*(f-e))return[];if(0<c)for(a=e;a<f;a+=c)d.push(a);else for(a=e;a>f;a+=c)d.push(a);return d};
goog.array.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c};goog.array.flatten=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(goog.isArray(d))for(var e=0;e<d.length;e+=8192){var f=goog.array.slice(d,e,e+8192);f=goog.array.flatten.apply(null,f);for(var h=0;h<f.length;h++)b.push(f[h])}else b.push(d)}return b};
goog.array.rotate=function(a,b){goog.asserts.assert(null!=a.length);a.length&&(b%=a.length,0<b?Array.prototype.unshift.apply(a,a.splice(-b,b)):0>b&&Array.prototype.push.apply(a,a.splice(0,-b)));return a};goog.array.moveItem=function(a,b,c){goog.asserts.assert(0<=b&&b<a.length);goog.asserts.assert(0<=c&&c<a.length);b=Array.prototype.splice.call(a,b,1);Array.prototype.splice.call(a,c,0,b[0])};
goog.array.zip=function(a){if(!arguments.length)return[];for(var b=[],c=arguments[0].length,d=1;d<arguments.length;d++)arguments[d].length<c&&(c=arguments[d].length);for(d=0;d<c;d++){for(var e=[],f=0;f<arguments.length;f++)e.push(arguments[f][d]);b.push(e)}return b};goog.array.shuffle=function(a,b){b=b||Math.random;for(var c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};goog.array.copyByIndex=function(a,b){var c=[];goog.array.forEach(b,function(b){c.push(a[b])});return c};
goog.array.concatMap=function(a,b,c){return goog.array.concat.apply([],goog.array.map(a,b,c))};goog.string={};goog.string.DETECT_DOUBLE_ESCAPING=!1;goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1;goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};goog.string.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};goog.string.caseInsensitiveStartsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(0,b.length))};
goog.string.caseInsensitiveEndsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))};goog.string.caseInsensitiveEquals=function(a,b){return a.toLowerCase()==b.toLowerCase()};goog.string.subs=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};
goog.string.isEmptyOrWhitespace=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptyString=function(a){return 0==a.length};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(a){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))};goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};
goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return" "==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||"\u0080"<=a&&"\ufffd">=a};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};
goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};
goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(a,b){a=String(a).toLowerCase();b=String(b).toLowerCase();return a<b?-1:a==b?0:1};
goog.string.numberAwareCompare_=function(a,b,c){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var d=a.toLowerCase().match(c),e=b.toLowerCase().match(c),f=Math.min(d.length,e.length),h=0;h<f;h++){c=d[h];var g=e[h];if(c!=g)return a=parseInt(c,10),!isNaN(a)&&(b=parseInt(g,10),!isNaN(b)&&a-b)?a-b:c<g?-1:1}return d.length!=e.length?d.length-e.length:a<b?-1:1};goog.string.intAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\d+|\D+/g)};
goog.string.floatAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\d+|\.\d+|\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")};
goog.string.htmlEscape=function(a,b){if(b)a=a.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(a=a.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.AMP_RE_,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(goog.string.LT_RE_,
"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(goog.string.GT_RE_,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(goog.string.QUOT_RE_,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(goog.string.NULL_RE_,"&#0;"));goog.string.DETECT_DOUBLE_ESCAPING&&-1!=a.indexOf("e")&&(a=a.replace(goog.string.E_RE_,"&#101;"))}return a};goog.string.AMP_RE_=/&/g;goog.string.LT_RE_=/</g;goog.string.GT_RE_=/>/g;goog.string.QUOT_RE_=/"/g;
goog.string.SINGLE_QUOTE_RE_=/'/g;goog.string.NULL_RE_=/\x00/g;goog.string.E_RE_=/e/g;goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};
goog.string.unescapeEntitiesWithDocument=function(a,b){return goog.string.contains(a,"&")?goog.string.unescapeEntitiesUsingDom_(a,b):a};
goog.string.unescapeEntitiesUsingDom_=function(a,b){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var d=b?b.createElement("div"):goog.global.document.createElement("div");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,b){var f=c[a];if(f)return f;"#"==b.charAt(0)&&(b=Number("0"+b.substr(1)),isNaN(b)||(f=String.fromCharCode(b)));f||(d.innerHTML=a+" ",f=d.firstChild.nodeValue.slice(0,-1));return c[a]=f})};
goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),b)};
goog.string.preserveSpaces=function(a){return a.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a};goog.string.truncate=function(a,b,c){c&&(a=goog.string.unescapeEntities(a));a.length>b&&(a=a.substring(0,b-3)+"...");c&&(a=goog.string.htmlEscape(a));return a};
goog.string.truncateMiddle=function(a,b,c,d){c&&(a=goog.string.unescapeEntities(a));if(d&&a.length>b){d>b&&(d=b);var e=a.length-d;a=a.substring(0,b-d)+"..."+a.substring(e)}else a.length>b&&(d=Math.floor(b/2),e=a.length-d,a=a.substring(0,d+b%2)+"..."+a.substring(e));c&&(a=goog.string.htmlEscape(a));return a};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(a){a=String(a);for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=goog.string.specialEscapeChars_[d]||(31<e&&127>e?d:goog.string.escapeChar(d))}b.push('"');return b.join("")};goog.string.escapeString=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));return b.join("")};
goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var b=a.charCodeAt(0);if(31<b&&127>b)var c=a;else{if(256>b){if(c="\\x",16>b||256<b)c+="0"}else c="\\u",4096>b&&(c+="0");c+=b.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=c};goog.string.contains=function(a,b){return-1!=a.indexOf(b)};
goog.string.caseInsensitiveContains=function(a,b){return goog.string.contains(a.toLowerCase(),b.toLowerCase())};goog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0};goog.string.removeAt=function(a,b,c){var d=a;0<=b&&b<a.length&&0<c&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c));return d};goog.string.remove=function(a,b){return a.replace(b,"")};goog.string.removeAll=function(a,b){b=new RegExp(goog.string.regExpEscape(b),"g");return a.replace(b,"")};
goog.string.replaceAll=function(a,b,c){b=new RegExp(goog.string.regExpEscape(b),"g");return a.replace(b,c.replace(/\$/g,"$$$$"))};goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};
goog.string.padNumber=function(a,b,c){a=goog.isDef(c)?a.toFixed(c):String(a);c=a.indexOf(".");-1==c&&(c=a.length);return goog.string.repeat("0",Math.max(0,b-c))+a};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};
goog.string.compareVersions=function(a,b){var c=0;a=goog.string.trim(String(a)).split(".");b=goog.string.trim(String(b)).split(".");for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||"",h=b[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==f[0].length&&0==h[0].length)break;c=0==f[1].length?0:parseInt(f[1],10);var g=0==h[1].length?0:parseInt(h[1],10);c=goog.string.compareElements_(c,g)||goog.string.compareElements_(0==f[2].length,
0==h[2].length)||goog.string.compareElements_(f[2],h[2]);f=f[3];h=h[3]}while(0==c)}return c};goog.string.compareElements_=function(a,b){return a<b?-1:a>b?1:0};goog.string.hashCode=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c)>>>0;return b};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(a){var b=Number(a);return 0==b&&goog.string.isEmptyOrWhitespace(a)?NaN:b};goog.string.isLowerCamelCase=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)};goog.string.isUpperCamelCase=function(a){return/^([A-Z][a-z]*)+$/.test(a)};goog.string.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};
goog.string.toTitleCase=function(a,b){b=goog.isString(b)?goog.string.regExpEscape(b):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};goog.string.capitalize=function(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};goog.string.parseInt=function(a){isFinite(a)&&(a=String(a));return goog.isString(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};
goog.string.splitLimit=function(a,b,c){a=a.split(b);for(var d=[];0<c&&a.length;)d.push(a.shift()),c--;a.length&&d.push(a.join(b));return d};goog.string.lastComponent=function(a,b){if(b)"string"==typeof b&&(b=[b]);else return a;for(var c=-1,d=0;d<b.length;d++)if(""!=b[d]){var e=a.lastIndexOf(b[d]);e>c&&(c=e)}return-1==c?a:a.slice(c+1)};
goog.string.editDistance=function(a,b){var c=[],d=[];if(a==b)return 0;if(!a.length||!b.length)return Math.max(a.length,b.length);for(var e=0;e<b.length+1;e++)c[e]=e;for(e=0;e<a.length;e++){d[0]=e+1;for(var f=0;f<b.length;f++)d[f+1]=Math.min(d[f]+1,c[f+1]+1,c[f]+Number(a[e]!=b[f]));for(f=0;f<c.length;f++)c[f]=d[f]}return d[b.length]};goog.labs={};goog.labs.userAgent={};goog.labs.userAgent.util={};goog.labs.userAgent.util.getNativeUserAgentString_=function(){var a=goog.labs.userAgent.util.getNavigator_();return a&&(a=a.userAgent)?a:""};goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator};goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_();goog.labs.userAgent.util.setUserAgent=function(a){goog.labs.userAgent.util.userAgent_=a||goog.labs.userAgent.util.getNativeUserAgentString_()};
goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_};goog.labs.userAgent.util.matchUserAgent=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(b,a)};goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(b,a)};
goog.labs.userAgent.util.extractVersionTuples=function(a){for(var b=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};goog.object={};goog.object.is=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};goog.object.forEach=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)};goog.object.filter=function(a,b,c){var d={},e;for(e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d};goog.object.map=function(a,b,c){var d={},e;for(e in a)d[e]=b.call(c,a[e],e,a);return d};goog.object.some=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1};
goog.object.every=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return!1;return!0};goog.object.getCount=function(a){var b=0,c;for(c in a)b++;return b};goog.object.getAnyKey=function(a){for(var b in a)return b};goog.object.getAnyValue=function(a){for(var b in a)return a[b]};goog.object.contains=function(a,b){return goog.object.containsValue(a,b)};goog.object.getValues=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};
goog.object.getKeys=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};goog.object.getValueByKeys=function(a,b){var c=goog.isArrayLike(b),d=c?b:arguments;for(c=c?0:1;c<d.length;c++){if(null==a)return;a=a[d[c]]}return a};goog.object.containsKey=function(a,b){return null!==a&&b in a};goog.object.containsValue=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};goog.object.findKey=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d};
goog.object.findValue=function(a,b,c){return(b=goog.object.findKey(a,b,c))&&a[b]};goog.object.isEmpty=function(a){for(var b in a)return!1;return!0};goog.object.clear=function(a){for(var b in a)delete a[b]};goog.object.remove=function(a,b){var c;(c=b in a)&&delete a[b];return c};goog.object.add=function(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');goog.object.set(a,b,c)};goog.object.get=function(a,b,c){return null!==a&&b in a?a[b]:c};
goog.object.set=function(a,b,c){a[b]=c};goog.object.setIfUndefined=function(a,b,c){return b in a?a[b]:a[b]=c};goog.object.setWithReturnValueIfNotSet=function(a,b,c){if(b in a)return a[b];c=c();return a[b]=c};goog.object.equals=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0};goog.object.clone=function(a){var b={},c;for(c in a)b[c]=a[c];return b};
goog.object.unsafeClone=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(goog.isFunction(a.clone))return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=goog.object.unsafeClone(a[c]);return b}return a};goog.object.transpose=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.object.extend=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};
goog.object.create=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};goog.object.createSet=function(a){var b=arguments.length;if(1==b&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};
goog.object.createImmutableView=function(a){var b=a;Object.isFrozen&&!Object.isFrozen(a)&&(b=Object.create(a),Object.freeze(b));return b};goog.object.isImmutableView=function(a){return!!Object.isFrozen&&Object.isFrozen(a)};
goog.object.getAllPropertyNames=function(a,b,c){if(!a)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(a);for(var d={};a&&(a!==Object.prototype||b)&&(a!==Function.prototype||c);){for(var e=Object.getOwnPropertyNames(a),f=0;f<e.length;f++)d[e[f]]=!0;a=Object.getPrototypeOf(a)}return goog.object.getKeys(d)};goog.labs.userAgent.browser={};goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")};goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")};
goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))};goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")};
goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")};
goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdge_()};goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())};
goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_;goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_;goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_;goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_;goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_;goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_;goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_;
goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_;goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_;goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")};
goog.labs.userAgent.browser.getVersion=function(){function a(a){a=goog.array.find(a,d);return c[a]||""}var b=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(b);b=goog.labs.userAgent.util.extractVersionTuples(b);var c={};goog.array.forEach(b,function(a){c[a[0]]=a[1]});var d=goog.partial(goog.object.containsKey,c);return goog.labs.userAgent.browser.isOpera()?a(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?a(["Edge"]):
goog.labs.userAgent.browser.isChrome()?a(["Chrome","CriOS"]):(b=b[2])&&b[1]||""};goog.labs.userAgent.browser.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),a)};
goog.labs.userAgent.browser.getIEVersion_=function(a){var b=/rv: *([\d\.]*)/.exec(a);if(b&&b[1])return b[1];b="";var c=/MSIE +([\d\.]+)/.exec(a);if(c&&c[1])if(a=/Trident\/(\d.\d)/.exec(a),"7.0"==c[1])if(a&&a[1])switch(a[1]){case "4.0":b="8.0";break;case "5.0":b="9.0";break;case "6.0":b="10.0";break;case "7.0":b="11.0"}else b="7.0";else b=c[1];return b};goog.labs.userAgent.engine={};goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")};goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};
goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()};
goog.labs.userAgent.engine.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent();if(a){a=goog.labs.userAgent.util.extractVersionTuples(a);var b=goog.labs.userAgent.engine.getEngineTuple_(a);if(b)return"Gecko"==b[0]?goog.labs.userAgent.engine.getVersionForKey_(a,"Firefox"):b[1];a=a[0];var c;if(a&&(c=a[2])&&(c=/Trident\/([^\s;]+)/.exec(c)))return c[1]}return""};
goog.labs.userAgent.engine.getEngineTuple_=function(a){if(!goog.labs.userAgent.engine.isEdge())return a[1];for(var b=0;b<a.length;b++){var c=a[b];if("Edge"==c[0])return c}};goog.labs.userAgent.engine.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),a)};goog.labs.userAgent.engine.getVersionForKey_=function(a,b){return(a=goog.array.find(a,function(a){return b==a[0]}))&&a[1]||""};goog.labs.userAgent.platform={};goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")};goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")};goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")};
goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()};goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")};goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")};goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")};
goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")};goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")};goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")};
goog.labs.userAgent.platform.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent(),b="";goog.labs.userAgent.platform.isWindows()?(b=/Windows (?:NT|Phone) ([0-9.]+)/,b=(a=b.exec(a))?a[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(b=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,b=(a=b.exec(a))&&a[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(b=/Mac OS X ([0-9_.]+)/,b=(a=b.exec(a))?a[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isAndroid()?(b=/Android\s+([^\);]+)(\)|;)/,
b=(a=b.exec(a))&&a[1]):goog.labs.userAgent.platform.isChromeOS()&&(b=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,b=(a=b.exec(a))&&a[1]);return b||""};goog.labs.userAgent.platform.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),a)};goog.reflect={};goog.reflect.object=function(a,b){return b};goog.reflect.objectProperty=function(a,b){return a};goog.reflect.sinkValue=function(a){goog.reflect.sinkValue[" "](a);return a};goog.reflect.sinkValue[" "]=goog.nullFunction;goog.reflect.canAccessProperty=function(a,b){try{return goog.reflect.sinkValue(a[b]),!0}catch(c){}return!1};goog.reflect.cache=function(a,b,c,d){d=d?d(b):b;return Object.prototype.hasOwnProperty.call(a,d)?a[d]:a[d]=c(b)};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_EDGE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!1;goog.userAgent.ASSUME_MOBILE_WEBKIT=!1;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()};
goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null};goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()};goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera();goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE();goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge();
goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE;goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit();goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")};
goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_();goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var a=goog.userAgent.getNavigatorTyped();return a&&a.platform||""};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.ASSUME_ANDROID=!1;goog.userAgent.ASSUME_IPHONE=!1;
goog.userAgent.ASSUME_IPAD=!1;goog.userAgent.ASSUME_IPOD=!1;goog.userAgent.ASSUME_KAIOS=!1;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD;goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();
goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows();goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()};goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_();goog.userAgent.isX11_=function(){var a=goog.userAgent.getNavigatorTyped();return!!a&&goog.string.contains(a.appVersion||"","X11")};
goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_();goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid();goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone();goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();
goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod();goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos();goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS();
goog.userAgent.determineVersion_=function(){var a="",b=goog.userAgent.getVersionRegexResult_();b&&(a=b?b[1]:"");return goog.userAgent.IE&&(b=goog.userAgent.getDocumentMode_(),null!=b&&b>parseFloat(a))?String(b):a};
goog.userAgent.getVersionRegexResult_=function(){var a=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO)return/rv:([^\);]+)(\)|;)/.exec(a);if(goog.userAgent.EDGE)return/Edge\/([\d\.]+)/.exec(a);if(goog.userAgent.IE)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(goog.userAgent.WEBKIT)return/WebKit\/(\S+)/.exec(a);if(goog.userAgent.OPERA)return/(?:Version)[ \/]?(\S+)/.exec(a)};goog.userAgent.getDocumentMode_=function(){var a=goog.global.document;return a?a.documentMode:void 0};
goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(a,b){return goog.string.compareVersions(a,b)};goog.userAgent.isVersionOrHigherCache_={};goog.userAgent.isVersionOrHigher=function(a){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,a,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,a)})};goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher;
goog.userAgent.isDocumentModeOrHigher=function(a){return Number(goog.userAgent.DOCUMENT_MODE)>=a};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;goog.userAgent.DOCUMENT_MODE=function(){var a=goog.global.document,b=goog.userAgent.getDocumentMode_();if(a&&goog.userAgent.IE)return b||("CSS1Compat"==a.compatMode?parseInt(goog.userAgent.VERSION,10):5)}();goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,
LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)};goog.dom.HtmlElement=function(){};goog.dom.TagName=function(a){this.tagName_=a};goog.dom.TagName.prototype.toString=function(){return this.tagName_};goog.dom.TagName.A=new goog.dom.TagName("A");goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR");goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM");goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS");goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET");goog.dom.TagName.AREA=new goog.dom.TagName("AREA");goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE");
goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE");goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO");goog.dom.TagName.B=new goog.dom.TagName("B");goog.dom.TagName.BASE=new goog.dom.TagName("BASE");goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT");goog.dom.TagName.BDI=new goog.dom.TagName("BDI");goog.dom.TagName.BDO=new goog.dom.TagName("BDO");goog.dom.TagName.BIG=new goog.dom.TagName("BIG");goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE");goog.dom.TagName.BODY=new goog.dom.TagName("BODY");
goog.dom.TagName.BR=new goog.dom.TagName("BR");goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON");goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS");goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION");goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER");goog.dom.TagName.CITE=new goog.dom.TagName("CITE");goog.dom.TagName.CODE=new goog.dom.TagName("CODE");goog.dom.TagName.COL=new goog.dom.TagName("COL");goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP");
goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND");goog.dom.TagName.DATA=new goog.dom.TagName("DATA");goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST");goog.dom.TagName.DD=new goog.dom.TagName("DD");goog.dom.TagName.DEL=new goog.dom.TagName("DEL");goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS");goog.dom.TagName.DFN=new goog.dom.TagName("DFN");goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG");goog.dom.TagName.DIR=new goog.dom.TagName("DIR");goog.dom.TagName.DIV=new goog.dom.TagName("DIV");
goog.dom.TagName.DL=new goog.dom.TagName("DL");goog.dom.TagName.DT=new goog.dom.TagName("DT");goog.dom.TagName.EM=new goog.dom.TagName("EM");goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED");goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET");goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION");goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE");goog.dom.TagName.FONT=new goog.dom.TagName("FONT");goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER");goog.dom.TagName.FORM=new goog.dom.TagName("FORM");
goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME");goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET");goog.dom.TagName.H1=new goog.dom.TagName("H1");goog.dom.TagName.H2=new goog.dom.TagName("H2");goog.dom.TagName.H3=new goog.dom.TagName("H3");goog.dom.TagName.H4=new goog.dom.TagName("H4");goog.dom.TagName.H5=new goog.dom.TagName("H5");goog.dom.TagName.H6=new goog.dom.TagName("H6");goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD");goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER");
goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP");goog.dom.TagName.HR=new goog.dom.TagName("HR");goog.dom.TagName.HTML=new goog.dom.TagName("HTML");goog.dom.TagName.I=new goog.dom.TagName("I");goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME");goog.dom.TagName.IMG=new goog.dom.TagName("IMG");goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT");goog.dom.TagName.INS=new goog.dom.TagName("INS");goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX");goog.dom.TagName.KBD=new goog.dom.TagName("KBD");
goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN");goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL");goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND");goog.dom.TagName.LI=new goog.dom.TagName("LI");goog.dom.TagName.LINK=new goog.dom.TagName("LINK");goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN");goog.dom.TagName.MAP=new goog.dom.TagName("MAP");goog.dom.TagName.MARK=new goog.dom.TagName("MARK");goog.dom.TagName.MATH=new goog.dom.TagName("MATH");goog.dom.TagName.MENU=new goog.dom.TagName("MENU");
goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM");goog.dom.TagName.META=new goog.dom.TagName("META");goog.dom.TagName.METER=new goog.dom.TagName("METER");goog.dom.TagName.NAV=new goog.dom.TagName("NAV");goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES");goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT");goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT");goog.dom.TagName.OL=new goog.dom.TagName("OL");goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP");
goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION");goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT");goog.dom.TagName.P=new goog.dom.TagName("P");goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM");goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE");goog.dom.TagName.PRE=new goog.dom.TagName("PRE");goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS");goog.dom.TagName.Q=new goog.dom.TagName("Q");goog.dom.TagName.RP=new goog.dom.TagName("RP");goog.dom.TagName.RT=new goog.dom.TagName("RT");
goog.dom.TagName.RTC=new goog.dom.TagName("RTC");goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY");goog.dom.TagName.S=new goog.dom.TagName("S");goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP");goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT");goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION");goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT");goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL");goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE");goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN");
goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE");goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG");goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE");goog.dom.TagName.SUB=new goog.dom.TagName("SUB");goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY");goog.dom.TagName.SUP=new goog.dom.TagName("SUP");goog.dom.TagName.SVG=new goog.dom.TagName("SVG");goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE");goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY");goog.dom.TagName.TD=new goog.dom.TagName("TD");
goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE");goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA");goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT");goog.dom.TagName.TH=new goog.dom.TagName("TH");goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD");goog.dom.TagName.TIME=new goog.dom.TagName("TIME");goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE");goog.dom.TagName.TR=new goog.dom.TagName("TR");goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK");goog.dom.TagName.TT=new goog.dom.TagName("TT");
goog.dom.TagName.U=new goog.dom.TagName("U");goog.dom.TagName.UL=new goog.dom.TagName("UL");goog.dom.TagName.VAR=new goog.dom.TagName("VAR");goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO");goog.dom.TagName.WBR=new goog.dom.TagName("WBR");goog.dom.asserts={};goog.dom.asserts.assertIsLocation=function(a){if(goog.asserts.ENABLE_ASSERTS){var b=goog.dom.asserts.getWindow_(a);"undefined"!=typeof b.Location&&"undefined"!=typeof b.Element&&goog.asserts.assert(a&&(a instanceof b.Location||!(a instanceof b.Element)),"Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(a))}return a};
goog.dom.asserts.assertIsElementType_=function(a,b){if(goog.asserts.ENABLE_ASSERTS){var c=goog.dom.asserts.getWindow_(a);"undefined"!=typeof c[b]&&"undefined"!=typeof c.Location&&"undefined"!=typeof c.Element&&goog.asserts.assert(a&&(a instanceof c[b]||!(a instanceof c.Location||a instanceof c.Element)),"Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,goog.dom.asserts.debugStringForType_(a))}return a};
goog.dom.asserts.assertIsHTMLAnchorElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLAnchorElement")};goog.dom.asserts.assertIsHTMLButtonElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLButtonElement")};goog.dom.asserts.assertIsHTMLLinkElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLLinkElement")};goog.dom.asserts.assertIsHTMLImageElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLImageElement")};
goog.dom.asserts.assertIsHTMLVideoElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLVideoElement")};goog.dom.asserts.assertIsHTMLInputElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLInputElement")};goog.dom.asserts.assertIsHTMLEmbedElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLEmbedElement")};goog.dom.asserts.assertIsHTMLFormElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLFormElement")};
goog.dom.asserts.assertIsHTMLFrameElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLFrameElement")};goog.dom.asserts.assertIsHTMLIFrameElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLIFrameElement")};goog.dom.asserts.assertIsHTMLObjectElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLObjectElement")};goog.dom.asserts.assertIsHTMLScriptElement=function(a){return goog.dom.asserts.assertIsElementType_(a,"HTMLScriptElement")};
goog.dom.asserts.debugStringForType_=function(a){return goog.isObject(a)?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):void 0===a?"undefined":null===a?"null":typeof a};goog.dom.asserts.getWindow_=function(a){return(a=a&&a.ownerDocument)&&(a.defaultView||a.parentWindow)||goog.global};goog.dom.tags={};goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};goog.dom.tags.isVoidTag=function(a){return!0===goog.dom.tags.VOID_TAGS_[a]};goog.string.TypedString=function(){};goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_};goog.string.Const.prototype.implementsGoogStringTypedString=!0;goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};
goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};goog.string.Const.unwrap=function(a){if(a instanceof goog.string.Const&&a.constructor===goog.string.Const&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_)return a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;goog.asserts.fail("expected object of type Const, got '"+a+"'");return"type_error:Const"};
goog.string.Const.from=function(a){return goog.string.Const.create__googStringSecurityPrivate_(a)};goog.string.Const.TYPE_MARKER_={};goog.string.Const.create__googStringSecurityPrivate_=function(a){var b=new goog.string.Const;b.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a;return b};goog.string.Const.EMPTY=goog.string.Const.from("");goog.html={};goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="";this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0;goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeScript.fromConstant=function(a){a=goog.string.Const.unwrap(a);return 0===a.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(a)};
goog.html.SafeScript.fromConstantAndArgs=function(a,b){for(var c=[],d=1;d<arguments.length;d++)c.push(goog.html.SafeScript.stringify_(arguments[d]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(a)+")("+c.join(", ")+");")};goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_};
goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"});
goog.html.SafeScript.unwrap=function(a){if(a instanceof goog.html.SafeScript&&a.constructor===goog.html.SafeScript&&a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeScriptWrappedValue_;goog.asserts.fail("expected object of type SafeScript, got '"+a+"' of type "+goog.typeOf(a));return"type_error:SafeScript"};goog.html.SafeScript.stringify_=function(a){return JSON.stringify(a).replace(/</g,"\\x3c")};
goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(a)};goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=a;return this};goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("");goog.fs={};goog.fs.url={};goog.fs.url.createObjectUrl=function(a){return goog.fs.url.getUrlObject_().createObjectURL(a)};goog.fs.url.revokeObjectUrl=function(a){goog.fs.url.getUrlObject_().revokeObjectURL(a)};goog.fs.url.getUrlObject_=function(){var a=goog.fs.url.findUrlObject_();if(null!=a)return a;throw Error("This browser doesn't seem to support blob URLs");};
goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null};goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()};goog.i18n={};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!1;
goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||
"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4));goog.i18n.bidi.Format={LRE:"\u202a",RLE:"\u202b",PDF:"\u202c",LRM:"\u200e",RLM:"\u200f"};goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0};goog.i18n.bidi.RIGHT="right";goog.i18n.bidi.LEFT="left";goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;
goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;goog.i18n.bidi.toDir=function(a,b){return"number"==typeof a?0<a?goog.i18n.bidi.Dir.LTR:0>a?goog.i18n.bidi.Dir.RTL:b?null:goog.i18n.bidi.Dir.NEUTRAL:null==a?null:a?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_="A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff";goog.i18n.bidi.rtlChars_="\u0591-\u06ef\u06fa-\u07ff\u200f\ufb1d-\ufdff\ufe70-\ufefc";
goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g;goog.i18n.bidi.stripHtmlIfNeeded_=function(a,b){return b?a.replace(goog.i18n.bidi.htmlSkipReg_,""):a};goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.hasAnyRtl=function(a,b){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;
goog.i18n.bidi.hasAnyLtr=function(a,b){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.isRtlChar=function(a){return goog.i18n.bidi.rtlRe_.test(a)};goog.i18n.bidi.isLtrChar=function(a){return goog.i18n.bidi.ltrRe_.test(a)};goog.i18n.bidi.isNeutralChar=function(a){return!goog.i18n.bidi.isLtrChar(a)&&!goog.i18n.bidi.isRtlChar(a)};
goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.startsWithRtl=function(a,b){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;
goog.i18n.bidi.startsWithLtr=function(a,b){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/;goog.i18n.bidi.isNeutralText=function(a,b){a=goog.i18n.bidi.stripHtmlIfNeeded_(a,b);return goog.i18n.bidi.isRequiredLtrRe_.test(a)||!goog.i18n.bidi.hasAnyLtr(a)&&!goog.i18n.bidi.hasAnyRtl(a)};
goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$");goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$");goog.i18n.bidi.endsWithLtr=function(a,b){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;
goog.i18n.bidi.endsWithRtl=function(a,b){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;goog.i18n.bidi.isRtlLanguage=function(a){return goog.i18n.bidi.rtlLocalesRe_.test(a)};goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g;
goog.i18n.bidi.guardBracketInText=function(a,b){b=(void 0===b?goog.i18n.bidi.hasAnyRtl(a):b)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return a.replace(goog.i18n.bidi.bracketGuardTextRe_,b+"$&"+b)};goog.i18n.bidi.enforceRtlInHtml=function(a){return"<"==a.charAt(0)?a.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+a+"</span>"};goog.i18n.bidi.enforceRtlInText=function(a){return goog.i18n.bidi.Format.RLE+a+goog.i18n.bidi.Format.PDF};
goog.i18n.bidi.enforceLtrInHtml=function(a){return"<"==a.charAt(0)?a.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+a+"</span>"};goog.i18n.bidi.enforceLtrInText=function(a){return goog.i18n.bidi.Format.LRE+a+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;
goog.i18n.bidi.mirrorCSS=function(a){return a.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g;
goog.i18n.bidi.normalizeHebrewQuote=function(a){return a.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05f4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05f3")};goog.i18n.bidi.wordSeparatorRe_=/\s+/;goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/;goog.i18n.bidi.rtlDetectionThreshold_=.4;
goog.i18n.bidi.estimateDirection=function(a,b){var c=0,d=0,e=!1;a=goog.i18n.bidi.stripHtmlIfNeeded_(a,b).split(goog.i18n.bidi.wordSeparatorRe_);for(b=0;b<a.length;b++){var f=a[b];goog.i18n.bidi.startsWithRtl(f)?(c++,d++):goog.i18n.bidi.isRequiredLtrRe_.test(f)?e=!0:goog.i18n.bidi.hasAnyLtr(f)?d++:goog.i18n.bidi.hasNumeralsRe_.test(f)&&(e=!0)}return 0==d?e?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:c/d>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};
goog.i18n.bidi.detectRtlDirectionality=function(a,b){return goog.i18n.bidi.estimateDirection(a,b)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=function(a,b){a&&(b=goog.i18n.bidi.toDir(b))&&(a.style.textAlign=b==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,a.dir=b==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")};
goog.i18n.bidi.setElementDirByTextDirectionality=function(a,b){switch(goog.i18n.bidi.estimateDirection(b)){case goog.i18n.bidi.Dir.LTR:a.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:a.dir="rtl";break;default:a.removeAttribute("dir")}};goog.i18n.bidi.DirectionalString=function(){};goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="";this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0;goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_};
goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};
goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(a){var b=goog.html.TrustedResourceUrl.unwrap(this);if(/#/.test(b))throw Error("Found a hash in url ("+b+"), appending not supported.");var c=/\?/.test(b)?"&":"?",d;for(d in a)for(var e=goog.isArray(a[d])?a[d]:[a[d]],f=0;f<e.length;f++)null!=e[f]&&(b+=c+encodeURIComponent(d)+"="+encodeURIComponent(String(e[f])),c="&");return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};
goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"});
goog.html.TrustedResourceUrl.unwrap=function(a){if(a instanceof goog.html.TrustedResourceUrl&&a.constructor===goog.html.TrustedResourceUrl&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+a+"' of type "+goog.typeOf(a));return"type_error:TrustedResourceUrl"};
goog.html.TrustedResourceUrl.format=function(a,b){var c=goog.string.Const.unwrap(a);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);a=c.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(a,e){if(!Object.prototype.hasOwnProperty.call(b,e))throw Error('Found marker, "'+e+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(b));a=b[e];return a instanceof goog.string.Const?goog.string.Const.unwrap(a):
encodeURIComponent(String(a))});return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g;goog.html.TrustedResourceUrl.BASE_URL_=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i;goog.html.TrustedResourceUrl.formatWithParams=function(a,b,c){return goog.html.TrustedResourceUrl.format(a,b).cloneWithParams(c)};goog.html.TrustedResourceUrl.fromConstant=function(a){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};
goog.html.TrustedResourceUrl.fromConstants=function(a){for(var b="",c=0;c<a.length;c++)b+=goog.string.Const.unwrap(a[c]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(a){var b=new goog.html.TrustedResourceUrl;b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a;return b};goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez";goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0;goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};
goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"});
goog.html.SafeUrl.unwrap=function(a){if(a instanceof goog.html.SafeUrl&&a.constructor===goog.html.SafeUrl&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;goog.asserts.fail("expected object of type SafeUrl, got '"+a+"' of type "+goog.typeOf(a));return"type_error:SafeUrl"};goog.html.SafeUrl.fromConstant=function(a){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};
goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp|3gpp2|aac|midi|mp4|mpeg|ogg|x-m4a|x-wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))$/i;goog.html.SafeUrl.fromBlob=function(a){a=goog.html.SAFE_MIME_TYPE_PATTERN_.test(a.type)?goog.fs.url.createObjectUrl(a):goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.DATA_URL_PATTERN_=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i;
goog.html.SafeUrl.fromDataUrl=function(a){var b=a.match(goog.html.DATA_URL_PATTERN_);b=b&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(b[1]);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b?a:goog.html.SafeUrl.INNOCUOUS_STRING)};goog.html.SafeUrl.fromTelUrl=function(a){goog.string.caseInsensitiveStartsWith(a,"tel:")||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeUrl.fromTrustedResourceUrl=function(a){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(a))};
goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;goog.html.SafeUrl.sanitize=function(a){if(a instanceof goog.html.SafeUrl)return a;a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);goog.html.SAFE_URL_PATTERN_.test(a)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};
goog.html.SafeUrl.sanitizeAssertUnchanged=function(a){if(a instanceof goog.html.SafeUrl)return a;a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(a))||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};
goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(a){var b=new goog.html.SafeUrl;b.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;return b};goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank");goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};
goog.html.SafeStyle.fromConstant=function(a){a=goog.string.Const.unwrap(a);if(0===a.length)return goog.html.SafeStyle.EMPTY;goog.html.SafeStyle.checkStyle_(a);goog.asserts.assert(goog.string.endsWith(a,";"),"Last character of style string is not ';': "+a);goog.asserts.assert(goog.string.contains(a,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+a);return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(a)};
goog.html.SafeStyle.checkStyle_=function(a){goog.asserts.assert(!/[<>]/.test(a),"Forbidden characters in style string: "+a)};goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"});
goog.html.SafeStyle.unwrap=function(a){if(a instanceof goog.html.SafeStyle&&a.constructor===goog.html.SafeStyle&&a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeStyleWrappedValue_;goog.asserts.fail("expected object of type SafeStyle, got '"+a+"' of type "+goog.typeOf(a));return"type_error:SafeStyle"};goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(a)};
goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=a;return this};goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse("");goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez";
goog.html.SafeStyle.create=function(a){var b="",c;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);var d=a[c];null!=d&&(d=goog.isArray(d)?goog.array.map(d,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(d),b+=c+":"+d+";")}if(!b)return goog.html.SafeStyle.EMPTY;goog.html.SafeStyle.checkStyle_(b);return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b)};
goog.html.SafeStyle.sanitizePropertyValue_=function(a){if(a instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';a=a instanceof goog.string.Const?goog.string.Const.unwrap(a):goog.html.SafeStyle.sanitizePropertyValueString_(String(a));goog.asserts.assert(!/[{;}]/.test(a),"Value does not allow [{;}].");return a};
goog.html.SafeStyle.sanitizePropertyValueString_=function(a){var b=a.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(b)?goog.html.SafeStyle.hasBalancedQuotes_(a)?goog.html.SafeStyle.sanitizeUrl_(a):(goog.asserts.fail("String value requires balanced quotes, got: "+a),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+
a),goog.html.SafeStyle.INNOCUOUS_STRING)};goog.html.SafeStyle.hasBalancedQuotes_=function(a){for(var b=!0,c=!0,d=0;d<a.length;d++){var e=a.charAt(d);"'"==e&&c?b=!b:'"'==e&&b&&(c=!c)}return b&&c};goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9]";goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$");goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g;goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|(rotate|scale|translate)(X|Y|Z|3d)?)\([-0-9a-z.%, ]+\)/g;
goog.html.SafeStyle.sanitizeUrl_=function(a){return a.replace(goog.html.SafeStyle.URL_RE_,function(a,c,d,e){var b="";d=d.replace(/^(['"])(.*)\1$/,function(a,c,d){b=c;return d});a=goog.html.SafeUrl.sanitize(d).getTypedStringValue();return c+b+a+b+e})};goog.html.SafeStyle.concat=function(a){var b="",c=function(a){goog.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyle.unwrap(a)};goog.array.forEach(arguments,c);return b?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b):goog.html.SafeStyle.EMPTY};goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="";this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};
goog.html.SafeStyleSheet.createRule=function(a,b){if(goog.string.contains(a,"<"))throw Error("Selector does not allow '<', got: "+a);var c=a.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(c))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+a);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(c))throw Error("() and [] in selector must be balanced, got: "+a);b instanceof goog.html.SafeStyle||(b=goog.html.SafeStyle.create(b));
a=a+"{"+goog.html.SafeStyle.unwrap(b)+"}";return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeStyleSheet.hasBalancedBrackets_=function(a){for(var b={"(":")","[":"]"},c=[],d=0;d<a.length;d++){var e=a[d];if(b[e])c.push(b[e]);else if(goog.object.contains(b,e)&&c.pop()!=e)return!1}return 0==c.length};
goog.html.SafeStyleSheet.concat=function(a){var b="",c=function(a){goog.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyleSheet.unwrap(a)};goog.array.forEach(arguments,c);return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};
goog.html.SafeStyleSheet.fromConstant=function(a){a=goog.string.Const.unwrap(a);if(0===a.length)return goog.html.SafeStyleSheet.EMPTY;goog.asserts.assert(!goog.string.contains(a,"<"),"Forbidden '<' character in style sheet string: "+a);return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};
goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"});
goog.html.SafeStyleSheet.unwrap=function(a){if(a instanceof goog.html.SafeStyleSheet&&a.constructor===goog.html.SafeStyleSheet&&a.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;goog.asserts.fail("expected object of type SafeStyleSheet, got '"+a+"' of type "+goog.typeOf(a));return"type_error:SafeStyleSheet"};
goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(a)};goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=a;return this};goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse("");goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;this.dir_=null};goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_};goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0;goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};
goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"});
goog.html.SafeHtml.unwrap=function(a){if(a instanceof goog.html.SafeHtml&&a.constructor===goog.html.SafeHtml&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;goog.asserts.fail("expected object of type SafeHtml, got '"+a+"' of type "+goog.typeOf(a));return"type_error:SafeHtml"};
goog.html.SafeHtml.htmlEscape=function(a){if(a instanceof goog.html.SafeHtml)return a;var b=null;a.implementsGoogI18nBidiDirectionalString&&(b=a.getDirection());a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(a),b)};
goog.html.SafeHtml.htmlEscapePreservingNewlines=function(a){if(a instanceof goog.html.SafeHtml)return a;a=goog.html.SafeHtml.htmlEscape(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(a)),a.getDirection())};
goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(a){if(a instanceof goog.html.SafeHtml)return a;a=goog.html.SafeHtml.htmlEscape(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(a)),a.getDirection())};goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape;goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/;
goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0};goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};goog.html.SafeHtml.create=function(a,b,c){goog.html.SafeHtml.verifyTagName(String(a));return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(a),b,c)};
goog.html.SafeHtml.verifyTagName=function(a){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(a))throw Error("Invalid tag name <"+a+">.");if(a.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+a+"> is not allowed for SafeHtml.");};
goog.html.SafeHtml.createIframe=function(a,b,c,d){a&&goog.html.TrustedResourceUrl.unwrap(a);var e={};e.src=a||null;e.srcdoc=b&&goog.html.SafeHtml.unwrap(b);a=goog.html.SafeHtml.combineAttributes(e,{sandbox:""},c);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",a,d)};
goog.html.SafeHtml.createSandboxIframe=function(a,b,c,d){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var e={};e.src=a?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a)):null;e.srcdoc=b||null;e.sandbox="";a=goog.html.SafeHtml.combineAttributes(e,{},c);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",a,d)};
goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype};goog.html.SafeHtml.createScriptSrc=function(a,b){goog.html.TrustedResourceUrl.unwrap(a);a=goog.html.SafeHtml.combineAttributes({src:a},{},b);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",a)};
goog.html.SafeHtml.createScript=function(a,b){for(var c in b){var d=c.toLowerCase();if("language"==d||"src"==d||"text"==d||"type"==d)throw Error('Cannot set "'+d+'" attribute');}c="";a=goog.array.concat(a);for(d=0;d<a.length;d++)c+=goog.html.SafeScript.unwrap(a[d]);a=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,goog.i18n.bidi.Dir.NEUTRAL);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",b,a)};
goog.html.SafeHtml.createStyle=function(a,b){b=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},b);var c="";a=goog.array.concat(a);for(var d=0;d<a.length;d++)c+=goog.html.SafeStyleSheet.unwrap(a[d]);a=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,goog.i18n.bidi.Dir.NEUTRAL);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",b,a)};
goog.html.SafeHtml.createMetaRefresh=function(a,b){a=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a));(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.contains(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'");return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(b||0)+"; url="+a})};
goog.html.SafeHtml.getAttrNameAndValue_=function(a,b,c){if(c instanceof goog.string.Const)c=goog.string.Const.unwrap(c);else if("style"==b.toLowerCase())c=goog.html.SafeHtml.getStyleValue_(c);else{if(/^on/i.test(b))throw Error('Attribute "'+b+'" requires goog.string.Const value, "'+c+'" given.');if(b.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(c instanceof goog.html.TrustedResourceUrl)c=goog.html.TrustedResourceUrl.unwrap(c);else if(c instanceof goog.html.SafeUrl)c=goog.html.SafeUrl.unwrap(c);
else if(goog.isString(c))c=goog.html.SafeUrl.sanitize(c).getTypedStringValue();else throw Error('Attribute "'+b+'" on tag "'+a+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+c+'" given.');}c.implementsGoogStringTypedString&&(c=c.getTypedStringValue());goog.asserts.assert(goog.isString(c)||goog.isNumber(c),"String or number value expected, got "+typeof c+" with value: "+c);return b+'="'+goog.string.htmlEscape(String(c))+'"'};
goog.html.SafeHtml.getStyleValue_=function(a){if(!goog.isObject(a))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof a+" given: "+a);a instanceof goog.html.SafeStyle||(a=goog.html.SafeStyle.create(a));return goog.html.SafeStyle.unwrap(a)};goog.html.SafeHtml.createWithDir=function(a,b,c,d){b=goog.html.SafeHtml.create(b,c,d);b.dir_=a;return b};
goog.html.SafeHtml.concat=function(a){var b=goog.i18n.bidi.Dir.NEUTRAL,c="",d=function(a){goog.isArray(a)?goog.array.forEach(a,d):(a=goog.html.SafeHtml.htmlEscape(a),c+=goog.html.SafeHtml.unwrap(a),a=a.getDirection(),b==goog.i18n.bidi.Dir.NEUTRAL?b=a:a!=goog.i18n.bidi.Dir.NEUTRAL&&b!=a&&(b=null))};goog.array.forEach(arguments,d);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,b)};
goog.html.SafeHtml.concatWithDir=function(a,b){var c=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));c.dir_=a;return c};goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(a,b){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(a,b)};goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;this.dir_=b;return this};
goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(a,b,c){var d=null;var e="<"+a+goog.html.SafeHtml.stringifyAttributes(a,b);goog.isDefAndNotNull(c)?goog.isArray(c)||(c=[c]):c=[];goog.dom.tags.isVoidTag(a.toLowerCase())?(goog.asserts.assert(!c.length,"Void tag <"+a+"> does not allow content."),e+=">"):(d=goog.html.SafeHtml.concat(c),e+=">"+goog.html.SafeHtml.unwrap(d)+"</"+a+">",d=d.getDirection());(a=b&&b.dir)&&(d=/^(ltr|rtl|auto)$/i.test(a)?goog.i18n.bidi.Dir.NEUTRAL:
null);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,d)};goog.html.SafeHtml.stringifyAttributes=function(a,b){var c="";if(b)for(var d in b){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(d))throw Error('Invalid attribute name "'+d+'".');var e=b[d];goog.isDefAndNotNull(e)&&(c+=" "+goog.html.SafeHtml.getAttrNameAndValue_(a,d,e))}return c};
goog.html.SafeHtml.combineAttributes=function(a,b,c){var d={},e;for(e in a)goog.asserts.assert(e.toLowerCase()==e,"Must be lower case"),d[e]=a[e];for(e in b)goog.asserts.assert(e.toLowerCase()==e,"Must be lower case"),d[e]=b[e];for(e in c){var f=e.toLowerCase();if(f in a)throw Error('Cannot override "'+f+'" attribute, got "'+e+'" with value "'+c[e]+'"');f in b&&delete d[f];d[e]=c[e]}return d};
goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL);goog.dom.safe={};goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"};goog.dom.safe.insertAdjacentHtml=function(a,b,c){a.insertAdjacentHTML(b,goog.html.SafeHtml.unwrap(c))};goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
goog.dom.safe.setInnerHtml=function(a,b){if(goog.asserts.ENABLE_ASSERTS){var c=a.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[c])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+a.tagName+".");}a.innerHTML=goog.html.SafeHtml.unwrap(b)};goog.dom.safe.setOuterHtml=function(a,b){a.outerHTML=goog.html.SafeHtml.unwrap(b)};
goog.dom.safe.setFormElementAction=function(a,b){b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLFormElement(a).action=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setButtonFormAction=function(a,b){b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLButtonElement(a).formAction=goog.html.SafeUrl.unwrap(b)};
goog.dom.safe.setInputFormAction=function(a,b){b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLInputElement(a).formAction=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setStyle=function(a,b){a.style.cssText=goog.html.SafeStyle.unwrap(b)};goog.dom.safe.documentWrite=function(a,b){a.write(goog.html.SafeHtml.unwrap(b))};
goog.dom.safe.setAnchorHref=function(a,b){goog.dom.asserts.assertIsHTMLAnchorElement(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.href=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setImageSrc=function(a,b){goog.dom.asserts.assertIsHTMLImageElement(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.src=goog.html.SafeUrl.unwrap(b)};
goog.dom.safe.setVideoSrc=function(a,b){goog.dom.asserts.assertIsHTMLVideoElement(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.src=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setEmbedSrc=function(a,b){goog.dom.asserts.assertIsHTMLEmbedElement(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setFrameSrc=function(a,b){goog.dom.asserts.assertIsHTMLFrameElement(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};
goog.dom.safe.setIframeSrc=function(a,b){goog.dom.asserts.assertIsHTMLIFrameElement(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setIframeSrcdoc=function(a,b){goog.dom.asserts.assertIsHTMLIFrameElement(a);a.srcdoc=goog.html.SafeHtml.unwrap(b)};
goog.dom.safe.setLinkHrefAndRel=function(a,b,c){goog.dom.asserts.assertIsHTMLLinkElement(a);a.rel=c;goog.string.caseInsensitiveContains(c,"stylesheet")?(goog.asserts.assert(b instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),a.href=goog.html.TrustedResourceUrl.unwrap(b)):a.href=b instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(b):b instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(b):goog.html.SafeUrl.sanitizeAssertUnchanged(b).getTypedStringValue()};
goog.dom.safe.setObjectData=function(a,b){goog.dom.asserts.assertIsHTMLObjectElement(a);a.data=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setScriptSrc=function(a,b){goog.dom.asserts.assertIsHTMLScriptElement(a);a.src=goog.html.TrustedResourceUrl.unwrap(b);(b=goog.getScriptNonce())&&a.setAttribute("nonce",b)};goog.dom.safe.setScriptContent=function(a,b){goog.dom.asserts.assertIsHTMLScriptElement(a);a.text=goog.html.SafeScript.unwrap(b);(b=goog.getScriptNonce())&&a.setAttribute("nonce",b)};
goog.dom.safe.setLocationHref=function(a,b){goog.dom.asserts.assertIsLocation(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.href=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.replaceLocation=function(a,b){goog.dom.asserts.assertIsLocation(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.replace(goog.html.SafeUrl.unwrap(b))};
goog.dom.safe.openInWindow=function(a,b,c,d,e){a=a instanceof goog.html.SafeUrl?a:goog.html.SafeUrl.sanitizeAssertUnchanged(a);return(b||window).open(goog.html.SafeUrl.unwrap(a),c?goog.string.Const.unwrap(c):"",d,e)};goog.html.uncheckedconversions={};goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(a,b,c){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(b,c||null)};
goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(b)};
goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b)};
goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};
goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b)};
goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),"must provide justification");goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),"must provide non-empty justification");return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};goog.math={};goog.math.randomInt=function(a){return Math.floor(Math.random()*a)};goog.math.uniformRandom=function(a,b){return a+Math.random()*(b-a)};goog.math.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)};goog.math.modulo=function(a,b){a%=b;return 0>a*b?a+b:a};goog.math.lerp=function(a,b,c){return a+c*(b-a)};goog.math.nearlyEquals=function(a,b,c){return Math.abs(a-b)<=(c||1E-6)};goog.math.standardAngle=function(a){return goog.math.modulo(a,360)};
goog.math.standardAngleInRadians=function(a){return goog.math.modulo(a,2*Math.PI)};goog.math.toRadians=function(a){return a*Math.PI/180};goog.math.toDegrees=function(a){return 180*a/Math.PI};goog.math.angleDx=function(a,b){return b*Math.cos(goog.math.toRadians(a))};goog.math.angleDy=function(a,b){return b*Math.sin(goog.math.toRadians(a))};goog.math.angle=function(a,b,c,d){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(d-b,c-a)))};
goog.math.angleDifference=function(a,b){a=goog.math.standardAngle(b)-goog.math.standardAngle(a);180<a?a-=360:-180>=a&&(a=360+a);return a};goog.math.sign=function(a){return 0<a?1:0>a?-1:a};
goog.math.longestCommonSubsequence=function(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b,c){return a[b]};for(var e=a.length,f=b.length,h=[],g=0;g<e+1;g++)h[g]=[],h[g][0]=0;for(var k=0;k<f+1;k++)h[0][k]=0;for(g=1;g<=e;g++)for(k=1;k<=f;k++)c(a[g-1],b[k-1])?h[g][k]=h[g-1][k-1]+1:h[g][k]=Math.max(h[g-1][k],h[g][k-1]);var p=[];g=e;for(k=f;0<g&&0<k;)c(a[g-1],b[k-1])?(p.unshift(d(g-1,k-1)),g--,k--):h[g-1][k]>h[g][k-1]?g--:k--;return p};
goog.math.sum=function(a){return goog.array.reduce(arguments,function(a,c){return a+c},0)};goog.math.average=function(a){return goog.math.sum.apply(null,arguments)/arguments.length};goog.math.sampleVariance=function(a){var b=arguments.length;if(2>b)return 0;var c=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,function(a){return Math.pow(a-c,2)}))/(b-1)};goog.math.standardDeviation=function(a){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))};
goog.math.isInt=function(a){return isFinite(a)&&0==a%1};goog.math.isFiniteNumber=function(a){return isFinite(a)};goog.math.isNegativeZero=function(a){return 0==a&&0>1/a};goog.math.log10Floor=function(a){if(0<a){var b=Math.round(Math.log(a)*Math.LOG10E);return b-(parseFloat("1e"+b)>a?1:0)}return 0==a?-Infinity:NaN};goog.math.safeFloor=function(a,b){goog.asserts.assert(!goog.isDef(b)||0<b);return Math.floor(a+(b||2E-15))};
goog.math.safeCeil=function(a,b){goog.asserts.assert(!goog.isDef(b)||0<b);return Math.ceil(a-(b||2E-15))};goog.math.Coordinate=function(a,b){this.x=goog.isDef(a)?a:0;this.y=goog.isDef(b)?b:0};goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)};goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"});goog.math.Coordinate.prototype.equals=function(a){return a instanceof goog.math.Coordinate&&goog.math.Coordinate.equals(this,a)};goog.math.Coordinate.equals=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1};
goog.math.Coordinate.distance=function(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)};goog.math.Coordinate.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};goog.math.Coordinate.azimuth=function(a){return goog.math.angle(0,0,a.x,a.y)};goog.math.Coordinate.squaredDistance=function(a,b){var c=a.x-b.x;a=a.y-b.y;return c*c+a*a};goog.math.Coordinate.difference=function(a,b){return new goog.math.Coordinate(a.x-b.x,a.y-b.y)};
goog.math.Coordinate.sum=function(a,b){return new goog.math.Coordinate(a.x+b.x,a.y+b.y)};goog.math.Coordinate.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};goog.math.Coordinate.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};goog.math.Coordinate.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
goog.math.Coordinate.prototype.translate=function(a,b){a instanceof goog.math.Coordinate?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),goog.isNumber(b)&&(this.y+=b));return this};goog.math.Coordinate.prototype.scale=function(a,b){b=goog.isNumber(b)?b:a;this.x*=a;this.y*=b;return this};goog.math.Coordinate.prototype.rotateRadians=function(a,b){b=b||new goog.math.Coordinate(0,0);var c=this.x,d=this.y,e=Math.cos(a);a=Math.sin(a);this.x=(c-b.x)*e-(d-b.y)*a+b.x;this.y=(c-b.x)*a+(d-b.y)*e+b.y};
goog.math.Coordinate.prototype.rotateDegrees=function(a,b){this.rotateRadians(goog.math.toRadians(a),b)};goog.math.Size=function(a,b){this.width=a;this.height=b};goog.math.Size.equals=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)};goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"});goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)};
goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)};goog.math.Size.prototype.area=function(){return this.width*this.height};goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)};goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height};goog.math.Size.prototype.isEmpty=function(){return!this.area()};goog.math.Size.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
goog.math.Size.prototype.fitsInside=function(a){return this.width<=a.width&&this.height<=a.height};goog.math.Size.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};goog.math.Size.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};goog.math.Size.prototype.scale=function(a,b){b=goog.isNumber(b)?b:a;this.width*=a;this.height*=b;return this};
goog.math.Size.prototype.scaleToCover=function(a){a=this.aspectRatio()<=a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};goog.math.Size.prototype.scaleToFit=function(a){a=this.aspectRatio()>a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};goog.dom.ASSUME_QUIRKS_MODE=!1;goog.dom.ASSUME_STANDARDS_MODE=!1;goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.getDomHelper=function(a){return a?new goog.dom.DomHelper(goog.dom.getOwnerDocument(a)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)};goog.dom.getDocument=function(){return document};goog.dom.getElement=function(a){return goog.dom.getElementHelper_(document,a)};
goog.dom.getElementHelper_=function(a,b){return goog.isString(b)?a.getElementById(b):b};goog.dom.getRequiredElement=function(a){return goog.dom.getRequiredElementHelper_(document,a)};goog.dom.getRequiredElementHelper_=function(a,b){goog.asserts.assertString(b);a=goog.dom.getElementHelper_(a,b);return a=goog.asserts.assertElement(a,"No element found with id: "+b)};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagName=function(a,b){return(b||document).getElementsByTagName(String(a))};
goog.dom.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(document,a,b,c)};goog.dom.getElementByTagNameAndClass=function(a,b,c){return goog.dom.getElementByTagNameAndClass_(document,a,b,c)};goog.dom.getElementsByClass=function(a,b){var c=b||document;return goog.dom.canUseQuerySelector_(c)?c.querySelectorAll("."+a):goog.dom.getElementsByTagNameAndClass_(document,"*",a,b)};
goog.dom.getElementByClass=function(a,b){var c=b||document;return(c.getElementsByClassName?c.getElementsByClassName(a)[0]:goog.dom.getElementByTagNameAndClass_(document,"*",a,b))||null};goog.dom.getRequiredElementByClass=function(a,b){b=goog.dom.getElementByClass(a,b);return goog.asserts.assert(b,"No element found with className: "+a)};goog.dom.canUseQuerySelector_=function(a){return!(!a.querySelectorAll||!a.querySelector)};
goog.dom.getElementsByTagNameAndClass_=function(a,b,c,d){a=d||a;b=b&&"*"!=b?String(b).toUpperCase():"";if(goog.dom.canUseQuerySelector_(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)b==h.nodeName&&(d[e++]=h);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++)b=h.className,"function"==typeof b.split&&goog.array.contains(b.split(/\s+/),c)&&(d[e++]=h);
d.length=e;return d}return a};goog.dom.getElementByTagNameAndClass_=function(a,b,c,d){var e=d||a,f=b&&"*"!=b?String(b).toUpperCase():"";return goog.dom.canUseQuerySelector_(e)&&(f||c)?e.querySelector(f+(c?"."+c:"")):goog.dom.getElementsByTagNameAndClass_(a,b,c,d)[0]||null};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;
goog.dom.setProperties=function(a,b){goog.object.forEach(b,function(b,d){b&&b.implementsGoogStringTypedString&&(b=b.getTypedStringValue());"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(d)?a.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[d],b):goog.string.startsWith(d,"aria-")||goog.string.startsWith(d,"data-")?a.setAttribute(d,b):a[d]=b})};
goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};goog.dom.getViewportSize=function(a){return goog.dom.getViewportSize_(a||window)};goog.dom.getViewportSize_=function(a){a=a.document;a=goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body;return new goog.math.Size(a.clientWidth,a.clientHeight)};
goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)};goog.dom.getDocumentHeightForWindow=function(a){return goog.dom.getDocumentHeight_(a)};
goog.dom.getDocumentHeight_=function(a){var b=a.document,c=0;if(b){c=b.body;var d=b.documentElement;if(!d||!c)return 0;a=goog.dom.getViewportSize_(a).height;if(goog.dom.isCss1CompatMode_(b)&&d.scrollHeight)c=d.scrollHeight!=a?d.scrollHeight:d.offsetHeight;else{b=d.scrollHeight;var e=d.offsetHeight;d.clientHeight!=e&&(b=c.scrollHeight,e=c.offsetHeight);c=b>a?b>e?b:e:b<e?b:e}}return c};goog.dom.getPageScroll=function(a){return goog.dom.getDomHelper((a||goog.global||window).document).getDocumentScroll()};
goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)};goog.dom.getDocumentScroll_=function(a){var b=goog.dom.getDocumentScrollElement_(a);a=goog.dom.getWindow_(a);return goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&a.pageYOffset!=b.scrollTop?new goog.math.Coordinate(b.scrollLeft,b.scrollTop):new goog.math.Coordinate(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)};
goog.dom.getDocumentScrollElement_=function(a){return a.scrollingElement?a.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body||a.documentElement};goog.dom.getWindow=function(a){return a?goog.dom.getWindow_(a):window};goog.dom.getWindow_=function(a){return a.parentWindow||a.defaultView};goog.dom.createDom=function(a,b,c){return goog.dom.createDom_(document,arguments)};
goog.dom.createDom_=function(a,b){var c=String(b[0]),d=b[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',goog.string.htmlEscape(d.name),'"');if(d.type){c.push(' type="',goog.string.htmlEscape(d.type),'"');var e={};goog.object.extend(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(goog.isString(d)?c.className=d:goog.isArray(d)?c.className=d.join(" "):goog.dom.setProperties(c,d));2<b.length&&goog.dom.append_(a,
c,b,2);return c};goog.dom.append_=function(a,b,c,d){function e(c){c&&b.appendChild(goog.isString(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];goog.isArrayLike(f)&&!goog.dom.isNodeLike(f)?goog.array.forEach(goog.dom.isNodeList(f)?goog.array.toArray(f):f,e):e(f)}};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=function(a){return goog.dom.createElement_(document,a)};goog.dom.createElement_=function(a,b){return a.createElement(String(b))};goog.dom.createTextNode=function(a){return document.createTextNode(String(a))};
goog.dom.createTable=function(a,b,c){return goog.dom.createTable_(document,a,b,!!c)};goog.dom.createTable_=function(a,b,c,d){for(var e=goog.dom.createElement_(a,"TABLE"),f=e.appendChild(goog.dom.createElement_(a,"TBODY")),h=0;h<b;h++){for(var g=goog.dom.createElement_(a,"TR"),k=0;k<c;k++){var p=goog.dom.createElement_(a,"TD");d&&goog.dom.setTextContent(p,goog.string.Unicode.NBSP);g.appendChild(p)}f.appendChild(g)}return e};
goog.dom.constHtmlToNode=function(a){var b=goog.array.map(arguments,goog.string.Const.unwrap);b=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),b.join(""));return goog.dom.safeHtmlToNode(b)};goog.dom.safeHtmlToNode=function(a){return goog.dom.safeHtmlToNode_(document,a)};
goog.dom.safeHtmlToNode_=function(a,b){var c=goog.dom.createElement_(a,"DIV");goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(c,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,b)),c.removeChild(c.firstChild)):goog.dom.safe.setInnerHtml(c,b);return goog.dom.childrenToNode_(a,c)};goog.dom.childrenToNode_=function(a,b){if(1==b.childNodes.length)return b.removeChild(b.firstChild);for(a=a.createDocumentFragment();b.firstChild;)a.appendChild(b.firstChild);return a};
goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)};goog.dom.isCss1CompatMode_=function(a){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==a.compatMode};goog.dom.canHaveChildren=function(a){if(a.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
goog.dom.appendChild=function(a,b){a.appendChild(b)};goog.dom.append=function(a,b){goog.dom.append_(goog.dom.getOwnerDocument(a),a,arguments,1)};goog.dom.removeChildren=function(a){for(var b;b=a.firstChild;)a.removeChild(b)};goog.dom.insertSiblingBefore=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)};goog.dom.insertSiblingAfter=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)};goog.dom.insertChildAt=function(a,b,c){a.insertBefore(b,a.childNodes[c]||null)};
goog.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};goog.dom.replaceNode=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};goog.dom.flattenElement=function(a){var b,c=a.parentNode;if(c&&c.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(a.removeNode)return a.removeNode(!1);for(;b=a.firstChild;)c.insertBefore(b,a);return goog.dom.removeNode(a)}};
goog.dom.getChildren=function(a){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=a.children?a.children:goog.array.filter(a.childNodes,function(a){return a.nodeType==goog.dom.NodeType.ELEMENT})};goog.dom.getFirstElementChild=function(a){return goog.isDef(a.firstElementChild)?a.firstElementChild:goog.dom.getNextElementNode_(a.firstChild,!0)};goog.dom.getLastElementChild=function(a){return goog.isDef(a.lastElementChild)?a.lastElementChild:goog.dom.getNextElementNode_(a.lastChild,!1)};
goog.dom.getNextElementSibling=function(a){return goog.isDef(a.nextElementSibling)?a.nextElementSibling:goog.dom.getNextElementNode_(a.nextSibling,!0)};goog.dom.getPreviousElementSibling=function(a){return goog.isDef(a.previousElementSibling)?a.previousElementSibling:goog.dom.getNextElementNode_(a.previousSibling,!1)};goog.dom.getNextElementNode_=function(a,b){for(;a&&a.nodeType!=goog.dom.NodeType.ELEMENT;)a=b?a.nextSibling:a.previousSibling;return a};
goog.dom.getNextNode=function(a){if(!a)return null;if(a.firstChild)return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null};goog.dom.getPreviousNode=function(a){if(!a)return null;if(!a.previousSibling)return a.parentNode;for(a=a.previousSibling;a&&a.lastChild;)a=a.lastChild;return a};goog.dom.isNodeLike=function(a){return goog.isObject(a)&&0<a.nodeType};goog.dom.isElement=function(a){return goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT};
goog.dom.isWindow=function(a){return goog.isObject(a)&&a.window==a};goog.dom.getParentElement=function(a){var b;if(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY&&!(goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&a instanceof goog.global.SVGElement)&&(b=a.parentElement))return b;b=a.parentNode;return goog.dom.isElement(b)?b:null};
goog.dom.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&b.nodeType==goog.dom.NodeType.ELEMENT)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};
goog.dom.compareNodeOrder=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(a.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(b.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=a.nodeType==goog.dom.NodeType.ELEMENT,d=b.nodeType==goog.dom.NodeType.ELEMENT;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,
f=b.parentNode;return e==f?goog.dom.compareSiblingOrder_(a,b):!c&&goog.dom.contains(e,b)?-1*goog.dom.compareParentsDescendantNodeIe_(a,b):!d&&goog.dom.contains(f,a)?goog.dom.compareParentsDescendantNodeIe_(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}d=goog.dom.getOwnerDocument(a);c=d.createRange();c.selectNode(a);c.collapse(!0);a=d.createRange();a.selectNode(b);a.collapse(!0);return c.compareBoundaryPoints(goog.global.Range.START_TO_END,a)};
goog.dom.compareParentsDescendantNodeIe_=function(a,b){var c=a.parentNode;if(c==b)return-1;for(;b.parentNode!=c;)b=b.parentNode;return goog.dom.compareSiblingOrder_(b,a)};goog.dom.compareSiblingOrder_=function(a,b){for(;b=b.previousSibling;)if(b==a)return-1;return 1};
goog.dom.findCommonAncestor=function(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],e=Infinity;for(b=0;b<c;b++){for(var f=[],h=arguments[b];h;)f.unshift(h),h=h.parentNode;d.push(f);e=Math.min(e,f.length)}f=null;for(b=0;b<e;b++){h=d[0][b];for(var g=1;g<c;g++)if(h!=d[g][b])return f;f=h}return f};goog.dom.getOwnerDocument=function(a){goog.asserts.assert(a,"Node cannot be null or undefined.");return a.nodeType==goog.dom.NodeType.DOCUMENT?a:a.ownerDocument||a.document};
goog.dom.getFrameContentDocument=function(a){return a.contentDocument||a.contentWindow.document};goog.dom.getFrameContentWindow=function(a){try{return a.contentWindow||(a.contentDocument?goog.dom.getWindow(a.contentDocument):null)}catch(b){}return null};
goog.dom.setTextContent=function(a,b){goog.asserts.assert(null!=a,"goog.dom.setTextContent expects a non-null value for node");if("textContent"in a)a.textContent=b;else if(a.nodeType==goog.dom.NodeType.TEXT)a.data=String(b);else if(a.firstChild&&a.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else{goog.dom.removeChildren(a);var c=goog.dom.getOwnerDocument(a);a.appendChild(c.createTextNode(String(b)))}};
goog.dom.getOuterHtml=function(a){goog.asserts.assert(null!==a,"goog.dom.getOuterHtml expects a non-null value for element");if("outerHTML"in a)return a.outerHTML;var b=goog.dom.getOwnerDocument(a);b=goog.dom.createElement_(b,"DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};goog.dom.findNode=function(a,b){var c=[];return goog.dom.findNodes_(a,b,c,!0)?c[0]:void 0};goog.dom.findNodes=function(a,b){var c=[];goog.dom.findNodes_(a,b,c,!1);return c};
goog.dom.findNodes_=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||goog.dom.findNodes_(a,b,c,d))return!0;a=a.nextSibling}return!1};goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"};goog.dom.isFocusableTabIndex=function(a){return goog.dom.hasSpecifiedTabIndex_(a)&&goog.dom.isTabIndexFocusable_(a)};goog.dom.setFocusableTabIndex=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))};
goog.dom.isFocusable=function(a){var b;return(b=goog.dom.nativelySupportsFocus_(a)?!a.disabled&&(!goog.dom.hasSpecifiedTabIndex_(a)||goog.dom.isTabIndexFocusable_(a)):goog.dom.isFocusableTabIndex(a))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(a):b};goog.dom.hasSpecifiedTabIndex_=function(a){return goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9")?(a=a.getAttributeNode("tabindex"),goog.isDefAndNotNull(a)&&a.specified):a.hasAttribute("tabindex")};
goog.dom.isTabIndexFocusable_=function(a){a=a.tabIndex;return goog.isNumber(a)&&0<=a&&32768>a};goog.dom.nativelySupportsFocus_=function(a){return"A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName};goog.dom.hasNonZeroBoundingRect_=function(a){a=!goog.isFunction(a.getBoundingClientRect)||goog.userAgent.IE&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect();return goog.isDefAndNotNull(a)&&0<a.height&&0<a.width};
goog.dom.getTextContent=function(a){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&null!==a&&"innerText"in a)a=goog.string.canonicalizeNewlines(a.innerText);else{var b=[];goog.dom.getTextContent_(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a};goog.dom.getRawTextContent=function(a){var b=[];goog.dom.getTextContent_(a,b,!1);return b.join("")};
goog.dom.getTextContent_=function(a,b,c){if(!(a.nodeName in goog.dom.TAGS_TO_IGNORE_))if(a.nodeType==goog.dom.NodeType.TEXT)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)b.push(goog.dom.PREDEFINED_TAG_VALUES_[a.nodeName]);else for(a=a.firstChild;a;)goog.dom.getTextContent_(a,b,c),a=a.nextSibling};goog.dom.getNodeTextLength=function(a){return goog.dom.getTextContent(a).length};
goog.dom.getNodeTextOffset=function(a,b){b=b||goog.dom.getOwnerDocument(a).body;for(var c=[];a&&a!=b;){for(var d=a;d=d.previousSibling;)c.unshift(goog.dom.getTextContent(d));a=a.parentNode}return goog.string.trimLeft(c.join("")).replace(/ +/g," ").length};
goog.dom.getNodeAtOffset=function(a,b,c){a=[a];for(var d=0,e=null;0<a.length&&d<b;)if(e=a.pop(),!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT){var f=e.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");d+=f.length}else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)d+=goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName].length;else for(f=e.childNodes.length-1;0<=f;f--)a.push(e.childNodes[f]);goog.isObject(c)&&(c.remainder=e?e.nodeValue.length+b-d-1:0,c.node=e);return e};
goog.dom.isNodeList=function(a){if(a&&"number"==typeof a.length){if(goog.isObject(a))return"function"==typeof a.item||"string"==typeof a.item;if(goog.isFunction(a))return"function"==typeof a.item}return!1};goog.dom.getAncestorByTagNameAndClass=function(a,b,c,d){if(!b&&!c)return null;var e=b?String(b).toUpperCase():null;return goog.dom.getAncestor(a,function(a){return(!e||a.nodeName==e)&&(!c||goog.isString(a.className)&&goog.array.contains(a.className.split(/\s+/),c))},!0,d)};
goog.dom.getAncestorByClass=function(a,b,c){return goog.dom.getAncestorByTagNameAndClass(a,null,b,c)};goog.dom.getAncestor=function(a,b,c,d){a&&!c&&(a=a.parentNode);for(c=0;a&&(null==d||c<=d);){goog.asserts.assert("parentNode"!=a.name);if(b(a))return a;a=a.parentNode;c++}return null};goog.dom.getActiveElement=function(a){try{var b=a&&a.activeElement;return b&&b.nodeName?b:null}catch(c){return null}};
goog.dom.getPixelRatio=function(){var a=goog.dom.getWindow();return goog.isDef(a.devicePixelRatio)?a.devicePixelRatio:a.matchMedia?goog.dom.matchesPixelRatio_(3)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(1)||.75:1};goog.dom.matchesPixelRatio_=function(a){return goog.dom.getWindow().matchMedia("(min-resolution: "+a+"dppx),(min--moz-device-pixel-ratio: "+a+"),(min-resolution: "+96*a+"dpi)").matches?a:0};goog.dom.getCanvasContext2D=function(a){return a.getContext("2d")};
goog.dom.DomHelper=function(a){this.document_=a||goog.global.document||document};goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper;goog.dom.DomHelper.prototype.setDocument=function(a){this.document_=a};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.getElement=function(a){return goog.dom.getElementHelper_(this.document_,a)};
goog.dom.DomHelper.prototype.getRequiredElement=function(a){return goog.dom.getRequiredElementHelper_(this.document_,a)};goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement;goog.dom.DomHelper.prototype.getElementsByTagName=function(a,b){return(b||this.document_).getElementsByTagName(String(a))};goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(this.document_,a,b,c)};
goog.dom.DomHelper.prototype.getElementByTagNameAndClass=function(a,b,c){return goog.dom.getElementByTagNameAndClass_(this.document_,a,b,c)};goog.dom.DomHelper.prototype.getElementsByClass=function(a,b){return goog.dom.getElementsByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.getElementByClass=function(a,b){return goog.dom.getElementByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.getRequiredElementByClass=function(a,b){return goog.dom.getRequiredElementByClass(a,b||this.document_)};
goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties;goog.dom.DomHelper.prototype.getViewportSize=function(a){return goog.dom.getViewportSize(a||this.getWindow())};goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())};goog.dom.DomHelper.prototype.createDom=function(a,b,c){return goog.dom.createDom_(this.document_,arguments)};
goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom;goog.dom.DomHelper.prototype.createElement=function(a){return goog.dom.createElement_(this.document_,a)};goog.dom.DomHelper.prototype.createTextNode=function(a){return this.document_.createTextNode(String(a))};goog.dom.DomHelper.prototype.createTable=function(a,b,c){return goog.dom.createTable_(this.document_,a,b,!!c)};goog.dom.DomHelper.prototype.safeHtmlToNode=function(a){return goog.dom.safeHtmlToNode_(this.document_,a)};
goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)};goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)};
goog.dom.DomHelper.prototype.getActiveElement=function(a){return goog.dom.getActiveElement(a||this.document_)};goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild;goog.dom.DomHelper.prototype.append=goog.dom.append;goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren;goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren;goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore;goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter;
goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt;goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode;goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode;goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement;goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren;goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild;goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild;
goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling;goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling;goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode;goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode;goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike;goog.dom.DomHelper.prototype.isElement=goog.dom.isElement;goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow;
goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement;goog.dom.DomHelper.prototype.contains=goog.dom.contains;goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder;goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor;goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument;goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument;goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow;
goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent;goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml;goog.dom.DomHelper.prototype.findNode=goog.dom.findNode;goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes;goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex;goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex;goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable;
goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent;goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength;goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset;goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset;goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList;goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass;
goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor;goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D;/*
: http://creativecommons.org/publicdomain/zero/1.0/
 pixi.js - v4.8.1
 Compiled Wed, 06 Jun 2018 15:37:58 UTC

 pixi.js is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 https://mths.be/punycode v1.4.1 by @mathias */
var PIXI=void 0;
(function(a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a():"function"===typeof define&&define.amd?define([],a):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).PIXI=a()})(function(){return function(){function a(b,c,d){function e(g,k){if(!c[g]){if(!b[g]){var h="function"==typeof require&&require;if(!k&&h)return h(g,!0);if(f)return f(g,!0);k=Error("Cannot find module '"+g+"'");throw k.code="MODULE_NOT_FOUND",k;}k=
c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,h=0;h<d.length;h++)e(d[h]);return e}return a}()({1:[function(a,b,c){function d(a){var b=32;(a&=-a)&&b--;a&65535&&(b-=16);a&16711935&&(b-=8);a&252645135&&(b-=4);a&858993459&&(b-=2);a&1431655765&&--b;return b}"use restrict";c.INT_BITS=32;c.INT_MAX=2147483647;c.INT_MIN=-2147483648;c.sign=function(a){return(0<a)-(0>a)};c.abs=function(a){var b=
a>>31;return(a^b)-b};c.min=function(a,b){return b^(a^b)&-(a<b)};c.max=function(a,b){return a^(a^b)&-(a<b)};c.isPow2=function(a){return!(a&a-1)&&!!a};c.log2=function(a){var b=(65535<a)<<4;a>>>=b;var c=(255<a)<<3;a>>>=c;b|=c;c=(15<a)<<2;a>>>=c;b|=c;c=(3<a)<<1;return b|c|a>>>c>>1};c.log10=function(a){return 1E9<=a?9:1E8<=a?8:1E7<=a?7:1E6<=a?6:1E5<=a?5:1E4<=a?4:1E3<=a?3:100<=a?2:10<=a?1:0};c.popCount=function(a){a-=a>>>1&1431655765;a=(a&858993459)+(a>>>2&858993459);return 16843009*(a+(a>>>4)&252645135)>>>
24};c.countTrailingZeros=d;c.nextPow2=function(a){a+=0===a;--a;a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;return(a|a>>>16)+1};c.prevPow2=function(a){a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a-(a>>>1)};c.parity=function(a){a^=a>>>16;a^=a>>>8;return 27030>>>((a^a>>>4)&15)&1};var e=Array(256);(function(a){for(var b=0;256>b;++b){var c=b,d=b,f=7;for(c>>>=1;c;c>>>=1)d<<=1,d|=c&1,--f;a[b]=d<<f&255}})(e);c.reverse=function(a){return e[a&255]<<24|e[a>>>8&255]<<16|e[a>>>16&255]<<8|e[a>>>24&255]};c.interleave2=
function(a,b){a&=65535;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b&=65535;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1};c.deinterleave2=function(a,b){a=a>>>b&1431655765;a=(a|a>>>1)&858993459;a=(a|a>>>2)&252645135;a=(a|a>>>4)&16711935;return((a|a>>>16)&65535)<<16>>16};c.interleave3=function(a,b,c){a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;b&=1023;b=(b|b<<16)&4278190335;b=(b|b<<8)&
251719695;b=(b|b<<4)&3272356035;c&=1023;c=(c|c<<16)&4278190335;c=(c|c<<8)&251719695;c=(c|c<<4)&3272356035;return(a|a<<2)&1227133513|((b|b<<2)&1227133513)<<1|((c|c<<2)&1227133513)<<2};c.deinterleave3=function(a,b){a=a>>>b&1227133513;a=(a|a>>>2)&3272356035;a=(a|a>>>4)&251719695;a=(a|a>>>8)&4278190335;return((a|a>>>16)&1023)<<22>>22};c.nextCombination=function(a){var b=a|a-1;return b+1|(~b&-~b)-1>>>d(a)+1}},{}],2:[function(a,b,c){function d(a,b,c){c=c||2;var d=b&&b.length,g=d?b[0]*c:a.length,l=e(a,0,
g,c,!0),n=[];if(!l)return n;var t;if(d){var u=c;d=[];var r;var v=0;for(r=b.length;v<r;v++){var w=b[v]*u;var C=v<r-1?b[v+1]*u:a.length;w=e(a,w,C,u,!1);w===w.next&&(w.steiner=!0);d.push(m(w))}d.sort(k);for(v=0;v<d.length;v++){b=d[v];u=l;if(u=p(b,u))b=D(u,b),f(b,b.next);l=f(l,l.next)}}if(a.length>80*c){var z=t=a[0];var K=d=a[1];for(u=c;u<g;u+=c)v=a[u],b=a[u+1],v<z&&(z=v),b<K&&(K=b),v>t&&(t=v),b>d&&(d=b);t=Math.max(t-z,d-K);t=0!==t?1/t:0}h(l,n,c,z,K,t);return n}function e(a,b,c,d,f){if(f===0<x(a,b,c,
d))for(f=b;f<c;f+=d)var e=r(f,a[f],a[f+1],e);else for(f=c-d;f>=b;f-=d)e=r(f,a[f],a[f+1],e);e&&v(e,e.next)&&(C(e),e=e.next);return e}function f(a,b){if(!a)return a;b||(b=a);do{var c=!1;if(a.steiner||!v(a,a.next)&&0!==u(a.prev,a,a.next))a=a.next;else{C(a);a=b=a.prev;if(a===a.next)break;c=!0}}while(c||a!==b);return b}function h(a,b,c,d,e,k,p){if(a){if(!p&&k){var m=a,r=m;do null===r.z&&(r.z=l(r.x,r.y,d,e,k)),r.prevZ=r.prev,r=r.nextZ=r.next;while(r!==m);r.prevZ.nextZ=null;r.prevZ=null;m=r;var z,K,E,I,
A=1;do{r=m;var x=m=null;for(K=0;r;){K++;var y=r;for(z=E=0;z<A&&(E++,y=y.nextZ,y);z++);for(I=A;0<E||0<I&&y;)0!==E&&(0===I||!y||r.z<=y.z)?(z=r,r=r.nextZ,E--):(z=y,y=y.nextZ,I--),x?x.nextZ=z:m=z,z.prevZ=x,x=z;r=y}x.nextZ=null;A*=2}while(1<K)}for(m=a;a.prev!==a.next;){r=a.prev;y=a.next;if(k)x=g(a,d,e,k);else a:if(x=a,K=x.prev,E=x,A=x.next,0<=u(K,E,A))x=!1;else{for(z=x.next.next;z!==x.prev;){if(t(K.x,K.y,E.x,E.y,A.x,A.y,z.x,z.y)&&0<=u(z.prev,z,z.next)){x=!1;break a}z=z.next}x=!0}if(x)b.push(r.i/c),b.push(a.i/
c),b.push(y.i/c),C(a),m=a=y.next;else if(a=y,a===m){if(!p)h(f(a),b,c,d,e,k,1);else if(1===p){p=b;m=c;r=a;do y=r.prev,x=r.next.next,!v(y,x)&&n(y,r,r.next,x)&&w(y,x)&&w(x,y)&&(p.push(y.i/m),p.push(r.i/m),p.push(x.i/m),C(r),C(r.next),r=a=x),r=r.next;while(r!==a);a=r;h(a,b,c,d,e,k,2)}else if(2===p)a:{p=a;do{for(m=p.next.next;m!==p.prev;){if(r=p.i!==m.i){r=p;y=m;if(x=r.next.i!==y.i&&r.prev.i!==y.i){b:{x=r;do{if(x.i!==r.i&&x.next.i!==r.i&&x.i!==y.i&&x.next.i!==y.i&&n(x,x.next,r,y)){x=!0;break b}x=x.next}while(x!==
r);x=!1}x=!x}if(x=x&&w(r,y)&&w(y,r)){x=r;K=!1;E=(r.x+y.x)/2;y=(r.y+y.y)/2;do x.y>y!==x.next.y>y&&x.next.y!==x.y&&E<(x.next.x-x.x)*(y-x.y)/(x.next.y-x.y)+x.x&&(K=!K),x=x.next;while(x!==r);x=K}r=x}if(r){a=D(p,m);p=f(p,p.next);a=f(a,a.next);h(p,b,c,d,e,k);h(a,b,c,d,e,k);break a}m=m.next}p=p.next}while(p!==a)}break}}}}function g(a,b,c,d){var f=a.prev,e=a.next;if(0<=u(f,a,e))return!1;var g=f.x>a.x?f.x>e.x?f.x:e.x:a.x>e.x?a.x:e.x,k=f.y>a.y?f.y>e.y?f.y:e.y:a.y>e.y?a.y:e.y,h=l(f.x<a.x?f.x<e.x?f.x:e.x:a.x<
e.x?a.x:e.x,f.y<a.y?f.y<e.y?f.y:e.y:a.y<e.y?a.y:e.y,b,c,d);b=l(g,k,b,c,d);c=a.prevZ;for(d=a.nextZ;c&&c.z>=h&&d&&d.z<=b;){if(c!==a.prev&&c!==a.next&&t(f.x,f.y,a.x,a.y,e.x,e.y,c.x,c.y)&&0<=u(c.prev,c,c.next))return!1;c=c.prevZ;if(d!==a.prev&&d!==a.next&&t(f.x,f.y,a.x,a.y,e.x,e.y,d.x,d.y)&&0<=u(d.prev,d,d.next))return!1;d=d.nextZ}for(;c&&c.z>=h;){if(c!==a.prev&&c!==a.next&&t(f.x,f.y,a.x,a.y,e.x,e.y,c.x,c.y)&&0<=u(c.prev,c,c.next))return!1;c=c.prevZ}for(;d&&d.z<=b;){if(d!==a.prev&&d!==a.next&&t(f.x,f.y,
a.x,a.y,e.x,e.y,d.x,d.y)&&0<=u(d.prev,d,d.next))return!1;d=d.nextZ}return!0}function k(a,b){return a.x-b.x}function p(a,b){var c=b,d=a.x,f=a.y,e=-Infinity;do{if(f<=c.y&&f>=c.next.y&&c.next.y!==c.y){var g=c.x+(f-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(g<=d&&g>e){e=g;if(g===d){if(f===c.y)return c;if(f===c.next.y)return c.next}var k=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!k)return null;if(d===e)return k.prev;b=k;g=k.x;var h=k.y,p=Infinity;for(c=k.next;c!==b;){if(d>=c.x&&c.x>=g&&d!==c.x&&t(f<h?
d:e,f,g,h,f<h?e:d,f,c.x,c.y)){var l=Math.abs(f-c.y)/(d-c.x);(l<p||l===p&&c.x>k.x)&&w(c,a)&&(k=c,p=l)}c=c.next}return k}function l(a,b,c,d,f){a=32767*(a-c)*f;b=32767*(b-d)*f;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function m(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==a);return c}function t(a,b,c,d,f,e,g,k){return 0<=(f-g)*(b-k)-(a-g)*(e-k)&&0<=(a-g)*(d-k)-
(c-g)*(b-k)&&0<=(c-g)*(e-k)-(f-g)*(d-k)}function u(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function v(a,b){return a.x===b.x&&a.y===b.y}function n(a,b,c,d){return v(a,b)&&v(c,d)||v(a,d)&&v(c,b)?!0:0<u(a,b,c)!==0<u(a,b,d)&&0<u(c,d,a)!==0<u(c,d,b)}function w(a,b){return 0>u(a.prev,a,a.next)?0<=u(a,b,a.next)&&0<=u(a,a.prev,b):0>u(a,b,a.prev)||0>u(a,a.next,b)}function D(a,b){var c=new z(a.i,a.x,a.y),d=new z(b.i,b.x,b.y),f=a.next,e=b.prev;a.next=b;b.prev=a;c.next=f;f.prev=c;d.next=c;c.prev=
d;e.next=d;d.prev=e;return d}function r(a,b,c,d){a=new z(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function C(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function z(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function x(a,b,c,d){for(var f=0,e=c-d;b<c;b+=d)f+=(a[e]-a[b])*(a[b+1]+a[e+1]),e=b;return f}b.exports=d;b.exports.default=d;d.deviation=
function(a,b,c,d){var f=b&&b.length,e=Math.abs(x(a,0,f?b[0]*c:a.length,c));if(f){f=0;for(var g=b.length;f<g;f++)e-=Math.abs(x(a,b[f]*c,f<g-1?b[f+1]*c:a.length,c))}for(f=b=0;f<d.length;f+=3){g=d[f]*c;var k=d[f+1]*c,h=d[f+2]*c;b+=Math.abs((a[g]-a[h])*(a[k+1]-a[g+1])-(a[g]-a[k])*(a[h+1]-a[g+1]))}return 0===e&&0===b?0:Math.abs((b-e)/e)};d.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,f=0;f<a.length;f++){for(var e=0;e<a[f].length;e++)for(var g=0;g<b;g++)c.vertices.push(a[f][e][g]);
0<f&&(d+=a[f-1].length,c.holes.push(d))}return c}},{}],3:[function(a,b,c){function d(){}function e(a,b,c){this.fn=a;this.context=b;this.once=c||!1}function f(){this._events=new d;this._eventsCount=0}var h=Object.prototype.hasOwnProperty,g="~";Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(g=!1));f.prototype.eventNames=function(){var a=[],b,c;if(0===this._eventsCount)return a;for(c in b=this._events)h.call(b,c)&&a.push(g?c.slice(1):c);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(b)):
a};f.prototype.listeners=function(a,b){a=this._events[g?g+a:a];if(b)return!!a;if(!a)return[];if(a.fn)return[a.fn];b=0;for(var c=a.length,d=Array(c);b<c;b++)d[b]=a[b].fn;return d};f.prototype.emit=function(a,b,c,d,f,e){var k=g?g+a:a;if(!this._events[k])return!1;k=this._events[k];var h=arguments.length,p;if(k.fn){k.once&&this.removeListener(a,k.fn,void 0,!0);switch(h){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,
b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,f),!0;case 6:return k.fn.call(k.context,b,c,d,f,e),!0}var l=1;for(p=Array(h-1);l<h;l++)p[l-1]=arguments[l];k.fn.apply(k.context,p)}else{var t=k.length;for(l=0;l<t;l++)switch(k[l].once&&this.removeListener(a,k[l].fn,void 0,!0),h){case 1:k[l].fn.call(k[l].context);break;case 2:k[l].fn.call(k[l].context,b);break;case 3:k[l].fn.call(k[l].context,b,c);break;case 4:k[l].fn.call(k[l].context,b,c,d);break;default:if(!p){var m=1;for(p=Array(h-1);m<h;m++)p[m-
1]=arguments[m]}k[l].fn.apply(k[l].context,p)}}return!0};f.prototype.on=function(a,b,c){b=new e(b,c||this);a=g?g+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],b]:this._events[a].push(b):(this._events[a]=b,this._eventsCount++);return this};f.prototype.once=function(a,b,c){b=new e(b,c||this,!0);a=g?g+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],b]:this._events[a].push(b):(this._events[a]=b,this._eventsCount++);return this};f.prototype.removeListener=
function(a,b,c,f){a=g?g+a:a;if(!this._events[a])return this;if(!b)return 0===--this._eventsCount?this._events=new d:delete this._events[a],this;var e=this._events[a];if(e.fn)e.fn!==b||f&&!e.once||c&&e.context!==c||(0===--this._eventsCount?this._events=new d:delete this._events[a]);else{for(var k=0,h=[],p=e.length;k<p;k++)(e[k].fn!==b||f&&!e[k].once||c&&e[k].context!==c)&&h.push(e[k]);h.length?this._events[a]=1===h.length?h[0]:h:0===--this._eventsCount?this._events=new d:delete this._events[a]}return this};
f.prototype.removeAllListeners=function(a){a?(a=g?g+a:a,this._events[a]&&(0===--this._eventsCount?this._events=new d:delete this._events[a])):(this._events=new d,this._eventsCount=0);return this};f.prototype.off=f.prototype.removeListener;f.prototype.addListener=f.prototype.on;f.prototype.setMaxListeners=function(){return this};f.prefixed=g;f.EventEmitter=f;"undefined"!==typeof b&&(b.exports=f)},{}],4:[function(a,b,c){(function(a){var c=/iPhone/i,d=/iPod/i,h=/iPad/i,g=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,
k=/Android/i,p=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,l=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,m=/Windows Phone/i,t=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,u=/BlackBerry/i,v=/BB10/i,n=/Opera Mini/i,w=/(CriOS|Chrome)(?=.*\bMobile\b)/i,D=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,r=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,C=function(a){a=a||navigator.userAgent;var b=a.split("[FBAN");"undefined"!==typeof b[1]&&(a=b[0]);b=a.split("Twitter");
"undefined"!==typeof b[1]&&(a=b[0]);this.apple={phone:c.test(a),ipod:d.test(a),tablet:!c.test(a)&&h.test(a),device:c.test(a)||d.test(a)||h.test(a)};this.amazon={phone:p.test(a),tablet:!p.test(a)&&l.test(a),device:p.test(a)||l.test(a)};this.android={phone:p.test(a)||g.test(a),tablet:!p.test(a)&&!g.test(a)&&(l.test(a)||k.test(a)),device:p.test(a)||l.test(a)||g.test(a)||k.test(a)};this.windows={phone:m.test(a),tablet:t.test(a),device:m.test(a)||t.test(a)};this.other={blackberry:u.test(a),blackberry10:v.test(a),
opera:n.test(a),firefox:D.test(a),chrome:w.test(a),device:u.test(a)||v.test(a)||n.test(a)||D.test(a)||w.test(a)};this.seven_inch=r.test(a);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if("undefined"===typeof window)return this},z=function(){var a=new C;a.Class=C;return a};"undefined"!==typeof b&&b.exports&&
"undefined"===typeof window?b.exports=C:"undefined"!==typeof b&&b.exports&&"undefined"!==typeof window?b.exports=z():a.isMobile=z()})(this)},{}],5:[function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function e(a,b){a._head?(a._tail._next=b,b._prev=a._tail):a._head=b;a._tail=b;b._owner=a;return b}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=function(){function a(b,c,f){void 0===c&&(c=!1);d(this,a);this._fn=b;this._once=c;this._thisArg=f;this._next=this._prev=this._owner=null}f(a,[{key:"detach",value:function(){if(null===this._owner)return!1;this._owner.detach(this);return!0}}]);return a}();a=function(){function a(){d(this,a);this._head=this._tail=void 0}f(a,[{key:"handlers",value:function(){var a=
this._head;if(0>=arguments.length||void 0===arguments[0]?0:arguments[0])return!!a;for(var b=[];a;)b.push(a),a=a._next;return b}},{key:"has",value:function(a){if(!(a instanceof h))throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return a._owner===this}},{key:"dispatch",value:function(){var a=this._head;if(!a)return!1;for(;a;)a._once&&this.detach(a),a._fn.apply(a._thisArg,arguments),a=a._next;return!0}},{key:"add",value:function(a){var b=1>=arguments.length||void 0===arguments[1]?
null:arguments[1];if("function"!==typeof a)throw Error("MiniSignal#add(): First arg must be a Function.");return e(this,new h(a,!1,b))}},{key:"once",value:function(a){var b=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof a)throw Error("MiniSignal#once(): First arg must be a Function.");return e(this,new h(a,!0,b))}},{key:"detach",value:function(a){if(!(a instanceof h))throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");if(a._owner!==
this)return this;a._prev&&(a._prev._next=a._next);a._next&&(a._next._prev=a._prev);a===this._head?(this._head=a._next,null===a._next&&(this._tail=null)):a===this._tail&&(this._tail=a._prev,this._tail._next=null);a._owner=null;return this}},{key:"detachAll",value:function(){var a=this._head;if(!a)return this;for(this._head=this._tail=null;a;)a._owner=null,a=a._next;return this}}]);return a}();a.MiniSignalBinding=h;c["default"]=a;b.exports=c["default"]},{}],6:[function(a,b,c){var d=Object.getOwnPropertySymbols,
e=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;b.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?
!1:!0}catch(p){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(a);for(var g,h=1;h<arguments.length;h++){var m=Object(arguments[h]);for(var t in m)e.call(m,t)&&(c[t]=m[t]);if(d){g=d(m);for(var u=0;u<g.length;u++)f.call(m,g[u])&&(c[g[u]]=m[g[u]])}}return c}},{}],7:[function(a,b,c){b.exports=function(a,b){b=b||{};var c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
a={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}[b.strictMode?"strict":"loose"].exec(a);var d={};for(b=14;b--;)d[c[b]]=a[b]||"";d.queryKey={};d[c[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,b,
c){b&&(d.queryKey[b]=c)});return d}},{}],8:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;0<=d;d--){var f=a[d];"."===f?a.splice(d,1):".."===f?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;c.resolve=function(){for(var c="",f=!1,e=arguments.length-1;-1<=e&&
!f;e--){var g=0<=e?arguments[e]:a.cwd();if("string"!==typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,f="/"===g.charAt(0))}c=b(d(c.split("/"),function(a){return!!a}),!f).join("/");return(f?"/":"")+c||"."};c.normalize=function(a){var f=c.isAbsolute(a),e="/"===g(a,-1);(a=b(d(a.split("/"),function(a){return!!a}),!f).join("/"))||f||(a=".");a&&e&&(a+="/");return(f?"/":"")+a};c.isAbsolute=function(a){return"/"===a.charAt(0)};c.join=function(){var a=Array.prototype.slice.call(arguments,
0);return c.normalize(d(a,function(a,b){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;0<=c&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1);b=c.resolve(b).substr(1);a=d(a.split("/"));b=d(b.split("/"));for(var f=Math.min(a.length,b.length),e=f,g=0;g<f;g++)if(a[g]!==b[g]){e=g;break}f=[];for(g=e;g<a.length;g++)f.push("..");
f=f.concat(b.slice(e));return f.join("/")};c.sep="/";c.delimiter=":";c.dirname=function(a){var b=h.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b};c.basename=function(a,b){a=h.exec(a).slice(1)[2];b&&a.substr(-1*b.length)===b&&(a=a.substr(0,a.length-b.length));return a};c.extname=function(a){return h.exec(a).slice(1)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){0>b&&(b=a.length+b);return a.substr(b,c)}}).call(this,
a("_process"))},{_process:26}],9:[function(a,b,c){var d=new ArrayBuffer(0),e=function(a,b,c,e){this.gl=a;this.buffer=a.createBuffer();this.type=b||a.ARRAY_BUFFER;this.drawType=e||a.STATIC_DRAW;this.data=d;c&&this.upload(c);this._updateID=0};e.prototype.upload=function(a,b,c){c||this.bind();c=this.gl;a=a||this.data;this.data.byteLength>=a.byteLength?c.bufferSubData(this.type,b||0,a):c.bufferData(this.type,a,this.drawType);this.data=a};e.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)};
e.createVertexBuffer=function(a,b,c){return new e(a,a.ARRAY_BUFFER,b,c)};e.createIndexBuffer=function(a,b,c){return new e(a,a.ELEMENT_ARRAY_BUFFER,b,c)};e.create=function(a,b,c,d){return new e(a,b,c,d)};e.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};b.exports=e},{}],10:[function(a,b,c){var d=a("./GLTexture"),e=function(a,b,c){this.gl=a;this.framebuffer=a.createFramebuffer();this.texture=this.stencil=null;this.width=b||100;this.height=c||100};e.prototype.enableTexture=function(a){var b=
this.gl;this.texture=a||new d(b);this.texture.bind();this.bind();b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.texture.texture,0)};e.prototype.enableStencil=function(){if(!this.stencil){var a=this.gl;this.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,this.stencil);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,this.stencil);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.width,this.height)}};e.prototype.clear=
function(a,b,c,d){this.bind();var f=this.gl;f.clearColor(a,b,c,d);f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT)};e.prototype.bind=function(){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer)};e.prototype.unbind=function(){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,null)};e.prototype.resize=function(a,b){var c=this.gl;this.width=a;this.height=b;this.texture&&this.texture.uploadData(null,a,b);this.stencil&&(c.bindRenderbuffer(c.RENDERBUFFER,this.stencil),c.renderbufferStorage(c.RENDERBUFFER,
c.DEPTH_STENCIL,a,b))};e.prototype.destroy=function(){var a=this.gl;this.texture&&this.texture.destroy();a.deleteFramebuffer(this.framebuffer);this.texture=this.stencil=this.gl=null};e.createRGBA=function(a,b,c,k){k=d.fromData(a,null,b,c);k.enableNearestScaling();k.enableWrapClamp();a=new e(a,b,c);a.enableTexture(k);a.unbind();return a};e.createFloat32=function(a,b,c,k){k=new d.fromData(a,k,b,c);k.enableNearestScaling();k.enableWrapClamp();a=new e(a,b,c);a.enableTexture(k);a.unbind();return a};b.exports=
e},{"./GLTexture":12}],11:[function(a,b,c){var d=a("./shader/compileProgram"),e=a("./shader/extractAttributes"),f=a("./shader/extractUniforms"),h=a("./shader/setPrecision"),g=a("./shader/generateUniformAccessObject");a=function(a,b,c,m,t){this.gl=a;m&&(b=h(b,m),c=h(c,m));this.program=d(a,b,c,t);this.attributes=e(a,this.program);this.uniformData=f(a,this.program);this.uniforms=g(a,this.uniformData)};a.prototype.bind=function(){this.gl.useProgram(this.program);return this};a.prototype.destroy=function(){this.uniforms=
this.uniformData=this.attributes=null;this.gl.deleteProgram(this.program)};b.exports=a},{"./shader/compileProgram":17,"./shader/extractAttributes":19,"./shader/extractUniforms":20,"./shader/generateUniformAccessObject":21,"./shader/setPrecision":25}],12:[function(a,b,c){var d=function(a,b,c,d,e){this.gl=a;this.texture=a.createTexture();this.premultiplyAlpha=this.mipmap=!1;this.width=b||-1;this.height=c||-1;this.format=d||a.RGBA;this.type=e||a.UNSIGNED_BYTE};d.prototype.upload=function(a){this.bind();
var b=this.gl;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var c=a.videoWidth||a.width,d=a.videoHeight||a.height;d!==this.height||c!==this.width?b.texImage2D(b.TEXTURE_2D,0,this.format,this.format,this.type,a):b.texSubImage2D(b.TEXTURE_2D,0,0,0,this.format,this.type,a);this.width=c;this.height=d};var e=!1;d.prototype.uploadData=function(a,b,c){this.bind();var d=this.gl;if(a instanceof Float32Array){if(!e)if(d.getExtension("OES_texture_float"))e=!0;else throw Error("floating point textures not available");
this.type=d.FLOAT}else this.type=this.type||d.UNSIGNED_BYTE;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);b!==this.width||c!==this.height?d.texImage2D(d.TEXTURE_2D,0,this.format,b,c,0,this.format,this.type,a||null):d.texSubImage2D(d.TEXTURE_2D,0,0,0,b,c,this.format,this.type,a||null);this.width=b;this.height=c};d.prototype.bind=function(a){var b=this.gl;void 0!==a&&b.activeTexture(b.TEXTURE0+a);b.bindTexture(b.TEXTURE_2D,this.texture)};d.prototype.unbind=function(){var a=this.gl;
a.bindTexture(a.TEXTURE_2D,null)};d.prototype.minFilter=function(a){var b=this.gl;this.bind();this.mipmap?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a?b.LINEAR_MIPMAP_LINEAR:b.NEAREST_MIPMAP_NEAREST):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a?b.LINEAR:b.NEAREST)};d.prototype.magFilter=function(a){var b=this.gl;this.bind();b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a?b.LINEAR:b.NEAREST)};d.prototype.enableMipmap=function(){var a=this.gl;this.bind();this.mipmap=!0;a.generateMipmap(a.TEXTURE_2D)};
d.prototype.enableLinearScaling=function(){this.minFilter(!0);this.magFilter(!0)};d.prototype.enableNearestScaling=function(){this.minFilter(!1);this.magFilter(!1)};d.prototype.enableWrapClamp=function(){var a=this.gl;this.bind();a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)};d.prototype.enableWrapRepeat=function(){var a=this.gl;this.bind();a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT);a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_WRAP_T,a.REPEAT)};d.prototype.enableWrapMirrorRepeat=function(){var a=this.gl;this.bind();a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.MIRRORED_REPEAT);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.MIRRORED_REPEAT)};d.prototype.destroy=function(){this.gl.deleteTexture(this.texture)};d.fromSource=function(a,b,c){a=new d(a);a.premultiplyAlpha=c||!1;a.upload(b);return a};d.fromData=function(a,b,c,e){a=new d(a);a.uploadData(b,c,e);return a};b.exports=d},{}],13:[function(a,b,c){function d(a,
b){this.nativeVaoExtension=null;d.FORCE_NATIVE||(this.nativeVaoExtension=a.getExtension("OES_vertex_array_object")||a.getExtension("MOZ_OES_vertex_array_object")||a.getExtension("WEBKIT_OES_vertex_array_object"));this.nativeState=b;this.nativeVaoExtension&&(this.nativeVao=this.nativeVaoExtension.createVertexArrayOES(),b=a.getParameter(a.MAX_VERTEX_ATTRIBS),this.nativeState={tempAttribState:Array(b),attribState:Array(b)});this.gl=a;this.attributes=[];this.indexBuffer=null;this.dirty=!1}var e=a("./setVertexAttribArrays");
d.prototype.constructor=d;b.exports=d;d.FORCE_NATIVE=!1;d.prototype.bind=function(){if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);if(this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this};d.prototype.unbind=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null);return this};d.prototype.activate=function(){for(var a=this.gl,b=null,c=0;c<this.attributes.length;c++){var d=this.attributes[c];
b!==d.buffer&&(d.buffer.bind(),b=d.buffer);a.vertexAttribPointer(d.attribute.location,d.attribute.size,d.type||a.FLOAT,d.normalized||!1,d.stride||0,d.start||0)}e(a,this.attributes,this.nativeState);this.indexBuffer&&this.indexBuffer.bind();return this};d.prototype.addAttribute=function(a,b,c,d,e,l){this.attributes.push({buffer:a,attribute:b,location:b.location,type:c||this.gl.FLOAT,normalized:d||!1,stride:e||0,start:l||0});this.dirty=!0;return this};d.prototype.addIndex=function(a){this.indexBuffer=
a;this.dirty=!0;return this};d.prototype.clear=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);this.attributes.length=0;this.indexBuffer=null;return this};d.prototype.draw=function(a,b,c){var d=this.gl;this.indexBuffer?d.drawElements(a,b||this.indexBuffer.data.length,d.UNSIGNED_SHORT,2*(c||0)):d.drawArrays(a,c,b||this.getSize());return this};d.prototype.destroy=function(){this.nativeState=this.attributes=this.indexBuffer=this.gl=null;this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);
this.nativeVao=this.nativeVaoExtension=null};d.prototype.getSize=function(){var a=this.attributes[0];return a.buffer.data.length/(a.stride/4||a.attribute.size)}},{"./setVertexAttribArrays":16}],14:[function(a,b,c){b.exports=function(a,b){a=a.getContext("webgl",b)||a.getContext("experimental-webgl",b);if(!a)throw Error("This browser does not support webGL. Try using the canvas renderer");return a}},{}],15:[function(a,b,c){a={createContext:a("./createContext"),setVertexAttribArrays:a("./setVertexAttribArrays"),
GLBuffer:a("./GLBuffer"),GLFramebuffer:a("./GLFramebuffer"),GLShader:a("./GLShader"),GLTexture:a("./GLTexture"),VertexArrayObject:a("./VertexArrayObject"),shader:a("./shader")};"undefined"!==typeof b&&b.exports&&(b.exports=a);"undefined"!==typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=a)},{"./GLBuffer":9,"./GLFramebuffer":10,"./GLShader":11,"./GLTexture":12,"./VertexArrayObject":13,"./createContext":14,"./setVertexAttribArrays":16,"./shader":22}],16:[function(a,b,c){b.exports=function(a,
b,c){var d;if(c){var e=c.tempAttribState,f=c.attribState;for(d=0;d<e.length;d++)e[d]=!1;for(d=0;d<b.length;d++)e[b[d].attribute.location]=!0;for(d=0;d<f.length;d++)f[d]!==e[d]&&(f[d]=e[d],c.attribState[d]?a.enableVertexAttribArray(d):a.disableVertexAttribArray(d))}else for(d=0;d<b.length;d++)a.enableVertexAttribArray(b[d].attribute.location)}},{}],17:[function(a,b,c){var d=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return a.getShaderParameter(b,a.COMPILE_STATUS)?b:
(console.log(a.getShaderInfoLog(b)),null)};b.exports=function(a,b,c,g){b=d(a,a.VERTEX_SHADER,b);c=d(a,a.FRAGMENT_SHADER,c);var e=a.createProgram();a.attachShader(e,b);a.attachShader(e,c);if(g)for(var f in g)a.bindAttribLocation(e,g[f],f);a.linkProgram(e);a.getProgramParameter(e,a.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",a.getProgramParameter(e,a.VALIDATE_STATUS)),console.error("gl.getError()",a.getError()),""!==a.getProgramInfoLog(e)&&
console.warn("Pixi.js Warning: gl.getProgramInfoLog()",a.getProgramInfoLog(e)),a.deleteProgram(e),e=null);a.deleteShader(b);a.deleteShader(c);return e}},{}],18:[function(a,b,c){var d=function(a){a=Array(a);for(var b=0;b<a.length;b++)a[b]=!1;return a};b.exports=function(a,b){switch(a){case "float":return 0;case "vec2":return new Float32Array(2*b);case "vec3":return new Float32Array(3*b);case "vec4":return new Float32Array(4*b);case "int":case "sampler2D":return 0;case "ivec2":return new Int32Array(2*
b);case "ivec3":return new Int32Array(3*b);case "ivec4":return new Int32Array(4*b);case "bool":return!1;case "bvec2":return d(2*b);case "bvec3":return d(3*b);case "bvec4":return d(4*b);case "mat2":return new Float32Array([1,0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],19:[function(a,b,c){var d=a("./mapType"),e=a("./mapSize"),f=function(a,b,c,d){gl.vertexAttribPointer(this.location,this.size,a||gl.FLOAT,
b||!1,c||0,d||0)};b.exports=function(a,b){for(var c={},g=a.getProgramParameter(b,a.ACTIVE_ATTRIBUTES),h=0;h<g;h++){var m=a.getActiveAttrib(b,h),t=d(a,m.type);c[m.name]={type:t,size:e(t),location:a.getAttribLocation(b,m.name),pointer:f}}return c}},{"./mapSize":23,"./mapType":24}],20:[function(a,b,c){var d=a("./mapType"),e=a("./defaultValue");b.exports=function(a,b){for(var c={},f=a.getProgramParameter(b,a.ACTIVE_UNIFORMS),h=0;h<f;h++){var l=a.getActiveUniform(b,h),m=l.name.replace(/\[.*?\]/,""),t=
d(a,l.type);c[m]={type:t,size:l.size,location:a.getUniformLocation(b,m),value:e(t,l.size)}}return c}},{"./defaultValue":18,"./mapType":24}],21:[function(a,b,c){function d(a,b){return function(c){this.data[a].value=c;var d=this.data[a].location;if(1===b.size)f[b.type](this.gl,d,c);else h[b.type](this.gl,d,c)}}var e=function(a){return function(){return this.data[a].value}},f={float:function(a,b,c){a.uniform1f(b,c)},vec2:function(a,b,c){a.uniform2f(b,c[0],c[1])},vec3:function(a,b,c){a.uniform3f(b,c[0],
c[1],c[2])},vec4:function(a,b,c){a.uniform4f(b,c[0],c[1],c[2],c[3])},int:function(a,b,c){a.uniform1i(b,c)},ivec2:function(a,b,c){a.uniform2i(b,c[0],c[1])},ivec3:function(a,b,c){a.uniform3i(b,c[0],c[1],c[2])},ivec4:function(a,b,c){a.uniform4i(b,c[0],c[1],c[2],c[3])},bool:function(a,b,c){a.uniform1i(b,c)},bvec2:function(a,b,c){a.uniform2i(b,c[0],c[1])},bvec3:function(a,b,c){a.uniform3i(b,c[0],c[1],c[2])},bvec4:function(a,b,c){a.uniform4i(b,c[0],c[1],c[2],c[3])},mat2:function(a,b,c){a.uniformMatrix2fv(b,
!1,c)},mat3:function(a,b,c){a.uniformMatrix3fv(b,!1,c)},mat4:function(a,b,c){a.uniformMatrix4fv(b,!1,c)},sampler2D:function(a,b,c){a.uniform1i(b,c)}},h={float:function(a,b,c){a.uniform1fv(b,c)},vec2:function(a,b,c){a.uniform2fv(b,c)},vec3:function(a,b,c){a.uniform3fv(b,c)},vec4:function(a,b,c){a.uniform4fv(b,c)},int:function(a,b,c){a.uniform1iv(b,c)},ivec2:function(a,b,c){a.uniform2iv(b,c)},ivec3:function(a,b,c){a.uniform3iv(b,c)},ivec4:function(a,b,c){a.uniform4iv(b,c)},bool:function(a,b,c){a.uniform1iv(b,
c)},bvec2:function(a,b,c){a.uniform2iv(b,c)},bvec3:function(a,b,c){a.uniform3iv(b,c)},bvec4:function(a,b,c){a.uniform4iv(b,c)},sampler2D:function(a,b,c){a.uniform1iv(b,c)}};b.exports=function(a,b){var c={data:{}};c.gl=a;for(var f=Object.keys(b),g=0;g<f.length;g++){for(var h=f[g],k=h.split("."),v=k[k.length-1],n=c,w=0;w<k.length-1;w++){var D=n[k[w]]||{data:{}};n=n[k[w]]=D}k=n;h=b[h];k.data[v]=h;k.gl=a;Object.defineProperty(k,v,{get:e(v),set:d(v,h)})}return c}},{}],22:[function(a,b,c){b.exports={compileProgram:a("./compileProgram"),
defaultValue:a("./defaultValue"),extractAttributes:a("./extractAttributes"),extractUniforms:a("./extractUniforms"),generateUniformAccessObject:a("./generateUniformAccessObject"),setPrecision:a("./setPrecision"),mapSize:a("./mapSize"),mapType:a("./mapType")}},{"./compileProgram":17,"./defaultValue":18,"./extractAttributes":19,"./extractUniforms":20,"./generateUniformAccessObject":21,"./mapSize":23,"./mapType":24,"./setPrecision":25}],23:[function(a,b,c){var d={"float":1,vec2:2,vec3:3,vec4:4,"int":1,
ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};b.exports=function(a){return d[a]}},{}],24:[function(a,b,c){var d=null,e={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};b.exports=function(a,b){if(!d){var c=Object.keys(e);d={};for(var f=
0;f<c.length;++f){var h=c[f];d[a[h]]=e[h]}}return d[b]}},{}],25:[function(a,b,c){b.exports=function(a,b){return"precision"!==a.substring(0,9)?"precision "+b+" float;\n"+a:a}},{}],26:[function(a,b,c){function d(){throw Error("setTimeout has not been defined");}function e(){throw Error("clearTimeout has not been defined");}function f(a){if(m===setTimeout)return setTimeout(a,0);if((m===d||!m)&&setTimeout)return m=setTimeout,setTimeout(a,0);try{return m(a,0)}catch(r){try{return m.call(null,a,0)}catch(C){return m.call(this,
a,0)}}}function h(a){if(t===clearTimeout)return clearTimeout(a);if((t===e||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(a);try{return t(a)}catch(r){try{return t.call(null,a)}catch(C){return t.call(this,a)}}}function g(){v&&n&&(v=!1,n.length?u=n.concat(u):w=-1,u.length&&k())}function k(){if(!v){var a=f(g);v=!0;for(var b=u.length;b;){n=u;for(u=[];++w<b;)n&&n[w].run();w=-1;b=u.length}n=null;v=!1;h(a)}}function p(a,b){this.fun=a;this.array=b}function l(){}a=b.exports={};try{var m="function"===
typeof setTimeout?setTimeout:d}catch(D){m=d}try{var t="function"===typeof clearTimeout?clearTimeout:e}catch(D){t=e}var u=[],v=!1,n,w=-1;a.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];u.push(new p(a,b));1!==u.length||v||f(k)};p.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};a.on=l;a.addListener=l;a.once=l;a.off=l;a.removeListener=
l;a.removeAllListeners=l;a.emit=l;a.prependListener=l;a.prependOnceListener=l;a.listeners=function(a){return[]};a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],27:[function(a,b,c){(function(a){(function(d){function e(a){throw new RangeError(z[a]);}function h(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function g(a,b){var c=a.split("@"),
d="";1<c.length&&(d=c[0]+"@",a=c[1]);a=a.replace(C,".");a=a.split(".");b=h(a,b).join(".");return d+b}function k(a){for(var b=[],c=0,d=a.length,e,f;c<d;)e=a.charCodeAt(c++),55296<=e&&56319>=e&&c<d?(f=a.charCodeAt(c++),56320==(f&64512)?b.push(((e&1023)<<10)+(f&1023)+65536):(b.push(e),c--)):b.push(e);return b}function p(a){return h(a,function(a){var b="";65535<a&&(a-=65536,b+=E(a>>>10&1023|55296),a=56320|a&1023);return b+=E(a)}).join("")}function l(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function m(a,
b,c){var d=0;a=c?x(a/700):a>>1;for(a+=x(a/b);455<a;d+=36)a=x(a/35);return x(d+36*a/(a+38))}function t(a){var b=[],c=a.length,d=0,f=128,g=72,h,k;var l=a.lastIndexOf("-");0>l&&(l=0);for(h=0;h<l;++h)128<=a.charCodeAt(h)&&e("not-basic"),b.push(a.charCodeAt(h));for(l=0<l?l+1:0;l<c;){h=d;var n=1;for(k=36;;k+=36){l>=c&&e("invalid-input");var t=a.charCodeAt(l++);t=10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:36;(36<=t||t>x((2147483647-d)/n))&&e("overflow");d+=t*n;var u=k<=g?1:k>=g+26?26:k-g;if(t<u)break;t=36-u;
n>x(2147483647/t)&&e("overflow");n*=t}n=b.length+1;g=m(d-h,n,0==h);x(d/n)>2147483647-f&&e("overflow");f+=x(d/n);d%=n;b.splice(d++,0,f)}return p(b)}function u(a){var b,c,d,f=[];a=k(a);var g=a.length;var h=128;var p=0;var n=72;for(d=0;d<g;++d){var t=a[d];128>t&&f.push(E(t))}for((b=c=f.length)&&f.push("-");b<g;){var u=2147483647;for(d=0;d<g;++d)t=a[d],t>=h&&t<u&&(u=t);var r=b+1;u-h>x((2147483647-p)/r)&&e("overflow");p+=(u-h)*r;h=u;for(d=0;d<g;++d)if(t=a[d],t<h&&2147483647<++p&&e("overflow"),t==h){var v=
p;for(u=36;;u+=36){t=u<=n?1:u>=n+26?26:u-n;if(v<t)break;var w=v-t;v=36-t;f.push(E(l(t+w%v,0)));v=x(w/v)}f.push(E(l(v,0)));n=m(p,r,b==c);p=0;++b}++p;++h}return f.join("")}var v="object"==typeof c&&c&&!c.nodeType&&c,n="object"==typeof b&&b&&!b.nodeType&&b,w="object"==typeof a&&a;if(w.global===w||w.window===w||w.self===w)d=w;var D=/^xn--/,r=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)",
"invalid-input":"Invalid input"},x=Math.floor,E=String.fromCharCode,K;w={version:"1.4.1",ucs2:{decode:k,encode:p},decode:t,encode:u,toASCII:function(a){return g(a,function(a){return r.test(a)?"xn--"+u(a):a})},toUnicode:function(a){return g(a,function(a){return D.test(a)?t(a.slice(4).toLowerCase()):a})}};if(v&&n)if(b.exports==v)n.exports=w;else for(K in w)w.hasOwnProperty(K)&&(v[K]=w[K]);else d.punycode=w})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],28:[function(a,b,c){b.exports=function(a,b,c,g){c=c||"=";var e={};if("string"!==typeof a||0===a.length)return e;var f=/\+/g;a=a.split(b||"&");b=1E3;g&&"number"===typeof g.maxKeys&&(b=g.maxKeys);g=a.length;0<b&&g>b&&(g=b);for(b=0;b<g;++b){var h=a[b].replace(f,"%20"),m=h.indexOf(c);if(0<=m){var t=h.substr(0,m);h=h.substr(m+1)}else t=h,h="";t=decodeURIComponent(t);h=decodeURIComponent(h);Object.prototype.hasOwnProperty.call(e,t)?d(e[t])?e[t].push(h):e[t]=[e[t],h]:e[t]=h}return e};
var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],29:[function(a,b,c){function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,l){b=b||"&";c=c||"=";null===a&&(a=void 0);return"object"===typeof a?d(h(a),function(g){var h=encodeURIComponent(e(g))+
c;return f(a[g])?d(a[g],function(a){return h+encodeURIComponent(e(a))}).join(b):h+encodeURIComponent(e(a[g]))}).join(b):l?encodeURIComponent(e(l))+c+encodeURIComponent(e(a)):""};var f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h=Object.keys||function(a){var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],30:[function(a,b,c){c.decode=c.parse=a("./decode");c.encode=c.stringify=a("./encode")},{"./decode":28,"./encode":29}],
31:[function(a,b,c){b.exports=function(a,b,c){var d=a.length;if(!(b>=d||0===c)){c=b+c>d?d-b:c;for(d-=c;b<d;++b)a[b]=a[b+c];a.length=d}}},{}],32:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();b=a("mini-signals");var h=d(b);b=a("parse-uri");var g=d(b),k=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("./async"));a=a("./Resource");var p=d(a),l=/(#[\w-]+)?$/;a=function(){function a(){var b=this,c=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:"",d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.baseUrl=c;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(a,c){return b._loadResource(a,c)};this._queue=k.queue(this._boundLoadResource,d);this._queue.pause();this.resources={};this.onProgress=new h.default;
this.onError=new h.default;this.onLoad=new h.default;this.onStart=new h.default;this.onComplete=new h.default}a.prototype.add=function(a,b,c,d){if(Array.isArray(a)){for(b=0;b<a.length;++b)this.add(a[b]);return this}"object"===("undefined"===typeof a?"undefined":e(a))&&(d=b||a.callback||a.onComplete,c=a,b=a.url,a=a.name||a.key||a.url);"string"!==typeof b&&(d=c,c=b,b=a);if("string"!==typeof b)throw Error("No url passed to add resource to loader.");"function"===typeof c&&(d=c,c=null);if(this.loading&&
(!c||!c.parentResource))throw Error("Cannot add resources while the loader is running.");if(this.resources[a])throw Error('Resource named "'+a+'" already exists.');b=this._prepareUrl(b);this.resources[a]=new p.default(a,b,c);if("function"===typeof d)this.resources[a].onAfterMiddleware.once(d);if(this.loading){c=c.parentResource;b=[];for(d=0;d<c.children.length;++d)c.children[d].isComplete||b.push(c.children[d]);d=c.progressChunk*(b.length+1)/(b.length+2);c.children.push(this.resources[a]);c.progressChunk=
d;for(c=0;c<b.length;++c)b[c].progressChunk=d;this.resources[a].progressChunk=d}this._queue.push(this.resources[a]);return this};a.prototype.pre=function(a){this._beforeMiddleware.push(a);return this};a.prototype.use=function(a){this._afterMiddleware.push(a);return this};a.prototype.reset=function(){this.progress=0;this.loading=!1;this._queue.kill();this._queue.pause();for(var a in this.resources){var b=this.resources[a];b._onLoadBinding&&b._onLoadBinding.detach();b.isLoading&&b.abort()}this.resources=
{};return this};a.prototype.load=function(a){if("function"===typeof a)this.onComplete.once(a);if(this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{a=100/this._queue._tasks.length;for(var b=0;b<this._queue._tasks.length;++b)this._queue._tasks[b].data.progressChunk=a;this._onStart();this._queue.resume()}return this};a.prototype._prepareUrl=function(a){var b=(0,g.default)(a,{strictMode:!0});a=b.protocol||!b.path||0===a.indexOf("//")?a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==
this.baseUrl.length-1&&"/"!==a.charAt(0)?this.baseUrl+"/"+a:this.baseUrl+a;this.defaultQueryString&&(b=l.exec(a)[0],a=a.substr(0,a.length-b.length),a=-1!==a.indexOf("?")?a+("&"+this.defaultQueryString):a+("?"+this.defaultQueryString),a+=b);return a};a.prototype._loadResource=function(a,b){var c=this;a._dequeue=b;k.eachSeries(this._beforeMiddleware,function(b,d){b.call(c,a,function(){d(a.isComplete?{}:null)})},function(){a.isComplete?c._onLoad(a):(a._onLoadBinding=a.onComplete.once(c._onLoad,c),a.load())},
!0)};a.prototype._onStart=function(){this.progress=0;this.loading=!0;this.onStart.dispatch(this)};a.prototype._onComplete=function(){this.progress=100;this.loading=!1;this.onComplete.dispatch(this,this.resources)};a.prototype._onLoad=function(a){var b=this;a._onLoadBinding=null;this._resourcesParsing.push(a);a._dequeue();k.eachSeries(this._afterMiddleware,function(c,d){c.call(b,a,d)},function(){a.onAfterMiddleware.dispatch(a);b.progress+=a.progressChunk;b.onProgress.dispatch(b,a);a.error?b.onError.dispatch(a.error,
b,a):b.onLoad.dispatch(b,a);b._resourcesParsing.splice(b._resourcesParsing.indexOf(a),1);b._queue.idle()&&0===b._resourcesParsing.length&&b._onComplete()},!0)};f(a,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(a){this._queue.concurrency=a}}]);return a}();c.default=a},{"./Resource":33,"./async":34,"mini-signals":5,"parse-uri":7}],33:[function(a,b,c){function d(){}function e(a,b,c){b&&0===b.indexOf(".")&&(b=b.substring(1));b&&(a[b]=c)}function f(a){return a.toString().replace("object ",
"")}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),g=(b=a("parse-uri"))&&b.__esModule?b:{default:b},k=(a=a("mini-signals"))&&a.__esModule?a:{default:a},p=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;a=function(){function a(b,c,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
if("string"!==typeof b||"string"!==typeof c)throw Error("Both name and url are required for constructing a resource.");e=e||{};this._flags=0;this._setFlag(a.STATUS_FLAGS.DATA_URL,0===c.indexOf("data:"));this.name=b;this.url=c;this.extension=this._getExtension();this.data=null;this.crossOrigin=!0===e.crossOrigin?"anonymous":e.crossOrigin;this.loadType=e.loadType||this._determineLoadType();this.xhrType=e.xhrType;this.metadata=e.metadata||{};this.xhr=this.error=null;this.children=[];this.type=a.TYPE.UNKNOWN;
this.progressChunk=0;this._dequeue=d;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new k.default;this.onProgress=new k.default;this.onComplete=new k.default;this.onAfterMiddleware=
new k.default}a.setExtensionLoadType=function(b,c){e(a._loadTypeMap,b,c)};a.setExtensionXhrType=function(b,c){e(a._xhrTypeMap,b,c)};a.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?
(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete)throw Error("Complete called again for an already completed resource.");this._setFlag(a.STATUS_FLAGS.COMPLETE,!0);this._setFlag(a.STATUS_FLAGS.LOADING,
!1);this.onComplete.dispatch(this)};a.prototype.abort=function(b){if(!this.error){this.error=Error(b);if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=a.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}};a.prototype.load=function(b){var c=this;if(!this.isLoading)if(this.isComplete)b&&setTimeout(function(){return b(c)},1);else{if(b)this.onComplete.once(b);this._setFlag(a.STATUS_FLAGS.LOADING,
!0);this.onStart.dispatch(this);if(!1===this.crossOrigin||"string"!==typeof this.crossOrigin)this.crossOrigin=this._determineCrossOrigin(this.url);switch(this.loadType){case a.LOAD_TYPE.IMAGE:this.type=a.TYPE.IMAGE;this._loadElement("image");break;case a.LOAD_TYPE.AUDIO:this.type=a.TYPE.AUDIO;this._loadSourceElement("audio");break;case a.LOAD_TYPE.VIDEO:this.type=a.TYPE.VIDEO;this._loadSourceElement("video");break;default:p&&this.crossOrigin?this._loadXdr():this._loadXhr()}}};a.prototype._hasFlag=
function(a){return!!(this._flags&a)};a.prototype._setFlag=function(a,b){this._flags=b?this._flags|a:this._flags&~a};a.prototype._loadElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===a&&"undefined"!==typeof window.Image?new Image:document.createElement(a);this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,
!1);this.data.addEventListener("progress",this._boundOnProgress,!1)};a.prototype._loadSourceElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===a&&"undefined"!==typeof window.Audio?new Audio:document.createElement(a);if(null===this.data)this.abort("Unsupported element: "+a);else{if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var b=this.metadata.mimeType,c=0;c<
this.url.length;++c)this.data.appendChild(this._createSource(a,this.url[c],Array.isArray(b)?b[c]:b));else b=this.metadata.mimeType,this.data.appendChild(this._createSource(a,this.url,Array.isArray(b)?b[0]:b));this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load()}};a.prototype._loadXhr=function(){"string"!==
typeof this.xhrType&&(this.xhrType=this._determineXhrType());var b=this.xhr=new XMLHttpRequest;b.open("GET",this.url,!0);b.responseType=this.xhrType===a.XHR_RESPONSE_TYPE.JSON||this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT?a.XHR_RESPONSE_TYPE.TEXT:this.xhrType;b.addEventListener("error",this._boundXhrOnError,!1);b.addEventListener("abort",this._boundXhrOnAbort,!1);b.addEventListener("progress",this._boundOnProgress,!1);b.addEventListener("load",this._boundXhrOnLoad,!1);b.send()};a.prototype._loadXdr=
function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=5E3;a.onerror=this._boundXhrOnError;a.ontimeout=this._boundXdrOnTimeout;a.onprogress=this._boundOnProgress;a.onload=this._boundXhrOnLoad;a.open("GET",this.url,!0);setTimeout(function(){return a.send()},1)};a.prototype._createSource=function(a,b,c){c||(c=a+"/"+this._getExtension(b));a=document.createElement("source");a.src=b;a.type=c;return a};a.prototype._onError=function(a){this.abort("Failed to load element using: "+
a.target.nodeName)};a.prototype._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)};a.prototype._xhrOnError=function(){var a=this.xhr;this.abort(f(a)+" Request failed. Status: "+a.status+', text: "'+a.statusText+'"')};a.prototype._xhrOnAbort=function(){this.abort(f(this.xhr)+" Request was aborted by the user.")};a.prototype._xdrOnTimeout=function(){this.abort(f(this.xhr)+" Request timed out.")};a.prototype._xhrOnLoad=function(){var b=this.xhr,c="",d="undefined"===
typeof b.status?200:b.status;if(""===b.responseType||"text"===b.responseType||"undefined"===typeof b.responseType)c=b.responseText;0===d&&(0<c.length||b.responseType===a.XHR_RESPONSE_TYPE.BUFFER)?d=200:1223===d&&(d=204);if(2===(d/100|0)){if(this.xhrType===a.XHR_RESPONSE_TYPE.TEXT)this.data=c,this.type=a.TYPE.TEXT;else if(this.xhrType===a.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(c),this.type=a.TYPE.JSON}catch(w){this.abort("Error trying to parse loaded json: "+w);return}else if(this.xhrType===
a.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(c,"text/xml");else{var e=document.createElement("div");e.innerHTML=c;this.data=e}this.type=a.TYPE.XML}catch(w){this.abort("Error trying to parse loaded xml: "+w);return}else this.data=b.response||c;this.complete()}else this.abort("["+b.status+"] "+b.statusText+": "+b.responseURL)};a.prototype._determineCrossOrigin=function(a,b){if(0===a.indexOf("data:"))return"";b=b||window.location;l||(l=document.createElement("a"));
l.href=a;a=(0,g.default)(l.href,{strictMode:!0});var c=!a.port&&""===b.port||a.port===b.port,d=a.protocol?a.protocol+":":"";return a.host===b.hostname&&c&&d===b.protocol?"":"anonymous"};a.prototype._determineXhrType=function(){return a._xhrTypeMap[this.extension]||a.XHR_RESPONSE_TYPE.TEXT};a.prototype._determineLoadType=function(){return a._loadTypeMap[this.extension]||a.LOAD_TYPE.XHR};a.prototype._getExtension=function(){var a=this.url;if(this.isDataUrl){var b=a.indexOf("/");a=a.substring(b+1,a.indexOf(";",
b))}else{b=a.indexOf("?");var c=a.indexOf("#");a=a.substring(0,Math.min(-1<b?b:a.length,-1<c?c:a.length));a=a.substring(a.lastIndexOf(".")+1)}return a.toLowerCase()};a.prototype._getMimeFromXhrType=function(b){switch(b){case a.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case a.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case a.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case a.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}};h(a,[{key:"isDataUrl",
get:function(){return this._hasFlag(a.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(a.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(a.STATUS_FLAGS.LOADING)}}]);return a}();c.default=a;a.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};a.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};a.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};a.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",
JSON:"json",TEXT:"text"};a._loadTypeMap={gif:a.LOAD_TYPE.IMAGE,png:a.LOAD_TYPE.IMAGE,bmp:a.LOAD_TYPE.IMAGE,jpg:a.LOAD_TYPE.IMAGE,jpeg:a.LOAD_TYPE.IMAGE,tif:a.LOAD_TYPE.IMAGE,tiff:a.LOAD_TYPE.IMAGE,webp:a.LOAD_TYPE.IMAGE,tga:a.LOAD_TYPE.IMAGE,svg:a.LOAD_TYPE.IMAGE,"svg+xml":a.LOAD_TYPE.IMAGE,mp3:a.LOAD_TYPE.AUDIO,ogg:a.LOAD_TYPE.AUDIO,wav:a.LOAD_TYPE.AUDIO,mp4:a.LOAD_TYPE.VIDEO,webm:a.LOAD_TYPE.VIDEO};a._xhrTypeMap={xhtml:a.XHR_RESPONSE_TYPE.DOCUMENT,html:a.XHR_RESPONSE_TYPE.DOCUMENT,htm:a.XHR_RESPONSE_TYPE.DOCUMENT,
xml:a.XHR_RESPONSE_TYPE.DOCUMENT,tmx:a.XHR_RESPONSE_TYPE.DOCUMENT,svg:a.XHR_RESPONSE_TYPE.DOCUMENT,tsx:a.XHR_RESPONSE_TYPE.DOCUMENT,gif:a.XHR_RESPONSE_TYPE.BLOB,png:a.XHR_RESPONSE_TYPE.BLOB,bmp:a.XHR_RESPONSE_TYPE.BLOB,jpg:a.XHR_RESPONSE_TYPE.BLOB,jpeg:a.XHR_RESPONSE_TYPE.BLOB,tif:a.XHR_RESPONSE_TYPE.BLOB,tiff:a.XHR_RESPONSE_TYPE.BLOB,webp:a.XHR_RESPONSE_TYPE.BLOB,tga:a.XHR_RESPONSE_TYPE.BLOB,json:a.XHR_RESPONSE_TYPE.JSON,text:a.XHR_RESPONSE_TYPE.TEXT,txt:a.XHR_RESPONSE_TYPE.TEXT,ttf:a.XHR_RESPONSE_TYPE.BUFFER,
otf:a.XHR_RESPONSE_TYPE.BUFFER};a.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":5,"parse-uri":7}],34:[function(a,b,c){function d(){}function e(a){return function(){if(null===a)throw Error("Callback was already called.");var b=a;a=null;b.apply(this,arguments)}}c.__esModule=!0;c.eachSeries=function(a,b,c,d){var e=0,f=a.length;(function u(g){g||e===f?c&&c(g):d?setTimeout(function(){b(a[e++],u)},1):b(a[e++],u)})()};c.queue=function(a,b){function c(a,
b,c){if(null!=c&&"function"!==typeof c)throw Error("task callback must be a function");l.started=!0;null==a&&l.idle()?setTimeout(function(){return l.drain()},1):(a={data:a,callback:"function"===typeof c?c:d},b?l._tasks.unshift(a):l._tasks.push(a),setTimeout(function(){return l.process()},1))}function f(a){return function(){--h;a.callback.apply(a,arguments);null!=arguments[0]&&l.error(arguments[0],a.data);h<=l.concurrency-l.buffer&&l.unsaturated();l.idle()&&l.drain();l.process()}}if(null==b)b=1;else if(0===
b)throw Error("Concurrency must not be zero");var h=0,l={_tasks:[],concurrency:b,saturated:d,unsaturated:d,buffer:b/4,empty:d,drain:d,error:d,started:!1,paused:!1,push:function(a,b){c(a,!1,b)},kill:function(){h=0;l.drain=d;l.started=!1;l._tasks=[]},unshift:function(a,b){c(a,!0,b)},process:function(){for(;!l.paused&&h<l.concurrency&&l._tasks.length;){var b=l._tasks.shift();0===l._tasks.length&&l.empty();h+=1;h===l.concurrency&&l.saturated();a(b.data,e(f(b)))}},length:function(){return l._tasks.length},
running:function(){return h},idle:function(){return 0===l._tasks.length+h},pause:function(){!0!==l.paused&&(l.paused=!0)},resume:function(){if(!1!==l.paused){l.paused=!1;for(var a=1;a<=l.concurrency;a++)l.process()}}};return l}},{}],35:[function(a,b,c){c.__esModule=!0;c.encodeBinary=function(a){for(var b="",c=0;c<a.length;){for(var e=[0,0,0],k=[0,0,0,0],p=0;p<e.length;++p)e[p]=c<a.length?a.charCodeAt(c++)&255:0;k[0]=e[0]>>2;k[1]=(e[0]&3)<<4|e[1]>>4;k[2]=(e[1]&15)<<2|e[2]>>6;k[3]=e[2]&63;switch(c-
(a.length-1)){case 2:k[3]=64;k[2]=64;break;case 1:k[3]=64}for(e=0;e<k.length;++e)b+=d.charAt(k[e])}return b};var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],36:[function(a,b,c){c=a("./Loader").default;var d=a("./Resource").default,e=a("./async");a=a("./b64");c.Resource=d;c.async=e;c.base64=a;b.exports=c;b.exports.default=c},{"./Loader":32,"./Resource":33,"./async":34,"./b64":35}],37:[function(a,b,c){c.__esModule=!0;var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c.blobMiddlewareFactory=function(){return function(a,b){if(a.data&&a.xhr&&a.xhrType===e.default.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"===typeof a.data){var c=a.xhr.getResponseHeader("content-type");if(c&&0===c.indexOf("image")){a.data=new Image;a.data.src="data:"+c+";base64,"+f.default.encodeBinary(a.xhr.responseText);a.type=e.default.TYPE.IMAGE;
a.data.onload=function(){a.data.onload=null;b()};return}}else if(0===a.data.type.indexOf("image")&&(c=function(){var c=h.createObjectURL(a.data);a.blob=a.data;a.data=new Image;a.data.src=c;a.type=e.default.TYPE.IMAGE;a.data.onload=function(){h.revokeObjectURL(c);a.data.onload=null;b()};return{v:void 0}}(),"object"===("undefined"===typeof c?"undefined":d(c))))return c.v;b()}};var e=(b=a("../../Resource"))&&b.__esModule?b:{default:b},f=(a=a("../../b64"))&&a.__esModule?a:{default:a},h=window.URL||window.webkitURL},
{"../../Resource":33,"../../b64":35}],38:[function(a,b,c){function d(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function e(a,b,c){if(a&&h.isObject(a)&&a instanceof d)return a;var e=new d;e.parse(a,b,c);return e}var f=a("punycode"),h=a("./util");c.parse=e;c.resolve=function(a,b){return e(a,!1,!0).resolve(b)};c.resolveObject=function(a,b){return a?e(a,!1,!0).resolveObject(b):b};c.format=function(a){h.isString(a)&&
(a=e(a));return a instanceof d?a.format():d.prototype.format.call(a)};c.Url=d;var g=/^([a-z0-9.+-]+:)/i,k=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;b="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var l=["'"].concat(b),m=["%","/","?",";","#"].concat(l),t=["/","?","#"],u=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,n={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},D={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,
"file:":!0},r=a("querystring");d.prototype.parse=function(a,b,c){if(!h.isString(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a.indexOf("?");d=-1!==d&&d<a.indexOf("#")?"?":"#";a=a.split(d);a[0]=a[0].replace(/\\/g,"/");a=a.join(d);d=a.trim();if(!c&&1===a.split("#").length&&(a=p.exec(d)))return this.href=this.path=d,this.pathname=a[1],a[2]?(this.search=a[2],this.query=b?r.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this;if(a=
g.exec(d)){a=a[0];var e=a.toLowerCase();this.protocol=e;d=d.substr(a.length)}if(c||a||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===d.substr(0,2);!k||a&&w[a]||(d=d.substr(2),this.slashes=!0)}if(!w[a]&&(k||a&&!D[a])){k=-1;for(c=0;c<t.length;c++)a=d.indexOf(t[c]),-1!==a&&(-1===k||a<k)&&(k=a);k=-1===k?d.lastIndexOf("@"):d.lastIndexOf("@",k);-1!==k&&(c=d.slice(0,k),d=d.slice(k+1),this.auth=decodeURIComponent(c));k=-1;for(c=0;c<m.length;c++)a=d.indexOf(m[c]),-1!==a&&(-1===k||a<k)&&(k=a);-1===k&&(k=d.length);
this.host=d.slice(0,k);d=d.slice(k);this.parseHost();this.hostname=this.hostname||"";k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k){var C=this.hostname.split(/\./);c=0;for(a=C.length;c<a;c++){var z=C[c];if(z&&!z.match(u)){for(var x="",H=0,G=z.length;H<G;H++)x=127<z.charCodeAt(H)?x+"x":x+z[H];if(!x.match(u)){a=C.slice(0,c);c=C.slice(c+1);if(z=z.match(v))a.push(z[1]),c.unshift(z[2]);c.length&&(d="/"+c.join(".")+d);this.hostname=a.join(".");break}}}}this.hostname=255<this.hostname.length?
"":this.hostname.toLowerCase();k||(this.hostname=f.toASCII(this.hostname));c=this.port?":"+this.port:"";this.host=(this.hostname||"")+c;this.href+=this.host;k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!n[e])for(c=0,a=l.length;c<a;c++)k=l[c],-1!==d.indexOf(k)&&(z=encodeURIComponent(k),z===k&&(z=escape(k)),d=d.split(k).join(z));c=d.indexOf("#");-1!==c&&(this.hash=d.substr(c),d=d.slice(0,c));c=d.indexOf("?");-1!==c?(this.search=d.substr(c),this.query=d.substr(c+
1),b&&(this.query=r.parse(this.query)),d=d.slice(0,c)):b&&(this.search="",this.query={});d&&(this.pathname=d);D[e]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)c=this.pathname||"",this.path=c+(this.search||"");this.href=this.format();return this};d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&
(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port));this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(f=r.stringify(this.query));a=this.search||f&&"?"+f||"";b&&":"!==b.substr(-1)&&(b+=":");this.slashes||(!b||D[b])&&!1!==e?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e="");d&&"#"!==d.charAt(0)&&(d="#"+d);a&&"?"!==a.charAt(0)&&(a="?"+a);c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)});a=a.replace("#","%23");
return b+e+c+a+d};d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()};d.prototype.resolveObject=function(a){if(h.isString(a)){var b=new d;b.parse(a,!1,!0);a=b}b=new d;for(var c=Object.keys(this),e=0;e<c.length;e++){var f=c[e];b[f]=this[f]}b.hash=a.hash;if(""===a.href)return b.href=b.format(),b;if(a.slashes&&!a.protocol){c=Object.keys(a);for(e=0;e<c.length;e++)f=c[e],"protocol"!==f&&(b[f]=a[f]);D[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/");b.href=b.format();
return b}if(a.protocol&&a.protocol!==b.protocol){if(!D[a.protocol]){c=Object.keys(a);for(e=0;e<c.length;e++)f=c[e],b[f]=a[f];b.href=b.format();return b}b.protocol=a.protocol;if(a.host||w[a.protocol])b.pathname=a.pathname;else{for(var g=(a.pathname||"").split("/");g.length&&!(a.host=g.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==g[0]&&g.unshift("");2>g.length&&g.unshift("");b.pathname=g.join("/")}b.search=a.search;b.query=a.query;b.host=a.host||"";b.auth=a.auth;b.hostname=a.hostname||
a.host;b.port=a.port;if(b.pathname||b.search)b.path=(b.pathname||"")+(b.search||"");b.slashes=b.slashes||a.slashes;b.href=b.format();return b}c=b.pathname&&"/"===b.pathname.charAt(0);var k=a.host||a.pathname&&"/"===a.pathname.charAt(0),p=c=k||c||b.host&&a.pathname;e=b.pathname&&b.pathname.split("/")||[];g=a.pathname&&a.pathname.split("/")||[];if(f=b.protocol&&!D[b.protocol])b.hostname="",b.port=null,b.host&&(""===e[0]?e[0]=b.host:e.unshift(b.host)),b.host="",a.protocol&&(a.hostname=null,a.port=null,
a.host&&(""===g[0]?g[0]=a.host:g.unshift(a.host)),a.host=null),c=c&&(""===g[0]||""===e[0]);if(k)b.host=a.host||""===a.host?a.host:b.host,b.hostname=a.hostname||""===a.hostname?a.hostname:b.hostname,b.search=a.search,b.query=a.query,e=g;else if(g.length)e||(e=[]),e.pop(),e=e.concat(g),b.search=a.search,b.query=a.query;else if(!h.isNullOrUndefined(a.search))return f&&(b.hostname=b.host=e.shift(),f=b.host&&0<b.host.indexOf("@")?b.host.split("@"):!1)&&(b.auth=f.shift(),b.host=b.hostname=f.shift()),b.search=
a.search,b.query=a.query,h.isNull(b.pathname)&&h.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b;if(!e.length)return b.pathname=null,b.path=b.search?"/"+b.search:null,b.href=b.format(),b;k=e.slice(-1)[0];g=(b.host||a.host||1<e.length)&&("."===k||".."===k)||""===k;for(var l=0,n=e.length;0<=n;n--)k=e[n],"."===k?e.splice(n,1):".."===k?(e.splice(n,1),l++):l&&(e.splice(n,1),l--);if(!c&&!p)for(;l--;l)e.unshift("..");!c||""===e[0]||e[0]&&"/"===e[0].charAt(0)||
e.unshift("");g&&"/"!==e.join("/").substr(-1)&&e.push("");p=""===e[0]||e[0]&&"/"===e[0].charAt(0);f&&(b.hostname=b.host=p?"":e.length?e.shift():"",f=b.host&&0<b.host.indexOf("@")?b.host.split("@"):!1)&&(b.auth=f.shift(),b.host=b.hostname=f.shift());(c=c||b.host&&e.length)&&!p&&e.unshift("");e.length?b.pathname=e.join("/"):(b.pathname=null,b.path=null);h.isNull(b.pathname)&&h.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:""));b.auth=a.auth||b.auth;b.slashes=b.slashes||a.slashes;
b.href=b.format();return b};d.prototype.parseHost=function(){var a=this.host,b=k.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length));a&&(this.hostname=a)}},{"./util":39,punycode:27,querystring:30}],39:[function(a,b,c){b.exports={isString:function(a){return"string"===typeof a},isObject:function(a){return"object"===typeof a&&null!==a},isNull:function(a){return null===a},isNullOrUndefined:function(a){return null==a}}},{}],40:[function(a,b,c){c.__esModule=!0;var d=function(a){if(a&&
a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core")),e=(b=a("ismobilejs"))&&b.__esModule?b:{default:b};a=a("./accessibleTarget");d.utils.mixins.delayMixin(d.DisplayObject.prototype,(a&&a.__esModule?a:{default:a}).default);a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");!e.default.tablet&&!e.default.phone||navigator.isCocoonJS||this.createTouchHook();
var c=document.createElement("div");c.style.width="100px";c.style.height="100px";c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.zIndex=2;this.div=c;this.pool=[];this.renderId=0;this.debug=!1;this.renderer=b;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isMobileAccessabillity=this.isActive=!1;window.addEventListener("keydown",this._onKeyDown,!1)}a.prototype.createTouchHook=function(){var a=this,b=document.createElement("button");
b.style.width="1px";b.style.height="1px";b.style.position="absolute";b.style.top="-1000px";b.style.left="-1000px";b.style.zIndex=2;b.style.backgroundColor="#FF0000";b.title="HOOK DIV";b.addEventListener("focus",function(){a.isMobileAccessabillity=!0;a.activate();document.body.removeChild(b)});document.body.appendChild(b)};a.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,
!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))};a.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))};a.prototype.updateAccessibleObjects=function(a){if(a.visible){a.accessible&&
a.interactive&&(a._accessibleActive||this.addChild(a),a.renderId=this.renderId);a=a.children;for(var b=0;b<a.length;b++)this.updateAccessibleObjects(a[b])}};a.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var a=this.renderer.view.getBoundingClientRect(),b=a.width/this.renderer.width,c=a.height/this.renderer.height,e=this.div;e.style.left=a.left+"px";e.style.top=a.top+"px";e.style.width=this.renderer.width+"px";e.style.height=
this.renderer.height+"px";for(a=0;a<this.children.length;a++){var f=this.children[a];if(f.renderId!==this.renderId)f._accessibleActive=!1,d.utils.removeItems(this.children,a,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,a--,0===this.children.length&&this.deactivate();else{e=f._accessibleDiv;var m=f.hitArea,t=f.worldTransform;f.hitArea?(e.style.left=(t.tx+m.x*t.a)*b+"px",e.style.top=(t.ty+m.y*t.d)*c+"px",e.style.width=m.width*t.a*b+"px",e.style.height=
m.height*t.d*c+"px"):(m=f.getBounds(),this.capHitArea(m),e.style.left=m.x*b+"px",e.style.top=m.y*c+"px",e.style.width=m.width*b+"px",e.style.height=m.height*c+"px",e.title!==f.accessibleTitle&&null!==f.accessibleTitle&&(e.title=f.accessibleTitle),e.getAttribute("aria-label")!==f.accessibleHint&&null!==f.accessibleHint&&e.setAttribute("aria-label",f.accessibleHint))}}this.renderId++}};a.prototype.capHitArea=function(a){0>a.x&&(a.width+=a.x,a.x=0);0>a.y&&(a.height+=a.y,a.y=0);a.x+a.width>this.renderer.width&&
(a.width=this.renderer.width-a.x);a.y+a.height>this.renderer.height&&(a.height=this.renderer.height-a.y)};a.prototype.addChild=function(a){var b=this.pool.pop();b||(b=document.createElement("button"),b.style.width="100px",b.style.height="100px",b.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",b.style.position="absolute",b.style.zIndex=2,b.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?b.setAttribute("aria-live","off"):b.setAttribute("aria-live",
"polite"),navigator.userAgent.match(/rv:.*Gecko\//)?b.setAttribute("aria-relevant","additions"):b.setAttribute("aria-relevant","text"),b.addEventListener("click",this._onClick.bind(this)),b.addEventListener("focus",this._onFocus.bind(this)),b.addEventListener("focusout",this._onFocusOut.bind(this)));a.accessibleTitle&&null!==a.accessibleTitle?b.title=a.accessibleTitle:a.accessibleHint&&null!==a.accessibleHint||(b.title="displayObject "+a.tabIndex);a.accessibleHint&&null!==a.accessibleHint&&b.setAttribute("aria-label",
a.accessibleHint);a._accessibleActive=!0;a._accessibleDiv=b;b.displayObject=a;this.children.push(a);this.div.appendChild(a._accessibleDiv);a._accessibleDiv.tabIndex=a.tabIndex};a.prototype._onClick=function(a){var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"click",b.eventData)};a.prototype._onFocus=function(a){a.target.getAttribute("aria-live","off")||a.target.setAttribute("aria-live","assertive");var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,
"mouseover",b.eventData)};a.prototype._onFocusOut=function(a){a.target.getAttribute("aria-live","off")||a.target.setAttribute("aria-live","polite");var b=this.renderer.plugins.interaction;b.dispatchEvent(a.target.displayObject,"mouseout",b.eventData)};a.prototype._onKeyDown=function(a){9===a.keyCode&&this.activate()};a.prototype._onMouseMove=function(a){0===a.movementX&&0===a.movementY||this.deactivate()};a.prototype.destroy=function(){this.div=null;for(var a=0;a<this.children.length;a++)this.children[a].div=
null;window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.renderer=this.children=this.pool=null};return a}();c.default=a;d.WebGLRenderer.registerPlugin("accessibility",a);d.CanvasRenderer.registerPlugin("accessibility",a)},{"../core":65,"./accessibleTarget":41,ismobilejs:4}],41:[function(a,b,c){c.__esModule=!0;c.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},
{}],42:[function(a,b,c){c.__esModule=!0;var d=a("./accessibleTarget");Object.defineProperty(c,"accessibleTarget",{enumerable:!0,get:function(){return(d&&d.__esModule?d:{default:d}).default}});var e=a("./AccessibilityManager");Object.defineProperty(c,"AccessibilityManager",{enumerable:!0,get:function(){return(e&&e.__esModule?e:{default:e}).default}})},{"./AccessibilityManager":40,"./accessibleTarget":41}],43:[function(a,b,c){c.__esModule=!0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=a("./autoDetectRenderer"),f=(b=a("./display/Container"))&&b.__esModule?b:{default:b},h=a("./ticker"),g=(b=a("./settings"))&&b.__esModule?b:{default:b},k=a("./const");a=function(){function a(b,c,d,k,p){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");"number"===typeof b&&(b=Object.assign({width:b,
height:c||g.default.RENDER_OPTIONS.height,forceCanvas:!!k,sharedTicker:!!p},d));this._options=b=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},b);this.renderer=(0,e.autoDetectRenderer)(b);this.stage=new f.default;this._ticker=null;this.ticker=b.sharedTicker?h.shared:new h.Ticker;b.autoStart&&this.start()}a.prototype.render=function(){this.renderer.render(this.stage)};a.prototype.stop=function(){this._ticker.stop()};a.prototype.start=function(){this._ticker.start()};a.prototype.destroy=
function(a,b){if(this._ticker){var c=this._ticker;this.ticker=null;c.destroy()}this.stage.destroy(b);this.stage=null;this.renderer.destroy(a);this._options=this.renderer=null};d(a,[{key:"ticker",set:function(a){this._ticker&&this._ticker.remove(this.render,this);(this._ticker=a)&&a.add(this.render,this,k.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]);return a}();c.default=
a},{"./autoDetectRenderer":45,"./const":46,"./display/Container":48,"./settings":101,"./ticker":121}],44:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function e(a,b){if(a instanceof Array)"precision"!==a[0].substring(0,
9)&&(a=a.slice(0),a.unshift("precision "+b+" float;"));else if("precision"!==a.trim().substring(0,9))return"precision "+b+" float;\n"+a;return a}c.__esModule=!0;b=a("pixi-gl-core");var f=(a=a("./settings"))&&a.__esModule?a:{default:a};a=function(a){function b(c,d,g,h,t){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c,e(d,t||f.default.PRECISION_VERTEX),e(g,t||f.default.PRECISION_FRAGMENT),void 0,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!c||"object"!==typeof c&&"function"!==typeof c?this:c}d(b,a);return b}(b.GLShader);c.default=a},{"./settings":101,"pixi-gl-core":15}],45:[function(a,b,c){c.__esModule=!0;c.autoDetectRenderer=function(a,b,c,p){var g=a&&a.forceCanvas;void 0!==p&&(g=p);return!g&&d.isWebGLSupported()?new f.default(a,b,c):new e.default(a,b,c)};var d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("./utils")),
e=(b=a("./renderers/canvas/CanvasRenderer"))&&b.__esModule?b:{default:b},f=(a=a("./renderers/webgl/WebGLRenderer"))&&a.__esModule?a:{default:a}},{"./renderers/canvas/CanvasRenderer":77,"./renderers/webgl/WebGLRenderer":84,"./utils":125}],46:[function(a,b,c){c.__esModule=!0;c.VERSION="4.8.1";c.PI_2=2*Math.PI;c.RAD_TO_DEG=180/Math.PI;c.DEG_TO_RAD=Math.PI/180;c.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2};c.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,
HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19};c.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};c.SCALE_MODES={LINEAR:0,NEAREST:1};c.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2};c.GC_MODES={AUTO:0,MANUAL:1};c.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i;c.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;c.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;
c.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4};c.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};c.TRANSFORM_MODE={STATIC:0,DYNAMIC:1};c.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1};c.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],47:[function(a,b,c){c.__esModule=!0;var d=a("../math");a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;this.rect=
null}a.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};a.prototype.clear=function(){this.updateID++;this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};a.prototype.getRectangle=function(a){if(this.minX>this.maxX||this.minY>this.maxY)return d.Rectangle.EMPTY;a=a||new d.Rectangle(0,0,1,1);a.x=this.minX;a.y=this.minY;a.width=this.maxX-this.minX;a.height=this.maxY-this.minY;return a};a.prototype.addPoint=function(a){this.minX=Math.min(this.minX,a.x);this.maxX=Math.max(this.maxX,
a.x);this.minY=Math.min(this.minY,a.y);this.maxY=Math.max(this.maxY,a.y)};a.prototype.addQuad=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY,f=a[0],m=a[1];b=f<b?f:b;c=m<c?m:c;d=f>d?f:d;e=m>e?m:e;f=a[2];m=a[3];b=f<b?f:b;c=m<c?m:c;d=f>d?f:d;e=m>e?m:e;f=a[4];m=a[5];b=f<b?f:b;c=m<c?m:c;d=f>d?f:d;e=m>e?m:e;f=a[6];m=a[7];this.minX=f<b?f:b;this.minY=m<c?m:c;this.maxX=f>d?f:d;this.maxY=m>e?m:e};a.prototype.addFrame=function(a,b,c,d,e){var f=a.worldTransform;a=f.a;var g=f.b,k=f.c,h=f.d,p=
f.tx;f=f.ty;var n=this.minX,w=this.minY,D=this.maxX,r=this.maxY,C=a*b+k*c+p,z=g*b+h*c+f;n=C<n?C:n;w=z<w?z:w;D=C>D?C:D;r=z>r?z:r;C=a*d+k*c+p;z=g*d+h*c+f;n=C<n?C:n;w=z<w?z:w;D=C>D?C:D;r=z>r?z:r;C=a*b+k*e+p;z=g*b+h*e+f;n=C<n?C:n;w=z<w?z:w;D=C>D?C:D;r=z>r?z:r;C=a*d+k*e+p;z=g*d+h*e+f;this.minX=C<n?C:n;this.minY=z<w?z:w;this.maxX=C>D?C:D;this.maxY=z>r?z:r};a.prototype.addVertices=function(a,b,c,d){var e=a.worldTransform;a=e.a;var f=e.b,g=e.c,k=e.d,h=e.tx;e=e.ty;for(var v=this.minX,n=this.minY,w=this.maxX,
D=this.maxY;c<d;c+=2){var r=b[c],C=b[c+1],z=a*r+g*C+h;r=k*C+f*r+e;v=z<v?z:v;n=r<n?r:n;w=z>w?z:w;D=r>D?r:D}this.minX=v;this.minY=n;this.maxX=w;this.maxY=D};a.prototype.addBounds=function(a){var b=this.minX,c=this.minY,d=this.maxX,e=this.maxY;this.minX=a.minX<b?a.minX:b;this.minY=a.minY<c?a.minY:c;this.maxX=a.maxX>d?a.maxX:d;this.maxY=a.maxY>e?a.maxY:e};a.prototype.addBoundsMask=function(a,b){var c=a.minX>b.minX?a.minX:b.minX,d=a.minY>b.minY?a.minY:b.minY,e=a.maxX<b.maxX?a.maxX:b.maxX;a=a.maxY<b.maxY?
a.maxY:b.maxY;if(c<=e&&d<=a){b=this.minX;var f=this.minY,h=this.maxX,t=this.maxY;this.minX=c<b?c:b;this.minY=d<f?d:f;this.maxX=e>h?e:h;this.maxY=a>t?a:t}};a.prototype.addBoundsArea=function(a,b){var c=a.minX>b.x?a.minX:b.x,d=a.minY>b.y?a.minY:b.y,e=a.maxX<b.x+b.width?a.maxX:b.x+b.width;a=a.maxY<b.y+b.height?a.maxY:b.y+b.height;if(c<=e&&d<=a){b=this.minX;var f=this.minY,h=this.maxX,t=this.maxY;this.minX=c<b?c:b;this.minY=d<f?d:f;this.maxX=e>h?e:h;this.maxY=a>t?a:t}};return a}();c.default=a},{"../math":70}],
48:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);
Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=a("../utils");a=a("./DisplayObject");a=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.children=[];return c}d(b,a);b.prototype.onChildrenChange=function(){};b.prototype.addChild=
function(a){var b=arguments.length;if(1<b)for(var c=0;c<b;c++)this.addChild(arguments[c]);else a.parent&&a.parent.removeChild(a),a.parent=this,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),a.emit("added",this);return a};b.prototype.addChildAt=function(a,b){if(0>b||b>this.children.length)throw Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length);a.parent&&a.parent.removeChild(a);a.parent=this;a.transform._parentID=
-1;this.children.splice(b,0,a);this._boundsID++;this.onChildrenChange(b);a.emit("added",this);return a};b.prototype.swapChildren=function(a,b){if(a!==b){var c=this.getChildIndex(a),d=this.getChildIndex(b);this.children[c]=b;this.children[d]=a;this.onChildrenChange(c<d?c:d)}};b.prototype.getChildIndex=function(a){a=this.children.indexOf(a);if(-1===a)throw Error("The supplied DisplayObject must be a child of the caller");return a};b.prototype.setChildIndex=function(a,b){if(0>b||b>=this.children.length)throw Error("The index "+
b+" supplied is out of bounds "+this.children.length);var c=this.getChildIndex(a);(0,f.removeItems)(this.children,c,1);this.children.splice(b,0,a);this.onChildrenChange(b)};b.prototype.getChildAt=function(a){if(0>a||a>=this.children.length)throw Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]};b.prototype.removeChild=function(a){var b=arguments.length;if(1<b)for(var c=0;c<b;c++)this.removeChild(arguments[c]);else{b=this.children.indexOf(a);if(-1===b)return null;a.parent=
null;a.transform._parentID=-1;(0,f.removeItems)(this.children,b,1);this._boundsID++;this.onChildrenChange(b);a.emit("removed",this)}return a};b.prototype.removeChildAt=function(a){var b=this.getChildAt(a);b.parent=null;b.transform._parentID=-1;(0,f.removeItems)(this.children,a,1);this._boundsID++;this.onChildrenChange(a);b.emit("removed",this);return b};b.prototype.removeChildren=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=arguments[1];b="number"===typeof b?b:this.children.length;
var c=b-a;if(0<c&&c<=b){b=this.children.splice(a,c);for(c=0;c<b.length;++c)b[c].parent=null,b[c].transform&&(b[c].transform._parentID=-1);this._boundsID++;this.onChildrenChange(a);for(a=0;a<b.length;++a)b[a].emit("removed",this);return b}if(0===c&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};b.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*
this.parent.worldAlpha;for(var a=0,b=this.children.length;a<b;++a){var c=this.children[a];c.visible&&c.updateTransform()}};b.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var a=0;a<this.children.length;a++){var b=this.children[a];b.visible&&b.renderable&&(b.calculateBounds(),b._mask?(b._mask.calculateBounds(),this._bounds.addBoundsMask(b._bounds,b._mask._bounds)):b.filterArea?this._bounds.addBoundsArea(b._bounds,b.filterArea):this._bounds.addBounds(b._bounds))}this._lastBoundsID=
this._boundsID};b.prototype._calculateBounds=function(){};b.prototype.renderWebGL=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(a);else{this._renderWebGL(a);for(var b=0,c=this.children.length;b<c;++b)this.children[b].renderWebGL(a)}};b.prototype.renderAdvancedWebGL=function(a){a.flush();var b=this._filters,c=this._mask;if(b){this._enabledFilters||(this._enabledFilters=[]);for(var d=this._enabledFilters.length=0;d<b.length;d++)b[d].enabled&&
this._enabledFilters.push(b[d]);this._enabledFilters.length&&a.filterManager.pushFilter(this,this._enabledFilters)}c&&a.maskManager.pushMask(this,this._mask);this._renderWebGL(a);d=0;for(var e=this.children.length;d<e;d++)this.children[d].renderWebGL(a);a.flush();c&&a.maskManager.popMask(this,this._mask);b&&this._enabledFilters&&this._enabledFilters.length&&a.filterManager.popFilter()};b.prototype._renderWebGL=function(a){};b.prototype._renderCanvas=function(a){};b.prototype.renderCanvas=function(a){if(this.visible&&
!(0>=this.worldAlpha)&&this.renderable){this._mask&&a.maskManager.pushMask(this._mask);this._renderCanvas(a);for(var b=0,c=this.children.length;b<c;++b)this.children[b].renderCanvas(a);this._mask&&a.maskManager.popMask(a)}};b.prototype.destroy=function(b){a.prototype.destroy.call(this);var c="boolean"===typeof b?b:b&&b.children,d=this.removeChildren(0,this.children.length);if(c)for(c=0;c<d.length;++c)d[c].destroy(b)};e(b,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},
set:function(a){var b=this.getLocalBounds().width;this.scale.x=0!==b?a/b:1;this._width=a}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var b=this.getLocalBounds().height;this.scale.y=0!==b?a/b:1;this._height=a}}]);return b}((a&&a.__esModule?a:{default:a}).default);c.default=a;a.prototype.containerUpdateTransform=a.prototype.updateTransform},{"../utils":125,"./DisplayObject":49}],49:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}
function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,
d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();b=a("eventemitter3");b=d(b);var h=a("../const"),g=a("../settings"),k=d(g);g=a("./TransformStatic");var p=d(g);g=a("./Transform");var l=d(g);g=a("./Bounds");var m=d(g),t=a("../math");a=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&
"function"!==typeof c?this:c;var d=k.default.TRANSFORM_MODE===h.TRANSFORM_MODE.STATIC?p.default:l.default;c.tempDisplayObjectParent=null;c.transform=new d;c.alpha=1;c.visible=!0;c.renderable=!0;c.parent=null;c.worldAlpha=1;c.filterArea=null;c._filters=null;c._enabledFilters=null;c._bounds=new m.default;c._boundsID=0;c._lastBoundsID=-1;c._boundsRect=null;c._localBoundsRect=null;c._mask=null;c._destroyed=!1;return c}e(b,a);b.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform);
this.worldAlpha=this.alpha*this.parent.worldAlpha;this._bounds.updateID++};b.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};b.prototype.getBounds=function(a,b){a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=
null));this._boundsID!==this._lastBoundsID&&this.calculateBounds();b||(this._boundsRect||(this._boundsRect=new t.Rectangle),b=this._boundsRect);return this._bounds.getRectangle(b)};b.prototype.getLocalBounds=function(a){var b=this.transform,c=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;a||(this._localBoundsRect||(this._localBoundsRect=new t.Rectangle),a=this._localBoundsRect);a=this.getBounds(!1,a);this.parent=c;this.transform=b;return a};b.prototype.toGlobal=
function(a,b){2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(a,b)};b.prototype.toLocal=function(a,b,c,d){b&&(a=b.toGlobal(a,c,d));d||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),
this.parent=null));return this.worldTransform.applyInverse(a,c)};b.prototype.renderWebGL=function(a){};b.prototype.renderCanvas=function(a){};b.prototype.setParent=function(a){if(!a||!a.addChild)throw Error("setParent: Argument must be a Container");a.addChild(this);return a};b.prototype.setTransform=function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,d=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:0,e=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,f=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,g=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,h=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;this.position.x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.position.y=a;this.scale.x=b?b:1;this.scale.y=c?c:1;this.rotation=d;this.skew.x=e;this.skew.y=f;this.pivot.x=g;this.pivot.y=h;return this};b.prototype.destroy=
function(){this.removeAllListeners();this.parent&&this.parent.removeChild(this);this.filterArea=this._mask=this._currentBounds=this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=!1;this._destroyed=!0};f(b,[{key:"_tempDisplayObjectParent",get:function(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new b);return this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(a){this.transform.position.x=a}},{key:"y",
get:function(){return this.position.y},set:function(a){this.transform.position.y=a}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(a){this.transform.position.copy(a)}},{key:"scale",get:function(){return this.transform.scale},set:function(a){this.transform.scale.copy(a)}},{key:"pivot",get:function(){return this.transform.pivot},
set:function(a){this.transform.pivot.copy(a)}},{key:"skew",get:function(){return this.transform.skew},set:function(a){this.transform.skew.copy(a)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a}},{key:"worldVisible",get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},{key:"mask",get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1);if(this._mask=a)this._mask.renderable=
!1,this._mask.isMask=!0}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}]);return b}(b.default);c.default=a;a.prototype.displayObjectUpdateTransform=a.prototype.updateTransform},{"../const":46,"../math":70,"../settings":101,"./Bounds":47,"./Transform":50,"./TransformStatic":52,eventemitter3:3}],50:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=a("../math");a=a("./TransformBase");a=function(a){function b(){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");var c=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.position=new f.Point(0,0);c.scale=new f.Point(1,1);c.skew=new f.ObservablePoint(c.updateSkew,c,0,0);c.pivot=new f.Point(0,0);c._rotation=0;c._cx=1;c._sx=0;c._cy=0;c._sy=1;return c}d(b,a);b.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=
Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x)};b.prototype.updateLocalTransform=function(){var a=this.localTransform;a.a=this._cx*this.scale.x;a.b=this._sx*this.scale.x;a.c=this._cy*this.scale.y;a.d=this._sy*this.scale.y;a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c);a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d)};b.prototype.updateTransform=function(a){var b=this.localTransform;b.a=this._cx*
this.scale.x;b.b=this._sx*this.scale.x;b.c=this._cy*this.scale.y;b.d=this._sy*this.scale.y;b.tx=this.position.x-(this.pivot.x*b.a+this.pivot.y*b.c);b.ty=this.position.y-(this.pivot.x*b.b+this.pivot.y*b.d);a=a.worldTransform;var c=this.worldTransform;c.a=b.a*a.a+b.b*a.c;c.b=b.a*a.b+b.b*a.d;c.c=b.c*a.a+b.d*a.c;c.d=b.c*a.b+b.d*a.d;c.tx=b.tx*a.a+b.ty*a.c+a.tx;c.ty=b.tx*a.b+b.ty*a.d+a.ty;this._worldID++};b.prototype.setFromMatrix=function(a){a.decompose(this)};e(b,[{key:"rotation",get:function(){return this._rotation},
set:function(a){this._rotation=a;this.updateSkew()}}]);return b}((a&&a.__esModule?a:{default:a}).default);c.default=a},{"../math":70,"./TransformBase":51}],51:[function(a,b,c){c.__esModule=!0;var d=a("../math");a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.worldTransform=new d.Matrix;this.localTransform=new d.Matrix;this._parentID=this._worldID=0}a.prototype.updateLocalTransform=function(){};a.prototype.updateTransform=function(a){a=
a.worldTransform;var b=this.worldTransform,c=this.localTransform;b.a=c.a*a.a+c.b*a.c;b.b=c.a*a.b+c.b*a.d;b.c=c.c*a.a+c.d*a.c;b.d=c.c*a.b+c.d*a.d;b.tx=c.tx*a.a+c.ty*a.c+a.tx;b.ty=c.tx*a.b+c.ty*a.d+a.ty;this._worldID++};return a}();c.default=a;a.prototype.updateWorldTransform=a.prototype.updateTransform;a.IDENTITY=new a},{"../math":70}],52:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=a("../math");a=a("./TransformBase");a=function(a){function b(){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");var c=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.position=new f.ObservablePoint(c.onChange,c,0,0);c.scale=new f.ObservablePoint(c.onChange,c,1,1);c.pivot=new f.ObservablePoint(c.onChange,c,0,0);c.skew=new f.ObservablePoint(c.updateSkew,c,0,0);c._rotation=0;c._cx=1;c._sx=0;c._cy=0;c._sy=1;c._localID=0;c._currentLocalID=
0;return c}d(b,a);b.prototype.onChange=function(){this._localID++};b.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);this._localID++};b.prototype.updateLocalTransform=function(){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale._x,a.b=this._sx*this.scale._x,a.c=this._cy*this.scale._y,a.d=
this._sy*this.scale._y,a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*a.c),a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d),this._currentLocalID=this._localID,this._parentID=-1)};b.prototype.updateTransform=function(a){var b=this.localTransform;this._localID!==this._currentLocalID&&(b.a=this._cx*this.scale._x,b.b=this._sx*this.scale._x,b.c=this._cy*this.scale._y,b.d=this._sy*this.scale._y,b.tx=this.position._x-(this.pivot._x*b.a+this.pivot._y*b.c),b.ty=this.position._y-(this.pivot._x*
b.b+this.pivot._y*b.d),this._currentLocalID=this._localID,this._parentID=-1);if(this._parentID!==a._worldID){var c=a.worldTransform,d=this.worldTransform;d.a=b.a*c.a+b.b*c.c;d.b=b.a*c.b+b.b*c.d;d.c=b.c*c.a+b.d*c.c;d.d=b.c*c.b+b.d*c.d;d.tx=b.tx*c.a+b.ty*c.c+c.tx;d.ty=b.tx*c.b+b.ty*c.d+c.ty;this._parentID=a._worldID;this._worldID++}};b.prototype.setFromMatrix=function(a){a.decompose(this);this._localID++};e(b,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a;this.updateSkew()}}]);
return b}((a&&a.__esModule?a:{default:a}).default);c.default=a},{"../math":70,"./TransformBase":51}],53:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=
!0;b=a("../display/Container");b=d(b);var f=a("../textures/RenderTexture"),h=d(f);f=a("../textures/Texture");var g=d(f);f=a("./GraphicsData");var k=d(f);f=a("../sprites/Sprite");var p=d(f),l=a("../math"),m=a("../utils"),t=a("../const");f=a("../display/Bounds");var u=d(f);f=a("./utils/bezierCurveTo");var v=d(f);a=a("../renderers/canvas/CanvasRenderer");var n=d(a),w=void 0,D=new l.Matrix,r=new l.Point,C=new Float32Array(4),z=new Float32Array(4);a=function(a){function b(){var c=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:!1;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.fillAlpha=1;d.lineWidth=0;d.nativeLines=c;d.lineColor=0;d.lineAlignment=.5;d.graphicsData=[];d.tint=16777215;d._prevTint=16777215;d.blendMode=t.BLEND_MODES.NORMAL;d.currentPath=null;d._webGL={};d.isMask=!1;d.boundsPadding=
0;d._localBounds=new u.default;d.dirty=0;d.fastRectDirty=-1;d.clearDirty=0;d.boundsDirty=-1;d.cachedSpriteDirty=!1;d._spriteRect=null;d._fastRect=!1;return d}e(b,a);b.prototype.clone=function(){var a=new b;a.renderable=this.renderable;a.fillAlpha=this.fillAlpha;a.lineWidth=this.lineWidth;a.lineColor=this.lineColor;a.lineAlignment=this.lineAlignment;a.tint=this.tint;a.blendMode=this.blendMode;a.isMask=this.isMask;a.boundsPadding=this.boundsPadding;a.dirty=0;a.cachedSpriteDirty=this.cachedSpriteDirty;
for(var c=0;c<this.graphicsData.length;++c)a.graphicsData.push(this.graphicsData[c].clone());a.currentPath=a.graphicsData[a.graphicsData.length-1];a.updateLocalBounds();return a};b.prototype._quadraticCurveLength=function(a,b,c,d,e,f){e=a-(2*c+e);f=b-(2*d+f);a*=2*(c-2);d=2*(d-2)*b;b=4*(e*e+f*f);e=4*(e*a+f*d);d=a*a+d*d;f=2*Math.sqrt(b+e+d);a=Math.sqrt(b);c=2*b*a;var g=2*Math.sqrt(d),h=e/a;return(c*f+a*e*(f-g)+(4*d*b-e*e)*Math.log((2*a+h+f)/(h+g)))/(4*c)};b.prototype._bezierCurveLength=function(a,b,
c,d,e,f,g,h){for(var k=0,p,l,n,r,m,t,u,v=a,w=b,D=1;10>=D;++D)p=D/10,l=p*p,n=l*p,r=1-p,m=r*r,t=m*r,u=t*a+3*m*p*c+3*r*l*e+n*g,p=t*b+3*m*p*d+3*r*l*f+n*h,l=v-u,n=w-p,v=u,w=p,k+=Math.sqrt(l*l+n*n);return k};b.prototype._segmentsCount=function(a){a=Math.ceil(a/b.CURVES.maxLength);a<b.CURVES.minSegments?a=b.CURVES.minSegments:a>b.CURVES.maxSegments&&(a=b.CURVES.maxSegments);return a};b.prototype.lineStyle=function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,b=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:1,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5;this.lineWidth=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.lineColor=a;this.lineAlpha=b;this.lineAlignment=c;this.currentPath&&(this.currentPath.shape.points.length?(a=new l.Polygon(this.currentPath.shape.points.slice(-2)),a.closed=!1,this.drawShape(a)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=
this.lineAlignment));return this};b.prototype.moveTo=function(a,b){a=new l.Polygon([a,b]);a.closed=!1;this.drawShape(a);return this};b.prototype.lineTo=function(a,b){this.currentPath.shape.points.push(a,b);this.dirty++;return this};b.prototype.quadraticCurveTo=function(a,c,d,e){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var f=this.currentPath.shape.points;0===f.length&&this.moveTo(0,0);for(var g=f[f.length-2],h=f[f.length-1],k=
b.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(g,h,a,c,d,e)):20,p=1;p<=k;++p){var l=p/k;var n=g+(a-g)*l;var r=h+(c-h)*l;f.push(n+(a+(d-a)*l-n)*l,r+(c+(e-c)*l-r)*l)}this.dirty++;return this};b.prototype.bezierCurveTo=function(a,c,d,e,f,g){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var h=this.currentPath.shape.points,k=h[h.length-2],p=h[h.length-1];h.length-=2;var l=b.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(k,
p,a,c,d,e,f,g)):20;(0,v.default)(k,p,a,c,d,e,f,g,l,h);this.dirty++;return this};b.prototype.arcTo=function(a,b,c,d,e){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(a,b):this.moveTo(a,b);var f=this.currentPath.shape.points,g=f[f.length-1]-b,h=f[f.length-2]-a;d-=b;c-=a;var k=Math.abs(g*c-h*d);if(1E-8>k||0===e)f[f.length-2]===a&&f[f.length-1]===b||f.push(a,b);else{var p=g*g+h*h,l=d*d+c*c,n=g*d+h*c;f=e*Math.sqrt(p)/k;k=e*Math.sqrt(l)/k;p=f*n/p;l=k*n/l;n=
f*c+k*h;var r=f*d+k*g;this.arc(n+a,r+b,e,Math.atan2(g*(k+p)-r,h*(k+p)-n),Math.atan2(d*(f+l)-r,c*(f+l)-n),h*d>c*g)}this.dirty++;return this};b.prototype.arc=function(a,c,d,e,f){var g=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(e===f)return this;!g&&f<=e?f+=t.PI_2:g&&e<=f&&(e+=t.PI_2);var h=f-e,k=b.CURVES.adaptive?this._segmentsCount(Math.abs(h)*d):40*Math.ceil(Math.abs(h)/t.PI_2);if(0===h)return this;var p=a+Math.cos(e)*d,l=c+Math.sin(e)*d;(g=this.currentPath?this.currentPath.shape.points:
null)?g[g.length-2]===p&&g[g.length-1]===l||g.push(p,l):(this.moveTo(p,l),g=this.currentPath.shape.points);h/=2*k;p=2*h;l=Math.cos(h);var n=Math.sin(h);--k;for(var r=k%1/k,m=0;m<=k;++m){var u=h+e+p*(m+r*m),v=Math.cos(u);u=-Math.sin(u);g.push((l*v+n*u)*d+a,(l*-u+n*v)*d+c)}this.dirty++;return this};b.prototype.beginFill=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.filling=!0;this.fillColor=a;this.fillAlpha=
b;this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha);return this};b.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};b.prototype.drawRect=function(a,b,c,d){this.drawShape(new l.Rectangle(a,b,c,d));return this};b.prototype.drawRoundedRect=function(a,b,c,d,e){this.drawShape(new l.RoundedRectangle(a,b,c,d,e));return this};b.prototype.drawCircle=
function(a,b,c){this.drawShape(new l.Circle(a,b,c));return this};b.prototype.drawEllipse=function(a,b,c,d){this.drawShape(new l.Ellipse(a,b,c,d));return this};b.prototype.drawPolygon=function(a){var b=a,c=!0;b instanceof l.Polygon&&(c=b.closed,b=b.points);if(!Array.isArray(b)){b=Array(arguments.length);for(var d=0;d<b.length;++d)b[d]=arguments[d]}b=new l.Polygon(b);b.closed=c;this.drawShape(b);return this};b.prototype.drawStar=function(a,b,c,d,e){var f=5<arguments.length&&void 0!==arguments[5]?arguments[5]:
0;e=e||d/2;f=-1*Math.PI/2+f;for(var g=2*c,h=t.PI_2/g,k=[],p=0;p<g;p++){var l=p%2?e:d,n=p*h+f;k.push(a+l*Math.cos(n),b+l*Math.sin(n))}return this.drawPolygon(k)};b.prototype.clear=function(){if(this.lineWidth||this.filling||0<this.graphicsData.length)this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0;this._spriteRect=this.currentPath=null;return this};b.prototype.isFastRect=function(){return 1===this.graphicsData.length&&
this.graphicsData[0].shape.type===t.SHAPES.RECT&&!this.graphicsData[0].lineWidth};b.prototype._renderWebGL=function(a){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect());this._fastRect?this._renderSpriteRect(a):(a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this))};b.prototype._renderSpriteRect=function(a){var b=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new p.default(new g.default(g.default.WHITE)));var c=this._spriteRect;
16777215===this.tint?c.tint=this.graphicsData[0].fillColor:((0,m.hex2rgb)(this.graphicsData[0].fillColor,C),(0,m.hex2rgb)(this.tint,z),C[0]*=z[0],C[1]*=z[1],C[2]*=z[2],c.tint=(0,m.rgb2hex)(C));c.alpha=this.graphicsData[0].fillAlpha;c.worldAlpha=this.worldAlpha*c.alpha;c.blendMode=this.blendMode;c._texture._frame.width=b.width;c._texture._frame.height=b.height;c.transform.worldTransform=this.transform.worldTransform;c.anchor.set(-b.x/b.width,-b.y/b.height);c._onAnchorUpdate();c._renderWebGL(a)};b.prototype._renderCanvas=
function(a){!0!==this.isMask&&a.plugins.graphics.render(this)};b.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var a=this._localBounds;this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY)};b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,r);for(var b=this.graphicsData,c=0;c<b.length;++c)if(a=b[c],a.fill&&a.shape&&a.shape.contains(r.x,r.y)){if(a.holes)for(b=0;b<
a.holes.length;b++)if(a.holes[b].contains(r.x,r.y))return!1;return!0}return!1};b.prototype.updateLocalBounds=function(){var a=Infinity,b=-Infinity,c=Infinity,d=-Infinity;if(this.graphicsData.length)for(var e,f,g,h,k,p=0;p<this.graphicsData.length;p++){e=this.graphicsData[p];g=e.type;var l=e.lineWidth;e=e.shape;if(g===t.SHAPES.RECT||g===t.SHAPES.RREC)f=e.x-l/2,g=e.y-l/2,h=e.width+l,k=e.height+l,a=f<a?f:a,b=f+h>b?f+h:b,c=g<c?g:c,d=g+k>d?g+k:d;else if(g===t.SHAPES.CIRC)f=e.x,g=e.y,h=e.radius+l/2,k=e.radius+
l/2,a=f-h<a?f-h:a,b=f+h>b?f+h:b,c=g-k<c?g-k:c,d=g+k>d?g+k:d;else if(g===t.SHAPES.ELIP)f=e.x,g=e.y,h=e.width+l/2,k=e.height+l/2,a=f-h<a?f-h:a,b=f+h>b?f+h:b,c=g-k<c?g-k:c,d=g+k>d?g+k:d;else{e=e.points;for(var n,r,m,u,v,w=0;w+2<e.length;w+=2)f=e[w],g=e[w+1],n=e[w+2],r=e[w+3],m=Math.abs(n-f),u=Math.abs(r-g),k=l,h=Math.sqrt(m*m+u*u),1E-9>h||(v=(k/h*u+m)/2,h=(k/h*m+u)/2,f=(n+f)/2,g=(r+g)/2,a=f-v<a?f-v:a,b=f+v>b?f+v:b,c=g-h<c?g-h:c,d=g+h>d?g+h:d)}}else d=c=b=a=0;p=this.boundsPadding;this._localBounds.minX=
a-p;this._localBounds.maxX=b+p;this._localBounds.minY=c-p;this._localBounds.maxY=d+p};b.prototype.drawShape=function(a){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop();this.currentPath=null;a=new k.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,a,this.lineAlignment);this.graphicsData.push(a);a.type===t.SHAPES.POLY&&(a.shape.closed=a.shape.closed||this.filling,this.currentPath=a);this.dirty++;return a};
b.prototype.generateCanvasTexture=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,c=this.getLocalBounds(),d=h.default.create(c.width,c.height,a,b);w||(w=new n.default);this.transform.updateLocalTransform();this.transform.localTransform.copy(D);D.invert();D.tx-=c.x;D.ty-=c.y;w.render(this,d,!0,D);c=g.default.fromCanvas(d.baseTexture._canvasRenderTarget.canvas,a,"graphics");c.baseTexture.resolution=b;c.baseTexture.update();return c};b.prototype.closePath=function(){var a=
this.currentPath;a&&a.shape&&a.shape.close();return this};b.prototype.addHole=function(){var a=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(a.shape);this.currentPath=null;return this};b.prototype.destroy=function(b){a.prototype.destroy.call(this,b);for(b=0;b<this.graphicsData.length;++b)this.graphicsData[b].destroy();for(var c in this._webGL)for(b=0;b<this._webGL[c].data.length;++b)this._webGL[c].data[b].destroy();this._spriteRect&&
this._spriteRect.destroy();this._localBounds=this._webGL=this.currentPath=this.graphicsData=null};return b}(b.default);c.default=a;a._SPRITE_TEXTURE=null;a.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},{"../const":46,"../display/Bounds":47,"../display/Container":48,"../math":70,"../renderers/canvas/CanvasRenderer":77,"../sprites/Sprite":102,"../textures/RenderTexture":113,"../textures/Texture":115,"../utils":125,"./GraphicsData":54,"./utils/bezierCurveTo":56}],54:[function(a,b,
c){c.__esModule=!0;a=function(){function a(b,c,d,g,k,p,l,m,t){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.lineWidth=b;this.lineAlignment=t;this.nativeLines=l;this.lineColor=c;this.lineAlpha=d;this._lineTint=c;this.fillColor=g;this.fillAlpha=k;this._fillTint=g;this.fill=p;this.holes=[];this.shape=m;this.type=m.type}a.prototype.clone=function(){return new a(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,
this.shape)};a.prototype.addHole=function(a){this.holes.push(a)};a.prototype.destroy=function(){this.holes=this.shape=null};return a}();c.default=a},{}],55:[function(a,b,c){c.__esModule=!0;b=(b=a("../../renderers/canvas/CanvasRenderer"))&&b.__esModule?b:{default:b};var d=a("../../const");a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=b}a.prototype.render=function(a){var b=this.renderer,c=b.context,e=a.worldAlpha,f=a.transform.worldTransform,
l=b.resolution;this._prevTint!==this.tint&&(this.dirty=!0);c.setTransform(f.a*l,f.b*l,f.c*l,f.d*l,f.tx*l,f.ty*l);a.dirty&&(this.updateGraphicsTint(a),a.dirty=!1);b.setBlendMode(a.blendMode);for(b=0;b<a.graphicsData.length;b++){f=a.graphicsData[b];var m=f.shape;l=f._fillTint;var t=f._lineTint;c.lineWidth=f.lineWidth;if(f.type===d.SHAPES.POLY){c.beginPath();this.renderPolygon(m.points,m.closed,c);for(var u=0;u<f.holes.length;u++)this.renderPolygon(f.holes[u].points,!0,c);f.fill&&(c.globalAlpha=f.fillAlpha*
e,c.fillStyle="#"+("00000"+(l|0).toString(16)).substr(-6),c.fill());f.lineWidth&&(c.globalAlpha=f.lineAlpha*e,c.strokeStyle="#"+("00000"+(t|0).toString(16)).substr(-6),c.stroke())}else if(f.type===d.SHAPES.RECT){if(f.fillColor||0===f.fillColor)c.globalAlpha=f.fillAlpha*e,c.fillStyle="#"+("00000"+(l|0).toString(16)).substr(-6),c.fillRect(m.x,m.y,m.width,m.height);f.lineWidth&&(c.globalAlpha=f.lineAlpha*e,c.strokeStyle="#"+("00000"+(t|0).toString(16)).substr(-6),c.strokeRect(m.x,m.y,m.width,m.height))}else if(f.type===
d.SHAPES.CIRC)c.beginPath(),c.arc(m.x,m.y,m.radius,0,2*Math.PI),c.closePath(),f.fill&&(c.globalAlpha=f.fillAlpha*e,c.fillStyle="#"+("00000"+(l|0).toString(16)).substr(-6),c.fill()),f.lineWidth&&(c.globalAlpha=f.lineAlpha*e,c.strokeStyle="#"+("00000"+(t|0).toString(16)).substr(-6),c.stroke());else if(f.type===d.SHAPES.ELIP){var v=2*m.width,n=2*m.height;u=m.x-v/2;m=m.y-n/2;c.beginPath();var w=v/2*.5522848,D=n/2*.5522848,r=u+v,C=m+n;v=u+v/2;n=m+n/2;c.moveTo(u,n);c.bezierCurveTo(u,n-D,v-w,m,v,m);c.bezierCurveTo(v+
w,m,r,n-D,r,n);c.bezierCurveTo(r,n+D,v+w,C,v,C);c.bezierCurveTo(v-w,C,u,n+D,u,n);c.closePath();f.fill&&(c.globalAlpha=f.fillAlpha*e,c.fillStyle="#"+("00000"+(l|0).toString(16)).substr(-6),c.fill());f.lineWidth&&(c.globalAlpha=f.lineAlpha*e,c.strokeStyle="#"+("00000"+(t|0).toString(16)).substr(-6),c.stroke())}else if(f.type===d.SHAPES.RREC){u=m.x;n=m.y;w=m.width;D=m.height;m=m.radius;r=Math.min(w,D)/2|0;m=m>r?r:m;c.beginPath();c.moveTo(u,n+m);c.lineTo(u,n+D-m);c.quadraticCurveTo(u,n+D,u+m,n+D);c.lineTo(u+
w-m,n+D);c.quadraticCurveTo(u+w,n+D,u+w,n+D-m);c.lineTo(u+w,n+m);c.quadraticCurveTo(u+w,n,u+w-m,n);c.lineTo(u+m,n);c.quadraticCurveTo(u,n,u,n+m);c.closePath();if(f.fillColor||0===f.fillColor)c.globalAlpha=f.fillAlpha*e,c.fillStyle="#"+("00000"+(l|0).toString(16)).substr(-6),c.fill();f.lineWidth&&(c.globalAlpha=f.lineAlpha*e,c.strokeStyle="#"+("00000"+(t|0).toString(16)).substr(-6),c.stroke())}}};a.prototype.updateGraphicsTint=function(a){a._prevTint=a.tint;for(var b=(a.tint>>16&255)/255,c=(a.tint>>
8&255)/255,d=(a.tint&255)/255,e=0;e<a.graphicsData.length;++e){var f=a.graphicsData[e],m=f.fillColor|0,t=f.lineColor|0;f._fillTint=((m>>16&255)/255*b*255<<16)+((m>>8&255)/255*c*255<<8)+(m&255)/255*d*255;f._lineTint=((t>>16&255)/255*b*255<<16)+((t>>8&255)/255*c*255<<8)+(t&255)/255*d*255}};a.prototype.renderPolygon=function(a,b,c){c.moveTo(a[0],a[1]);for(var d=1;d<a.length/2;++d)c.lineTo(a[2*d],a[2*d+1]);b&&c.closePath()};a.prototype.destroy=function(){this.renderer=null};return a}();c.default=a;b.default.registerPlugin("graphics",
a)},{"../../const":46,"../../renderers/canvas/CanvasRenderer":77}],56:[function(a,b,c){c.__esModule=!0;c.default=function(a,b,c,h,g,k,p,l,m){var d=9<arguments.length&&void 0!==arguments[9]?arguments[9]:[];d.push(a,b);for(var e=1,f;e<=m;++e){f=e/m;var n=1-f;var w=n*n;var D=w*n;var r=f*f;var C=r*f;d.push(D*a+3*w*f*c+3*n*r*g+C*p,D*b+3*w*f*h+3*n*r*k+C*l)}return d}},{}],57:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var f=a("../../utils"),h=a("../../const");b=a("../../renderers/webgl/utils/ObjectRenderer");var g=d(b);b=a("../../renderers/webgl/WebGLRenderer");b=d(b);var k=a("./WebGLGraphicsData"),p=d(k);k=a("./shaders/PrimitiveShader");var l=d(k);k=a("./utils/buildPoly");var m=d(k);k=a("./utils/buildRectangle");
var t=d(k);k=a("./utils/buildRoundedRectangle");var u=d(k);a=a("./utils/buildCircle");var v=d(a);a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.graphicsDataPool=[];d.primitiveShader=null;d.gl=c.gl;d.CONTEXT_UID=0;return d}e(b,a);b.prototype.onContextChange=function(){this.gl=
this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.primitiveShader=new l.default(this.gl)};b.prototype.destroy=function(){g.default.prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null};b.prototype.render=function(a){var b=this.renderer,c=b.gl,d=a._webGL[this.CONTEXT_UID];d&&a.dirty===d.dirty||(this.updateGraphics(a),d=a._webGL[this.CONTEXT_UID]);b.bindShader(this.primitiveShader);b.state.setBlendMode(a.blendMode);
for(var e=0,g=d.data.length;e<g;e++){var h=d.data[e];var k=h.shader;b.bindShader(k);k.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);k.uniforms.tint=(0,f.hex2rgb)(a.tint);k.uniforms.alpha=a.worldAlpha;b.bindVao(h.vao);h.nativeLines?c.drawArrays(c.LINES,0,h.points.length/6):h.vao.draw(c.TRIANGLE_STRIP,h.indices.length)}};b.prototype.updateGraphics=function(a){var b=this.renderer.gl,c=a._webGL[this.CONTEXT_UID];c||(c=a._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:b,clearDirty:-1,
dirty:-1});c.dirty=a.dirty;if(a.clearDirty!==c.clearDirty){c.clearDirty=a.clearDirty;for(b=0;b<c.data.length;b++)this.graphicsDataPool.push(c.data[b]);c.data.length=0;c.lastIndex=0}for(var d=void 0,e=c.lastIndex;e<a.graphicsData.length;e++){var f=a.graphicsData[e];b=this.getWebGLData(c,0);f.nativeLines&&f.lineWidth&&(d=this.getWebGLData(c,0,!0),c.lastIndex++);f.type===h.SHAPES.POLY&&(0,m.default)(f,b,d);f.type===h.SHAPES.RECT?(0,t.default)(f,b,d):f.type===h.SHAPES.CIRC||f.type===h.SHAPES.ELIP?(0,
v.default)(f,b,d):f.type===h.SHAPES.RREC&&(0,u.default)(f,b,d);c.lastIndex++}this.renderer.bindVao(null);for(a=0;a<c.data.length;a++)b=c.data[a],b.dirty&&b.upload()};b.prototype.getWebGLData=function(a,b,c){var d=a.data[a.data.length-1];if(!d||d.nativeLines!==c||32E4<d.points.length)d=this.graphicsDataPool.pop()||new p.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),d.nativeLines=c,d.reset(b),a.data.push(d);d.dirty=!0;return d};return b}(g.default);c.default=a;b.default.registerPlugin("graphics",
a)},{"../../const":46,"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../utils":125,"./WebGLGraphicsData":58,"./shaders/PrimitiveShader":59,"./utils/buildCircle":60,"./utils/buildPoly":62,"./utils/buildRectangle":63,"./utils/buildRoundedRectangle":64}],58:[function(a,b,c){c.__esModule=!0;var d=(a=a("pixi-gl-core"))&&a.__esModule?a:{default:a};a=function(){function a(b,c,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.gl=b;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=d.default.GLBuffer.createVertexBuffer(b);this.indexBuffer=d.default.GLBuffer.createIndexBuffer(b);this.dirty=!0;this.nativeLines=!1;this.glIndices=this.glPoints=null;this.shader=c;this.vao=(new d.default.VertexArrayObject(b,e)).addIndex(this.indexBuffer).addAttribute(this.buffer,c.attributes.aVertexPosition,b.FLOAT,!1,24,0).addAttribute(this.buffer,c.attributes.aColor,b.FLOAT,!1,24,8)}a.prototype.reset=function(){this.points.length=
0;this.indices.length=0};a.prototype.upload=function(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);this.dirty=!1};a.prototype.destroy=function(){this.indices=this.points=this.color=null;this.vao.destroy();this.buffer.destroy();this.indexBuffer.destroy();this.glIndices=this.glPoints=this.indexBuffer=this.buffer=this.gl=null};return a}();c.default=a},{"pixi-gl-core":15}],59:[function(a,
b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;a=a("../../../Shader");a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",
"varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?this:c}d(b,a);return b}((a&&a.__esModule?a:{default:a}).default);c.default=a},{"../../../Shader":44}],60:[function(a,b,c){c.__esModule=!0;c.default=function(a,b,c){var g=a.shape,h=g.x,k=g.y,t;if(a.type===e.SHAPES.CIRC)var u=t=g.radius;else t=g.width,u=g.height;if(0!==t&&0!==u){g=Math.floor(30*
Math.sqrt(g.radius))||Math.floor(15*Math.sqrt(g.width+g.height));var v=2*Math.PI/g;if(a.fill){var n=(0,f.hex2rgb)(a.fillColor),w=a.fillAlpha,D=n[0]*w,r=n[1]*w;n=n[2]*w;var C=b.points,z=b.indices,x=C.length/6;z.push(x);for(var E=0;E<g+1;E++)C.push(h,k,D,r,n,w),C.push(h+Math.sin(v*E)*t,k+Math.cos(v*E)*u,D,r,n,w),z.push(x++,x++);z.push(x-1)}if(a.lineWidth){w=a.points;a.points=[];for(D=0;D<g+1;D++)a.points.push(h+Math.sin(v*-D)*t,k+Math.cos(v*-D)*u);(0,d.default)(a,b,c);a.points=w}}};var d=(b=a("./buildLine"))&&
b.__esModule?b:{default:b},e=a("../../../const"),f=a("../../../utils")},{"../../../const":46,"../../../utils":125,"./buildLine":61}],61:[function(a,b,c){c.__esModule=!0;c.default=function(a,b,c){if(a.nativeLines){var f=a.points;if(0!==f.length){c=c.points;b=f.length/2;var g=(0,e.hex2rgb)(a.lineColor);var h=a.lineAlpha,m=g[0]*h,t=g[1]*h,u=g[2]*h;for(g=1;g<b;g++){var v=f[2*g],n=f[2*g+1];c.push(f[2*(g-1)],f[2*(g-1)+1]);c.push(m,t,u,h);c.push(v,n);c.push(m,t,u,h)}}}else if(f=a.points,0!==f.length){h=
new d.Point(f[0],f[1]);m=new d.Point(f[f.length-2],f[f.length-1]);h.x===m.x&&h.y===m.y&&(f=f.slice(),f.pop(),f.pop(),m=new d.Point(f[f.length-2],f[f.length-1]),c=m.x+.5*(h.x-m.x),h=m.y+.5*(h.y-m.y),f.unshift(c,h),f.push(c,h));c=b.points;b=b.indices;t=f.length/2;h=f.length;m=c.length/6;g=a.lineWidth/2;var w=(0,e.hex2rgb)(a.lineColor);u=a.lineAlpha;v=w[0]*u;n=w[1]*u;w=w[2]*u;var D=f[0],r=f[1],C=f[2],z=f[3],x=-(r-z),E=D-C,K=Math.sqrt(x*x+E*E);x=x/K*g;E=E/K*g;C=a.lineAlignment;a=2*(1-C);var I=2*C;c.push(D-
x*a,r-E*a,v,n,w,u);c.push(D+x*I,r+E*I,v,n,w,u);for(var A=1;A<t-1;++A){D=f[2*(A-1)];r=f[2*(A-1)+1];C=f[2*A];z=f[2*A+1];var y=f[2*(A+1)];var J=f[2*(A+1)+1];x=-(r-z);E=D-C;K=Math.sqrt(x*x+E*E);x/=K;E/=K;x*=g;E*=g;var H=-(z-J);var G=C-y;K=Math.sqrt(H*H+G*G);H/=K;G/=K;H*=g;G*=g;K=-E+r-(-E+z);var M=-x+C-(-x+D);D=(-x+D)*(-E+z)-(-x+C)*(-E+r);r=-G+J-(-G+z);var V=-H+C-(-H+y);y=(-H+y)*(-G+z)-(-H+C)*(-G+J);J=K*V-r*M;.1>Math.abs(J)?(c.push(C-x*a,z-E*a,v,n,w,u),c.push(C+x*I,z+E*I,v,n,w,u)):(M=(M*y-V*D)/J,K=(r*
D-K*y)/J,(M-C)*(M-C)+(K-z)*(K-z)>196*g*g?(x-=H,E-=G,K=Math.sqrt(x*x+E*E),x/=K,E/=K,x*=g,E*=g,c.push(C-x*a,z-E*a),c.push(v,n,w,u),c.push(C+x*I,z+E*I),c.push(v,n,w,u),c.push(C-x*I*a,z-E*a),c.push(v,n,w,u),h++):(c.push(C+(M-C)*a,z+(K-z)*a),c.push(v,n,w,u),c.push(C-(M-C)*I,z-(K-z)*I),c.push(v,n,w,u)))}D=f[2*(t-2)];r=f[2*(t-2)+1];C=f[2*(t-1)];z=f[2*(t-1)+1];x=-(r-z);E=D-C;K=Math.sqrt(x*x+E*E);x=x/K*g;E=E/K*g;c.push(C-x*a,z-E*a);c.push(v,n,w,u);c.push(C+x*I,z+E*I);c.push(v,n,w,u);b.push(m);for(f=0;f<h;++f)b.push(m++);
b.push(m-1)}};var d=a("../../../math"),e=a("../../../utils")},{"../../../math":70,"../../../utils":125}],62:[function(a,b,c){c.__esModule=!0;c.default=function(a,b,c){a.points=a.shape.points.slice();var g=a.points;if(a.fill&&6<=g.length){for(var h=[],k=a.holes,t=0;t<k.length;t++){var u=k[t];h.push(g.length/2);g=g.concat(u.points)}k=b.points;var v=b.indices;t=g.length/2;var n=(0,e.hex2rgb)(a.fillColor);u=a.fillAlpha;var w=n[0]*u,D=n[1]*u;n=n[2]*u;h=(0,f.default)(g,h,2);if(!h)return;for(var r=k.length/
6,C=0;C<h.length;C+=3)v.push(h[C]+r),v.push(h[C]+r),v.push(h[C+1]+r),v.push(h[C+2]+r),v.push(h[C+2]+r);for(h=0;h<t;h++)k.push(g[2*h],g[2*h+1],w,D,n,u)}0<a.lineWidth&&(0,d.default)(a,b,c)};var d=(b=a("./buildLine"))&&b.__esModule?b:{default:b},e=a("../../../utils"),f=(a=a("earcut"))&&a.__esModule?a:{default:a}},{"../../../utils":125,"./buildLine":61,earcut:2}],63:[function(a,b,c){c.__esModule=!0;c.default=function(a,b,c){var f=a.shape,g=f.x,h=f.y,m=f.width;f=f.height;if(a.fill){var t=(0,e.hex2rgb)(a.fillColor),
u=a.fillAlpha,v=t[0]*u,n=t[1]*u;t=t[2]*u;var w=b.points,D=b.indices,r=w.length/6;w.push(g,h);w.push(v,n,t,u);w.push(g+m,h);w.push(v,n,t,u);w.push(g,h+f);w.push(v,n,t,u);w.push(g+m,h+f);w.push(v,n,t,u);D.push(r,r,r+1,r+2,r+3,r+3)}a.lineWidth&&(u=a.points,a.points=[g,h,g+m,h,g+m,h+f,g,h+f,g,h],(0,d.default)(a,b,c),a.points=u)};var d=(b=a("./buildLine"))&&b.__esModule?b:{default:b},e=a("../../../utils")},{"../../../utils":125,"./buildLine":61}],64:[function(a,b,c){function d(a,b,c,d,e,f){for(var g=6<
arguments.length&&void 0!==arguments[6]?arguments[6]:[],h,k,p,l,r=0,m;20>=r;++r)m=r/20,h=a+(c-a)*m,k=b+(d-b)*m,p=c+(e-c)*m,l=d+(f-d)*m,h+=(p-h)*m,k+=(l-k)*m,g.push(h,k);return g}c.__esModule=!0;c.default=function(a,b,c){var g=a.shape,k=g.x,p=g.y,u=g.width,v=g.height,n=g.radius;g=[];g.push(k,p+n);d(k,p+v-n,k,p+v,k+n,p+v,g);d(k+u-n,p+v,k+u,p+v,k+u,p+v-n,g);d(k+u,p+n,k+u,p,k+u-n,p,g);d(k+n,p,k,p,k,p+n+1E-10,g);if(a.fill){v=(0,h.hex2rgb)(a.fillColor);k=a.fillAlpha;p=v[0]*k;u=v[1]*k;v=v[2]*k;n=b.points;
for(var w=b.indices,D=n.length/6,r=(0,e.default)(g,null,2),C=0,z=r.length;C<z;C+=3)w.push(r[C]+D),w.push(r[C]+D),w.push(r[C+1]+D),w.push(r[C+2]+D),w.push(r[C+2]+D);w=0;for(D=g.length;w<D;w++)n.push(g[w],g[++w],p,u,v,k)}a.lineWidth&&(k=a.points,a.points=g,(0,f.default)(a,b,c),a.points=k)};var e=(b=a("earcut"))&&b.__esModule?b:{default:b},f=(b=a("./buildLine"))&&b.__esModule?b:{default:b},h=a("../../../utils")},{"../../../utils":125,"./buildLine":61,earcut:2}],65:[function(a,b,c){function d(a){if(a&&
a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}function e(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;c.autoDetectRenderer=c.Application=c.Filter=c.SpriteMaskFilter=c.Quad=c.RenderTarget=c.ObjectRenderer=c.WebGLManager=c.Shader=c.CanvasRenderTarget=c.TextureUvs=c.VideoBaseTexture=c.BaseRenderTexture=c.RenderTexture=c.BaseTexture=c.TextureMatrix=c.Texture=c.Spritesheet=c.CanvasGraphicsRenderer=c.GraphicsRenderer=
c.GraphicsData=c.Graphics=c.TextMetrics=c.TextStyle=c.Text=c.SpriteRenderer=c.CanvasTinter=c.CanvasSpriteRenderer=c.Sprite=c.TransformBase=c.TransformStatic=c.Transform=c.Container=c.DisplayObject=c.Bounds=c.glCore=c.WebGLRenderer=c.CanvasRenderer=c.ticker=c.utils=c.settings=void 0;var f=a("./const");Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(c,a,{enumerable:!0,get:function(){return f[a]}})});var h=a("./math");Object.keys(h).forEach(function(a){"default"!==
a&&"__esModule"!==a&&Object.defineProperty(c,a,{enumerable:!0,get:function(){return h[a]}})});var g=a("pixi-gl-core");Object.defineProperty(c,"glCore",{enumerable:!0,get:function(){return e(g).default}});var k=a("./display/Bounds");Object.defineProperty(c,"Bounds",{enumerable:!0,get:function(){return e(k).default}});var p=a("./display/DisplayObject");Object.defineProperty(c,"DisplayObject",{enumerable:!0,get:function(){return e(p).default}});var l=a("./display/Container");Object.defineProperty(c,
"Container",{enumerable:!0,get:function(){return e(l).default}});var m=a("./display/Transform");Object.defineProperty(c,"Transform",{enumerable:!0,get:function(){return e(m).default}});var t=a("./display/TransformStatic");Object.defineProperty(c,"TransformStatic",{enumerable:!0,get:function(){return e(t).default}});var u=a("./display/TransformBase");Object.defineProperty(c,"TransformBase",{enumerable:!0,get:function(){return e(u).default}});var v=a("./sprites/Sprite");Object.defineProperty(c,"Sprite",
{enumerable:!0,get:function(){return e(v).default}});var n=a("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(c,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return e(n).default}});var w=a("./sprites/canvas/CanvasTinter");Object.defineProperty(c,"CanvasTinter",{enumerable:!0,get:function(){return e(w).default}});var D=a("./sprites/webgl/SpriteRenderer");Object.defineProperty(c,"SpriteRenderer",{enumerable:!0,get:function(){return e(D).default}});var r=a("./text/Text");Object.defineProperty(c,
"Text",{enumerable:!0,get:function(){return e(r).default}});var C=a("./text/TextStyle");Object.defineProperty(c,"TextStyle",{enumerable:!0,get:function(){return e(C).default}});var z=a("./text/TextMetrics");Object.defineProperty(c,"TextMetrics",{enumerable:!0,get:function(){return e(z).default}});var x=a("./graphics/Graphics");Object.defineProperty(c,"Graphics",{enumerable:!0,get:function(){return e(x).default}});var E=a("./graphics/GraphicsData");Object.defineProperty(c,"GraphicsData",{enumerable:!0,
get:function(){return e(E).default}});var K=a("./graphics/webgl/GraphicsRenderer");Object.defineProperty(c,"GraphicsRenderer",{enumerable:!0,get:function(){return e(K).default}});var I=a("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(c,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return e(I).default}});var A=a("./textures/Spritesheet");Object.defineProperty(c,"Spritesheet",{enumerable:!0,get:function(){return e(A).default}});var y=a("./textures/Texture");Object.defineProperty(c,
"Texture",{enumerable:!0,get:function(){return e(y).default}});var J=a("./textures/TextureMatrix");Object.defineProperty(c,"TextureMatrix",{enumerable:!0,get:function(){return e(J).default}});var H=a("./textures/BaseTexture");Object.defineProperty(c,"BaseTexture",{enumerable:!0,get:function(){return e(H).default}});var G=a("./textures/RenderTexture");Object.defineProperty(c,"RenderTexture",{enumerable:!0,get:function(){return e(G).default}});var M=a("./textures/BaseRenderTexture");Object.defineProperty(c,
"BaseRenderTexture",{enumerable:!0,get:function(){return e(M).default}});var V=a("./textures/VideoBaseTexture");Object.defineProperty(c,"VideoBaseTexture",{enumerable:!0,get:function(){return e(V).default}});var T=a("./textures/TextureUvs");Object.defineProperty(c,"TextureUvs",{enumerable:!0,get:function(){return e(T).default}});var U=a("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(c,"CanvasRenderTarget",{enumerable:!0,get:function(){return e(U).default}});var X=a("./Shader");
Object.defineProperty(c,"Shader",{enumerable:!0,get:function(){return e(X).default}});var O=a("./renderers/webgl/managers/WebGLManager");Object.defineProperty(c,"WebGLManager",{enumerable:!0,get:function(){return e(O).default}});var Q=a("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(c,"ObjectRenderer",{enumerable:!0,get:function(){return e(Q).default}});var da=a("./renderers/webgl/utils/RenderTarget");Object.defineProperty(c,"RenderTarget",{enumerable:!0,get:function(){return e(da).default}});
var N=a("./renderers/webgl/utils/Quad");Object.defineProperty(c,"Quad",{enumerable:!0,get:function(){return e(N).default}});var ea=a("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(c,"SpriteMaskFilter",{enumerable:!0,get:function(){return e(ea).default}});var ba=a("./renderers/webgl/filters/Filter");Object.defineProperty(c,"Filter",{enumerable:!0,get:function(){return e(ba).default}});var ya=a("./Application");Object.defineProperty(c,"Application",{enumerable:!0,get:function(){return e(ya).default}});
var Ca=a("./autoDetectRenderer");Object.defineProperty(c,"autoDetectRenderer",{enumerable:!0,get:function(){return Ca.autoDetectRenderer}});b=a("./utils");b=d(b);var fa=a("./ticker");fa=d(fa);var Z=a("./settings");Z=e(Z);var sa=a("./renderers/canvas/CanvasRenderer");sa=e(sa);a=a("./renderers/webgl/WebGLRenderer");a=e(a);c.settings=Z.default;c.utils=b;c.ticker=fa;c.CanvasRenderer=sa.default;c.WebGLRenderer=a.default},{"./Application":43,"./Shader":44,"./autoDetectRenderer":45,"./const":46,"./display/Bounds":47,
"./display/Container":48,"./display/DisplayObject":49,"./display/Transform":50,"./display/TransformBase":51,"./display/TransformStatic":52,"./graphics/Graphics":53,"./graphics/GraphicsData":54,"./graphics/canvas/CanvasGraphicsRenderer":55,"./graphics/webgl/GraphicsRenderer":57,"./math":70,"./renderers/canvas/CanvasRenderer":77,"./renderers/canvas/utils/CanvasRenderTarget":79,"./renderers/webgl/WebGLRenderer":84,"./renderers/webgl/filters/Filter":86,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":89,
"./renderers/webgl/managers/WebGLManager":93,"./renderers/webgl/utils/ObjectRenderer":94,"./renderers/webgl/utils/Quad":95,"./renderers/webgl/utils/RenderTarget":96,"./settings":101,"./sprites/Sprite":102,"./sprites/canvas/CanvasSpriteRenderer":103,"./sprites/canvas/CanvasTinter":104,"./sprites/webgl/SpriteRenderer":106,"./text/Text":108,"./text/TextMetrics":109,"./text/TextStyle":110,"./textures/BaseRenderTexture":111,"./textures/BaseTexture":112,"./textures/RenderTexture":113,"./textures/Spritesheet":114,
"./textures/Texture":115,"./textures/TextureMatrix":116,"./textures/TextureUvs":117,"./textures/VideoBaseTexture":118,"./ticker":121,"./utils":125,"pixi-gl-core":15}],66:[function(a,b,c){function d(a){return 0>a?-1:0<a?1:0}c.__esModule=!0;var e=(a=a("./Matrix"))&&a.__esModule?a:{default:a},f=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],h=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],g=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],k=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],p=[],l=[];(function(){for(var a=0;16>a;a++){var b=
[];l.push(b);for(var c=0;16>c;c++)for(var n=d(f[a]*f[c]+g[a]*h[c]),m=d(h[a]*f[c]+k[a]*h[c]),D=d(f[a]*g[c]+g[a]*k[c]),r=d(h[a]*g[c]+k[a]*k[c]),C=0;16>C;C++)if(f[C]===n&&h[C]===m&&g[C]===D&&k[C]===r){b.push(C);break}}for(a=0;16>a;a++)b=new e.default,b.set(f[a],h[a],g[a],k[a],0,0),p.push(b)})();var m={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(a){return f[a]},uY:function(a){return h[a]},vX:function(a){return g[a]},vY:function(a){return k[a]},inv:function(a){return a&
8?a&15:-a&7},add:function(a,b){return l[a][b]},sub:function(a,b){return l[a][m.inv(b)]},rotate180:function(a){return a^4},isVertical:function(a){return 2===(a&3)},byDirection:function(a,b){return 2*Math.abs(a)<=Math.abs(b)?0<=b?m.S:m.N:2*Math.abs(b)<=Math.abs(a)?0<a?m.E:m.W:0<b?0<a?m.SE:m.SW:0<a?m.NE:m.NW},matrixAppendRotationInv:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,e=p[m.inv(b)];e.tx=c;e.ty=d;a.append(e)}};
c.default=m},{"./Matrix":67}],67:[function(a,b,c){c.__esModule=!0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(b=a("./Point"))&&b.__esModule?b:{default:b},f=a("../const");a=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,c=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,f=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,h=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.a=b;this.b=c;this.c=d;this.d=e;this.tx=f;this.ty=h;this.array=null}a.prototype.fromArray=function(a){this.a=a[0];this.b=a[1];this.c=a[3];this.d=a[4];this.tx=a[2];this.ty=
a[5]};a.prototype.set=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=e;this.ty=f;return this};a.prototype.toArray=function(a,b){this.array||(this.array=new Float32Array(9));b=b||this.array;a?(b[0]=this.a,b[1]=this.b,b[2]=0,b[3]=this.c,b[4]=this.d,b[5]=0,b[6]=this.tx,b[7]=this.ty):(b[0]=this.a,b[1]=this.c,b[2]=this.tx,b[3]=this.b,b[4]=this.d,b[5]=this.ty,b[6]=0,b[7]=0);b[8]=1;return b};a.prototype.apply=function(a,b){b=b||new e.default;var c=a.x;a=a.y;b.x=this.a*c+this.c*a+this.tx;
b.y=this.b*c+this.d*a+this.ty;return b};a.prototype.applyInverse=function(a,b){b=b||new e.default;var c=1/(this.a*this.d+this.c*-this.b),d=a.x;a=a.y;b.x=this.d*c*d+-this.c*c*a+(this.ty*this.c-this.tx*this.d)*c;b.y=this.a*c*a+-this.b*c*d+(-this.ty*this.a+this.tx*this.b)*c;return b};a.prototype.translate=function(a,b){this.tx+=a;this.ty+=b;return this};a.prototype.scale=function(a,b){this.a*=a;this.d*=b;this.c*=a;this.b*=b;this.tx*=a;this.ty*=b;return this};a.prototype.rotate=function(a){var b=Math.cos(a);
a=Math.sin(a);var c=this.a,d=this.c,e=this.tx;this.a=c*b-this.b*a;this.b=c*a+this.b*b;this.c=d*b-this.d*a;this.d=d*a+this.d*b;this.tx=e*b-this.ty*a;this.ty=e*a+this.ty*b;return this};a.prototype.append=function(a){var b=this.a,c=this.b,d=this.c,e=this.d;this.a=a.a*b+a.b*d;this.b=a.a*c+a.b*e;this.c=a.c*b+a.d*d;this.d=a.c*c+a.d*e;this.tx=a.tx*b+a.ty*d+this.tx;this.ty=a.tx*c+a.ty*e+this.ty;return this};a.prototype.setTransform=function(a,b,c,d,e,f,h,v,n){this.a=Math.cos(h+n)*e;this.b=Math.sin(h+n)*e;
this.c=-Math.sin(h-v)*f;this.d=Math.cos(h-v)*f;this.tx=a-(c*this.a+d*this.c);this.ty=b-(c*this.b+d*this.d);return this};a.prototype.prepend=function(a){var b=this.tx;if(1!==a.a||0!==a.b||0!==a.c||1!==a.d){var c=this.a,d=this.c;this.a=c*a.a+this.b*a.c;this.b=c*a.b+this.b*a.d;this.c=d*a.a+this.d*a.c;this.d=d*a.b+this.d*a.d}this.tx=b*a.a+this.ty*a.c+a.tx;this.ty=b*a.b+this.ty*a.d+a.ty;return this};a.prototype.decompose=function(a){var b=this.a,c=this.b,d=this.c,e=this.d,g=-Math.atan2(-d,e),h=Math.atan2(c,
b),v=Math.abs(g+h);1E-5>v||1E-5>Math.abs(f.PI_2-v)?(a.rotation=h,0>b&&0<=e&&(a.rotation+=0>=a.rotation?Math.PI:-Math.PI),a.skew.x=a.skew.y=0):(a.rotation=0,a.skew.x=g,a.skew.y=h);a.scale.x=Math.sqrt(b*b+c*c);a.scale.y=Math.sqrt(d*d+e*e);a.position.x=this.tx;a.position.y=this.ty;return a};a.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;this.a=d/f;this.b=-b/f;this.c=-c/f;this.d=a/f;this.tx=(c*this.ty-d*e)/f;this.ty=-(a*this.ty-b*e)/f;return this};a.prototype.identity=
function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this};a.prototype.clone=function(){var b=new a;b.a=this.a;b.b=this.b;b.c=this.c;b.d=this.d;b.tx=this.tx;b.ty=this.ty;return b};a.prototype.copy=function(a){a.a=this.a;a.b=this.b;a.c=this.c;a.d=this.d;a.tx=this.tx;a.ty=this.ty;return a};d(a,null,[{key:"IDENTITY",get:function(){return new a}},{key:"TEMP_MATRIX",get:function(){return new a}}]);return a}();c.default=a},{"../const":46,"./Point":69}],68:[function(a,b,c){c.__esModule=
!0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();a=function(){function a(b,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._x=d;this._y=
e;this.cb=b;this.scope=c}a.prototype.set=function(a,b){a=a||0;b=b||(0!==b?a:0);if(this._x!==a||this._y!==b)this._x=a,this._y=b,this.cb.call(this.scope)};a.prototype.copy=function(a){if(this._x!==a.x||this._y!==a.y)this._x=a.x,this._y=a.y,this.cb.call(this.scope)};d(a,[{key:"x",get:function(){return this._x},set:function(a){this._x!==a&&(this._x=a,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(a){this._y!==a&&(this._y=a,this.cb.call(this.scope))}}]);return a}();c.default=
a},{}],69:[function(a,b,c){c.__esModule=!0;a=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.x=b;this.y=c}a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.copy=function(a){this.set(a.x,a.y)};a.prototype.equals=function(a){return a.x===this.x&&a.y===this.y};a.prototype.set=function(a,b){this.x=a||
0;this.y=b||(0!==b?this.x:0)};return a}();c.default=a},{}],70:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./Point");Object.defineProperty(c,"Point",{enumerable:!0,get:function(){return d(e).default}});var f=a("./ObservablePoint");Object.defineProperty(c,"ObservablePoint",{enumerable:!0,get:function(){return d(f).default}});var h=a("./Matrix");Object.defineProperty(c,"Matrix",{enumerable:!0,get:function(){return d(h).default}});var g=a("./GroupD8");
Object.defineProperty(c,"GroupD8",{enumerable:!0,get:function(){return d(g).default}});var k=a("./shapes/Circle");Object.defineProperty(c,"Circle",{enumerable:!0,get:function(){return d(k).default}});var p=a("./shapes/Ellipse");Object.defineProperty(c,"Ellipse",{enumerable:!0,get:function(){return d(p).default}});var l=a("./shapes/Polygon");Object.defineProperty(c,"Polygon",{enumerable:!0,get:function(){return d(l).default}});var m=a("./shapes/Rectangle");Object.defineProperty(c,"Rectangle",{enumerable:!0,
get:function(){return d(m).default}});var t=a("./shapes/RoundedRectangle");Object.defineProperty(c,"RoundedRectangle",{enumerable:!0,get:function(){return d(t).default}})},{"./GroupD8":66,"./Matrix":67,"./ObservablePoint":68,"./Point":69,"./shapes/Circle":71,"./shapes/Ellipse":72,"./shapes/Polygon":73,"./shapes/Rectangle":74,"./shapes/RoundedRectangle":75}],71:[function(a,b,c){c.__esModule=!0;var d=(b=a("./Rectangle"))&&b.__esModule?b:{default:b},e=a("../../const");a=function(){function a(){var b=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.x=b;this.y=c;this.radius=d;this.type=e.SHAPES.CIRC}a.prototype.clone=function(){return new a(this.x,this.y,this.radius)};a.prototype.contains=function(a,b){if(0>=this.radius)return!1;a=this.x-a;b=this.y-b;return a*a+b*b<=this.radius*this.radius};
a.prototype.getBounds=function(){return new d.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};return a}();c.default=a},{"../../const":46,"./Rectangle":74}],72:[function(a,b,c){c.__esModule=!0;var d=(b=a("./Rectangle"))&&b.__esModule?b:{default:b},e=a("../../const");a=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,
f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.x=b;this.y=c;this.width=d;this.height=f;this.type=e.SHAPES.ELIP}a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.contains=function(a,b){if(0>=this.width||0>=this.height)return!1;a=(a-this.x)/this.width;b=(b-this.y)/this.height;return 1>=a*a+b*b};a.prototype.getBounds=function(){return new d.default(this.x-this.width,
this.y-this.height,this.width,this.height)};return a}();c.default=a},{"../../const":46,"./Rectangle":74}],73:[function(a,b,c){c.__esModule=!0;var d=(b=a("../Point"))&&b.__esModule?b:{default:b},e=a("../../const");a=function(){function a(){for(var b=arguments.length,c=Array(b),f=0;f<b;f++)c[f]=arguments[f];if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");Array.isArray(c[0])&&(c=c[0]);if(c[0]instanceof d.default){b=[];f=0;for(var p=c.length;f<p;f++)b.push(c[f].x,c[f].y);
c=b}this.closed=!0;this.points=c;this.type=e.SHAPES.POLY}a.prototype.clone=function(){return new a(this.points.slice())};a.prototype.close=function(){var a=this.points;a[0]===a[a.length-2]&&a[1]===a[a.length-1]||a.push(a[0],a[1])};a.prototype.contains=function(a,b){for(var c=!1,d=this.points.length/2,e=0,f=d-1;e<d;f=e++){var g=this.points[2*e],h=this.points[2*e+1],v=this.points[2*f];f=this.points[2*f+1];h>b!==f>b&&a<(b-h)/(f-h)*(v-g)+g&&(c=!c)}return c};return a}();c.default=a},{"../../const":46,
"../Point":69}],74:[function(a,b,c){c.__esModule=!0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=a("../../const");a=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:0,f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.x=Number(b);this.y=Number(c);this.width=Number(d);this.height=Number(f);this.type=e.SHAPES.RECT}a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this};a.prototype.contains=function(a,b){return 0>=this.width||0>=
this.height?!1:a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height?!0:!1};a.prototype.pad=function(a,b){a=a||0;b=b||(0!==b?a:0);this.x-=a;this.y-=b;this.width+=2*a;this.height+=2*b};a.prototype.fit=function(a){this.x<a.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=a.x);this.y<a.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=a.y);this.x+this.width>a.x+a.width&&(this.width=a.width-this.x,0>this.width&&(this.width=0));this.y+this.height>a.y+a.height&&(this.height=
a.height-this.y,0>this.height&&(this.height=0))};a.prototype.enlarge=function(a){var b=Math.min(this.x,a.x),c=Math.max(this.x+this.width,a.x+a.width),d=Math.min(this.y,a.y);a=Math.max(this.y+this.height,a.y+a.height);this.x=b;this.width=c-b;this.y=d;this.height=a-d};d(a,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new a(0,
0,0,0)}}]);return a}();c.default=a},{"../../const":46}],75:[function(a,b,c){c.__esModule=!0;var d=a("../../const");a=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,k=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,p=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.x=b;this.y=c;this.width=e;this.height=k;this.radius=p;this.type=d.SHAPES.RREC}a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.radius)};a.prototype.contains=function(a,b){if(0>=this.width||0>=this.height)return!1;if(a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height){if(b>=this.y+this.radius&&b<=this.y+this.height-this.radius||a>=this.x+this.radius&&a<=this.x+this.width-this.radius)return!0;var c=a-(this.x+this.radius),d=b-(this.y+this.radius),
e=this.radius*this.radius;if(c*c+d*d<=e)return!0;c=a-(this.x+this.width-this.radius);if(c*c+d*d<=e)return!0;d=b-(this.y+this.height-this.radius);if(c*c+d*d<=e)return!0;c=a-(this.x+this.radius);if(c*c+d*d<=e)return!0}return!1};return a}();c.default=a},{"../../const":46}],76:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&
b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=a("../utils"),g=a("../math"),k=a("../const");b=a("../settings");var p=d(b);b=a("../display/Container");
var l=d(b);b=a("../textures/RenderTexture");var m=d(b);a=a("eventemitter3");a=d(a);var t=new g.Matrix;a=function(a){function b(c,d,e,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var n=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");n=!n||"object"!==typeof n&&"function"!==typeof n?this:n;(0,h.sayHello)(c);"number"===typeof d&&(d=Object.assign({width:d,height:e||p.default.RENDER_OPTIONS.height},f));d=
Object.assign({},p.default.RENDER_OPTIONS,d);n.options=d;n.type=k.RENDERER_TYPE.UNKNOWN;n.screen=new g.Rectangle(0,0,d.width,d.height);n.view=d.view||document.createElement("canvas");n.resolution=d.resolution||p.default.RESOLUTION;n.transparent=d.transparent;n.autoResize=d.autoResize||!1;n.blendModes=null;n.preserveDrawingBuffer=d.preserveDrawingBuffer;n.clearBeforeRender=d.clearBeforeRender;n.roundPixels=d.roundPixels;n._backgroundColor=0;n._backgroundColorRgba=[0,0,0,0];n._backgroundColorString=
"#000000";n.backgroundColor=d.backgroundColor||n._backgroundColor;n._tempDisplayObjectParent=new l.default;n._lastObjectRendered=n._tempDisplayObjectParent;return n}e(b,a);b.prototype.resize=function(a,b){this.screen.width=a;this.screen.height=b;this.view.width=a*this.resolution;this.view.height=b*this.resolution;this.autoResize&&(this.view.style.width=a+"px",this.view.style.height=b+"px")};b.prototype.generateTexture=function(a,b,c,d){d=d||a.getLocalBounds();b=m.default.create(d.width|0,d.height|
0,b,c);t.tx=-d.x;t.ty=-d.y;this.render(a,b,!1,t,!0);return b};b.prototype.destroy=function(a){a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.type=k.RENDERER_TYPE.UNKNOWN;this.screen=this.view=null;this.resolution=0;this.autoResize=this.transparent=!1;this.options=this.blendModes=null;this.roundPixels=this.clearBeforeRender=this.preserveDrawingBuffer=!1;this._backgroundColor=0;this._lastObjectRendered=this._tempDisplayObjectParent=this._backgroundColorString=this._backgroundColorRgba=
null};f(b,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a;this._backgroundColorString=(0,h.hex2string)(a);(0,h.hex2rgb)(a,this._backgroundColorRgba)}}]);return b}(a.default);c.default=a},{"../const":46,"../display/Container":48,"../math":70,"../settings":101,"../textures/RenderTexture":113,"../utils":125,eventemitter3:3}],77:[function(a,
b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;b=a("../SystemRenderer");b=d(b);var f=a("./utils/CanvasMaskManager"),h=d(f);f=a("./utils/CanvasRenderTarget");var g=
d(f);f=a("./utils/mapCanvasBlendModesToPixi");var k=d(f);f=a("../../utils");var p=a("../../const");a=a("../../settings");var l=d(a);a=function(a){function b(c,d,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,"Canvas",c,d,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.type=p.RENDERER_TYPE.CANVAS;c.rootContext=c.view.getContext("2d",{alpha:c.transparent});
c.context=c.rootContext;c.refresh=!0;c.maskManager=new h.default(c);c.smoothProperty="imageSmoothingEnabled";c.rootContext.imageSmoothingEnabled||(c.rootContext.webkitImageSmoothingEnabled?c.smoothProperty="webkitImageSmoothingEnabled":c.rootContext.mozImageSmoothingEnabled?c.smoothProperty="mozImageSmoothingEnabled":c.rootContext.oImageSmoothingEnabled?c.smoothProperty="oImageSmoothingEnabled":c.rootContext.msImageSmoothingEnabled&&(c.smoothProperty="msImageSmoothingEnabled"));c.initPlugins();c.blendModes=
(0,k.default)();c._activeBlendMode=null;c.renderingToScreen=!1;c.resize(c.options.width,c.options.height);return c}e(b,a);b.prototype.render=function(a,b,c,d,e){if(this.view){this.renderingToScreen=!b;this.emit("prerender");var f=this.resolution;b?(b=b.baseTexture||b,b._canvasRenderTarget||(b._canvasRenderTarget=new g.default(b.width,b.height,b.resolution),b.source=b._canvasRenderTarget.canvas,b.valid=!0),this.context=b._canvasRenderTarget.context,this.resolution=b._canvasRenderTarget.resolution):
this.context=this.rootContext;var h=this.context;b||(this._lastObjectRendered=a);e||(b=a.parent,e=this._tempDisplayObjectParent.transform.worldTransform,d?(d.copy(e),this._tempDisplayObjectParent.transform._worldID=-1):e.identity(),a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=b);h.save();h.setTransform(1,0,0,1,0,0);h.globalAlpha=1;this._activeBlendMode=p.BLEND_MODES.NORMAL;h.globalCompositeOperation=this.blendModes[p.BLEND_MODES.NORMAL];navigator.isCocoonJS&&this.view.screencanvas&&
(h.fillStyle="black",h.clear());(void 0!==c?c:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?h.clearRect(0,0,this.width,this.height):(h.fillStyle=this._backgroundColorString,h.fillRect(0,0,this.width,this.height)));c=this.context;this.context=h;a.renderCanvas(this);this.context=c;h.restore();this.resolution=f;this.emit("postrender")}};b.prototype.clear=function(a){var b=this.context;a=a||this._backgroundColorString;!this.transparent&&a?(b.fillStyle=a,b.fillRect(0,0,this.width,
this.height)):b.clearRect(0,0,this.width,this.height)};b.prototype.setBlendMode=function(a){this._activeBlendMode!==a&&(this._activeBlendMode=a,this.context.globalCompositeOperation=this.blendModes[a])};b.prototype.destroy=function(b){this.destroyPlugins();a.prototype.destroy.call(this,b);this.context=null;this.refresh=!0;this.maskManager.destroy();this.smoothProperty=this.maskManager=null};b.prototype.resize=function(b,c){a.prototype.resize.call(this,b,c);this.smoothProperty&&(this.rootContext[this.smoothProperty]=
l.default.SCALE_MODE===p.SCALE_MODES.LINEAR)};b.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)};return b}(b.default);c.default=a;f.pluginTarget.mixin(a)},{"../../const":46,"../../settings":101,"../../utils":125,"../SystemRenderer":76,"./utils/CanvasMaskManager":78,"./utils/CanvasRenderTarget":79,"./utils/mapCanvasBlendModesToPixi":81}],78:[function(a,b,c){c.__esModule=!0;var d=a("../../../const");a=function(){function a(b){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.renderer=b}a.prototype.pushMask=function(a){var b=this.renderer;b.context.save();var c=a.alpha,d=a.transform.worldTransform,e=b.resolution;b.context.setTransform(d.a*e,d.b*e,d.c*e,d.d*e,d.tx*e,d.ty*e);a._texture||(this.renderGraphicsShape(a),b.context.clip());a.worldAlpha=c};a.prototype.renderGraphicsShape=function(a){var b=this.renderer.context,c=a.graphicsData.length;if(0!==c){b.beginPath();for(var e=0;e<c;e++){var f=a.graphicsData[e],
l=f.shape;if(f.type===d.SHAPES.POLY){f=l.points;b.moveTo(f[0],f[1]);for(var m=1;m<f.length/2;m++)b.lineTo(f[2*m],f[2*m+1]);f[0]===f[f.length-2]&&f[1]===f[f.length-1]&&b.closePath()}else if(f.type===d.SHAPES.RECT)b.rect(l.x,l.y,l.width,l.height),b.closePath();else if(f.type===d.SHAPES.CIRC)b.arc(l.x,l.y,l.radius,0,2*Math.PI),b.closePath();else if(f.type===d.SHAPES.ELIP){var t=2*l.width;m=2*l.height;f=l.x-t/2;l=l.y-m/2;var u=t/2*.5522848,v=m/2*.5522848,n=f+t,w=l+m;t=f+t/2;m=l+m/2;b.moveTo(f,m);b.bezierCurveTo(f,
m-v,t-u,l,t,l);b.bezierCurveTo(t+u,l,n,m-v,n,m);b.bezierCurveTo(n,m+v,t+u,w,t,w);b.bezierCurveTo(t-u,w,f,m+v,f,m);b.closePath()}else f.type===d.SHAPES.RREC&&(f=l.x,m=l.y,u=l.width,v=l.height,l=l.radius,n=Math.min(u,v)/2|0,l=l>n?n:l,b.moveTo(f,m+l),b.lineTo(f,m+v-l),b.quadraticCurveTo(f,m+v,f+l,m+v),b.lineTo(f+u-l,m+v),b.quadraticCurveTo(f+u,m+v,f+u,m+v-l),b.lineTo(f+u,m+l),b.quadraticCurveTo(f+u,m,f+u-l,m),b.lineTo(f+l,m),b.quadraticCurveTo(f,m,f,m+l),b.closePath())}}};a.prototype.popMask=function(a){a.context.restore();
a.invalidateBlendMode()};a.prototype.destroy=function(){};return a}();c.default=a},{"../../../const":46}],79:[function(a,b,c){c.__esModule=!0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("../../../settings"))&&a.__esModule?a:{default:a};a=function(){function a(b,c,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=d||e.default.RESOLUTION;this.resize(b,c)}a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};a.prototype.resize=function(a,b){this.canvas.width=a*this.resolution;this.canvas.height=b*this.resolution};a.prototype.destroy=function(){this.canvas=this.context=null};d(a,[{key:"width",get:function(){return this.canvas.width},
set:function(a){this.canvas.width=a}},{key:"height",get:function(){return this.canvas.height},set:function(a){this.canvas.height=a}}]);return a}();c.default=a},{"../../../settings":101}],80:[function(a,b,c){function d(a){var b=document.createElement("canvas");b.width=6;b.height=1;var c=b.getContext("2d");c.fillStyle=a;c.fillRect(0,0,6,1);return b}c.__esModule=!0;c.default=function(){if("undefined"===typeof document)return!1;var a=d("#ff00ff"),b=d("#ffff00"),c=document.createElement("canvas");c.width=
6;c.height=1;c=c.getContext("2d");c.globalCompositeOperation="multiply";c.drawImage(a,0,0);c.drawImage(b,2,0);a=c.getImageData(2,0,1,1);if(!a)return!1;a=a.data;return 255===a[0]&&0===a[1]&&0===a[2]}},{}],81:[function(a,b,c){c.__esModule=!0;c.default=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,e.default)()?(a[d.BLEND_MODES.NORMAL]="source-over",a[d.BLEND_MODES.ADD]="lighter",a[d.BLEND_MODES.MULTIPLY]="multiply",a[d.BLEND_MODES.SCREEN]="screen",a[d.BLEND_MODES.OVERLAY]=
"overlay",a[d.BLEND_MODES.DARKEN]="darken",a[d.BLEND_MODES.LIGHTEN]="lighten",a[d.BLEND_MODES.COLOR_DODGE]="color-dodge",a[d.BLEND_MODES.COLOR_BURN]="color-burn",a[d.BLEND_MODES.HARD_LIGHT]="hard-light",a[d.BLEND_MODES.SOFT_LIGHT]="soft-light",a[d.BLEND_MODES.DIFFERENCE]="difference",a[d.BLEND_MODES.EXCLUSION]="exclusion",a[d.BLEND_MODES.HUE]="hue",a[d.BLEND_MODES.SATURATION]="saturate",a[d.BLEND_MODES.COLOR]="color",a[d.BLEND_MODES.LUMINOSITY]="luminosity"):(a[d.BLEND_MODES.NORMAL]="source-over",
a[d.BLEND_MODES.ADD]="lighter",a[d.BLEND_MODES.MULTIPLY]="source-over",a[d.BLEND_MODES.SCREEN]="source-over",a[d.BLEND_MODES.OVERLAY]="source-over",a[d.BLEND_MODES.DARKEN]="source-over",a[d.BLEND_MODES.LIGHTEN]="source-over",a[d.BLEND_MODES.COLOR_DODGE]="source-over",a[d.BLEND_MODES.COLOR_BURN]="source-over",a[d.BLEND_MODES.HARD_LIGHT]="source-over",a[d.BLEND_MODES.SOFT_LIGHT]="source-over",a[d.BLEND_MODES.DIFFERENCE]="source-over",a[d.BLEND_MODES.EXCLUSION]="source-over",a[d.BLEND_MODES.HUE]="source-over",
a[d.BLEND_MODES.SATURATION]="source-over",a[d.BLEND_MODES.COLOR]="source-over",a[d.BLEND_MODES.LUMINOSITY]="source-over");a[d.BLEND_MODES.NORMAL_NPM]=a[d.BLEND_MODES.NORMAL];a[d.BLEND_MODES.ADD_NPM]=a[d.BLEND_MODES.ADD];a[d.BLEND_MODES.SCREEN_NPM]=a[d.BLEND_MODES.SCREEN];return a};var d=a("../../../const"),e=(a=a("./canUseNewCanvasBlendModes"))&&a.__esModule?a:{default:a}},{"../../../const":46,"./canUseNewCanvasBlendModes":80}],82:[function(a,b,c){c.__esModule=!0;var d=a("../../const"),e=(a=a("../../settings"))&&
a.__esModule?a:{default:a};a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=b;this.checkCount=this.count=0;this.maxIdle=e.default.GC_MAX_IDLE;this.checkCountMax=e.default.GC_MAX_CHECK_COUNT;this.mode=e.default.GC_MODE}a.prototype.update=function(){this.count++;this.mode!==d.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))};a.prototype.run=function(){for(var a=this.renderer.textureManager,
b=a._managedTextures,c=!1,d=0;d<b.length;d++){var e=b[d];!e._glRenderTargets&&this.count-e.touched>this.maxIdle&&(a.destroyTexture(e,!0),b[d]=null,c=!0)}if(c){for(c=a=0;c<b.length;c++)null!==b[c]&&(b[a++]=b[c]);b.length=a}};a.prototype.unload=function(a){var b=this.renderer.textureManager;a._texture&&a._texture._glRenderTargets&&b.destroyTexture(a._texture,!0);for(b=a.children.length-1;0<=b;b--)this.unload(a.children[b])};return a}();c.default=a},{"../../const":46,"../../settings":101}],83:[function(a,
b,c){c.__esModule=!0;var d=a("pixi-gl-core"),e=a("../../const"),f=(b=a("./utils/RenderTarget"))&&b.__esModule?b:{default:b},h=a("../../utils");a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=b;this.gl=b.gl;this._managedTextures=[]}a.prototype.bindTexture=function(){};a.prototype.getTexture=function(){};a.prototype.updateTexture=function(a,b){var c=this.gl,g=!!a._glRenderTargets;if(!a.hasLoaded)return null;var h=this.renderer.boundTextures;
if(void 0===b)for(var k=b=0;k<h.length;++k)if(h[k]===a){b=k;break}h[b]=a;c.activeTexture(c.TEXTURE0+b);(c=a._glTextures[this.renderer.CONTEXT_UID])?g?a._glRenderTargets[this.renderer.CONTEXT_UID].resize(a.width,a.height):c.upload(a.source):(g?(b=new f.default(this.gl,a.width,a.height,a.scaleMode,a.resolution),b.resize(a.width,a.height),a._glRenderTargets[this.renderer.CONTEXT_UID]=b,c=b.texture):(c=new d.GLTexture(this.gl,null,null,null,null),c.bind(b),c.premultiplyAlpha=!0,c.upload(a.source)),a._glTextures[this.renderer.CONTEXT_UID]=
c,a.on("update",this.updateTexture,this),a.on("dispose",this.destroyTexture,this),this._managedTextures.push(a),a.isPowerOfTwo?(a.mipmap&&c.enableMipmap(),a.wrapMode===e.WRAP_MODES.CLAMP?c.enableWrapClamp():a.wrapMode===e.WRAP_MODES.REPEAT?c.enableWrapRepeat():c.enableWrapMirrorRepeat()):c.enableWrapClamp(),a.scaleMode===e.SCALE_MODES.NEAREST?c.enableNearestScaling():c.enableLinearScaling());return c};a.prototype.destroyTexture=function(a,b){a=a.baseTexture||a;if(a.hasLoaded){var c=this.renderer.CONTEXT_UID,
d=a._glTextures,e=a._glRenderTargets;d[c]&&(this.renderer.unbindTexture(a),d[c].destroy(),a.off("update",this.updateTexture,this),a.off("dispose",this.destroyTexture,this),delete d[c],b||(a=this._managedTextures.indexOf(a),-1!==a&&(0,h.removeItems)(this._managedTextures,a,1)));e&&e[c]&&(e[c].destroy(),delete e[c])}};a.prototype.removeAll=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];b._glTextures[this.renderer.CONTEXT_UID]&&delete b._glTextures[this.renderer.CONTEXT_UID]}};
a.prototype.destroy=function(){for(var a=0;a<this._managedTextures.length;++a){var b=this._managedTextures[a];this.destroyTexture(b,!0);b.off("update",this.updateTexture,this);b.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return a}();c.default=a},{"../../const":46,"../../utils":125,"./utils/RenderTarget":96,"pixi-gl-core":15}],84:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;b=a("../SystemRenderer");var f=d(b);b=a("./managers/MaskManager");var h=d(b);b=a("./managers/StencilManager");var g=d(b);b=a("./managers/FilterManager");var k=d(b);b=a("./utils/RenderTarget");var p=d(b);b=a("./utils/ObjectRenderer");var l=d(b);b=a("./TextureManager");var m=d(b);b=a("../../textures/BaseTexture");
var t=d(b);b=a("./TextureGarbageCollector");var u=d(b);b=a("./WebGLState");var v=d(b);b=a("./utils/mapWebGLDrawModesToPixi");var n=d(b);b=a("./utils/validateContext");var w=d(b);b=a("../../utils");var D=a("pixi-gl-core"),r=d(D),C=a("../../const"),z=0;a=function(a){function b(c,d,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,"WebGL",c,d,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==
typeof c&&"function"!==typeof c?this:c;c.legacy=c.options.legacy;c.legacy&&(r.default.VertexArrayObject.FORCE_NATIVE=!0);c.type=C.RENDERER_TYPE.WEBGL;c.handleContextLost=c.handleContextLost.bind(c);c.handleContextRestored=c.handleContextRestored.bind(c);c.view.addEventListener("webglcontextlost",c.handleContextLost,!1);c.view.addEventListener("webglcontextrestored",c.handleContextRestored,!1);c._contextOptions={alpha:c.transparent,antialias:c.options.antialias,premultipliedAlpha:c.transparent&&"notMultiplied"!==
c.transparent,stencil:!0,preserveDrawingBuffer:c.options.preserveDrawingBuffer,powerPreference:c.options.powerPreference};c._backgroundColorRgba[3]=c.transparent?0:1;c.maskManager=new h.default(c);c.stencilManager=new g.default(c);c.emptyRenderer=new l.default(c);c.currentRenderer=c.emptyRenderer;c.textureManager=null;c.filterManager=null;c.initPlugins();c.options.context&&(0,w.default)(c.options.context);c.gl=c.options.context||r.default.createContext(c.view,c._contextOptions);c.CONTEXT_UID=z++;
c.state=new v.default(c.gl);c.renderingToScreen=!0;c.boundTextures=null;c._activeShader=null;c._activeVao=null;c._activeRenderTarget=null;c._initContext();c.drawModes=(0,n.default)(c.gl);c._nextTextureLocation=0;c.setBlendMode(0);return c}e(b,a);b.prototype._initContext=function(){var a=this.gl;a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext();var b=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this._activeVao=this._activeShader=null;this.boundTextures=
Array(b);this.emptyTextures=Array(b);this.textureManager=new m.default(this);this.filterManager=new k.default(this);this.textureGC=new u.default(this);this.state.resetToDefault();this.rootRenderTarget=new p.default(a,this.width,this.height,null,this.resolution,!0);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var c=new r.default.GLTexture.fromData(a,null,1,1),d={_glTextures:{}};d._glTextures[this.CONTEXT_UID]={};for(var e=0;e<b;e++){var f=
new t.default;f._glTextures[this.CONTEXT_UID]=c;this.boundTextures[e]=d;this.emptyTextures[e]=f;this.bindTexture(null,e)}this.emit("context",a);this.resize(this.screen.width,this.screen.height)};b.prototype.render=function(a,b,c,d,e){this.renderingToScreen=!b;this.emit("prerender");this.gl&&!this.gl.isContextLost()&&(this._nextTextureLocation=0,b||(this._lastObjectRendered=a),e||(e=a.parent,a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=e),this.bindRenderTexture(b,d),this.currentRenderer.start(),
(void 0!==c?c:this.clearBeforeRender)&&this._activeRenderTarget.clear(),a.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender"))};b.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())};b.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};b.prototype.resize=function(a,b){f.default.prototype.resize.call(this,a,b);this.rootRenderTarget.resize(a,
b);this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))};b.prototype.setBlendMode=function(a){this.state.setBlendMode(a)};b.prototype.clear=function(a){this._activeRenderTarget.clear(a)};b.prototype.setTransform=function(a){this._activeRenderTarget.transform=a};b.prototype.clearRenderTexture=function(a,b){(a=a.baseTexture._glRenderTargets[this.CONTEXT_UID])&&
a.clear(b);return this};b.prototype.bindRenderTexture=function(a,b){if(a){var c=a.baseTexture;c._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(c,0);this.unbindTexture(c);c=c._glRenderTargets[this.CONTEXT_UID];c.setFrame(a.frame)}else c=this.rootRenderTarget;c.transform=b;this.bindRenderTarget(c);return this};b.prototype.bindRenderTarget=function(a){a!==this._activeRenderTarget&&(this._activeRenderTarget=a,a.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=
a.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(a.stencilMaskStack));return this};b.prototype.bindShader=function(a,b){this._activeShader!==a&&(this._activeShader=a,a.bind(),!1!==b&&(a.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0)));return this};b.prototype.bindTexture=function(a,b,c){a=a||this.emptyTextures[b];a=a.baseTexture||a;a.touched=this.textureGC.count;if(c)b=b||0;else{for(c=0;c<this.boundTextures.length;c++)if(this.boundTextures[c]===a)return c;
void 0===b&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,b=this.boundTextures.length-this._nextTextureLocation-1)}c=this.gl;var d=a._glTextures[this.CONTEXT_UID];d?(this.boundTextures[b]=a,c.activeTexture(c.TEXTURE0+b),c.bindTexture(c.TEXTURE_2D,d.texture)):this.textureManager.updateTexture(a,b);return b};b.prototype.unbindTexture=function(a){var b=this.gl;a=a.baseTexture||a;for(var c=0;c<this.boundTextures.length;c++)this.boundTextures[c]===a&&(this.boundTextures[c]=
this.emptyTextures[c],b.activeTexture(b.TEXTURE0+c),b.bindTexture(b.TEXTURE_2D,this.emptyTextures[c]._glTextures[this.CONTEXT_UID].texture));return this};b.prototype.createVao=function(){return new r.default.VertexArrayObject(this.gl,this.state.attribState)};b.prototype.bindVao=function(a){if(this._activeVao===a)return this;a?a.bind():this._activeVao&&this._activeVao.unbind();this._activeVao=a;return this};b.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer);this.bindVao(null);
this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;for(var a=0;a<this.boundTextures.length;a++)this.boundTextures[a]=this.emptyTextures[a];this.rootRenderTarget.activate();this.state.resetToDefault();return this};b.prototype.handleContextLost=function(a){a.preventDefault()};b.prototype.handleContextRestored=function(){this.textureManager.removeAll();this.filterManager.destroy(!0);this._initContext()};b.prototype.destroy=function(b){this.destroyPlugins();this.view.removeEventListener("webglcontextlost",
this.handleContextLost);this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);this.textureManager.destroy();a.prototype.destroy.call(this,b);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this._contextOptions=this.handleContextRestored=this.handleContextLost=this.currentRenderer=this.textureManager=this.filterManager=this.maskManager=null;this.gl.useProgram(null);this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext();
this.gl=null};return b}(f.default);c.default=a;b.pluginTarget.mixin(a)},{"../../const":46,"../../textures/BaseTexture":112,"../../utils":125,"../SystemRenderer":76,"./TextureGarbageCollector":82,"./TextureManager":83,"./WebGLState":85,"./managers/FilterManager":90,"./managers/MaskManager":91,"./managers/StencilManager":92,"./utils/ObjectRenderer":94,"./utils/RenderTarget":96,"./utils/mapWebGLDrawModesToPixi":99,"./utils/validateContext":100,"pixi-gl-core":15}],85:[function(a,b,c){c.__esModule=!0;
var d=(a=a("./utils/mapWebGLBlendModesToPixi"))&&a.__esModule?a:{default:a};a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=1;this.stackIndex=0;this.stack=[];this.gl=b;this.maxAttribs=b.getParameter(b.MAX_VERTEX_ATTRIBS);this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)};this.blendModes=(0,d.default)(b);
this.nativeVaoExtension=b.getExtension("OES_vertex_array_object")||b.getExtension("MOZ_OES_vertex_array_object")||b.getExtension("WEBKIT_OES_vertex_array_object")}a.prototype.push=function(){var a=this.stack[this.stackIndex];a||(a=this.stack[this.stackIndex]=new Uint8Array(16));++this.stackIndex;for(var b=0;b<this.activeState.length;b++)a[b]=this.activeState[b]};a.prototype.pop=function(){var a=this.stack[--this.stackIndex];this.setState(a)};a.prototype.setState=function(a){this.setBlend(a[0]);this.setDepthTest(a[1]);
this.setFrontFace(a[2]);this.setCullFace(a[3]);this.setBlendMode(a[4])};a.prototype.setBlend=function(a){a=a?1:0;this.activeState[0]!==a&&(this.activeState[0]=a,this.gl[a?"enable":"disable"](this.gl.BLEND))};a.prototype.setBlendMode=function(a){a!==this.activeState[4]&&(this.activeState[4]=a,a=this.blendModes[a],2===a.length?this.gl.blendFunc(a[0],a[1]):this.gl.blendFuncSeparate(a[0],a[1],a[2],a[3]))};a.prototype.setDepthTest=function(a){a=a?1:0;this.activeState[1]!==a&&(this.activeState[1]=a,this.gl[a?
"enable":"disable"](this.gl.DEPTH_TEST))};a.prototype.setCullFace=function(a){a=a?1:0;this.activeState[3]!==a&&(this.activeState[3]=a,this.gl[a?"enable":"disable"](this.gl.CULL_FACE))};a.prototype.setFrontFace=function(a){a=a?1:0;this.activeState[2]!==a&&(this.activeState[2]=a,this.gl.frontFace(this.gl[a?"CW":"CCW"]))};a.prototype.resetAttributes=function(){for(var a=0;a<this.attribState.tempAttribState.length;a++)this.attribState.tempAttribState[a]=0;for(a=0;a<this.attribState.attribState.length;a++)this.attribState.attribState[a]=
0;for(a=1;a<this.maxAttribs;a++)this.gl.disableVertexAttribArray(a)};a.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var a=0;a<this.activeState.length;++a)this.activeState[a]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.setState(this.defaultState)};return a}();c.default=a},{"./utils/mapWebGLBlendModesToPixi":98}],86:[function(a,b,c){c.__esModule=!0;var d=function(){function a(a,b){for(var c=0;c<
b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(b=a("./extractUniformsFromSrc"))&&b.__esModule?b:{default:b},f=a("../../../utils"),h=a("../../../const"),g=(a=a("../../../settings"))&&a.__esModule?a:{default:a},k={};a=function(){function a(b,c,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.vertexSrc=b||
a.defaultVertexSrc;this.fragmentSrc=c||a.defaultFragmentSrc;this._blendMode=h.BLEND_MODES.NORMAL;this.uniformData=d||(0,e.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var p in this.uniformData)this.uniforms[p]=this.uniformData[p].value,this.uniformData[p].type&&(this.uniformData[p].type=this.uniformData[p].type.toLowerCase());this.glShaders={};k[this.vertexSrc+this.fragmentSrc]||(k[this.vertexSrc+this.fragmentSrc]=(0,f.uid)());this.glShaderKey=k[this.vertexSrc+
this.fragmentSrc];this.padding=4;this.resolution=g.default.FILTER_RESOLUTION;this.autoFit=this.enabled=!0}a.prototype.apply=function(a,b,c,d,e){a.applyFilter(this,b,c,d)};d(a,[{key:"blendMode",get:function(){return this._blendMode},set:function(a){this._blendMode=a}}],[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}"}},
{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}"}}]);
return a}();c.default=a},{"../../../const":46,"../../../settings":101,"../../../utils":125,"./extractUniformsFromSrc":87}],87:[function(a,b,c){function d(a){var b=/^(projectionMatrix|uSampler|filterArea|filterClamp)$/,c={};a=a.replace(/\s+/g," ").split(/\s*;\s*/);for(var d=0;d<a.length;d++){var f=a[d].trim();if(-1<f.indexOf("uniform")){var l=f.split(" ");f=l[1];var m=l[2],t=1;-1<m.indexOf("[")&&(l=m.split(/\[|]/),m=l[0],t*=Number(l[1]));m.match(b)||(c[m]={value:e(f,t),name:m,type:f})}}return c}c.__esModule=
!0;c.default=function(a,b,c){a=d(a,c);b=d(b,c);return Object.assign(a,b)};a=a("pixi-gl-core");var e=(a&&a.__esModule?a:{default:a}).default.shader.defaultValue},{"pixi-gl-core":15}],88:[function(a,b,c){c.__esModule=!0;c.calculateScreenSpaceMatrix=function(a,b,c){a=a.identity();a.translate(b.x/c.width,b.y/c.height);a.scale(c.width,c.height);return a};c.calculateNormalizedScreenSpaceMatrix=function(a,b,c){a=a.identity();a.translate(b.x/c.width,b.y/c.height);a.scale(c.width/b.width,c.height/b.height);
return a};c.calculateSpriteMatrix=function(a,b,c,g){var e=g._texture.orig;a=a.set(c.width,0,0,c.height,b.x,b.y);b=g.worldTransform.copy(d.Matrix.TEMP_MATRIX);b.invert();a.prepend(b);a.scale(1/e.width,1/e.height);a.translate(g.anchor.x,g.anchor.y);return a};var d=a("../../../math")},{"../../../math":70}],89:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,
{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;b=(b=a("../Filter"))&&b.__esModule?b:{default:b};var e=a("../../../../math");a("path");var f=(a=a("../../../../textures/TextureMatrix"))&&a.__esModule?a:{default:a};a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=new e.Matrix;var f=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;c.renderable=!1;f.maskSprite=c;f.maskMatrix=d;return f}d(b,a);b.prototype.apply=function(a,b,c){var d=this.maskSprite,e=this.maskSprite.texture;e.valid&&(e.transform||(e.transform=new f.default(e,0)),e.transform.update(),this.uniforms.mask=e,this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,d).prepend(e.transform.mapCoord),this.uniforms.alpha=
d.worldAlpha,this.uniforms.maskClamp=e.transform.uClampFrame,a.applyFilter(this,b,c))};return b}(b.default);c.default=a},{"../../../../math":70,"../../../../textures/TextureMatrix":116,"../Filter":86,path:8}],90:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}c.__esModule=!0;b=a("./WebGLManager");b=d(b);var h=a("../utils/RenderTarget"),g=d(h);h=a("../utils/Quad");var k=d(h),p=a("../../../math");h=a("../../../Shader");var l=d(h),m=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../filters/filterTransforms"));
a=a("bit-twiddle");var t=d(a),u=function(){function a(){f(this,a);this.target=this.renderTarget=null;this.resolution=1;this.sourceFrame=new p.Rectangle;this.destinationFrame=new p.Rectangle;this.filters=[]}a.prototype.clear=function(){this.renderTarget=this.target=this.filters=null};return a}();a=function(a){function b(c){f(this,b);var d=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:
d;d.gl=d.renderer.gl;d.quad=new k.default(d.gl,c.state.attribState);d.shaderCache={};d.pool={};d.filterData=null;d.managedFilters=[];d.renderer.on("prerender",d.onPrerender,d);d._screenWidth=c.view.width;d._screenHeight=c.view.height;return d}e(b,a);b.prototype.pushFilter=function(a,b){var c=this.renderer,d=this.filterData;if(!d){var e=new u;e.sourceFrame=e.destinationFrame=this.renderer._activeRenderTarget.size;e.renderTarget=c._activeRenderTarget;this.filterData=this.renderer._activeRenderTarget.filterData=
d={index:0,stack:[e]}}e=d.stack[++d.index];var f=d.stack[0].destinationFrame;e||(e=d.stack[d.index]=new u);var g=a.filterArea&&0===a.filterArea.x&&0===a.filterArea.y&&a.filterArea.width===c.screen.width&&a.filterArea.height===c.screen.height,h=b[0].resolution,k=b[0].padding|0,p=g?c.screen:a.filterArea||a.getBounds(!0),n=e.sourceFrame,l=e.destinationFrame;n.x=(p.x*h|0)/h;n.y=(p.y*h|0)/h;n.width=(p.width*h|0)/h;n.height=(p.height*h|0)/h;g||(d.stack[0].renderTarget.transform||b[0].autoFit&&n.fit(f),
n.pad(k));l.width=n.width;l.height=n.height;d=this.getPotRenderTarget(c.gl,n.width,n.height,h);e.target=a;e.filters=b;e.resolution=h;e.renderTarget=d;d.setFrame(l,n);c.bindRenderTarget(d);d.clear()};b.prototype.popFilter=function(){var a=this.filterData,b=a.stack[a.index-1],c=a.stack[a.index];this.quad.map(c.renderTarget.size,c.sourceFrame).upload();var d=c.filters;if(1===d.length)d[0].apply(this,c.renderTarget,b.renderTarget,!1,c),this.freePotRenderTarget(c.renderTarget);else{var e=c.renderTarget,
f=this.getPotRenderTarget(this.renderer.gl,c.sourceFrame.width,c.sourceFrame.height,c.resolution);f.setFrame(c.destinationFrame,c.sourceFrame);f.clear();var g;for(g=0;g<d.length-1;++g){d[g].apply(this,e,f,!0,c);var h=e;e=f;f=h}d[g].apply(this,e,b.renderTarget,!1,c);this.freePotRenderTarget(e);this.freePotRenderTarget(f)}c.clear();a.index--;0===a.index&&(this.filterData=null)};b.prototype.applyFilter=function(a,b,c,d){var e=this.renderer,f=e.gl,g=a.glShaders[e.CONTEXT_UID];g||(a.glShaderKey?(g=this.shaderCache[a.glShaderKey],
g||(g=new l.default(this.gl,a.vertexSrc,a.fragmentSrc),a.glShaders[e.CONTEXT_UID]=this.shaderCache[a.glShaderKey]=g,this.managedFilters.push(a))):(g=a.glShaders[e.CONTEXT_UID]=new l.default(this.gl,a.vertexSrc,a.fragmentSrc),this.managedFilters.push(a)),e.bindVao(null),this.quad.initVao(g));e.bindVao(this.quad.vao);e.bindRenderTarget(c);d&&(f.disable(f.SCISSOR_TEST),e.clear(),f.enable(f.SCISSOR_TEST));c===e.maskManager.scissorRenderTarget&&e.maskManager.pushScissorMask(null,e.maskManager.scissorData);
e.bindShader(g);c=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=c;this.syncUniforms(g,a);e.state.setBlendMode(a.blendMode);f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,b.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);f.bindTexture(f.TEXTURE_2D,c._glTextures[this.renderer.CONTEXT_UID].texture)};b.prototype.syncUniforms=function(a,b){var c=b.uniformData;b=b.uniforms;var d=1,e=void 0;if(a.uniforms.filterArea){e=this.filterData.stack[this.filterData.index];
var f=a.uniforms.filterArea;f[0]=e.renderTarget.size.width;f[1]=e.renderTarget.size.height;f[2]=e.sourceFrame.x;f[3]=e.sourceFrame.y;a.uniforms.filterArea=f}a.uniforms.filterClamp&&(e=e||this.filterData.stack[this.filterData.index],f=a.uniforms.filterClamp,f[0]=0,f[1]=0,f[2]=(e.sourceFrame.width-1)/e.renderTarget.size.width,f[3]=(e.sourceFrame.height-1)/e.renderTarget.size.height,a.uniforms.filterClamp=f);for(var g in c)e=c[g].type,"sampler2d"===e&&0!==b[g]?(b[g].baseTexture?a.uniforms[g]=this.renderer.bindTexture(b[g].baseTexture,
d):(a.uniforms[g]=d,e=this.renderer.gl,this.renderer.boundTextures[d]=this.renderer.emptyTextures[d],e.activeTexture(e.TEXTURE0+d),b[g].texture.bind()),d++):"mat3"===e?a.uniforms[g]=void 0!==b[g].a?b[g].toArray(!0):b[g]:"vec2"===e?void 0!==b[g].x?(e=a.uniforms[g]||new Float32Array(2),e[0]=b[g].x,e[1]=b[g].y,a.uniforms[g]=e):a.uniforms[g]=b[g]:"float"===e?a.uniforms.data[g].value!==c[g]&&(a.uniforms[g]=b[g]):a.uniforms[g]=b[g]};b.prototype.getRenderTarget=function(a,b){a=this.filterData.stack[this.filterData.index];
b=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,b||a.resolution);b.setFrame(a.destinationFrame,a.sourceFrame);return b};b.prototype.returnRenderTarget=function(a){this.freePotRenderTarget(a)};b.prototype.calculateScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];return m.calculateScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size)};b.prototype.calculateNormalizedScreenSpaceMatrix=function(a){var b=this.filterData.stack[this.filterData.index];
return m.calculateNormalizedScreenSpaceMatrix(a,b.sourceFrame,b.renderTarget.size,b.destinationFrame)};b.prototype.calculateSpriteMatrix=function(a,b){var c=this.filterData.stack[this.filterData.index];return m.calculateSpriteMatrix(a,c.sourceFrame,c.renderTarget.size,b)};b.prototype.destroy=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=this.renderer,c=this.managedFilters;b.off("prerender",this.onPrerender,this);for(var d=0;d<c.length;d++)a||c[d].glShaders[b.CONTEXT_UID].destroy(),
delete c[d].glShaders[b.CONTEXT_UID];this.shaderCache={};a?this.pool={}:this.emptyPool()};b.prototype.getPotRenderTarget=function(a,b,c,d){var e="screen";b*=d;c*=d;if(b!==this._screenWidth||c!==this._screenHeight)b=t.default.nextPow2(b),c=t.default.nextPow2(c),e=(b&65535)<<16|c&65535;this.pool[e]||(this.pool[e]=[]);var f=this.pool[e].pop();if(!f){var h=this.renderer.boundTextures[0];a.activeTexture(a.TEXTURE0);f=new g.default(a,b,c,null,1);a.bindTexture(a.TEXTURE_2D,h._glTextures[this.renderer.CONTEXT_UID].texture)}f.resolution=
d;f.defaultFrame.width=f.size.width=b/d;f.defaultFrame.height=f.size.height=c/d;f.filterPoolKey=e;return f};b.prototype.emptyPool=function(){for(var a in this.pool){var b=this.pool[a];if(b)for(var c=0;c<b.length;c++)b[c].destroy(!0)}this.pool={}};b.prototype.freePotRenderTarget=function(a){this.pool[a.filterPoolKey].push(a)};b.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width;
this._screenHeight=this.renderer.view.height;var a=this.pool.screen;if(a)for(var b=0;b<a.length;b++)a[b].destroy(!0);this.pool.screen=[]}};return b}(b.default);c.default=a},{"../../../Shader":44,"../../../math":70,"../filters/filterTransforms":88,"../utils/Quad":95,"../utils/RenderTarget":96,"./WebGLManager":93,"bit-twiddle":1}],91:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;b=(b=a("./WebGLManager"))&&b.__esModule?b:{default:b};var e=(a=a("../filters/spriteMask/SpriteMaskFilter"))&&a.__esModule?a:{default:a};a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.scissor=!1;c.scissorData=null;c.scissorRenderTarget=null;c.enableScissor=!0;c.alphaMaskPool=[];c.alphaMaskIndex=0;return c}d(b,a);b.prototype.pushMask=function(a,b){if(b.texture)this.pushSpriteMask(a,b);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&b.isFastRect()){var c=b.worldTransform;c=Math.atan2(c.b,c.a);c=Math.round(180/Math.PI*c);c%90?this.pushStencilMask(b):
this.pushScissorMask(a,b)}else this.pushStencilMask(b)};b.prototype.popMask=function(a,b){b.texture?this.popSpriteMask(a,b):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(a,b):this.popStencilMask(a,b)};b.prototype.pushSpriteMask=function(a,b){var c=this.alphaMaskPool[this.alphaMaskIndex];c||(c=this.alphaMaskPool[this.alphaMaskIndex]=[new e.default(b)]);c[0].resolution=this.renderer.resolution;c[0].maskSprite=b;a.filterArea=b.getBounds(!0);this.renderer.filterManager.pushFilter(a,
c);this.alphaMaskIndex++};b.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter();this.alphaMaskIndex--};b.prototype.pushStencilMask=function(a){this.renderer.currentRenderer.stop();this.renderer.stencilManager.pushStencil(a)};b.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil()};b.prototype.pushScissorMask=function(a,b){b.renderable=!0;a=this.renderer._activeRenderTarget;var c=b.getBounds();c.fit(a.size);b.renderable=
!1;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var d=this.renderer.resolution;this.renderer.gl.scissor(c.x*d,(a.root?a.size.height-c.y-c.height:c.y)*d,c.width*d,c.height*d);this.scissorRenderTarget=a;this.scissorData=b;this.scissor=!0};b.prototype.popScissorMask=function(){this.scissorData=this.scissorRenderTarget=null;this.scissor=!1;var a=this.renderer.gl;a.disable(a.SCISSOR_TEST)};return b}(b.default);c.default=a},{"../filters/spriteMask/SpriteMaskFilter":89,"./WebGLManager":93}],92:[function(a,
b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=(a=a("./WebGLManager"))&&a.__esModule?a:{default:a};a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.stencilMaskStack=null;return c}d(b,a);b.prototype.setMaskStack=function(a){this.stencilMaskStack=a;var b=this.renderer.gl;0===a.length?b.disable(b.STENCIL_TEST):b.enable(b.STENCIL_TEST)};b.prototype.pushStencil=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();
var b=this.renderer.gl,c=this.stencilMaskStack.length;0===c&&b.enable(b.STENCIL_TEST);this.stencilMaskStack.push(a);b.colorMask(!1,!1,!1,!1);b.stencilFunc(b.EQUAL,c,this._getBitwiseMask());b.stencilOp(b.KEEP,b.KEEP,b.INCR);this.renderer.plugins.graphics.render(a);this._useCurrent()};b.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var a=this.renderer.gl,b=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(a.disable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),
a.clearStencil(0)):(a.colorMask(!1,!1,!1,!1),a.stencilOp(a.KEEP,a.KEEP,a.DECR),this.renderer.plugins.graphics.render(b),this._useCurrent())};b.prototype._useCurrent=function(){var a=this.renderer.gl;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask());a.stencilOp(a.KEEP,a.KEEP,a.KEEP)};b.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1};b.prototype.destroy=function(){e.default.prototype.destroy.call(this);this.stencilMaskStack.stencilStack=
null};return b}(e.default);c.default=a},{"./WebGLManager":93}],93:[function(a,b,c){c.__esModule=!0;a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=b;this.renderer.on("context",this.onContextChange,this)}a.prototype.onContextChange=function(){};a.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this);this.renderer=null};return a}();c.default=a},{}],94:[function(a,b,c){function d(a,b){if("function"!==
typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;a=a("../managers/WebGLManager");a=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=a.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!c||"object"!==typeof c&&"function"!==typeof c?this:c}d(b,a);b.prototype.start=function(){};b.prototype.stop=function(){this.flush()};b.prototype.flush=function(){};b.prototype.render=function(a){};return b}((a&&a.__esModule?a:{default:a}).default);c.default=a},{"../managers/WebGLManager":93}],95:[function(a,b,c){c.__esModule=!0;var d=(b=a("pixi-gl-core"))&&b.__esModule?b:{default:b},e=(a=a("../../../utils/createIndicesForQuads"))&&a.__esModule?a:{default:a};a=function(){function a(b,c){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.gl=b;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(16);for(var f=0;4>f;f++)this.interleaved[4*f]=this.vertices[2*f],this.interleaved[4*f+1]=this.vertices[2*f+1],this.interleaved[4*f+2]=this.uvs[2*f],this.interleaved[4*f+3]=this.uvs[2*f+1];this.indices=(0,e.default)(1);this.vertexBuffer=d.default.GLBuffer.createVertexBuffer(b,this.interleaved,b.STATIC_DRAW);
this.indexBuffer=d.default.GLBuffer.createIndexBuffer(b,this.indices,b.STATIC_DRAW);this.vao=new d.default.VertexArrayObject(b,c)}a.prototype.initVao=function(a){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,a.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,a.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)};a.prototype.map=function(a,b){var c=0,d=0;this.uvs[0]=c;this.uvs[1]=d;this.uvs[2]=c+b.width/a.width;this.uvs[3]=d;this.uvs[4]=c+b.width/
a.width;this.uvs[5]=d+b.height/a.height;this.uvs[6]=c;this.uvs[7]=d+b.height/a.height;c=b.x;d=b.y;this.vertices[0]=c;this.vertices[1]=d;this.vertices[2]=c+b.width;this.vertices[3]=d;this.vertices[4]=c+b.width;this.vertices[5]=d+b.height;this.vertices[6]=c;this.vertices[7]=d+b.height;return this};a.prototype.upload=function(){for(var a=0;4>a;a++)this.interleaved[4*a]=this.vertices[2*a],this.interleaved[4*a+1]=this.vertices[2*a+1],this.interleaved[4*a+2]=this.uvs[2*a],this.interleaved[4*a+3]=this.uvs[2*
a+1];this.vertexBuffer.upload(this.interleaved);return this};a.prototype.destroy=function(){var a=this.gl;a.deleteBuffer(this.vertexBuffer);a.deleteBuffer(this.indexBuffer)};return a}();c.default=a},{"../../../utils/createIndicesForQuads":123,"pixi-gl-core":15}],96:[function(a,b,c){c.__esModule=!0;var d=a("../../../math"),e=a("../../../const"),f=(b=a("../../../settings"))&&b.__esModule?b:{default:b},h=a("pixi-gl-core");a=function(){function a(b,c,g,m,t,u){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.gl=b;this.texture=this.frameBuffer=null;this.clearColor=[0,0,0,0];this.size=new d.Rectangle(0,0,1,1);this.resolution=t||f.default.RESOLUTION;this.projectionMatrix=new d.Matrix;this.frame=this.transform=null;this.defaultFrame=new d.Rectangle;this.stencilBuffer=this.sourceFrame=this.destinationFrame=null;this.stencilMaskStack=[];this.filterData=null;this.filterPoolKey="";this.scaleMode=void 0!==m?m:f.default.SCALE_MODE;(this.root=u)?(this.frameBuffer=new h.GLFramebuffer(b,100,100),this.frameBuffer.framebuffer=
null):(this.frameBuffer=h.GLFramebuffer.createRGBA(b,100,100),this.scaleMode===e.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture);this.setFrame();this.resize(c,g)}a.prototype.clear=function(a){a=a||this.clearColor;this.frameBuffer.clear(a[0],a[1],a[2],a[3])};a.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()};a.prototype.setFrame=function(a,b){this.destinationFrame=
a||this.destinationFrame||this.defaultFrame;this.sourceFrame=b||this.sourceFrame||this.destinationFrame};a.prototype.activate=function(){var a=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);this.transform&&this.projectionMatrix.append(this.transform);this.destinationFrame!==this.sourceFrame?(a.enable(a.SCISSOR_TEST),a.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*
this.resolution|0)):a.disable(a.SCISSOR_TEST);a.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};a.prototype.calculateProjection=function(a,b){var c=this.projectionMatrix;b=b||a;c.identity();this.root?(c.a=1/a.width*2,c.d=-1/a.height*2,c.tx=-1-b.x*c.a,c.ty=1-b.y*c.d):(c.a=1/a.width*2,c.d=1/a.height*2,c.tx=-1-b.x*c.a,c.ty=-1-b.y*c.d)};a.prototype.resize=function(a,b){a|=0;b|=0;if(this.size.width!==
a||this.size.height!==b)this.size.width=a,this.size.height=b,this.defaultFrame.width=a,this.defaultFrame.height=b,this.frameBuffer.resize(a*this.resolution,b*this.resolution),this.calculateProjection(this.frame||this.size)};a.prototype.destroy=function(){this.frameBuffer.destroy();this.texture=this.frameBuffer=null};return a}();c.default=a},{"../../../const":46,"../../../math":70,"../../../settings":101,"pixi-gl-core":15}],97:[function(a,b,c){function d(a){for(var b="",c=0;c<a;++c)0<c&&(b+="\nelse "),
c<a-1&&(b+="if(test == "+c+".0){}");return b}c.__esModule=!0;c.default=function(a,b){var c=!b;if(0===a)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");c&&(b=document.createElement("canvas"),b.width=1,b.height=1,b=e.default.createContext(b));for(var g=b.createShader(b.FRAGMENT_SHADER);;){var h=f.replace(/%forloop%/gi,d(a));b.shaderSource(g,h);b.compileShader(g);if(b.getShaderParameter(g,b.COMPILE_STATUS))break;else a=a/2|0}c&&b.getExtension("WEBGL_lose_context")&&b.getExtension("WEBGL_lose_context").loseContext();
return a};var e=(a=a("pixi-gl-core"))&&a.__esModule?a:{default:a},f="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}"},{"pixi-gl-core":15}],98:[function(a,b,c){c.__esModule=!0;c.default=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];b[d.BLEND_MODES.NORMAL]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.ADD]=[a.ONE,a.DST_ALPHA];b[d.BLEND_MODES.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.SCREEN]=[a.ONE,
a.ONE_MINUS_SRC_COLOR];b[d.BLEND_MODES.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.SOFT_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.EXCLUSION]=
[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.NORMAL_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA];b[d.BLEND_MODES.ADD_NPM]=[a.SRC_ALPHA,a.DST_ALPHA,a.ONE,a.DST_ALPHA];b[d.BLEND_MODES.SCREEN_NPM]=[a.SRC_ALPHA,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE_MINUS_SRC_COLOR];
return b};var d=a("../../../const")},{"../../../const":46}],99:[function(a,b,c){c.__esModule=!0;c.default=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b[d.DRAW_MODES.POINTS]=a.POINTS;b[d.DRAW_MODES.LINES]=a.LINES;b[d.DRAW_MODES.LINE_LOOP]=a.LINE_LOOP;b[d.DRAW_MODES.LINE_STRIP]=a.LINE_STRIP;b[d.DRAW_MODES.TRIANGLES]=a.TRIANGLES;b[d.DRAW_MODES.TRIANGLE_STRIP]=a.TRIANGLE_STRIP;b[d.DRAW_MODES.TRIANGLE_FAN]=a.TRIANGLE_FAN;return b};var d=a("../../../const")},{"../../../const":46}],
100:[function(a,b,c){c.__esModule=!0;c.default=function(a){a.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],101:[function(a,b,c){c.__esModule=!0;b=(b=a("./utils/maxRecommendedTextures"))&&b.__esModule?b:{default:b};a=(a=a("./utils/canUploadSameBuffer"))&&a.__esModule?a:{default:a};c.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,b.default)(32),SPRITE_BATCH_SIZE:4096,
RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,a.default)(),MESH_CANVAS_PADDING:0}},{"./utils/canUploadSameBuffer":122,"./utils/maxRecommendedTextures":127}],
102:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);
Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=a("../math"),h=a("../utils"),g=a("../const"),k=(b=a("../textures/Texture"))&&b.__esModule?b:{default:b};a=(a=a("../display/Container"))&&a.__esModule?a:{default:a};var p=new f.Point;a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d._anchor=new f.ObservablePoint(d._onAnchorUpdate,d);d._texture=null;d._width=0;d._height=0;d._tint=null;d._tintRGB=null;d.tint=16777215;d.blendMode=g.BLEND_MODES.NORMAL;d.shader=null;d.cachedTint=16777215;d.texture=c||k.default.EMPTY;d.vertexData=new Float32Array(8);d.vertexTrimmedData=null;d._transformID=-1;d._textureID=-1;d._transformTrimmedID=-1;d._textureTrimmedID=-1;d.pluginName="sprite";return d}d(b,a);b.prototype._onTextureUpdate=function(){this._textureTrimmedID=
this._textureID=-1;this.cachedTint=16777215;this._width&&(this.scale.x=(0,h.sign)(this.scale.x)*this._width/this._texture.orig.width);this._height&&(this.scale.y=(0,h.sign)(this.scale.y)*this._height/this._texture.orig.height)};b.prototype._onAnchorUpdate=function(){this._transformTrimmedID=this._transformID=-1};b.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID;this._textureID=
this._texture._updateID;var a=this._texture,b=this.transform.worldTransform,c=b.a,d=b.b,e=b.c,f=b.d,g=b.tx;b=b.ty;var h=this.vertexData,k=a.trim,p=a.orig,l=this._anchor;if(k){var m=k.x-l._x*p.width;a=m+k.width;l=k.y-l._y*p.height;k=l+k.height}else m=-l._x*p.width,a=m+p.width,l=-l._y*p.height,k=l+p.height;h[0]=c*m+e*l+g;h[1]=f*l+d*m+b;h[2]=c*a+e*l+g;h[3]=f*l+d*a+b;h[4]=c*a+e*k+g;h[5]=f*k+d*a+b;h[6]=c*m+e*k+g;h[7]=f*k+d*m+b}};b.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=
new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var a=this.vertexTrimmedData,b=this._texture.orig,c=this._anchor,d=this.transform.worldTransform,e=d.a,f=d.b,g=d.c,h=d.d,k=d.tx;d=d.ty;var p=-c._x*b.width,l=p+b.width;c=-c._y*b.height;b=c+b.height;a[0]=e*p+g*c+k;a[1]=h*c+f*p+d;a[2]=e*l+g*c+k;a[3]=h*c+f*l+d;a[4]=e*l+g*b+
k;a[5]=h*b+f*l+d;a[6]=e*p+g*b+k;a[7]=h*b+f*p+d};b.prototype._renderWebGL=function(a){this.calculateVertices();a.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};b.prototype._renderCanvas=function(a){a.plugins[this.pluginName].render(this)};b.prototype._calculateBounds=function(){var a=this._texture.trim,b=this._texture.orig;!a||a.width===b.width&&a.height===b.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),
this._bounds.addQuad(this.vertexTrimmedData))};b.prototype.getLocalBounds=function(b){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),b||(this._localBoundsRect||(this._localBoundsRect=new f.Rectangle),b=this._localBoundsRect),this._bounds.getRectangle(b)):a.prototype.getLocalBounds.call(this,
b)};b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,p);var b=this._texture.orig.width;a=this._texture.orig.height;var c=-b*this.anchor.x;return p.x>=c&&p.x<c+b&&(b=-a*this.anchor.y,p.y>=b&&p.y<b+a)?!0:!1};b.prototype.destroy=function(b){a.prototype.destroy.call(this,b);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;("boolean"===typeof b?b:b&&b.texture)&&this._texture.destroy(!!("boolean"===typeof b?b:b&&b.baseTexture));this.shader=this._texture=null};
b.from=function(a){return new b(k.default.from(a))};b.fromFrame=function(a){var c=h.TextureCache[a];if(!c)throw Error('The frameId "'+a+'" does not exist in the texture cache');return new b(c)};b.fromImage=function(a,c,d){return new b(k.default.fromImage(a,c,d))};e(b,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var b=(0,h.sign)(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){return Math.abs(this.scale.y)*
this._texture.orig.height},set:function(a){var b=(0,h.sign)(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a}},{key:"anchor",get:function(){return this._anchor},set:function(a){this._anchor.copy(a)}},{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a;this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=a,this.cachedTint=16777215,this._textureTrimmedID=
this._textureID=-1,a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}}]);return b}(a.default);c.default=a},{"../const":46,"../display/Container":48,"../math":70,"../textures/Texture":115,"../utils":125}],103:[function(a,b,c){c.__esModule=!0;b=(b=a("../../renderers/canvas/CanvasRenderer"))&&b.__esModule?b:{default:b};var d=a("../../const"),e=a("../../math"),f=(a=a("./CanvasTinter"))&&a.__esModule?a:{default:a},h=new e.Matrix;a=function(){function a(b){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.renderer=b}a.prototype.render=function(a){var b=a._texture,c=this.renderer,g=b._frame.width,k=b._frame.height,u=a.transform.worldTransform;if(!(0>=b.orig.width||0>=b.orig.height)&&b.baseTexture.source&&(c.setBlendMode(a.blendMode),b.valid)){c.context.globalAlpha=a.worldAlpha;var v=b.baseTexture.scaleMode===d.SCALE_MODES.LINEAR;c.smoothProperty&&c.context[c.smoothProperty]!==v&&(c.context[c.smoothProperty]=v);if(b.trim){v=b.trim.width/
2+b.trim.x-a.anchor.x*b.orig.width;var n=b.trim.height/2+b.trim.y-a.anchor.y*b.orig.height}else v=(.5-a.anchor.x)*b.orig.width,n=(.5-a.anchor.y)*b.orig.height;b.rotate&&(u.copy(h),u=h,e.GroupD8.matrixAppendRotationInv(u,b.rotate,v,n),n=v=0);v-=g/2;n-=k/2;c.roundPixels?(c.context.setTransform(u.a,u.b,u.c,u.d,u.tx*c.resolution|0,u.ty*c.resolution|0),v|=0,n|=0):c.context.setTransform(u.a,u.b,u.c,u.d,u.tx*c.resolution,u.ty*c.resolution);u=b.baseTexture.resolution;if(16777215!==a.tint){if(a.cachedTint!==
a.tint||a.tintedTexture.tintId!==a._texture._updateID)a.cachedTint=a.tint,a.tintedTexture=f.default.getTintedTexture(a,a.tint);c.context.drawImage(a.tintedTexture,0,0,g*u,k*u,v*c.resolution,n*c.resolution,g*c.resolution,k*c.resolution)}else c.context.drawImage(b.baseTexture.source,b._frame.x*u,b._frame.y*u,g*u,k*u,v*c.resolution,n*c.resolution,g*c.resolution,k*c.resolution)}};a.prototype.destroy=function(){this.renderer=null};return a}();c.default=a;b.default.registerPlugin("sprite",a)},{"../../const":46,
"../../math":70,"../../renderers/canvas/CanvasRenderer":77,"./CanvasTinter":104}],104:[function(a,b,c){c.__esModule=!0;var d=a("../../utils");a=(a=a("../../renderers/canvas/utils/canUseNewCanvasBlendModes"))&&a.__esModule?a:{default:a};var e={getTintedTexture:function(a,b){a=a._texture;b=e.roundColor(b);var c="#"+("00000"+(b|0).toString(16)).substr(-6);a.tintCache=a.tintCache||{};var d=a.tintCache[c];if(d){if(d.tintId===a._updateID)return a.tintCache[c];d=a.tintCache[c]}else d=e.canvas||document.createElement("canvas");
e.tintMethod(a,b,d);d.tintId=a._updateID;e.convertTintToImage?(b=new Image,b.src=d.toDataURL(),a.tintCache[c]=b):(a.tintCache[c]=d,e.canvas=null);return d},tintWithMultiply:function(a,b,c){var d=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);d.save();d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);d.fillRect(0,0,e.width,e.height);d.globalCompositeOperation="multiply";d.drawImage(a.baseTexture.source,
e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.globalCompositeOperation="destination-atop";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.restore()},tintWithOverlay:function(a,b,c){var d=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);d.save();d.globalCompositeOperation="copy";d.fillStyle="#"+("00000"+(b|0).toString(16)).substr(-6);d.fillRect(0,0,e.width,
e.height);d.globalCompositeOperation="destination-atop";d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.restore()},tintWithPerPixel:function(a,b,c){var e=c.getContext("2d"),f=a._frame.clone(),g=a.baseTexture.resolution;f.x*=g;f.y*=g;f.width*=g;f.height*=g;c.width=Math.ceil(f.width);c.height=Math.ceil(f.height);e.save();e.globalCompositeOperation="copy";e.drawImage(a.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height);e.restore();c=(0,d.hex2rgb)(b);a=
c[0];b=c[1];c=c[2];f=e.getImageData(0,0,f.width,f.height);g=f.data;for(var h=0;h<g.length;h+=4)g[h+0]*=a,g[h+1]*=b,g[h+2]*=c;e.putImageData(f,0,0)},roundColor:function(a){var b=e.cacheStepsPerColorChannel;a=(0,d.hex2rgb)(a);a[0]=Math.min(255,a[0]/b*b);a[1]=Math.min(255,a[1]/b*b);a[2]=Math.min(255,a[2]/b*b);return(0,d.rgb2hex)(a)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,a.default)(),tintMethod:0};e.tintMethod=e.canUseMultiply?e.tintWithMultiply:e.tintWithPerPixel;c.default=
e},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":80,"../../utils":125}],105:[function(a,b,c){c.__esModule=!0;a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.vertices=new ArrayBuffer(b);this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices)}a.prototype.destroy=function(){this.colors=this.uvs=this.positions=this.vertices=null};return a}();c.default=a},{}],106:[function(a,b,c){function d(a){return a&&
a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;b=a("../../renderers/webgl/utils/ObjectRenderer");b=d(b);var f=a("../../renderers/webgl/WebGLRenderer");f=d(f);var h=a("../../utils/createIndicesForQuads"),
g=d(h);h=a("./generateMultiTextureShader");var k=d(h);h=a("../../renderers/webgl/utils/checkMaxIfStatmentsInShader");var p=d(h);h=a("./BatchBuffer");var l=d(h);h=a("../../settings");var m=d(h),t=a("../../utils");h=a("pixi-gl-core");var u=d(h);a=a("bit-twiddle");var v=d(a),n=0,w=0;a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.vertSize=5;c.vertByteSize=4*c.vertSize;c.size=m.default.SPRITE_BATCH_SIZE;c.buffers=[];for(var d=1;d<=v.default.nextPow2(c.size);d*=2)c.buffers.push(new l.default(4*d*c.vertByteSize));c.indices=(0,g.default)(c.size);c.shader=null;c.currentIndex=0;c.groups=[];for(d=0;d<c.size;d++)c.groups[d]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};c.sprites=[];c.vertexBuffers=[];c.vaos=[];c.vaoMax=2;c.vertexCount=0;c.renderer.on("prerender",
c.onPrerender,c);return c}e(b,a);b.prototype.onContextChange=function(){var a=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),m.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,p.default)(this.MAX_TEXTURES,a));this.shader=(0,k.default)(a,this.MAX_TEXTURES);this.indexBuffer=u.default.GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);this.renderer.bindVao(null);for(var b=this.shader.attributes,c=0;c<this.vaoMax;c++){var d=
this.vertexBuffers[c]=u.default.GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),e=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(d,b.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(d,b.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(d,b.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12);b.aTextureId&&e.addAttribute(d,b.aTextureId,a.FLOAT,!1,this.vertByteSize,16);this.vaos[c]=e}this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=Array(this.MAX_TEXTURES)};
b.prototype.onPrerender=function(){this.vertexCount=0};b.prototype.render=function(a){this.currentIndex>=this.size&&this.flush();a._texture._uvs&&(this.sprites[this.currentIndex++]=a)};b.prototype.flush=function(){if(0!==this.currentIndex){var a=this.renderer.gl,b=this.MAX_TEXTURES,c=v.default.nextPow2(this.currentIndex);c=v.default.log2(c);var d=this.buffers[c],e=this.sprites;c=this.groups;var f=d.float32View,g=d.uint32View,h=this.boundTextures,k=this.renderer.boundTextures,p=this.renderer.textureGC.count,
l=0,r=void 0,D=1,T=0,U=c[0],X=t.premultiplyBlendMode[e[0]._texture.baseTexture.premultipliedAlpha?1:0][e[0].blendMode];U.textureCount=0;U.start=0;U.blend=X;n++;var O;for(O=0;O<b;++O){var Q=k[O];Q._enabled===n?h[O]=this.renderer.emptyTextures[O]:(h[O]=Q,Q._virtalBoundId=O,Q._enabled=n)}n++;for(O=0;O<this.currentIndex;++O){var da=e[O];e[O]=null;Q=da._texture.baseTexture;var N=t.premultiplyBlendMode[Number(Q.premultipliedAlpha)][da.blendMode];X!==N&&(X=N,r=null,T=b,n++);if(r!==Q&&(r=Q,Q._enabled!==n)){T===
b&&(n++,U.size=O-U.start,T=0,U=c[D++],U.blend=X,U.textureCount=0,U.start=O);Q.touched=p;if(-1===Q._virtalBoundId)for(N=0;N<b;++N){var ea=(N+w)%b;var ba=h[ea];if(ba._enabled!==n){w++;ba._virtalBoundId=-1;Q._virtalBoundId=ea;h[ea]=Q;break}}Q._enabled=n;U.textureCount++;U.ids[T]=Q._virtalBoundId;U.textures[T++]=Q}N=da.vertexData;ea=da._texture._uvs.uvsUint32;this.renderer.roundPixels?(ba=this.renderer.resolution,f[l]=(N[0]*ba|0)/ba,f[l+1]=(N[1]*ba|0)/ba,f[l+5]=(N[2]*ba|0)/ba,f[l+6]=(N[3]*ba|0)/ba,f[l+
10]=(N[4]*ba|0)/ba,f[l+11]=(N[5]*ba|0)/ba,f[l+15]=(N[6]*ba|0)/ba,f[l+16]=(N[7]*ba|0)/ba):(f[l]=N[0],f[l+1]=N[1],f[l+5]=N[2],f[l+6]=N[3],f[l+10]=N[4],f[l+11]=N[5],f[l+15]=N[6],f[l+16]=N[7]);g[l+2]=ea[0];g[l+7]=ea[1];g[l+12]=ea[2];g[l+17]=ea[3];N=Math.min(da.worldAlpha,1);da=1>N&&Q.premultipliedAlpha?(0,t.premultiplyTint)(da._tintRGB,N):da._tintRGB+(255*N<<24);g[l+3]=g[l+8]=g[l+13]=g[l+18]=da;f[l+4]=f[l+9]=f[l+14]=f[l+19]=Q._virtalBoundId;l+=20}U.size=O-U.start;m.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(d.vertices,
0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,r=this.shader.attributes,O=this.vertexBuffers[this.vertexCount]=u.default.GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),e=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(O,r.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(O,r.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(O,r.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12),r.aTextureId&&e.addAttribute(O,r.aTextureId,a.FLOAT,!1,this.vertByteSize,
16),this.vaos[this.vertexCount]=e),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(d.vertices,0,!1),this.vertexCount++);for(O=0;O<b;++O)k[O]._virtalBoundId=-1;for(O=0;O<D;++O){b=c[O];d=b.textureCount;for(e=0;e<d;e++)r=b.textures[e],k[b.ids[e]]!==r&&this.renderer.bindTexture(r,b.ids[e],!0),r._virtalBoundId=-1;this.renderer.state.setBlendMode(b.blend);a.drawElements(a.TRIANGLES,6*b.size,a.UNSIGNED_SHORT,12*b.start)}this.currentIndex=0}};b.prototype.start=
function(){this.renderer.bindShader(this.shader);m.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())};b.prototype.stop=function(){this.flush()};b.prototype.destroy=function(){for(var b=0;b<this.vaoMax;b++)this.vertexBuffers[b]&&this.vertexBuffers[b].destroy(),this.vaos[b]&&this.vaos[b].destroy();this.indexBuffer&&this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);a.prototype.destroy.call(this);
this.shader&&(this.shader.destroy(),this.shader=null);this.sprites=this.indices=this.indexBuffer=this.vaos=this.vertexBuffers=null;for(b=0;b<this.buffers.length;++b)this.buffers[b].destroy()};return b}(b.default);c.default=a;f.default.registerPlugin("sprite",a)},{"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":97,"../../settings":101,"../../utils":125,"../../utils/createIndicesForQuads":123,"./BatchBuffer":105,
"./generateMultiTextureShader":107,"bit-twiddle":1,"pixi-gl-core":15}],107:[function(a,b,c){function d(a){var b="\n\n";for(var c=0;c<a;c++)0<c&&(b+="\nelse "),c<a-1&&(b+="if(textureId == "+c+".0)"),b+="\n{",b+="\n\tcolor = texture2D(uSamplers["+c+"], vTextureCoord);",b+="\n}";return b+"\n\n"}c.__esModule=!0;c.default=function(a,b){var c=f;c=c.replace(/%count%/gi,b);c=c.replace(/%forloop%/gi,d(b));a=new e.default(a,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",
c);c=[];for(var g=0;g<b;g++)c[g]=g;a.bind();a.uniforms.uSamplers=c;return a};var e=(b=a("../../Shader"))&&b.__esModule?b:{default:b};a("path");var f="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}"},{"../../Shader":44,path:8}],108:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==
typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,
c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();b=a("../sprites/Sprite");b=d(b);var h=a("../textures/Texture"),g=d(h),k=a("../math"),p=a("../utils"),l=a("../const");h=a("../settings");var m=d(h);h=a("./TextStyle");var t=d(h);h=a("./TextMetrics");var u=d(h);a=a("../utils/trimCanvas");var v=d(a),n={texture:!0,children:!1,baseTexture:!0};a=function(a){function b(c,d,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");e=e||document.createElement("canvas");e.width=3;e.height=
3;var f=g.default.fromCanvas(e,m.default.SCALE_MODE,"text");f.orig=new k.Rectangle;f.trim=new k.Rectangle;f=a.call(this,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;g.default.addToCache(f._texture,f._texture.baseTexture.textureCacheIds[0]);f.canvas=e;f.context=f.canvas.getContext("2d");f.resolution=m.default.RESOLUTION;f._text=null;f._style=null;f._styleListener=null;f._font="";f.text=c;f.style=
d;f.localStyleID=-1;return f}e(b,a);b.prototype.updateText=function(a){var b=this._style;this.localStyleID!==b.styleID&&(this.dirty=!0,this.localStyleID=b.styleID);if(this.dirty||!a){this._font=this._style.toFontString();var c=this.context,d=u.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),e=d.height;a=d.lines;var f=d.lineHeight,g=d.lineWidths,h=d.maxLineWidth,k=d.fontProperties;this.canvas.width=Math.ceil((Math.max(1,d.width)+2*b.padding)*this.resolution);this.canvas.height=
Math.ceil((Math.max(1,e)+2*b.padding)*this.resolution);c.scale(this.resolution,this.resolution);c.clearRect(0,0,this.canvas.width,this.canvas.height);c.font=this._font;c.strokeStyle=b.stroke;c.lineWidth=b.strokeThickness;c.textBaseline=b.textBaseline;c.lineJoin=b.lineJoin;c.miterLimit=b.miterLimit;if(b.dropShadow){c.fillStyle=b.dropShadowColor;c.globalAlpha=b.dropShadowAlpha;c.shadowBlur=b.dropShadowBlur;0<b.dropShadowBlur&&(c.shadowColor=b.dropShadowColor);for(var p=Math.cos(b.dropShadowAngle)*b.dropShadowDistance,
n=Math.sin(b.dropShadowAngle)*b.dropShadowDistance,l=0;l<a.length;l++)d=b.strokeThickness/2,e=b.strokeThickness/2+l*f+k.ascent,"right"===b.align?d+=h-g[l]:"center"===b.align&&(d+=(h-g[l])/2),b.fill&&(this.drawLetterSpacing(a[l],d+p+b.padding,e+n+b.padding),b.stroke&&b.strokeThickness&&(c.strokeStyle=b.dropShadowColor,this.drawLetterSpacing(a[l],d+p+b.padding,e+n+b.padding,!0),c.strokeStyle=b.stroke))}c.shadowBlur=0;c.globalAlpha=1;c.fillStyle=this._generateFillStyle(b,a);for(c=0;c<a.length;c++)d=
b.strokeThickness/2,e=b.strokeThickness/2+c*f+k.ascent,"right"===b.align?d+=h-g[c]:"center"===b.align&&(d+=(h-g[c])/2),b.stroke&&b.strokeThickness&&this.drawLetterSpacing(a[c],d+b.padding,e+b.padding,!0),b.fill&&this.drawLetterSpacing(a[c],d+b.padding,e+b.padding);this.updateTexture()}};b.prototype.drawLetterSpacing=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,e=this._style.letterSpacing;if(0===e)d?this.context.strokeText(a,b,c):this.context.fillText(a,b,c);else for(var f=
String.prototype.split.call(a,""),g=b,h=0,k;h<a.length;)k=f[h++],d?this.context.strokeText(k,g,c):this.context.fillText(k,g,c),g+=this.context.measureText(k).width+e};b.prototype.updateTexture=function(){var a=this.canvas;if(this._style.trim){var b=(0,v.default)(a);a.width=b.width;a.height=b.height;this.context.putImageData(b.data,0,0)}b=this._texture;var c=this._style;c=c.trim?0:c.padding;var d=b.baseTexture;d.hasLoaded=!0;d.resolution=this.resolution;d.realWidth=a.width;d.realHeight=a.height;d.width=
a.width/this.resolution;d.height=a.height/this.resolution;b.trim.width=b._frame.width=a.width/this.resolution;b.trim.height=b._frame.height=a.height/this.resolution;b.trim.x=-c;b.trim.y=-c;b.orig.width=b._frame.width-2*c;b.orig.height=b._frame.height-2*c;this._onTextureUpdate();d.emit("update",d);this.dirty=!1};b.prototype.renderWebGL=function(b){this.resolution!==b.resolution&&(this.resolution=b.resolution,this.dirty=!0);this.updateText(!0);a.prototype.renderWebGL.call(this,b)};b.prototype._renderCanvas=
function(b){this.resolution!==b.resolution&&(this.resolution=b.resolution,this.dirty=!0);this.updateText(!0);a.prototype._renderCanvas.call(this,b)};b.prototype.getLocalBounds=function(b){this.updateText(!0);return a.prototype.getLocalBounds.call(this,b)};b.prototype._calculateBounds=function(){this.updateText(!0);this.calculateVertices();this._bounds.addQuad(this.vertexData)};b.prototype._onStyleChange=function(){this.dirty=!0};b.prototype._generateFillStyle=function(a,b){if(!Array.isArray(a.fill))return a.fill;
if(navigator.isCocoonJS)return a.fill[0];var c=this.canvas.width/this.resolution;var d=this.canvas.height/this.resolution;var e=a.fill.slice(),f=a.fillGradientStops.slice();if(!f.length){var g=e.length+1;for(var h=1;h<g;++h)f.push(h/g)}e.unshift(a.fill[0]);f.unshift(0);e.push(a.fill[a.fill.length-1]);f.push(1);if(a.fillGradientType===l.TEXT_GRADIENT.LINEAR_VERTICAL)for(a=this.context.createLinearGradient(c/2,0,c/2,d),c=(e.length+1)*b.length,h=d=0;h<b.length;h++){d+=1;for(var k=0;k<e.length;k++)g=
"number"===typeof f[k]?f[k]/b.length+h/b.length:d/c,a.addColorStop(g,e[k]),d++}else for(a=this.context.createLinearGradient(0,d/2,c,d/2),c=e.length+1,d=1,b=0;b<e.length;b++)g="number"===typeof f[b]?f[b]:d/c,a.addColorStop(g,e[b]),d++;return a};b.prototype.destroy=function(b){"boolean"===typeof b&&(b={children:b});b=Object.assign({},n,b);a.prototype.destroy.call(this,b);this._style=this.canvas=this.context=null};f(b,[{key:"width",get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},
set:function(a){this.updateText(!0);var b=(0,p.sign)(this.scale.x)||1;this.scale.x=b*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var b=(0,p.sign)(this.scale.y)||1;this.scale.y=b*a/this._texture.orig.height;this._height=a}},{key:"style",get:function(){return this._style},set:function(a){a=a||{};this._style=a instanceof t.default?a:new t.default(a);this.localStyleID=
-1;this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=String(""===a||null===a||void 0===a?" ":a);this._text!==a&&(this._text=a,this.dirty=!0)}}]);return b}(b.default);c.default=a},{"../const":46,"../math":70,"../settings":101,"../sprites/Sprite":102,"../textures/Texture":115,"../utils":125,"../utils/trimCanvas":130,"./TextMetrics":109,"./TextStyle":110}],109:[function(a,b,c){c.__esModule=!0;a=function(){function a(b,c,d,g,k,p,l,m,t){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.text=b;this.style=c;this.width=d;this.height=g;this.lines=k;this.lineWidths=p;this.lineHeight=l;this.maxLineWidth=m;this.fontProperties=t}a.measureText=function(b,c,d){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:a._canvas;d=d||c.wordWrap;var f=c.toFontString(),h=a.measureFont(f),l=e.getContext("2d");l.font=f;e=(d?a.wordWrap(b,c,e):b).split(/(?:\r\n|\r|\n)/);f=Array(e.length);for(var m=0,t=0;t<e.length;t++){var u=l.measureText(e[t]).width+(e[t].length-1)*c.letterSpacing;f[t]=
u;m=Math.max(m,u)}l=m+c.strokeThickness;c.dropShadow&&(l+=c.dropShadowDistance);t=c.lineHeight||h.fontSize+c.strokeThickness;u=Math.max(t,h.fontSize+c.strokeThickness)+(e.length-1)*(t+c.leading);c.dropShadow&&(u+=c.dropShadowDistance);return new a(b,c,l,u,e,f,t+c.leading,m,h)};a.wordWrap=function(b,c){var d=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:a._canvas).getContext("2d"),e=0,f="",p="",l={},m=c.letterSpacing,t=c.whiteSpace,u=a.collapseSpaces(t);t=a.collapseNewlines(t);for(var v=
!u,n=c.wordWrapWidth+m,w=a.tokenize(b),D=0;D<w.length;D++){var r=w[D];if(a.isNewline(r)){if(!t){p+=a.addLine(f);v=!u;f="";e=0;continue}r=" "}if(u){var C=a.isBreakingSpace(r),z=a.isBreakingSpace(f[f.length-1]);if(C&&z)continue}C=a.getFromCache(r,m,l,d);if(C>n)if(""!==f&&(p+=a.addLine(f),f="",e=0),a.canBreakWords(r,c.breakWords))for(C=r.split(""),z=0;z<C.length;z++){for(var x=C[z],E=1;C[z+E];){var K=C[z+E];if(a.canBreakChars(x[x.length-1],K,r,z,c.breakWords))break;else x+=K;E++}z+=x.length-1;E=a.getFromCache(x,
m,l,d);E+e>n&&(p+=a.addLine(f),v=!1,f="",e=0);f+=x;e+=E}else 0<f.length&&(p+=a.addLine(f)),p+=a.addLine(r,D!==w.length-1),v=!1,f="",e=0;else if(C+e>n&&(v=!1,p+=a.addLine(f),f="",e=0),0<f.length||!a.isBreakingSpace(r)||v)f+=r,e+=C}return p+=a.addLine(f,!1)};a.addLine=function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;b=a.trimRight(b);return c?b+"\n":b};a.getFromCache=function(a,b,c,d){var e=c[a];void 0===e&&(b*=a.length,e=d.measureText(a).width+b,c[a]=e);return e};a.collapseSpaces=
function(a){return"normal"===a||"pre-line"===a};a.collapseNewlines=function(a){return"normal"===a};a.trimRight=function(b){if("string"!==typeof b)return"";for(var c=b.length-1;0<=c&&a.isBreakingSpace(b[c]);c--)b=b.slice(0,-1);return b};a.isNewline=function(b){return"string"!==typeof b?!1:0<=a._newlines.indexOf(b.charCodeAt(0))};a.isBreakingSpace=function(b){return"string"!==typeof b?!1:0<=a._breakingSpaces.indexOf(b.charCodeAt(0))};a.tokenize=function(b){var c=[],d="";if("string"!==typeof b)return c;
for(var e=0;e<b.length;e++){var k=b[e];a.isBreakingSpace(k)||a.isNewline(k)?(""!==d&&(c.push(d),d=""),c.push(k)):d+=k}""!==d&&c.push(d);return c};a.canBreakWords=function(a,b){return b};a.canBreakChars=function(a,b,c,d,k){return!0};a.measureFont=function(b){if(a._fonts[b])return a._fonts[b];var c={},d=a._canvas,e=a._context;e.font=b;var k=a.METRICS_STRING+a.BASELINE_SYMBOL,p=Math.ceil(e.measureText(k).width),l=Math.ceil(e.measureText(a.BASELINE_SYMBOL).width),m=2*l;l=l*a.BASELINE_MULTIPLIER|0;d.width=
p;d.height=m;e.fillStyle="#f00";e.fillRect(0,0,p,m);e.font=b;e.textBaseline="alphabetic";e.fillStyle="#000";e.fillText(k,0,l);d=e.getImageData(0,0,p,m).data;e=d.length;p*=4;var t=0,u=!1;for(k=0;k<l;++k){for(var v=0;v<p;v+=4)if(255!==d[t+v]){u=!0;break}if(u)break;else t+=p}c.ascent=l-k;t=e-p;u=!1;for(k=m;k>l;--k){for(m=0;m<p;m+=4)if(255!==d[t+m]){u=!0;break}if(u)break;else t-=p}c.descent=k-l;c.fontSize=c.ascent+c.descent;return a._fonts[b]=c};a.clearMetrics=function(){var b=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:"";b?delete a._fonts[b]:a._fonts={}};return a}();c.default=a;c=document.createElement("canvas");c.width=c.height=10;a._canvas=c;a._context=c.getContext("2d");a._fonts={};a.METRICS_STRING="|\u00c9q";a.BASELINE_SYMBOL="M";a.BASELINE_MULTIPLIER=1.4;a._newlines=[10,13];a._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},{}],110:[function(a,b,c){function d(a){if("number"===typeof a)return(0,g.hex2string)(a);"string"===typeof a&&0===a.indexOf("0x")&&
(a=a.replace("0x","#"));return a}function e(a){if(Array.isArray(a)){for(var b=0;b<a.length;++b)a[b]=d(a[b]);return a}return d(a)}function f(a,b,c){for(var d in c)Array.isArray(b[d])?a[d]=b[d].slice():a[d]=b[d]}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();b=a("../const");var g=a("../utils"),
k={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:b.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,
leading:0};a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.styleID=0;this.reset();f(this,b,b)}a.prototype.clone=function(){var b={};f(b,this,k);return new a(b)};a.prototype.reset=function(){f(this,k,k)};a.prototype.toFontString=function(){var a="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,b=this.fontFamily;Array.isArray(this.fontFamily)||(b=this.fontFamily.split(","));for(var c=b.length-1;0<=c;c--){var d=b[c].trim();
/(["'])[^'"]+\1/.test(d)||(d='"'+d+'"');b[c]=d}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+a+" "+b.join(",")};h(a,[{key:"align",get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(a){this._dropShadow!==a&&(this._dropShadow=a,
this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(a){this._dropShadowAlpha!==a&&(this._dropShadowAlpha=a,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(a){this._dropShadowBlur!==a&&(this._dropShadowBlur=a,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},
set:function(a){a=e(a);this._dropShadowColor!==a&&(this._dropShadowColor=a,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(a){this._dropShadowDistance!==a&&(this._dropShadowDistance=a,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(a){a=e(a);this._fill!==a&&(this._fill=a,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(a){this._fillGradientType!==a&&(this._fillGradientType=
a,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(a){a:{var b=this._fillGradientStops;if(Array.isArray(b)&&Array.isArray(a)&&b.length===a.length){for(var c=0;c<b.length;++c)if(b[c]!==a[c]){b=!1;break a}b=!0}else b=!1}b||(this._fillGradientStops=a,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},
set:function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},
set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(a){this._lineHeight!==a&&(this._lineHeight=a,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(a){this._leading!==a&&(this._leading=a,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},
set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(a){a=e(a);this._stroke!==a&&(this._stroke=a,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},
set:function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(a){this._trim!==a&&(this._trim=a,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(a){this._whiteSpace!==a&&(this._whiteSpace=a,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},
set:function(a){this._wordWrapWidth!==a&&(this._wordWrapWidth=a,this.styleID++)}}]);return a}();c.default=a},{"../const":46,"../utils":125}],111:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;b=(b=a("./BaseTexture"))&&
b.__esModule?b:{default:b};var e=(a=a("../settings"))&&a.__esModule?a:{default:a};a=function(a){function b(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,f=arguments[2],h=arguments[3];if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var m=a.call(this,null,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==
typeof m?this:m;m.resolution=h||e.default.RESOLUTION;m.width=Math.ceil(c);m.height=Math.ceil(d);m.realWidth=m.width*m.resolution;m.realHeight=m.height*m.resolution;m.scaleMode=void 0!==f?f:e.default.SCALE_MODE;m.hasLoaded=!0;m._glRenderTargets={};m._canvasRenderTarget=null;m.valid=!1;return m}d(b,a);b.prototype.resize=function(a,b){a=Math.ceil(a);b=Math.ceil(b);if(a!==this.width||b!==this.height)this.valid=0<a&&0<b,this.width=a,this.height=b,this.realWidth=this.width*this.resolution,this.realHeight=
this.height*this.resolution,this.valid&&this.emit("update",this)};b.prototype.destroy=function(){a.prototype.destroy.call(this,!0);this.renderer=null};return b}(b.default);c.default=a},{"../settings":101,"./BaseTexture":112}],112:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var f=a("../utils");b=a("../settings");var h=d(b);b=a("eventemitter3");b=d(b);var g=a("../utils/determineCrossOrigin"),k=d(g);a=a("bit-twiddle");var p=d(a);a=function(a){function b(c,d,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.uid=(0,f.uid)();g.touched=0;g.resolution=e||h.default.RESOLUTION;g.width=100;g.height=100;g.realWidth=100;g.realHeight=100;g.scaleMode=void 0!==d?d:h.default.SCALE_MODE;g.hasLoaded=!1;g.isLoading=!1;g.source=null;g.origSource=null;g.imageType=null;g.sourceScale=1;g.premultipliedAlpha=!0;g.imageUrl=null;g.isPowerOfTwo=!1;g.mipmap=h.default.MIPMAP_TEXTURES;g.wrapMode=h.default.WRAP_MODE;g._glTextures={};g._enabled=0;g._virtalBoundId=-1;g._destroyed=
!1;g.textureCacheIds=[];c&&g.loadSource(c);return g}e(b,a);b.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions());this.emit("update",this)};b.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution;this.height=this.realHeight/this.resolution;this.isPowerOfTwo=p.default.isPow2(this.realWidth)&&
p.default.isPow2(this.realHeight)};b.prototype.loadSource=function(a){var b=this.isLoading;this.isLoading=this.hasLoaded=!1;b&&this.source&&(this.source.onload=null,this.source.onerror=null);var c=!this.source;this.source=a;if((a.src&&a.complete||a.getContext)&&a.width&&a.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),c&&this.emit("loaded",this);else if(!a.getContext){this.isLoading=!0;var d=this;a.onload=function(){d._updateImageType();a.onload=null;
a.onerror=null;d.isLoading&&(d.isLoading=!1,d._sourceLoaded(),"svg"===d.imageType?d._loadSvgSource():d.emit("loaded",d))};a.onerror=function(){a.onload=null;a.onerror=null;d.isLoading&&(d.isLoading=!1,d.emit("error",d))};a.complete&&a.src&&(a.onload=null,a.onerror=null,"svg"===d.imageType?d._loadSvgSource():(this.isLoading=!1,a.width&&a.height?(this._sourceLoaded(),b&&this.emit("loaded",this)):b&&this.emit("error",this)))}};b.prototype._updateImageType=function(){if(this.imageUrl){var a=(0,f.decomposeDataUri)(this.imageUrl);
if(a&&"image"===a.mediaType){if(a=a.subType.split("+")[0],a=(0,f.getUrlFileExtension)("."+a),!a)throw Error("Invalid image type in data URI.");}else(a=(0,f.getUrlFileExtension)(this.imageUrl))||(a="png");this.imageType=a}};b.prototype._loadSvgSource=function(){if("svg"===this.imageType){var a=(0,f.decomposeDataUri)(this.imageUrl);a?this._loadSvgSourceUsingDataUri(a):this._loadSvgSourceUsingXhr()}};b.prototype._loadSvgSourceUsingDataUri=function(a){if("base64"===a.encoding){if(!atob)throw Error("Your browser doesn't support base64 conversions.");
a=atob(a.data)}else a=a.data;this._loadSvgSourceUsingString(a)};b.prototype._loadSvgSourceUsingXhr=function(){var a=this,b=new XMLHttpRequest;b.onload=function(){if(b.readyState!==b.DONE||200!==b.status)throw Error("Failed to load SVG using XHR.");a._loadSvgSourceUsingString(b.response)};b.onerror=function(){return a.emit("error",a)};b.open("GET",this.imageUrl,!0);b.send()};b.prototype._loadSvgSourceUsingString=function(a){var c=(0,f.getSvgSize)(a);a=c.width;c=c.height;if(!a||!c)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
this.realWidth=Math.round(a*this.sourceScale);this.realHeight=Math.round(c*this.sourceScale);this._updateDimensions();var d=document.createElement("canvas");d.width=this.realWidth;d.height=this.realHeight;d._pixiId="canvas_"+(0,f.uid)();d.getContext("2d").drawImage(this.source,0,0,a,c,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=d;b.addToCache(this,d._pixiId);this.isLoading=!1;this._sourceLoaded();this.emit("loaded",this)};b.prototype._sourceLoaded=function(){this.hasLoaded=
!0;this.update()};b.prototype.destroy=function(){this.imageUrl&&(delete f.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src=""));this.source=null;this.dispose();b.removeFromCache(this);this.textureCacheIds=null;this._destroyed=!0};b.prototype.dispose=function(){this.emit("dispose",this)};b.prototype.updateSourceImage=function(a){this.source.src=a;this.loadSource(this.source)};b.fromImage=function(a,c,d,e){var g=f.BaseTextureCache[a];if(!g){var h=new Image;void 0===
c&&0!==a.indexOf("data:")?h.crossOrigin=(0,k.default)(a):c&&(h.crossOrigin="string"===typeof c?c:"anonymous");g=new b(h,d);g.imageUrl=a;e&&(g.sourceScale=e);g.resolution=(0,f.getResolutionOfUrl)(a);h.src=a;b.addToCache(g,a)}return g};b.fromCanvas=function(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";a._pixiId||(a._pixiId=d+"_"+(0,f.uid)());d=f.BaseTextureCache[a._pixiId];d||(d=new b(a,c),b.addToCache(d,a._pixiId));return d};b.from=function(a,c,d){if("string"===typeof a)return b.fromImage(a,
void 0,c,d);if(a instanceof HTMLImageElement){var e=a.src,g=f.BaseTextureCache[e];g||(g=new b(a,c),g.imageUrl=e,d&&(g.sourceScale=d),g.resolution=(0,f.getResolutionOfUrl)(e),b.addToCache(g,e));return g}return a instanceof HTMLCanvasElement?b.fromCanvas(a,c):a};b.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),f.BaseTextureCache[b]&&console.warn("BaseTexture added to the cache with an id ["+b+"] that already had an entry"),f.BaseTextureCache[b]=a)};b.removeFromCache=
function(a){if("string"===typeof a){var b=f.BaseTextureCache[a];if(b){var c=b.textureCacheIds.indexOf(a);-1<c&&b.textureCacheIds.splice(c,1);delete f.BaseTextureCache[a];return b}}else if(a&&a.textureCacheIds){for(b=0;b<a.textureCacheIds.length;++b)delete f.BaseTextureCache[a.textureCacheIds[b]];a.textureCacheIds.length=0;return a}return null};return b}(b.default);c.default=a},{"../settings":101,"../utils":125,"../utils/determineCrossOrigin":124,"bit-twiddle":1,eventemitter3:3}],113:[function(a,b,
c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=(b=a("./BaseRenderTexture"))&&b.__esModule?b:{default:b};a=a("./Texture");a=function(a){function b(c,d,f,h,m){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var g=null;if(!(c instanceof e.default)){var k=d;console.warn("Please use RenderTexture.create("+k+", "+f+") instead of the ctor directly.");g=c;d=null;c=new e.default(k,f,h,m)}c=a.call(this,c,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.legacyRenderer=g;c.valid=!0;c._updateUvs();return c}d(b,a);b.prototype.resize=function(a,b,c){a=Math.ceil(a);b=Math.ceil(b);this.valid=0<a&&0<b;this._frame.width=
this.orig.width=a;this._frame.height=this.orig.height=b;c||this.baseTexture.resize(a,b);this._updateUvs()};b.create=function(a,c,d,f){return new b(new e.default(a,c,d,f))};return b}((a&&a.__esModule?a:{default:a}).default);c.default=a},{"./BaseRenderTexture":111,"./Texture":115}],114:[function(a,b,c){c.__esModule=!0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}
return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=a("../"),f=a("../utils");a=function(){function a(b,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.baseTexture=b;this.textures={};this.data=c;this.resolution=this._updateResolution(d||this.baseTexture.imageUrl);this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}d(a,
null,[{key:"BATCH_SIZE",get:function(){return 1E3}}]);a.prototype._updateResolution=function(a){var b=this.data.meta.scale;a=(0,f.getResolutionOfUrl)(a,null);null===a&&(a=void 0!==b?parseFloat(b):1);1!==a&&(this.baseTexture.resolution=a,this.baseTexture.update());return a};a.prototype.parse=function(b){this._batchIndex=0;this._callback=b;this._frameKeys.length<=a.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()};a.prototype._processFrames=function(b){for(var c=b,d=a.BATCH_SIZE,
f=this.baseTexture.sourceScale;c-b<d&&c<this._frameKeys.length;){var g=this._frameKeys[c],h=this._frames[g],u=h.frame;if(u){var v=null;var n=!1!==h.trimmed&&h.sourceSize?h.sourceSize:h.frame;var w=new e.Rectangle(0,0,Math.floor(n.w*f)/this.resolution,Math.floor(n.h*f)/this.resolution);n=h.rotated?new e.Rectangle(Math.floor(u.x*f)/this.resolution,Math.floor(u.y*f)/this.resolution,Math.floor(u.h*f)/this.resolution,Math.floor(u.w*f)/this.resolution):new e.Rectangle(Math.floor(u.x*f)/this.resolution,
Math.floor(u.y*f)/this.resolution,Math.floor(u.w*f)/this.resolution,Math.floor(u.h*f)/this.resolution);!1!==h.trimmed&&h.spriteSourceSize&&(v=new e.Rectangle(Math.floor(h.spriteSourceSize.x*f)/this.resolution,Math.floor(h.spriteSourceSize.y*f)/this.resolution,Math.floor(u.w*f)/this.resolution,Math.floor(u.h*f)/this.resolution));this.textures[g]=new e.Texture(this.baseTexture,n,w,v,h.rotated?2:0);e.Texture.addToCache(this.textures[g],g)}c++}};a.prototype._parseComplete=function(){var a=this._callback;
this._callback=null;this._batchIndex=0;a.call(this,this.textures)};a.prototype._nextBatch=function(){var b=this;this._processFrames(this._batchIndex*a.BATCH_SIZE);this._batchIndex++;setTimeout(function(){b._batchIndex*a.BATCH_SIZE<b._frameKeys.length?b._nextBatch():b._parseComplete()},0)};a.prototype.destroy=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b;for(b in this.textures)this.textures[b].destroy();this.textures=this.data=this._frameKeys=this._frames=null;a&&this.baseTexture.destroy();
this.baseTexture=null};return a}();c.default=a},{"../":65,"../utils":125}],115:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a){a.destroy=function(){};a.on=
function(){};a.once=function(){};a.emit=function(){}}c.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();b=a("./BaseTexture");var g=d(b);b=a("./VideoBaseTexture");var k=d(b);b=a("./TextureUvs");var p=d(b);b=a("eventemitter3");b=d(b);var l=a("../math"),m=a("../utils");a=a("../settings");var t=
d(a),u=function(a){function b(c,d,e,f,g){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var h=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.noFrame=!1;d||(h.noFrame=!0,d=new l.Rectangle(0,0,1,1));c instanceof b&&(c=c.baseTexture);h.baseTexture=c;h._frame=d;h.trim=f;h.valid=!1;h.requiresUpdate=!1;h._uvs=null;h.orig=e||d;h._rotate=Number(g||0);if(!0===
g)h._rotate=2;else if(0!==h._rotate%2)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");if(c.hasLoaded)h.noFrame&&(d=new l.Rectangle(0,0,c.width,c.height),c.on("update",h.onBaseTextureUpdated,h)),h.frame=d;else c.once("loaded",h.onBaseTextureLoaded,h);h._updateID=0;h.transform=null;h.textureCacheIds=[];return h}e(b,a);b.prototype.update=function(){this.baseTexture.update()};b.prototype.onBaseTextureLoaded=function(a){this._updateID++;this.frame=this.noFrame?
new l.Rectangle(0,0,a.width,a.height):this._frame;this.baseTexture.on("update",this.onBaseTextureUpdated,this);this.emit("update",this)};b.prototype.onBaseTextureUpdated=function(a){this._updateID++;this._frame.width=a.width;this._frame.height=a.height;this.emit("update",this)};b.prototype.destroy=function(a){this.baseTexture&&(a&&(m.TextureCache[this.baseTexture.imageUrl]&&b.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,
this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;b.removeFromCache(this);this.textureCacheIds=null};b.prototype.clone=function(){return new b(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};b.prototype._updateUvs=function(){this._uvs||(this._uvs=new p.default);this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};b.fromImage=function(a,c,d,e){var f=m.TextureCache[a];
f||(f=new b(g.default.fromImage(a,c,d,e)),b.addToCache(f,a));return f};b.fromFrame=function(a){var b=m.TextureCache[a];if(!b)throw Error('The frameId "'+a+'" does not exist in the texture cache');return b};b.fromCanvas=function(a,c){return new b(g.default.fromCanvas(a,c,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas"))};b.fromVideo=function(a,c){return"string"===typeof a?b.fromVideoUrl(a,c):new b(k.default.fromVideo(a,c))};b.fromVideoUrl=function(a,c){return new b(k.default.fromUrl(a,
c))};b.from=function(a){if("string"===typeof a){var c=m.TextureCache[a];return c?c:null!==a.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?b.fromVideoUrl(a):b.fromImage(a)}return a instanceof HTMLImageElement?new b(g.default.from(a)):a instanceof HTMLCanvasElement?b.fromCanvas(a,t.default.SCALE_MODE,"HTMLCanvasElement"):a instanceof HTMLVideoElement?b.fromVideo(a):a instanceof g.default?new b(a):a};b.fromLoader=function(a,c,d){a=new g.default(a,void 0,(0,m.getResolutionOfUrl)(c));var e=new b(a);a.imageUrl=
c;d||(d=c);g.default.addToCache(e.baseTexture,d);b.addToCache(e,d);d!==c&&(g.default.addToCache(e.baseTexture,c),b.addToCache(e,c));return e};b.addToCache=function(a,b){b&&(-1===a.textureCacheIds.indexOf(b)&&a.textureCacheIds.push(b),m.TextureCache[b]&&console.warn("Texture added to the cache with an id ["+b+"] that already had an entry"),m.TextureCache[b]=a)};b.removeFromCache=function(a){if("string"===typeof a){var b=m.TextureCache[a];if(b){var c=b.textureCacheIds.indexOf(a);-1<c&&b.textureCacheIds.splice(c,
1);delete m.TextureCache[a];return b}}else if(a&&a.textureCacheIds){for(b=0;b<a.textureCacheIds.length;++b)m.TextureCache[a.textureCacheIds[b]]===a&&delete m.TextureCache[a.textureCacheIds[b]];a.textureCacheIds.length=0;return a}return null};h(b,[{key:"frame",get:function(){return this._frame},set:function(a){this._frame=a;this.noFrame=!1;var b=a.x,c=a.y,d=a.width,e=a.height,f=b+d>this.baseTexture.width,g=c+e>this.baseTexture.height;if(f||g)throw Error("Texture Error: frame does not fit inside the base Texture dimensions: "+
("X: "+b+" + "+d+" = "+(b+d)+" > "+this.baseTexture.width+" "+(f&&g?"and":"or")+" "+("Y: "+c+" + "+e+" = "+(c+e)+" > "+this.baseTexture.height)));this.valid=d&&e&&this.baseTexture.hasLoaded;this.trim||this.rotate||(this.orig=a);this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(a){this._rotate=a;this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]);return b}(b.default);
c.default=u;u.EMPTY=new u(new g.default);f(u.EMPTY);f(u.EMPTY.baseTexture);u.WHITE=function(){var a=document.createElement("canvas");a.width=10;a.height=10;var b=a.getContext("2d");b.fillStyle="white";b.fillRect(0,0,10,10);return new u(new g.default(a))}();f(u.WHITE);f(u.WHITE.baseTexture)},{"../math":70,"../settings":101,"../utils":125,"./BaseTexture":112,"./TextureUvs":117,"./VideoBaseTexture":118,eventemitter3:3}],116:[function(a,b,c){c.__esModule=!0;var d=function(){function a(a,b){for(var c=
0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("../math/Matrix"))&&a.__esModule?a:{default:a},f=new e.default;a=function(){function a(b,c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._texture=b;this.mapCoord=new e.default;this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);
this._lastTextureID=-1;this.clampOffset=0;this.clampMargin="undefined"===typeof c?.5:c}a.prototype.multiplyUvs=function(a,b){void 0===b&&(b=a);for(var c=this.mapCoord,d=0;d<a.length;d+=2){var e=a[d],f=a[d+1];b[d]=e*c.a+f*c.c+c.tx;b[d+1]=e*c.b+f*c.d+c.ty}return b};a.prototype.update=function(a){var b=this._texture;if(!b||!b.valid||!a&&this._lastTextureID===b._updateID)return!1;this._lastTextureID=b._updateID;a=b._uvs;this.mapCoord.set(a.x1-a.x0,a.y1-a.y0,a.x3-a.x0,a.y3-a.y0,a.x0,a.y0);a=b.orig;var c=
b.trim;c&&(f.set(a.width/c.width,0,0,a.height/c.height,-c.x/c.width,-c.y/c.height),this.mapCoord.append(f));a=b.baseTexture;c=this.uClampFrame;var d=this.clampMargin/a.resolution,e=this.clampOffset;c[0]=(b._frame.x+d+e)/a.width;c[1]=(b._frame.y+d+e)/a.height;c[2]=(b._frame.x+b._frame.width-d+e)/a.width;c[3]=(b._frame.y+b._frame.height-d+e)/a.height;this.uClampOffset[0]=e/a.realWidth;this.uClampOffset[1]=e/a.realHeight;return!0};d(a,[{key:"texture",get:function(){return this._texture},set:function(a){this._texture=
a;this._lastTextureID=-1}}]);return a}();c.default=a},{"../math/Matrix":67}],117:[function(a,b,c){c.__esModule=!0;var d=(a=a("../math/GroupD8"))&&a.__esModule?a:{default:a};a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsUint32=new Uint32Array(4)}a.prototype.set=function(a,b,c){var e=b.width,f=b.height;if(c){b=a.width/2/e;var g=a.height/2/f;e=a.x/e+b;a=a.y/
f+g;c=d.default.add(c,d.default.NW);this.x0=e+b*d.default.uX(c);this.y0=a+g*d.default.uY(c);c=d.default.add(c,2);this.x1=e+b*d.default.uX(c);this.y1=a+g*d.default.uY(c);c=d.default.add(c,2);this.x2=e+b*d.default.uX(c);this.y2=a+g*d.default.uY(c);c=d.default.add(c,2);this.x3=e+b*d.default.uX(c);this.y3=a+g*d.default.uY(c)}else this.x0=a.x/e,this.y0=a.y/f,this.x1=(a.x+a.width)/e,this.y1=a.y/f,this.x2=(a.x+a.width)/e,this.y2=(a.y+a.height)/f,this.x3=a.x/e,this.y3=(a.y+a.height)/f;this.uvsUint32[0]=(65535*
this.y0&65535)<<16|65535*this.x0&65535;this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535;this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535;this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535};return a}();c.default=a},{"../math/GroupD8":66}],118:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function e(a,b){b||(b="video/"+a.substr(a.lastIndexOf(".")+1));var c=document.createElement("source");c.src=a;c.type=b;return c}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),
h=(b=a("./BaseTexture"))&&b.__esModule?b:{default:b},g=a("../utils"),k=a("../ticker"),p=a("../const"),l=(a=a("../utils/determineCrossOrigin"))&&a.__esModule?a:{default:a};a=function(a){function b(c,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(!c)throw Error("No video source element specified.");(c.readyState===c.HAVE_ENOUGH_DATA||c.readyState===c.HAVE_FUTURE_DATA)&&c.width&&c.height&&(c.complete=!0);d=a.call(this,c,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.width=c.videoWidth;d.height=c.videoHeight;d._autoUpdate=!0;d._isAutoUpdating=!1;d.autoPlay=!0;d.update=d.update.bind(d);d._onCanPlay=d._onCanPlay.bind(d);c.addEventListener("play",d._onPlayStart.bind(d));c.addEventListener("pause",d._onPlayStop.bind(d));d.hasLoaded=!1;d.__loaded=!1;d._isSourceReady()?d._onCanPlay():(c.addEventListener("canplay",d._onCanPlay),c.addEventListener("canplaythrough",d._onCanPlay));return d}d(b,a);b.prototype._isSourcePlaying=
function(){var a=this.source;return 0<a.currentTime&&!1===a.paused&&!1===a.ended&&2<a.readyState};b.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState};b.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay();!this._isAutoUpdating&&this.autoUpdate&&(k.shared.add(this.update,this,p.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)};b.prototype._onPlayStop=function(){this._isAutoUpdating&&(k.shared.remove(this.update,this),this._isAutoUpdating=
!1)};b.prototype._onCanPlay=function(){this.hasLoaded=!0;this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())};b.prototype.destroy=function(){this._isAutoUpdating&&k.shared.remove(this.update,this);this.source&&
this.source._pixiId&&(h.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load());a.prototype.destroy.call(this)};b.fromVideo=function(a,c){a._pixiId||(a._pixiId="video_"+(0,g.uid)());var d=g.BaseTextureCache[a._pixiId];d||(d=new b(a,c),h.default.addToCache(d,a._pixiId));return d};b.fromUrl=function(a,c,d){var f=document.createElement("video");f.setAttribute("webkit-playsinline","");f.setAttribute("playsinline","");var g=Array.isArray(a)?
a[0].src||a[0]:a.src||a;void 0===d&&0!==g.indexOf("data:")?f.crossOrigin=(0,l.default)(g):d&&(f.crossOrigin="string"===typeof d?d:"anonymous");if(Array.isArray(a))for(d=0;d<a.length;++d)f.appendChild(e(a[d].src||a[d],a[d].mime));else f.appendChild(e(g,a.mime));f.load();return b.fromVideo(f,c)};f(b,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&(this._autoUpdate=a,!this._autoUpdate&&this._isAutoUpdating?(k.shared.remove(this.update,this),this._isAutoUpdating=
!1):this._autoUpdate&&!this._isAutoUpdating&&(k.shared.add(this.update,this,p.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]);return b}(h.default);c.default=a;a.fromUrls=a.fromUrl},{"../const":46,"../ticker":121,"../utils":125,"../utils/determineCrossOrigin":124,"./BaseTexture":112}],119:[function(a,b,c){c.__esModule=!0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,
d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(b=a("../settings"))&&b.__esModule?b:{default:b},f=a("../const"),h=(a=a("./TickerListener"))&&a.__esModule?a:{default:a};a=function(){function a(){var b=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._head=new h.default(null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this.autoStart=!1;this.deltaTime=1;this.elapsedMS=1/e.default.TARGET_FPMS;this.lastTime=-1;this.speed=
1;this.started=!1;this._tick=function(a){b._requestId=null;b.started&&(b.update(a),b.started&&null===b._requestId&&b._head.next&&(b._requestId=requestAnimationFrame(b._tick)))}}a.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};a.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)};a.prototype._startIfPossible=function(){this.started?
this._requestIfNeeded():this.autoStart&&this.start()};a.prototype.add=function(a,b){return this._addListener(new h.default(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:f.UPDATE_PRIORITY.NORMAL))};a.prototype.addOnce=function(a,b){return this._addListener(new h.default(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:f.UPDATE_PRIORITY.NORMAL,!0))};a.prototype._addListener=function(a){var b=this._head.next,c=this._head;if(b){for(;b;){if(a.priority>b.priority){a.connect(c);break}c=
b;b=b.next}a.previous||a.connect(c)}else a.connect(c);this._startIfPossible();return this};a.prototype.remove=function(a,b){for(var c=this._head.next;c;)c=c.match(a,b)?c.destroy():c.next;this._head.next||this._cancelIfNeeded();return this};a.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};a.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};a.prototype.destroy=function(){this.stop();for(var a=this._head.next;a;)a=a.destroy(!0);this._head.destroy();
this._head=null};a.prototype.update=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now();if(a>this.lastTime){var b=this.elapsedMS=a-this.lastTime;b>this._maxElapsedMS&&(b=this._maxElapsedMS);this.deltaTime=b*e.default.TARGET_FPMS*this.speed;b=this._head;for(var c=b.next;c;)c=c.emit(this.deltaTime);b.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=a};d(a,[{key:"FPS",get:function(){return 1E3/this.elapsedMS}},{key:"minFPS",get:function(){return 1E3/
this._maxElapsedMS},set:function(a){this._maxElapsedMS=1/Math.min(Math.max(0,a)/1E3,e.default.TARGET_FPMS)}}]);return a}();c.default=a},{"../const":46,"../settings":101,"./TickerListener":120}],120:[function(a,b,c){c.__esModule=!0;a=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.fn=b;this.context=c;this.priority=d;this.once=e;this.previous=this.next=null;this._destroyed=!1}a.prototype.match=function(a,b){return this.fn===a&&this.context===(b||null)};a.prototype.emit=function(a){this.fn&&(this.context?this.fn.call(this.context,a):this.fn(a));a=this.next;this.once&&this.destroy(!0);this._destroyed&&(this.next=null);return a};a.prototype.connect=function(a){this.previous=a;a.next&&(a.next.previous=this);this.next=a.next;a.next=this};a.prototype.destroy=function(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this._destroyed=!0;this.context=this.fn=null;this.previous&&(this.previous.next=this.next);this.next&&(this.next.previous=this.previous);var b=this.next;this.next=a?null:b;this.previous=null;return b};return a}();c.default=a},{}],121:[function(a,b,c){c.__esModule=!0;c.Ticker=c.shared=void 0;a=(a=a("./Ticker"))&&a.__esModule?a:{default:a};b=new a.default;b.autoStart=!0;b.destroy=function(){};c.shared=b;c.Ticker=a.default},{"./Ticker":119}],
122:[function(a,b,c){c.__esModule=!0;c.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},{}],123:[function(a,b,c){c.__esModule=!0;c.default=function(a){a*=6;for(var b=new Uint16Array(a),c=0,d=0;c<a;c+=6,d+=4)b[c+0]=d+0,b[c+1]=d+1,b[c+2]=d+2,b[c+3]=d+0,b[c+4]=d+2,b[c+5]=d+3;return b}},{}],124:[function(a,b,c){c.__esModule=!0;c.default=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===a.indexOf("data:"))return"";
b=b||window.location;e||(e=document.createElement("a"));e.href=a;a=d.default.parse(e.href);var c=!a.port&&""===b.port||a.port===b.port;return a.hostname===b.hostname&&c&&a.protocol===b.protocol?"":"anonymous"};var d=(a=a("url"))&&a.__esModule?a:{default:a},e=void 0},{url:38}],125:[function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}function e(a){return a&&a.__esModule?a:{default:a}}
c.__esModule=!0;c.premultiplyBlendMode=c.BaseTextureCache=c.TextureCache=c.earcut=c.mixins=c.pluginTarget=c.EventEmitter=c.removeItems=c.isMobile=void 0;c.uid=function(){return++t};c.hex2rgb=function(a,b){b=b||[];b[0]=(a>>16&255)/255;b[1]=(a>>8&255)/255;b[2]=(a&255)/255;return b};c.hex2string=function(a){a=a.toString(16);a="000000".substr(0,6-a.length)+a;return"#"+a};c.rgb2hex=function(a){return(255*a[0]<<16)+(255*a[1]<<8)+(255*a[2]|0)};c.getResolutionOfUrl=function(a,b){return(a=h.default.RETINA_PREFIX.exec(a))?
parseFloat(a[1]):void 0!==b?b:1};c.decomposeDataUri=function(a){if(a=f.DATA_URI.exec(a))return{mediaType:a[1]?a[1].toLowerCase():void 0,subType:a[2]?a[2].toLowerCase():void 0,charset:a[3]?a[3].toLowerCase():void 0,encoding:a[4]?a[4].toLowerCase():void 0,data:a[5]}};c.getUrlFileExtension=function(a){if(a=f.URL_FILE_EXTENSION.exec(a))return a[1].toLowerCase()};c.getSvgSize=function(a){a=f.SVG_SIZE.exec(a);var b={};a&&(b[a[1]]=Math.round(parseFloat(a[3])),b[a[5]]=Math.round(parseFloat(a[7])));return b};
c.skipHello=function(){u=!0};c.sayHello=function(a){u||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?window.console.log.apply(console,["\n %c %c %c PixiJS "+f.VERSION+" - \u2730 "+a+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;",
"color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS "+f.VERSION+" - "+a+" - http://www.pixijs.com/"),u=!0)};c.isWebGLSupported=function(){var a={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas"),c=b.getContext("webgl",a)||b.getContext("experimental-webgl",a),d=!(!c||!c.getContextAttributes().stencil);
if(c){var e=c.getExtension("WEBGL_lose_context");e&&e.loseContext()}return d}catch(E){return!1}};c.sign=function(a){return 0===a?0:0>a?-1:1};c.destroyTextureCache=function(){var a=void 0;for(a in v)v[a].destroy();for(a in n)n[a].destroy()};c.clearTextureCache=function(){var a=void 0;for(a in v)delete v[a];for(a in n)delete n[a]};c.correctBlendMode=function(a,b){return w[b?1:0][a]};c.premultiplyTint=function(a,b){return 1===b?(255*b<<24)+a:0===b?0:(255*b<<24)+(((a>>16&255)*b+.5|0)<<16)+(((a>>8&255)*
b+.5|0)<<8)+((a&255)*b+.5|0)};c.premultiplyRgba=function(a,b,c,d){c=c||new Float32Array(4);d||void 0===d?(c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b):(c[0]=a[0],c[1]=a[1],c[2]=a[2]);c[3]=b;return c};c.premultiplyTintToRgba=function(a,b,c,d){c=c||new Float32Array(4);c[0]=(a>>16&255)/255;c[1]=(a>>8&255)/255;c[2]=(a&255)/255;if(d||void 0===d)c[0]*=b,c[1]*=b,c[2]*=b;c[3]=b;return c};var f=a("../const");b=a("../settings");var h=e(b);b=a("eventemitter3");b=e(b);var g=a("./pluginTarget");g=e(g);var k=a("./mixin");
k=d(k);var p=a("ismobilejs");p=d(p);var l=a("remove-array-items");l=e(l);var m=a("./mapPremultipliedBlendModes");m=e(m);a=a("earcut");a=e(a);var t=0,u=!1;c.isMobile=p;c.removeItems=l.default;c.EventEmitter=b.default;c.pluginTarget=g.default;c.mixins=k;c.earcut=a.default;var v=c.TextureCache=Object.create(null),n=c.BaseTextureCache=Object.create(null),w=c.premultiplyBlendMode=(0,m.default)()},{"../const":46,"../settings":101,"./mapPremultipliedBlendModes":126,"./mixin":128,"./pluginTarget":129,earcut:2,
eventemitter3:3,ismobilejs:4,"remove-array-items":31}],126:[function(a,b,c){c.__esModule=!0;c.default=function(){for(var a=[],b=[],c=0;32>c;c++)a[c]=c,b[c]=c;a[d.BLEND_MODES.NORMAL_NPM]=d.BLEND_MODES.NORMAL;a[d.BLEND_MODES.ADD_NPM]=d.BLEND_MODES.ADD;a[d.BLEND_MODES.SCREEN_NPM]=d.BLEND_MODES.SCREEN;b[d.BLEND_MODES.NORMAL]=d.BLEND_MODES.NORMAL_NPM;b[d.BLEND_MODES.ADD]=d.BLEND_MODES.ADD_NPM;b[d.BLEND_MODES.SCREEN]=d.BLEND_MODES.SCREEN_NPM;c=[];c.push(b);c.push(a);return c};var d=a("../const")},{"../const":46}],
127:[function(a,b,c){c.__esModule=!0;c.default=function(a){return d.default.tablet||d.default.phone?4:a};var d=(a=a("ismobilejs"))&&a.__esModule?a:{default:a}},{ismobilejs:4}],128:[function(a,b,c){function d(a,b){if(a&&b)for(var c=Object.keys(b),d=0;d<c.length;++d){var e=c[d];Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(b,e))}}c.__esModule=!0;c.mixin=d;c.delayMixin=function(a,b){e.push(a,b)};c.performMixins=function(){for(var a=0;a<e.length;a+=2)d(e[a],e[a+1]);e.length=0};var e=[]},{}],
129:[function(a,b,c){function d(a){a.__plugins={};a.registerPlugin=function(b,c){a.__plugins[b]=c};a.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var b in a.__plugins)this.plugins[b]=new a.__plugins[b](this)};a.prototype.destroyPlugins=function(){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;this.plugins=null}}c.__esModule=!0;c.default={mixin:function(a){d(a)}}},{}],130:[function(a,b,c){c.__esModule=!0;c.default=function(a){var b=a.width,c=a.height;
a=a.getContext("2d");c=a.getImageData(0,0,b,c).data;var d=c.length,g=null,k=null,p=null,l=null,m;for(m=0;m<d;m+=4)if(0!==c[m+3]){var t=m/4%b;var u=~~(m/4/b);null===g&&(g=u);null===k?k=t:t<k&&(k=t);null===p?p=t+1:p<t&&(p=t+1);null===l?l=u:l<u&&(l=u)}b=p-k;c=l-g+1;a=a.getImageData(k,g,b,c);return{height:c,width:b,data:a}}},{}],131:[function(a,b,c){function d(a){if(!e[a]){var b=Error().stack;"undefined"===typeof b?console.warn("Deprecation Warning: ",a):(b=b.split("\n").splice(3).join("\n"),console.groupCollapsed?
(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",a),console.warn(b),console.groupEnd()):(console.warn("Deprecation Warning: ",a),console.warn(b)));e[a]=!0}}c.__esModule=!0;c.default=function(a){var b=a.mesh,c=a.particles,e=a.extras,f=a.filters,l=a.prepare,m=a.loaders,t=a.interaction;Object.defineProperties(a,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");
}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.");}},Stage:{get:function(){d("You do not need to use a PIXI Stage any more, you can simply render any container.");return a.Container}},DisplayObjectContainer:{get:function(){d("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return a.Container}},Strip:{get:function(){d("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");
return b.Mesh}},Rope:{get:function(){d("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return b.Rope}},ParticleContainer:{get:function(){d("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");return c.ParticleContainer}},MovieClip:{get:function(){d("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return e.AnimatedSprite}},TilingSprite:{get:function(){d("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");
return e.TilingSprite}},BitmapText:{get:function(){d("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");return e.BitmapText}},blendModes:{get:function(){d("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return a.BLEND_MODES}},scaleModes:{get:function(){d("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");return a.SCALE_MODES}},BaseTextureCache:{get:function(){d("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");
return a.utils.BaseTextureCache}},TextureCache:{get:function(){d("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return a.utils.TextureCache}},math:{get:function(){d("The math namespace is deprecated, please access members already accessible on PIXI.");return a}},AbstractFilter:{get:function(){d("AstractFilter has been renamed to Filter, please use PIXI.Filter");return a.Filter}},TransformManual:{get:function(){d("TransformManual has been renamed to TransformBase, please update your pixi-spine");
return a.TransformBase}},TARGET_FPMS:{get:function(){d("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return a.settings.TARGET_FPMS},set:function(b){d("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");a.settings.TARGET_FPMS=b}},FILTER_RESOLUTION:{get:function(){d("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return a.settings.FILTER_RESOLUTION},set:function(b){d("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");
a.settings.FILTER_RESOLUTION=b}},RESOLUTION:{get:function(){d("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return a.settings.RESOLUTION},set:function(b){d("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");a.settings.RESOLUTION=b}},MIPMAP_TEXTURES:{get:function(){d("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return a.settings.MIPMAP_TEXTURES},set:function(b){d("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");
a.settings.MIPMAP_TEXTURES=b}},SPRITE_BATCH_SIZE:{get:function(){d("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return a.settings.SPRITE_BATCH_SIZE},set:function(b){d("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");a.settings.SPRITE_BATCH_SIZE=b}},SPRITE_MAX_TEXTURES:{get:function(){d("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return a.settings.SPRITE_MAX_TEXTURES},
set:function(b){d("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");a.settings.SPRITE_MAX_TEXTURES=b}},RETINA_PREFIX:{get:function(){d("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return a.settings.RETINA_PREFIX},set:function(b){d("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");a.settings.RETINA_PREFIX=b}},DEFAULT_RENDER_OPTIONS:{get:function(){d("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");
return a.settings.RENDER_OPTIONS}}});for(var u=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],v=function(b){var c=u[b];Object.defineProperty(a[c.parent],"DEFAULT",{get:function(){d("PIXI."+c.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+c.target));return a.settings[c.target]},set:function(b){d("PIXI."+
c.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+c.target));a.settings[c.target]=b}})},n=0;n<u.length;n++)v(n);Object.defineProperties(a.settings,{PRECISION:{get:function(){d("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");return a.settings.PRECISION_FRAGMENT},set:function(b){d("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");a.settings.PRECISION_FRAGMENT=b}}});e.AnimatedSprite&&Object.defineProperties(e,
{MovieClip:{get:function(){d("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");return e.AnimatedSprite}}});e&&Object.defineProperties(e,{TextureTransform:{get:function(){d("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.");return a.TextureMatrix}}});a.DisplayObject.prototype.generateTexture=function(a,b,c){d("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");
return a.generateTexture(this,b,c)};a.Graphics.prototype.generateTexture=function(a,b){d("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(a,b)};a.GroupD8.isSwapWidthHeight=function(b){d("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical");return a.GroupD8.isVertical(b)};a.RenderTexture.prototype.render=function(a,b,c,e){this.legacyRenderer.render(a,this,c,b,!e);d("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};
a.RenderTexture.prototype.getImage=function(a){d("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");return this.legacyRenderer.extract.image(a)};a.RenderTexture.prototype.getBase64=function(a){d("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(a)};a.RenderTexture.prototype.getCanvas=function(a){d("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");
return this.legacyRenderer.extract.canvas(a)};a.RenderTexture.prototype.getPixels=function(a){d("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");return this.legacyRenderer.pixels(a)};a.Sprite.prototype.setTexture=function(a){this.texture=a;d("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};e.BitmapText&&(e.BitmapText.prototype.setText=function(a){this.text=a;d("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});
a.Text.prototype.setText=function(a){this.text=a;d("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};a.Text.calculateFontProperties=function(b){d("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont");return a.TextMetrics.measureFont(b)};Object.defineProperties(a.Text,{fontPropertiesCache:{get:function(){d("Text.fontPropertiesCache is deprecated");return a.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){d("Text.fontPropertiesCanvas is deprecated");
return a.TextMetrics._canvas}},fontPropertiesContext:{get:function(){d("Text.fontPropertiesContext is deprecated");return a.TextMetrics._context}}});a.Text.prototype.setStyle=function(a){this.style=a;d("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};a.Text.prototype.determineFontProperties=function(b){d("determineFontProperties is now deprecated, please use TextMetrics.measureFont method");return a.TextMetrics.measureFont(b)};a.Text.getFontStyle=function(b){d("getFontStyle is now deprecated, please use TextStyle.toFontString() instead");
b=b||{};b instanceof a.TextStyle||(b=new a.TextStyle(b));return b.toFontString()};Object.defineProperties(a.TextStyle.prototype,{font:{get:function(){d("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+("number"===typeof this._fontSize?this._fontSize+"px":this._fontSize)+" "+this._fontFamily},set:function(a){d("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");
1<a.indexOf("italic")?this._fontStyle="italic":-1<a.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal";-1<a.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";a=a.split(" ");var b=-1;this._fontSize=26;for(var c=0;c<a.length;++c)if(a[c].match(/(px|pt|em|%)/)){b=c;this._fontSize=a[c];break}this._fontWeight="normal";for(c=0;c<b;++c)if(a[c].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=a[c];break}if(-1<b&&b<a.length-
1){this._fontFamily="";for(b+=1;b<a.length;++b)this._fontFamily+=a[b]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}});a.Texture.prototype.setFrame=function(a){this.frame=a;d("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};a.Texture.addTextureToCache=function(b,c){a.Texture.addToCache(b,c);d("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")};a.Texture.removeTextureFromCache=
function(b){d("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache");a.BaseTexture.removeFromCache(b);return a.Texture.removeFromCache(b)};Object.defineProperties(f,{AbstractFilter:{get:function(){d("AstractFilter has been renamed to Filter, please use PIXI.Filter");return a.AbstractFilter}},SpriteMaskFilter:{get:function(){d("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");
return a.SpriteMaskFilter}},VoidFilter:{get:function(){d("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter");return f.AlphaFilter}}});a.utils.uuid=function(){d("utils.uuid() is deprecated, please use utils.uid() from now on.");return a.utils.uid()};a.utils.canUseNewCanvasBlendModes=function(){d("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return a.CanvasTinter.canUseMultiply};var w=!0;Object.defineProperty(a.utils,
"_saidHello",{set:function(a){a&&(d("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello());w=a},get:function(){return w}});l.BasePrepare&&(l.BasePrepare.prototype.register=function(a,b){d("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook");a&&this.registerFindHook(a);b&&this.registerUploadHook(b);return this});l.canvas&&Object.defineProperty(l.canvas,"UPLOADS_PER_FRAME",
{set:function(){d("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){d("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});l.webgl&&Object.defineProperty(l.webgl,"UPLOADS_PER_FRAME",{set:function(){d("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},
get:function(){d("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});if(m.Loader){var D=m.Resource;l=m.Loader;Object.defineProperties(D.prototype,{isJson:{get:function(){d("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===D.TYPE.JSON}},isXml:{get:function(){d("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===D.TYPE.XML}},isImage:{get:function(){d("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");
return this.type===D.TYPE.IMAGE}},isAudio:{get:function(){d("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");return this.type===D.TYPE.AUDIO}},isVideo:{get:function(){d("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===D.TYPE.VIDEO}}});Object.defineProperties(l.prototype,{before:{get:function(){d("The before() method is deprecated, please use pre().");return this.pre}},after:{get:function(){d("The after() method is deprecated, please use use().");
return this.use}}})}t.interactiveTarget&&Object.defineProperty(t.interactiveTarget,"defaultCursor",{set:function(a){d("Property defaultCursor has been replaced with 'cursor'. ");this.cursor=a},get:function(){d("Property defaultCursor has been replaced with 'cursor'. ");return this.cursor}});t.InteractionManager&&(Object.defineProperty(t.InteractionManager,"defaultCursorStyle",{set:function(a){d("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");this.cursorStyles.default=
a},get:function(){d("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");return this.cursorStyles.default}}),Object.defineProperty(t.InteractionManager,"currentCursorStyle",{set:function(a){d("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");this.currentCursorMode=a},get:function(){d("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");return this.currentCursorMode}}))};
var e={}},{}],132:[function(a,b,c){c.__esModule=!0;var d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core")),e=new d.Rectangle;a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=b;b.extract=this}a.prototype.image=function(a){var b=new Image;b.src=this.base64(a);return b};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};
a.prototype.canvas=function(a){var b=this.renderer,c=void 0,f=void 0;a&&(f=a instanceof d.RenderTexture?a:b.generateTexture(a));f?(a=f.baseTexture._canvasRenderTarget.context,c=f.baseTexture._canvasRenderTarget.resolution,b=f.frame):(a=b.rootContext,b=e,b.width=this.renderer.width,b.height=this.renderer.height);var h=b.width*c,m=b.height*c;f=new d.CanvasRenderTarget(h,m);c=a.getImageData(b.x*c,b.y*c,h,m);f.context.putImageData(c,0,0);return f.canvas};a.prototype.pixels=function(a){var b=this.renderer,
c=void 0;var f=void 0;a&&(f=a instanceof d.RenderTexture?a:b.generateTexture(a));f?(a=f.baseTexture._canvasRenderTarget.context,c=f.baseTexture._canvasRenderTarget.resolution,f=f.frame):(a=b.rootContext,f=e,f.width=b.width,f.height=b.height);return a.getImageData(0,0,f.width*c,f.height*c).data};a.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return a}();c.default=a;d.CanvasRenderer.registerPlugin("extract",a)},{"../../core":65}],133:[function(a,b,c){c.__esModule=!0;var d=
a("./webgl/WebGLExtract");Object.defineProperty(c,"webgl",{enumerable:!0,get:function(){return(d&&d.__esModule?d:{default:d}).default}});var e=a("./canvas/CanvasExtract");Object.defineProperty(c,"canvas",{enumerable:!0,get:function(){return(e&&e.__esModule?e:{default:e}).default}})},{"./canvas/CanvasExtract":132,"./webgl/WebGLExtract":134}],134:[function(a,b,c){c.__esModule=!0;var d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&
(b[c]=a[c]);b.default=a;return b}(a("../../core")),e=new d.Rectangle;a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=b;b.extract=this}a.prototype.image=function(a){var b=new Image;b.src=this.base64(a);return b};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){var b=this.renderer,c=void 0,f=!1;a&&(a instanceof d.RenderTexture?c=a:(c=this.renderer.generateTexture(a),f=!0));if(c){var h=
c.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];var m=h.resolution;var t=c.frame;a=!1}else h=this.renderer.rootRenderTarget,m=h.resolution,a=!0,t=e,t.width=h.size.width,t.height=h.size.height;var u=t.width*m,v=t.height*m,n=new d.CanvasRenderTarget(u,v);h&&(b.bindRenderTarget(h),h=new Uint8Array(4*u*v),b=b.gl,b.readPixels(t.x*m,t.y*m,u,v,b.RGBA,b.UNSIGNED_BYTE,h),b=n.context.getImageData(0,0,u,v),b.data.set(h),n.context.putImageData(b,0,0),a&&(n.context.scale(1,-1),n.context.drawImage(n.canvas,
0,-v)));f&&c.destroy(!0);return n.canvas};a.prototype.pixels=function(a){var b=this.renderer,c=void 0,f=!1;a&&(a instanceof d.RenderTexture?c=a:(c=this.renderer.generateTexture(a),f=!0));if(c){var h=c.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];a=h.resolution;var m=c.frame}else h=this.renderer.rootRenderTarget,a=h.resolution,m=e,m.width=h.size.width,m.height=h.size.height;var t=m.width*a,u=m.height*a,v=new Uint8Array(4*t*u);h&&(b.bindRenderTarget(h),b=b.gl,b.readPixels(m.x*a,m.y*a,t,u,
b.RGBA,b.UNSIGNED_BYTE,v));f&&c.destroy(!0);return v};a.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return a}();c.default=a;d.WebGLRenderer.registerPlugin("extract",a)},{"../../core":65}],135:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?
Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core"));a=function(a){function b(c,
d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=a.call(this,c[0]instanceof f.Texture?c[0]:c[0].texture);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e._textures=null;e._durations=null;e.textures=c;e._autoUpdate=!1!==d;e.animationSpeed=1;e.loop=!0;e.onComplete=null;e.onFrameChange=null;e.onLoop=null;e._currentTime=0;e.playing=!1;return e}d(b,a);b.prototype.stop=
function(){this.playing&&(this.playing=!1,this._autoUpdate&&f.ticker.shared.remove(this.update,this))};b.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&f.ticker.shared.add(this.update,this,f.UPDATE_PRIORITY.HIGH))};b.prototype.gotoAndStop=function(a){this.stop();var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture()};b.prototype.gotoAndPlay=function(a){var b=this.currentFrame;this._currentTime=a;b!==this.currentFrame&&this.updateTexture();
this.play()};b.prototype.update=function(a){var b=this.animationSpeed*a,c=this.currentFrame;if(null!==this._durations){var d=this._currentTime%1*this._durations[this.currentFrame];for(d+=b/60*1E3;0>d;)this._currentTime--,d+=this._durations[this.currentFrame];a=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);d>=this._durations[this.currentFrame];)d-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=
b;if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),this.onComplete)this.onComplete()}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else if(c!==this.currentFrame){if(this.loop&&this.onLoop)if(0<this.animationSpeed&&this.currentFrame<c)this.onLoop();else if(0>this.animationSpeed&&this.currentFrame>c)this.onLoop();this.updateTexture()}};b.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame];
this._textureID=-1;this.cachedTint=16777215;if(this.onFrameChange)this.onFrameChange(this.currentFrame)};b.prototype.destroy=function(b){this.stop();a.prototype.destroy.call(this,b)};b.fromFrames=function(a){for(var c=[],d=0;d<a.length;++d)c.push(f.Texture.fromFrame(a[d]));return new b(c)};b.fromImages=function(a){for(var c=[],d=0;d<a.length;++d)c.push(f.Texture.fromImage(a[d]));return new b(c)};e(b,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},
set:function(a){if(a[0]instanceof f.Texture)this._textures=a,this._durations=null;else{this._textures=[];this._durations=[];for(var b=0;b<a.length;b++)this._textures.push(a[b].texture),this._durations.push(a[b].time)}this.gotoAndStop(0);this.updateTexture()}},{key:"currentFrame",get:function(){var a=Math.floor(this._currentTime)%this._textures.length;0>a&&(a+=this._textures.length);return a}}]);return b}(f.Sprite);c.default=a},{"../core":65}],136:[function(a,b,c){function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=
!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core")),g=(b=a("../core/math/ObservablePoint"))&&b.__esModule?b:{default:b},k=a("../core/utils"),p=(a=a("../core/settings"))&&a.__esModule?a:{default:a};a=function(a){function b(c){var e=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f=d(this,a.call(this));f._textWidth=0;f._textHeight=0;f._glyphs=[];f._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0};f.font=e.font;f._text=c;f._maxWidth=0;f._maxLineHeight=0;f._letterSpacing=0;f._anchor=new g.default(function(){f.dirty=!0},f,0,0);f.dirty=!1;f.updateText();return f}e(b,a);b.prototype.updateText=function(){for(var a=b.fonts[this._font.name],
c=this._font.size/a.size,d=new h.Point,e=[],f=[],g=this.text.replace(/(?:\r\n|\r)/g,"\n"),k=g.length,p=this._maxWidth*a.size/this._font.size,l=null,m=0,E=0,K=0,I=-1,A=0,y=0,J=0,H=0;H<k;H++){var G=g.charCodeAt(H),M=g.charAt(H);/(?:\s)/.test(M)&&(I=H,A=m);if("\r"===M||"\n"===M)f.push(m),E=Math.max(E,m),++K,++y,d.x=0,d.y+=a.lineHeight,l=null;else if(M=a.chars[G])l&&M.kerning[l]&&(d.x+=M.kerning[l]),e.push({texture:M.texture,line:K,charCode:G,position:new h.Point(d.x+M.xOffset+this._letterSpacing/2,d.y+
M.yOffset)}),d.x+=M.xAdvance+this._letterSpacing,m=d.x,J=Math.max(J,M.yOffset+M.texture.height),l=G,-1!==I&&0<p&&d.x>p&&(++y,h.utils.removeItems(e,1+I-y,1+H-I),H=I,I=-1,f.push(A),E=Math.max(E,A),K++,d.x=0,d.y+=a.lineHeight,l=null)}g=g.charAt(g.length-1);"\r"!==g&&"\n"!==g&&(/(?:\s)/.test(g)&&(m=A),f.push(m),E=Math.max(E,m));m=[];for(A=0;A<=K;A++)g=0,"right"===this._font.align?g=E-f[A]:"center"===this._font.align&&(g=(E-f[A])/2),m.push(g);f=e.length;K=this.tint;for(A=0;A<f;A++)(g=this._glyphs[A])?
g.texture=e[A].texture:(g=new h.Sprite(e[A].texture),this._glyphs.push(g)),g.position.x=(e[A].position.x+m[e[A].line])*c,g.position.y=e[A].position.y*c,g.scale.x=g.scale.y=c,g.tint=K,g.parent||this.addChild(g);for(e=f;e<this._glyphs.length;++e)this.removeChild(this._glyphs[e]);this._textWidth=E*c;this._textHeight=(d.y+a.lineHeight)*c;if(0!==this.anchor.x||0!==this.anchor.y)for(a=0;a<f;a++)this._glyphs[a].x-=this._textWidth*this.anchor.x,this._glyphs[a].y-=this._textHeight*this.anchor.y;this._maxLineHeight=
J*c};b.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};b.prototype.getLocalBounds=function(){this.validate();return a.prototype.getLocalBounds.call(this)};b.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};b.registerFont=function(a,c){var d={},e=a.getElementsByTagName("info")[0],f=a.getElementsByTagName("common")[0],g=a.getElementsByTagName("page"),l=(0,k.getResolutionOfUrl)(g[0].getAttribute("file"),p.default.RESOLUTION),m={};d.font=
e.getAttribute("face");d.size=parseInt(e.getAttribute("size"),10);d.lineHeight=parseInt(f.getAttribute("lineHeight"),10)/l;d.chars={};c instanceof h.Texture&&(c=[c]);for(e=0;e<g.length;e++){f=g[e].getAttribute("id");var u=g[e].getAttribute("file");m[f]=c instanceof Array?c[e]:c[u]}c=a.getElementsByTagName("char");for(g=0;g<c.length;g++){e=c[g];f=parseInt(e.getAttribute("id"),10);u=e.getAttribute("page")||0;var t=new h.Rectangle(parseInt(e.getAttribute("x"),10)/l+m[u].frame.x/l,parseInt(e.getAttribute("y"),
10)/l+m[u].frame.y/l,parseInt(e.getAttribute("width"),10)/l,parseInt(e.getAttribute("height"),10)/l);d.chars[f]={xOffset:parseInt(e.getAttribute("xoffset"),10)/l,yOffset:parseInt(e.getAttribute("yoffset"),10)/l,xAdvance:parseInt(e.getAttribute("xadvance"),10)/l,kerning:{},texture:new h.Texture(m[u].baseTexture,t),page:u}}a=a.getElementsByTagName("kerning");for(m=0;m<a.length;m++)e=a[m],c=parseInt(e.getAttribute("first"),10)/l,g=parseInt(e.getAttribute("second"),10)/l,e=parseInt(e.getAttribute("amount"),
10)/l,d.chars[g]&&(d.chars[g].kerning[c]=e);return b.fonts[d.font]=d};f(b,[{key:"tint",get:function(){return this._font.tint},set:function(a){this._font.tint="number"===typeof a&&0<=a?a:16777215;this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(a){this._font.align=a||"left";this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(a){"number"===typeof a?this._anchor.set(a):this._anchor.copy(a)}},{key:"font",get:function(){return this._font},set:function(a){a&&
("string"===typeof a?(a=a.split(" "),this._font.name=1===a.length?a[0]:a.slice(1).join(" "),this._font.size=2<=a.length?parseInt(a[0],10):b.fonts[this._font.name].size):(this._font.name=a.name,this._font.size="number"===typeof a.size?a.size:parseInt(a.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(a){a=a.toString()||" ";this._text!==a&&(this._text=a,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(a){this._maxWidth!==a&&(this._maxWidth=
a,this.dirty=!0)}},{key:"maxLineHeight",get:function(){this.validate();return this._maxLineHeight}},{key:"textWidth",get:function(){this.validate();return this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.dirty=!0)}},{key:"textHeight",get:function(){this.validate();return this._textHeight}}]);return b}(h.Container);c.default=a;a.fonts={}},{"../core":65,"../core/math/ObservablePoint":68,"../core/settings":101,
"../core/utils":125}],137:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in
d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core")),h=(a=a("../core/sprites/canvas/CanvasTinter"))&&a.__esModule?a:{default:a},g=new f.Point;a=function(a){function b(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,e=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:100;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.tileTransform=new f.TransformStatic;g._width=d;g._height=e;g._canvasPattern=null;g.uvTransform=c.transform||new f.TextureMatrix(c);g.pluginName="tilingSprite";g.uvRespectAnchor=!1;return g}d(b,a);b.prototype._onTextureUpdate=function(){this.uvTransform&&
(this.uvTransform.texture=this._texture);this.cachedTint=16777215};b.prototype._renderWebGL=function(a){var b=this._texture;b&&b.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this))};b.prototype._renderCanvas=function(a){var b=this._texture;if(b.baseTexture.hasLoaded){var c=a.context,d=this.worldTransform,e=a.resolution,g=b.baseTexture,k=g.resolution,p=this.tilePosition.x/this.tileScale.x%
b._frame.width*k,l=this.tilePosition.y/this.tileScale.y%b._frame.height*k;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var C=new f.CanvasRenderTarget(b._frame.width,b._frame.height,k);16777215!==this.tint?(this.tintedTexture=h.default.getTintedTexture(this,this.tint),C.context.drawImage(this.tintedTexture,0,0)):C.context.drawImage(g.source,-b._frame.x*k,-b._frame.y*k);this.cachedTint=this.tint;this._canvasPattern=C.context.createPattern(C.canvas,
"repeat")}c.globalAlpha=this.worldAlpha;c.setTransform(d.a*e,d.b*e,d.c*e,d.d*e,d.tx*e,d.ty*e);a.setBlendMode(this.blendMode);c.fillStyle=this._canvasPattern;c.scale(this.tileScale.x/k,this.tileScale.y/k);a=this.anchor.x*-this._width;b=this.anchor.y*-this._height;this.uvRespectAnchor?(c.translate(p,l),c.fillRect(-p+a,-l+b,this._width/this.tileScale.x*k,this._height/this.tileScale.y*k)):(c.translate(p+a,l+b),c.fillRect(-p,-l,this._width/this.tileScale.x*k,this._height/this.tileScale.y*k))}};b.prototype._calculateBounds=
function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))};b.prototype.getLocalBounds=function(b){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),b||(this._localBoundsRect||(this._localBoundsRect=new f.Rectangle),
b=this._localBoundsRect),this._bounds.getRectangle(b)):a.prototype.getLocalBounds.call(this,b)};b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,g);var b=this._width;a=this._height;var c=-b*this.anchor._x;return g.x>=c&&g.x<c+b&&(b=-a*this.anchor._y,g.y>=b&&g.y<b+a)?!0:!1};b.prototype.destroy=function(b){a.prototype.destroy.call(this,b);this.uvTransform=this.tileTransform=null};b.from=function(a,c,d){return new b(f.Texture.from(a),c,d)};b.fromFrame=function(a,c,d){var e=f.utils.TextureCache[a];
if(!e)throw Error('The frameId "'+a+'" does not exist in the texture cache '+this);return new b(e,c,d)};b.fromImage=function(a,c,d,e,g){return new b(f.Texture.fromImage(a,e,g),c,d)};e(b,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(a){this.uvTransform.clampMargin=a;this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copy(a)}},{key:"tilePosition",get:function(){return this.tileTransform.position},
set:function(a){this.tileTransform.position.copy(a)}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}}]);return b}(f.Sprite);c.default=a},{"../core":65,"../core/sprites/canvas/CanvasTinter":104}],138:[function(a,b,c){var d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core")),
e=(b=a("../core/textures/Texture"))&&b.__esModule?b:{default:b},f=(b=a("../core/textures/BaseTexture"))&&b.__esModule?b:{default:b},h=a("../core/utils");a=d.DisplayObject;var g=new d.Matrix;a.prototype._cacheAsBitmap=!1;a.prototype._cacheData=!1;var k=function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.sprite=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalHitTest=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=
this.originalRenderCanvas=this.originalRenderWebGL=this.textureCacheId=null};Object.defineProperties(a.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){this._cacheAsBitmap!==a&&((this._cacheAsBitmap=a)?(this._cacheData||(this._cacheData=new k),a=this._cacheData,a.originalRenderWebGL=this.renderWebGL,a.originalRenderCanvas=this.renderCanvas,a.originalUpdateTransform=this.updateTransform,a.originalCalculateBounds=this._calculateBounds,a.originalGetLocalBounds=this.getLocalBounds,
a.originalDestroy=this.destroy,a.originalContainsPoint=this.containsPoint,a.originalMask=this._mask,a.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(a=this._cacheData,a.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=a.originalRenderWebGL,this.renderCanvas=a.originalRenderCanvas,this._calculateBounds=a.originalCalculateBounds,this.getLocalBounds=a.originalGetLocalBounds,this.destroy=
a.originalDestroy,this.updateTransform=a.originalUpdateTransform,this.containsPoint=a.originalContainsPoint,this._mask=a.originalMask,this.filterArea=a.originalFilterArea))}}});a.prototype._renderCachedWebGL=function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(a),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(a))};a.prototype._initCachedDisplayObject=function(a){if(!this._cacheData||
!this._cacheData.sprite){var b=this.alpha;this.alpha=1;a.currentRenderer.flush();var c=this.getLocalBounds().clone();this._filters&&c.pad(this._filters[0].padding);var k=a._activeRenderTarget,l=a.filterManager.filterStack,n=d.RenderTexture.create(c.width|0,c.height|0),w="cacheAsBitmap_"+(0,h.uid)();this._cacheData.textureCacheId=w;f.default.addToCache(n.baseTexture,w);e.default.addToCache(n,w);g.tx=-c.x;g.ty=-c.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;
a.render(this,n,!0,g,!0);a.bindRenderTarget(k);a.filterManager.filterStack=l;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this.filterArea=this._mask=null;k=new d.Sprite(n);k.transform.worldTransform=this.transform.worldTransform;k.anchor.x=-(c.x/c.width);k.anchor.y=-(c.y/c.height);k.alpha=b;k._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=k;this.transform._parentID=
-1;this.parent?this.updateTransform():(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null);this.containsPoint=k.containsPoint.bind(k)}};a.prototype._renderCachedCanvas=function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(a),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(a))};a.prototype._initCachedDisplayObjectCanvas=function(a){if(!this._cacheData||!this._cacheData.sprite){var b=this.getLocalBounds(),
c=this.alpha;this.alpha=1;var k=a.context,l=d.RenderTexture.create(b.width|0,b.height|0),n="cacheAsBitmap_"+(0,h.uid)();this._cacheData.textureCacheId=n;f.default.addToCache(l.baseTexture,n);e.default.addToCache(l,n);this.transform.localTransform.copy(g);g.invert();g.tx-=b.x;g.ty-=b.y;this.renderCanvas=this._cacheData.originalRenderCanvas;a.render(this,l,!0,g,!1);a.context=k;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this.filterArea=this._mask=null;
k=new d.Sprite(l);k.transform.worldTransform=this.transform.worldTransform;k.anchor.x=-(b.x/b.width);k.anchor.y=-(b.y/b.height);k._bounds=this._bounds;k.alpha=c;this.parent?this.updateTransform():(this.parent=a._tempDisplayObjectParent,this.updateTransform(),this.parent=null);this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=k;this.containsPoint=k.containsPoint.bind(k)}};a.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()};a.prototype._getCachedLocalBounds=
function(){return this._cacheData.sprite.getLocalBounds()};a.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0);this._cacheData.sprite=null;f.default.removeFromCache(this._cacheData.textureCacheId);e.default.removeFromCache(this._cacheData.textureCacheId);this._cacheData.textureCacheId=null};a.prototype._cacheAsBitmapDestroy=function(a){this.cacheAsBitmap=!1;this.destroy(a)}},{"../core":65,"../core/textures/BaseTexture":112,"../core/textures/Texture":115,
"../core/utils":125}],139:[function(a,b,c){a=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core"));a.DisplayObject.prototype.name=null;a.Container.prototype.getChildByName=function(a){for(var b=0;b<this.children.length;b++)if(this.children[b].name===a)return this.children[b];return null}},{"../core":65}],140:[function(a,b,c){var d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=
a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core"));d.DisplayObject.prototype.getGlobalPosition=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new d.Point,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.parent?this.parent.toGlobal(this.position,a,b):(a.x=this.position.x,a.y=this.position.y);return a}},{"../core":65}],141:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=
!0;c.BitmapText=c.TilingSpriteRenderer=c.TilingSprite=c.AnimatedSprite=void 0;var e=a("./AnimatedSprite");Object.defineProperty(c,"AnimatedSprite",{enumerable:!0,get:function(){return d(e).default}});var f=a("./TilingSprite");Object.defineProperty(c,"TilingSprite",{enumerable:!0,get:function(){return d(f).default}});var h=a("./webgl/TilingSpriteRenderer");Object.defineProperty(c,"TilingSpriteRenderer",{enumerable:!0,get:function(){return d(h).default}});var g=a("./BitmapText");Object.defineProperty(c,
"BitmapText",{enumerable:!0,get:function(){return d(g).default}});a("./cacheAsBitmap");a("./getChildByName");a("./getGlobalPosition")},{"./AnimatedSprite":135,"./BitmapText":136,"./TilingSprite":137,"./cacheAsBitmap":138,"./getChildByName":139,"./getGlobalPosition":140,"./webgl/TilingSpriteRenderer":142}],142:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,
{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core")),f=a("../../core/const");a("path");var h=new e.Matrix;a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,
c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;c.simpleShader=null;c.quad=null;return c}d(b,a);b.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new e.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n");this.simpleShader=new e.Shader(a,
"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n");
this.renderer.bindVao(null);this.quad=new e.Quad(a,this.renderer.state.attribState);this.quad.initVao(this.shader)};b.prototype.render=function(a){var b=this.renderer,c=this.quad;b.bindVao(c.vao);var d=c.vertices;d[0]=d[6]=a._width*-a.anchor.x;d[1]=d[3]=a._height*-a.anchor.y;d[2]=d[4]=a._width*(1-a.anchor.x);d[5]=d[7]=a._height*(1-a.anchor.y);a.uvRespectAnchor&&(d=c.uvs,d[0]=d[6]=-a.anchor.x,d[1]=d[3]=-a.anchor.y,d[2]=d[4]=1-a.anchor.x,d[5]=d[7]=1-a.anchor.y);c.upload();d=a._texture;var g=d.baseTexture,
k=a.tileTransform.localTransform,n=a.uvTransform,p=g.isPowerOfTwo&&d.frame.width===g.width&&d.frame.height===g.height;p&&(g._glTextures[b.CONTEXT_UID]?p=g.wrapMode!==f.WRAP_MODES.CLAMP:g.wrapMode===f.WRAP_MODES.CLAMP&&(g.wrapMode=f.WRAP_MODES.REPEAT));var D=p?this.simpleShader:this.shader;b.bindShader(D);var r=d.width,C=d.height,z=a._width,x=a._height;h.set(k.a*r/z,k.b*r/x,k.c*C/z,k.d*C/x,k.tx/z,k.ty/x);h.invert();p?h.prepend(n.mapCoord):(D.uniforms.uMapCoord=n.mapCoord.toArray(!0),D.uniforms.uClampFrame=
n.uClampFrame,D.uniforms.uClampOffset=n.uClampOffset);D.uniforms.uTransform=h.toArray(!0);D.uniforms.uColor=e.utils.premultiplyTintToRgba(a.tint,a.worldAlpha,D.uniforms.uColor,g.premultipliedAlpha);D.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);D.uniforms.uSampler=b.bindTexture(d);b.setBlendMode(e.utils.correctBlendMode(a.blendMode,g.premultipliedAlpha));c.vao.draw(this.renderer.gl.TRIANGLES,6,0)};return b}(e.ObjectRenderer);c.default=a;e.WebGLRenderer.registerPlugin("tilingSprite",
a)},{"../../core":65,"../../core/const":46,path:8}],143:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();b=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core"));a("path");a=function(a){function b(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var d=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.alpha=c;d.glShaderKey="alpha";return d}d(b,a);e(b,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]);return b}(b.Filter);c.default=a},{"../../core":65,path:8}],144:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=
a;return b}(a("../../core")),h=(b=a("./BlurXFilter"))&&b.__esModule?b:{default:b},g=(a=a("./BlurYFilter"))&&a.__esModule?a:{default:a};a=function(a){function b(c,d,e,k){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var p=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");p=!p||"object"!==typeof p&&"function"!==typeof p?this:p;p.blurXFilter=new h.default(c,d,e,k);p.blurYFilter=new g.default(c,d,e,k);p.padding=
0;p.resolution=e||f.settings.RESOLUTION;p.quality=d||4;p.blur=c||8;return p}d(b,a);b.prototype.apply=function(a,b,c){var d=a.getRenderTarget(!0);this.blurXFilter.apply(a,b,d,!0);this.blurYFilter.apply(a,d,c,!1);a.returnRenderTarget(d)};e(b,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},
set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},
set:function(a){this.blurYFilter._blendMode=a}}]);return b}(f.Filter);c.default=a},{"../../core":65,"./BlurXFilter":145,"./BlurYFilter":146}],145:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core"));b=a("./generateBlurVertSource");var g=d(b);b=a("./generateBlurFragSource");
var k=d(b);a=a("./getMaxBlurKernelSize");var p=d(a);a=function(a){function b(c,d,e,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");f=f||5;var n=(0,g.default)(f,!0);f=(0,k.default)(f);n=a.call(this,n,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");n=!n||"object"!==typeof n&&"function"!==typeof n?this:n;n.resolution=e||h.settings.RESOLUTION;n._quality=0;n.quality=d||4;n.strength=c||8;n.firstRun=!0;return n}e(b,a);
b.prototype.apply=function(a,b,c,d){if(this.firstRun){var e=a.renderer.gl;e=(0,p.default)(e);this.vertexSrc=(0,g.default)(e,!0);this.fragmentSrc=(0,k.default)(e);this.firstRun=!1}this.uniforms.strength=1/c.size.width*(c.size.width/b.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)a.applyFilter(this,b,c,d);else{for(var f=e=a.getRenderTarget(!0),h=0;h<this.passes-1;h++){a.applyFilter(this,b,f,!0);var n=f;f=b;b=n}a.applyFilter(this,b,c,d);a.returnRenderTarget(e)}};
f(b,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a);this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this.passes=this._quality=a}}]);return b}(h.Filter);c.default=a},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],146:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=function(a){if(a&&a.__esModule)return a;var b={};
if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core"));b=a("./generateBlurVertSource");var g=d(b);b=a("./generateBlurFragSource");var k=d(b);a=a("./getMaxBlurKernelSize");var p=d(a);a=function(a){function b(c,d,e,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");f=f||5;var n=(0,g.default)(f,!1);f=(0,k.default)(f);n=a.call(this,n,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
n=!n||"object"!==typeof n&&"function"!==typeof n?this:n;n.resolution=e||h.settings.RESOLUTION;n._quality=0;n.quality=d||4;n.strength=c||8;n.firstRun=!0;return n}e(b,a);b.prototype.apply=function(a,b,c,d){if(this.firstRun){var e=a.renderer.gl;e=(0,p.default)(e);this.vertexSrc=(0,g.default)(e,!1);this.fragmentSrc=(0,k.default)(e);this.firstRun=!1}this.uniforms.strength=1/c.size.height*(c.size.height/b.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)a.applyFilter(this,
b,c,d);else{for(var f=e=a.getRenderTarget(!0),h=0;h<this.passes-1;h++){a.applyFilter(this,b,f,!0);var n=f;f=b;b=n}a.applyFilter(this,b,c,d);a.returnRenderTarget(e)}};f(b,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a);this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this.passes=this._quality=a}}]);return b}(h.Filter);c.default=a},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],
147:[function(a,b,c){c.__esModule=!0;c.default=function(a){for(var b=d[a],c=b.length,f=e,p="",l,m=0;m<a;m++){var t="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",m);l=m;m>=c&&(l=a-m-1);t=t.replace("%value%",b[l]);p+=t;p+="\n"}f=f.replace("%blur%",p);return f=f.replace("%size%",a)};var d={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,
.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},e="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}"},{}],148:[function(a,b,c){c.__esModule=!0;c.default=function(a,b){var c=Math.ceil(a/2),e=d,f="";b=b?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";
for(var p=0;p<a;p++){var l=b.replace("%index%",p);l=l.replace("%sampleIndex%",p-(c-1)+".0");f+=l;f+="\n"}e=e.replace("%blur%",f);return e=e.replace("%size%",a)};var d="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}"},{}],149:[function(a,b,c){c.__esModule=!0;c.default=function(a){a=
a.getParameter(a.MAX_VARYING_VECTORS);for(var b=15;b>a;)b-=2;return b}},{}],150:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];
d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();b=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core"));a("path");a=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];c.alpha=1;return c}d(b,a);b.prototype._loadMatrix=function(a){var b=a;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(b,this.uniforms.m,a),b=this._colorMatrix(b));this.uniforms.m=b};b.prototype._multiply=function(a,b,c){a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15];a[1]=
b[0]*c[1]+b[1]*c[6]+b[2]*c[11]+b[3]*c[16];a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17];a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*c[13]+b[3]*c[18];a[4]=b[0]*c[4]+b[1]*c[9]+b[2]*c[14]+b[3]*c[19]+b[4];a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15];a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16];a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17];a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18];a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19]+b[9];a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15];a[11]=b[10]*c[1]+b[11]*
c[6]+b[12]*c[11]+b[13]*c[16];a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17];a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*c[18];a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*c[14]+b[13]*c[19]+b[14];a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15];a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16];a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17];a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18];a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19]+b[19];return a};b.prototype._colorMatrix=function(a){a=
new Float32Array(a);a[4]/=255;a[9]/=255;a[14]/=255;a[19]/=255;return a};b.prototype.brightness=function(a,b){this._loadMatrix([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],b)};b.prototype.greyscale=function(a,b){this._loadMatrix([a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0],b)};b.prototype.blackAndWhite=function(a){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a)};b.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var c=Math.cos(a);a=Math.sin(a);var d=Math.sqrt,e=1/3;d=d(e);this._loadMatrix([c+
(1-c)*e,e*(1-c)-d*a,e*(1-c)+d*a,0,0,e*(1-c)+d*a,c+e*(1-c),e*(1-c)-d*a,0,0,e*(1-c)-d*a,e*(1-c)+d*a,c+e*(1-c),0,0,0,0,0,1,0],b)};b.prototype.contrast=function(a,b){a=(a||0)+1;var c=-.5*(a-1);this._loadMatrix([a,0,0,0,c,0,a,0,0,c,0,0,a,0,c,0,0,0,1,0],b)};b.prototype.saturate=function(){var a=2*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)/3+1,b=-.5*(a-1);this._loadMatrix([a,b,b,0,0,b,a,b,0,0,b,b,a,0,0,0,0,0,1,0],arguments[1])};b.prototype.desaturate=function(){this.saturate(-1)};b.prototype.negative=
function(a){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a)};b.prototype.sepia=function(a){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a)};b.prototype.technicolor=function(a){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,
0,0,0,1,0],a)};b.prototype.polaroid=function(a){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a)};b.prototype.toBGR=function(a){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],a)};b.prototype.kodachrome=function(a){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,
0,35.62982807460946,0,0,0,1,0],a)};b.prototype.browni=function(a){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a)};b.prototype.vintage=function(a){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,
0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a)};b.prototype.colorTone=function(a,b,c,d,e){c=c||16770432;d=d||3375104;var f=(c>>16&255)/255,g=(c>>8&255)/255;c=(c&255)/255;var h=(d>>16&255)/255,n=(d>>8&255)/255;d=(d&255)/255;this._loadMatrix([.3,.59,.11,0,0,f,g,c,a||.2,0,h,n,d,b||.15,0,f-h,g-n,c-d,0,0],e)};b.prototype.night=function(a,b){a=a||.1;this._loadMatrix([-2*a,-a,0,0,0,-a,0,a,0,0,0,a,2*a,0,0,0,0,0,1,0],b)};b.prototype.predator=function(a,
b){this._loadMatrix([11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0],b)};b.prototype.lsd=function(a){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a)};b.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};e(b,[{key:"matrix",
get:function(){return this.uniforms.m},set:function(a){this.uniforms.m=a}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(a){this.uniforms.uAlpha=a}}]);return b}(b.Filter);c.default=a;a.prototype.grayscale=a.prototype.greyscale},{"../../core":65,path:8}],151:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=
a[c]);b.default=a;return b}(a("../../core"));a("path");a=function(a){function b(c,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=new f.Matrix;c.renderable=!1;var g=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}",
"varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.maskSprite=c;g.maskMatrix=e;g.uniforms.mapSampler=c._texture;g.uniforms.filterMatrix=e;g.uniforms.scale={x:1,y:1};if(null===d||void 0===d)d=20;g.scale=new f.Point(d,d);return g}d(b,a);b.prototype.apply=function(a,b,c){this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x;this.uniforms.scale.y=this.scale.y;a.applyFilter(this,b,c)};e(b,[{key:"map",get:function(){return this.uniforms.mapSampler},
set:function(a){this.uniforms.mapSampler=a}}]);return b}(f.Filter);c.default=a},{"../../core":65,path:8}],152:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;b=function(a){if(a&&a.__esModule)return a;
var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core"));a("path");a=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=a.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",
'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n');
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?this:c}d(b,a);return b}(b.Filter);c.default=a},{"../../core":65,path:8}],153:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./fxaa/FXAAFilter");Object.defineProperty(c,"FXAAFilter",{enumerable:!0,get:function(){return d(e).default}});var f=a("./noise/NoiseFilter");Object.defineProperty(c,"NoiseFilter",{enumerable:!0,
get:function(){return d(f).default}});var h=a("./displacement/DisplacementFilter");Object.defineProperty(c,"DisplacementFilter",{enumerable:!0,get:function(){return d(h).default}});var g=a("./blur/BlurFilter");Object.defineProperty(c,"BlurFilter",{enumerable:!0,get:function(){return d(g).default}});var k=a("./blur/BlurXFilter");Object.defineProperty(c,"BlurXFilter",{enumerable:!0,get:function(){return d(k).default}});var p=a("./blur/BlurYFilter");Object.defineProperty(c,"BlurYFilter",{enumerable:!0,
get:function(){return d(p).default}});var l=a("./colormatrix/ColorMatrixFilter");Object.defineProperty(c,"ColorMatrixFilter",{enumerable:!0,get:function(){return d(l).default}});var m=a("./alpha/AlphaFilter");Object.defineProperty(c,"AlphaFilter",{enumerable:!0,get:function(){return d(m).default}})},{"./alpha/AlphaFilter":143,"./blur/BlurFilter":144,"./blur/BlurXFilter":145,"./blur/BlurYFilter":146,"./colormatrix/ColorMatrixFilter":150,"./displacement/DisplacementFilter":151,"./fxaa/FXAAFilter":152,
"./noise/NoiseFilter":154}],154:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;
"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();b=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core"));a("path");a=function(a){function b(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var e=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.noise=c;e.seed=d;return e}d(b,a);e(b,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(a){this.uniforms.uNoise=a}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(a){this.uniforms.uSeed=a}}]);return b}(b.Filter);c.default=a},{"../../core":65,path:8}],155:[function(a,b,c){c.__esModule=!0;var d=function(){function a(a,
b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core"));a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.global=
new e.Point;this.identifier=this.originalEvent=this.target=null;this.isPrimary=!1;this.tiltY=this.tiltX=this.height=this.width=this.buttons=this.button=0;this.pointerType=null;this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0}a.prototype.getLocalPosition=function(a,b,c){return a.worldTransform.applyInverse(c||this.global,b)};a.prototype.copyEvent=function(a){a.isPrimary&&(this.isPrimary=!0);this.button=a.button;this.buttons=Number.isInteger(a.buttons)?a.buttons:a.which;this.width=
a.width;this.height=a.height;this.tiltX=a.tiltX;this.tiltY=a.tiltY;this.pointerType=a.pointerType;this.pressure=a.pressure;this.rotationAngle=a.rotationAngle;this.twist=a.twist||0;this.tangentialPressure=a.tangentialPressure||0};a.prototype.reset=function(){this.isPrimary=!1};d(a,[{key:"pointerId",get:function(){return this.identifier}}]);return a}();c.default=a},{"../core":65}],156:[function(a,b,c){c.__esModule=!0;a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.stopped=!1;this.data=this.type=this.currentTarget=this.target=null}a.prototype.stopPropagation=function(){this.stopped=!0};a.prototype.reset=function(){this.stopped=!1;this.target=this.currentTarget=null};return a}();c.default=a},{}],157:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core"));
b=a("./InteractionData");var g=d(b);b=a("./InteractionEvent");var k=d(b);b=a("./InteractionTrackingData");var p=d(b);b=a("eventemitter3");b=d(b);a=a("./interactiveTarget");a=d(a);h.utils.mixins.delayMixin(h.DisplayObject.prototype,a.default);var l={target:null,data:{global:null}};a=function(a){function b(c,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;d=d||{};e.renderer=c;e.autoPreventDefault=void 0!==d.autoPreventDefault?d.autoPreventDefault:!0;e.interactionFrequency=d.interactionFrequency||10;e.mouse=new g.default;e.mouse.identifier=1;e.mouse.global.set(-999999);e.activeInteractionData={};e.activeInteractionData[1]=e.mouse;e.interactionDataPool=[];e.eventData=new k.default;e.interactionDOMElement=null;e.moveWhenInside=!1;e.eventsAdded=!1;e.mouseOverRenderer=!1;e.supportsTouchEvents="ontouchstart"in
window;e.supportsPointerEvents=!!window.PointerEvent;e.onPointerUp=e.onPointerUp.bind(e);e.processPointerUp=e.processPointerUp.bind(e);e.onPointerCancel=e.onPointerCancel.bind(e);e.processPointerCancel=e.processPointerCancel.bind(e);e.onPointerDown=e.onPointerDown.bind(e);e.processPointerDown=e.processPointerDown.bind(e);e.onPointerMove=e.onPointerMove.bind(e);e.processPointerMove=e.processPointerMove.bind(e);e.onPointerOut=e.onPointerOut.bind(e);e.processPointerOverOut=e.processPointerOverOut.bind(e);
e.onPointerOver=e.onPointerOver.bind(e);e.cursorStyles={default:"inherit",pointer:"pointer"};e.currentCursorMode=null;e.cursor=null;e._tempPoint=new h.Point;e.resolution=1;e.setTargetElement(e.renderer.view,e.renderer.resolution);return e}e(b,a);b.prototype.hitTest=function(a,b){l.target=null;l.data.global=a;b||(b=this.renderer._lastObjectRendered);this.processInteractive(l,b,null,!0);return l.target};b.prototype.setTargetElement=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
1;this.removeEvents();this.interactionDOMElement=a;this.resolution=b;this.addEvents()};b.prototype.addEvents=function(){this.interactionDOMElement&&(h.ticker.shared.add(this.update,this,h.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",
this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",
this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),
this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)};b.prototype.removeEvents=function(){this.interactionDOMElement&&(h.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",
this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",
this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,
!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)};b.prototype.update=function(a){this._deltaTime+=a;if(!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{this.cursor=null;for(var b in this.activeInteractionData)this.activeInteractionData.hasOwnProperty(b)&&(a=this.activeInteractionData[b],a.originalEvent&&"touch"!==a.pointerType&&
(a=this.configureInteractionEventForDOMEvent(this.eventData,a.originalEvent,a),this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)));this.setCursorMode(this.cursor)}};b.prototype.setCursorMode=function(a){a=a||"default";if(this.currentCursorMode!==a){this.currentCursorMode=a;var b=this.cursorStyles[a];if(b)switch("undefined"===typeof b?"undefined":f(b)){case "string":this.interactionDOMElement.style.cursor=b;break;case "function":b(a);break;case "object":Object.assign(this.interactionDOMElement.style,
b)}else"string"!==typeof a||Object.prototype.hasOwnProperty.call(this.cursorStyles,a)||(this.interactionDOMElement.style.cursor=a)}};b.prototype.dispatchEvent=function(a,b,c){if(!c.stopped&&(c.currentTarget=a,c.type=b,a.emit(b,c),a[b]))a[b](c)};b.prototype.mapPositionToPoint=function(a,b,c){var d=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var e=navigator.isCocoonJS?this.resolution:1/this.resolution;a.x=this.interactionDOMElement.width/
d.width*(b-d.left)*e;a.y=this.interactionDOMElement.height/d.height*(c-d.top)*e};b.prototype.processInteractive=function(a,b,c,d,e){if(!b||!b.visible)return!1;var f=a.data.global;e=b.interactive||e;var g=!1,h=e,n=!0;b.hitArea?(d&&(b.worldTransform.applyInverse(f,this._tempPoint),b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?g=!0:n=d=!1),h=!1):b._mask&&d&&!b._mask.containsPoint(f)&&(n=d=!1);if(n&&b.interactiveChildren&&b.children){n=b.children;for(var k=n.length-1;0<=k;k--){var p=n[k],l=
this.processInteractive(a,p,c,d,h);l&&p.parent&&(h=!1,l&&(a.target&&(d=!1),g=!0))}}e&&(d&&!a.target&&!b.hitArea&&b.containsPoint&&b.containsPoint(f)&&(g=!0),b.interactive&&(g&&!a.target&&(a.target=b),c&&c(a,b,!!g)));return g};b.prototype.onPointerDown=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);this.autoPreventDefault&&b[0].isNormalized&&a.preventDefault();for(var c=b.length,d=0;d<c;d++){var e=b[d],f=this.getInteractionDataForPointerId(e);
f=this.configureInteractionEventForDOMEvent(this.eventData,e,f);f.data.originalEvent=a;this.processInteractive(f,this.renderer._lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",f);"touch"===e.pointerType?this.emit("touchstart",f):("mouse"===e.pointerType||"pen"===e.pointerType)&&this.emit(2===e.button?"rightdown":"mousedown",this.eventData)}}};b.prototype.processPointerDown=function(a,b,c){var d=a.data,e=a.data.identifier;if(c)if(b.trackedPointers[e]||(b.trackedPointers[e]=new p.default(e)),
this.dispatchEvent(b,"pointerdown",a),"touch"===d.pointerType)this.dispatchEvent(b,"touchstart",a);else if("mouse"===d.pointerType||"pen"===d.pointerType)(c=2===d.button)?b.trackedPointers[e].rightDown=!0:b.trackedPointers[e].leftDown=!0,this.dispatchEvent(b,c?"rightdown":"mousedown",a)};b.prototype.onPointerComplete=function(a,b,c){for(var d=this.normalizeToPointerData(a),e=d.length,f=a.target!==this.interactionDOMElement?"outside":"",g=0;g<e;g++){var h=d[g],n=this.getInteractionDataForPointerId(h),
k=this.configureInteractionEventForDOMEvent(this.eventData,h,n);k.data.originalEvent=a;this.processInteractive(k,this.renderer._lastObjectRendered,c,b||!f);this.emit(b?"pointercancel":"pointerup"+f,k);"mouse"===h.pointerType||"pen"===h.pointerType?this.emit(2===h.button?"rightup"+f:"mouseup"+f,k):"touch"===h.pointerType&&(this.emit(b?"touchcancel":"touchend"+f,k),this.releaseInteractionDataForPointerId(h.pointerId,n))}};b.prototype.onPointerCancel=function(a){if(!this.supportsTouchEvents||"touch"!==
a.pointerType)this.onPointerComplete(a,!0,this.processPointerCancel)};b.prototype.processPointerCancel=function(a,b){var c=a.data,d=a.data.identifier;void 0!==b.trackedPointers[d]&&(delete b.trackedPointers[d],this.dispatchEvent(b,"pointercancel",a),"touch"===c.pointerType&&this.dispatchEvent(b,"touchcancel",a))};b.prototype.onPointerUp=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType)this.onPointerComplete(a,!1,this.processPointerUp)};b.prototype.processPointerUp=function(a,b,c){var d=
a.data,e=a.data.identifier,f=b.trackedPointers[e],g="touch"===d.pointerType,h="mouse"===d.pointerType||"pen"===d.pointerType,n=!1;if(h){d=2===d.button;var k=p.default.FLAGS;k=d?k.RIGHT_DOWN:k.LEFT_DOWN;k=void 0!==f&&f.flags&k;c?(this.dispatchEvent(b,d?"rightup":"mouseup",a),k&&(this.dispatchEvent(b,d?"rightclick":"click",a),n=!0)):k&&this.dispatchEvent(b,d?"rightupoutside":"mouseupoutside",a);f&&(d?f.rightDown=!1:f.leftDown=!1)}c?(this.dispatchEvent(b,"pointerup",a),g&&this.dispatchEvent(b,"touchend",
a),f&&(h&&!n||this.dispatchEvent(b,"pointertap",a),g&&(this.dispatchEvent(b,"tap",a),f.over=!1))):f&&(this.dispatchEvent(b,"pointerupoutside",a),g&&this.dispatchEvent(b,"touchendoutside",a));f&&f.none&&delete b.trackedPointers[e]};b.prototype.onPointerMove=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){var b=this.normalizeToPointerData(a);if("mouse"===b[0].pointerType||"pen"===b[0].pointerType)this.didMove=!0,this.cursor=null;for(var c=b.length,d=0;d<c;d++){var e=b[d],f=this.getInteractionDataForPointerId(e);
f=this.configureInteractionEventForDOMEvent(this.eventData,e,f);f.data.originalEvent=a;this.processInteractive(f,this.renderer._lastObjectRendered,this.processPointerMove,"touch"===e.pointerType?this.moveWhenInside:!0);this.emit("pointermove",f);"touch"===e.pointerType&&this.emit("touchmove",f);"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mousemove",f)}"mouse"===b[0].pointerType&&this.setCursorMode(this.cursor)}};b.prototype.processPointerMove=function(a,b,c){var d=a.data,e="touch"===
d.pointerType;(d="mouse"===d.pointerType||"pen"===d.pointerType)&&this.processPointerOverOut(a,b,c);if(!this.moveWhenInside||c)this.dispatchEvent(b,"pointermove",a),e&&this.dispatchEvent(b,"touchmove",a),d&&this.dispatchEvent(b,"mousemove",a)};b.prototype.onPointerOut=function(a){if(!this.supportsTouchEvents||"touch"!==a.pointerType){a=this.normalizeToPointerData(a)[0];"mouse"===a.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var b=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,
a,b);c.data.originalEvent=a;this.processInteractive(c,this.renderer._lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",c);"mouse"===a.pointerType||"pen"===a.pointerType?this.emit("mouseout",c):this.releaseInteractionDataForPointerId(b.identifier)}};b.prototype.processPointerOverOut=function(a,b,c){var d=a.data,e=a.data.identifier;d="mouse"===d.pointerType||"pen"===d.pointerType;var f=b.trackedPointers[e];c&&!f&&(f=b.trackedPointers[e]=new p.default(e));void 0!==f&&(c&&this.mouseOverRenderer?
(f.over||(f.over=!0,this.dispatchEvent(b,"pointerover",a),d&&this.dispatchEvent(b,"mouseover",a)),d&&null===this.cursor&&(this.cursor=b.cursor)):f.over&&(f.over=!1,this.dispatchEvent(b,"pointerout",this.eventData),d&&this.dispatchEvent(b,"mouseout",a),f.none&&delete b.trackedPointers[e]))};b.prototype.onPointerOver=function(a){a=this.normalizeToPointerData(a)[0];var b=this.getInteractionDataForPointerId(a);b=this.configureInteractionEventForDOMEvent(this.eventData,a,b);b.data.originalEvent=a;"mouse"===
a.pointerType&&(this.mouseOverRenderer=!0);this.emit("pointerover",b);"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit("mouseover",b)};b.prototype.getInteractionDataForPointerId=function(a){var b=a.pointerId;if(1===b||"mouse"===a.pointerType)var c=this.mouse;else this.activeInteractionData[b]?c=this.activeInteractionData[b]:(c=this.interactionDataPool.pop()||new g.default,c.identifier=b,this.activeInteractionData[b]=c);c.copyEvent(a);return c};b.prototype.releaseInteractionDataForPointerId=
function(a){var b=this.activeInteractionData[a];b&&(delete this.activeInteractionData[a],b.reset(),this.interactionDataPool.push(b))};b.prototype.configureInteractionEventForDOMEvent=function(a,b,c){a.data=c;this.mapPositionToPoint(c.global,b.clientX,b.clientY);navigator.isCocoonJS&&"touch"===b.pointerType&&(c.global.x/=this.resolution,c.global.y/=this.resolution);"touch"===b.pointerType&&(b.globalX=c.global.x,b.globalY=c.global.y);c.originalEvent=b;a.reset();return a};b.prototype.normalizeToPointerData=
function(a){var b=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var c=0,d=a.changedTouches.length;c<d;c++){var e=a.changedTouches[c];"undefined"===typeof e.button&&(e.button=a.touches.length?1:0);"undefined"===typeof e.buttons&&(e.buttons=a.touches.length?1:0);"undefined"===typeof e.isPrimary&&(e.isPrimary=1===a.touches.length&&"touchstart"===a.type);"undefined"===typeof e.width&&(e.width=e.radiusX||1);"undefined"===typeof e.height&&(e.height=e.radiusY||1);"undefined"===typeof e.tiltX&&
(e.tiltX=0);"undefined"===typeof e.tiltY&&(e.tiltY=0);"undefined"===typeof e.pointerType&&(e.pointerType="touch");"undefined"===typeof e.pointerId&&(e.pointerId=e.identifier||0);"undefined"===typeof e.pressure&&(e.pressure=e.force||.5);e.twist=0;e.tangentialPressure=0;"undefined"===typeof e.layerX&&(e.layerX=e.offsetX=e.clientX);"undefined"===typeof e.layerY&&(e.layerY=e.offsetY=e.clientY);e.isNormalized=!0;b.push(e)}else a instanceof MouseEvent&&!(this.supportsPointerEvents&&a instanceof window.PointerEvent)&&
("undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),"undefined"===typeof a.pointerId&&(a.pointerId=1),"undefined"===typeof a.pressure&&(a.pressure=.5),a.twist=0,a.tangentialPressure=0,a.isNormalized=!0),b.push(a);return b};b.prototype.destroy=function(){this.removeEvents();
this.removeAllListeners();this._tempPoint=this.onPointerOver=this.processPointerOverOut=this.onPointerOut=this.processPointerMove=this.onPointerMove=this.processPointerCancel=this.onPointerCancel=this.processPointerUp=this.onPointerUp=this.processPointerDown=this.onPointerDown=this.interactionDOMElement=this.eventData=this.mouse=this.renderer=null};return b}(b.default);c.default=a;h.WebGLRenderer.registerPlugin("interaction",a);h.CanvasRenderer.registerPlugin("interaction",a)},{"../core":65,"./InteractionData":155,
"./InteractionEvent":156,"./InteractionTrackingData":158,"./interactiveTarget":160,eventemitter3:3}],158:[function(a,b,c){c.__esModule=!0;var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._pointerId=
b;this._flags=a.FLAGS.NONE}a.prototype._doSet=function(a,b){this._flags=b?this._flags|a:this._flags&~a};d(a,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(a){this._flags=a}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!==(this._flags&this.constructor.FLAGS.OVER)},set:function(a){this._doSet(this.constructor.FLAGS.OVER,a)}},{key:"rightDown",get:function(){return 0!==
(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(a){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,a)}},{key:"leftDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(a){this._doSet(this.constructor.FLAGS.LEFT_DOWN,a)}}]);return a}();c.default=a;a.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],159:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./InteractionData");Object.defineProperty(c,
"InteractionData",{enumerable:!0,get:function(){return d(e).default}});var f=a("./InteractionManager");Object.defineProperty(c,"InteractionManager",{enumerable:!0,get:function(){return d(f).default}});var h=a("./interactiveTarget");Object.defineProperty(c,"interactiveTarget",{enumerable:!0,get:function(){return d(h).default}});var g=a("./InteractionTrackingData");Object.defineProperty(c,"InteractionTrackingData",{enumerable:!0,get:function(){return d(g).default}});var k=a("./InteractionEvent");Object.defineProperty(c,
"InteractionEvent",{enumerable:!0,get:function(){return d(k).default}})},{"./InteractionData":155,"./InteractionEvent":156,"./InteractionManager":157,"./InteractionTrackingData":158,"./interactiveTarget":160}],160:[function(a,b,c){c.__esModule=!0;c.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(a){a?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){void 0===this._trackedPointers&&
(this._trackedPointers={});return this._trackedPointers},_trackedPointers:void 0}},{}],161:[function(a,b,c){function d(a,b){a.bitmapFont=h.BitmapText.registerFont(a.data,b)}c.__esModule=!0;c.parse=d;c.default=function(){return function(a,b){if(a.data&&a.type===f.Resource.TYPE.XML)if(0===a.data.getElementsByTagName("page").length||0===a.data.getElementsByTagName("info").length||null===a.data.getElementsByTagName("info")[0].getAttribute("face"))b();else{var c=a.isDataUrl?"":e.dirname(a.url);a.isDataUrl&&
("."===c&&(c=""),this.baseUrl&&c&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(c+="/"));(c=c.replace(this.baseUrl,""))&&"/"!==c.charAt(c.length-1)&&(c+="/");for(var g=a.data.getElementsByTagName("page"),h={},k=function(c){h[c.metadata.pageFile]=c.texture;Object.keys(h).length===g.length&&(d(a,h),b())},u=0;u<g.length;++u){var v=g[u].getAttribute("file"),n=c+v,w=!1,D;for(D in this.resources)if(this.resources[D].url===n){this.resources[D].metadata.pageFile=v;k(this.resources[D]);w=!0;break}w||
(v={crossOrigin:a.crossOrigin,loadType:f.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:v},a.metadata.imageMetadata),parentResource:a},this.add(n,v,k))}}else b()}};var e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("path")),f=a("resource-loader"),h=a("../extras")},{"../extras":141,path:8,"resource-loader":36}],162:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}
c.__esModule=!0;c.shared=c.Resource=c.textureParser=c.getResourcePath=c.spritesheetParser=c.parseBitmapFontData=c.bitmapFontParser=c.Loader=void 0;var e=a("./bitmapFontParser");Object.defineProperty(c,"bitmapFontParser",{enumerable:!0,get:function(){return d(e).default}});Object.defineProperty(c,"parseBitmapFontData",{enumerable:!0,get:function(){return e.parse}});var f=a("./spritesheetParser");Object.defineProperty(c,"spritesheetParser",{enumerable:!0,get:function(){return d(f).default}});Object.defineProperty(c,
"getResourcePath",{enumerable:!0,get:function(){return f.getResourcePath}});var h=a("./textureParser");Object.defineProperty(c,"textureParser",{enumerable:!0,get:function(){return d(h).default}});var g=a("resource-loader");Object.defineProperty(c,"Resource",{enumerable:!0,get:function(){return g.Resource}});b=a("../core/Application");b=d(b);a=a("./loader");var k=d(a);c.Loader=k.default;var p=new k.default;p.destroy=function(){};c.shared=p;c=b.default.prototype;c._loader=null;Object.defineProperty(c,
"loader",{get:function(){this._loader||(this._loader=this._options.sharedLoader?p:new k.default);return this._loader}});c._parentDestroy=c.destroy;c.destroy=function(a,b){this._loader&&(this._loader.destroy(),this._loader=null);this._parentDestroy(a,b)}},{"../core/Application":43,"./bitmapFontParser":161,"./loader":163,"./spritesheetParser":164,"./textureParser":165,"resource-loader":36}],163:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function f(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;b=a("resource-loader");b=d(b);var h=a("resource-loader/lib/middlewares/parsing/blob"),g=a("eventemitter3"),k=d(g);
g=a("./textureParser");g=d(g);var p=a("./spritesheetParser");p=d(p);a=a("./bitmapFontParser");a=d(a);var l=function(a){function b(c,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f=e(this,a.call(this,c,d));k.default.call(f);for(c=0;c<b._pixiMiddleware.length;++c)f.use(b._pixiMiddleware[c]());f.onStart.add(function(a){return f.emit("start",a)});f.onProgress.add(function(a,b){return f.emit("progress",a,b)});f.onError.add(function(a,b,c){return f.emit("error",
a,b,c)});f.onLoad.add(function(a,b){return f.emit("load",a,b)});f.onComplete.add(function(a,b){return f.emit("complete",a,b)});return f}f(b,a);b.addPixiMiddleware=function(a){b._pixiMiddleware.push(a)};b.prototype.destroy=function(){this.removeAllListeners();this.reset()};return b}(b.default);c.default=l;for(var m in k.default.prototype)l.prototype[m]=k.default.prototype[m];l._pixiMiddleware=[h.blobMiddlewareFactory,g.default,p.default,a.default];c=b.default.Resource;c.setExtensionXhrType("fnt",c.XHR_RESPONSE_TYPE.DOCUMENT)},
{"./bitmapFontParser":161,"./spritesheetParser":164,"./textureParser":165,eventemitter3:3,"resource-loader":36,"resource-loader/lib/middlewares/parsing/blob":37}],164:[function(a,b,c){function d(a,b){return a.isDataUrl?a.data.meta.image:f.default.resolve(a.url.replace(b,""),a.data.meta.image)}c.__esModule=!0;c.default=function(){return function(a,b){var c=a.name+"_image";if(a.data&&a.type===e.Resource.TYPE.JSON&&a.data.frames&&!this.resources[c]){var f={crossOrigin:a.crossOrigin,metadata:a.metadata.imageMetadata,
parentResource:a},g=d(a,this.baseUrl);this.add(c,g,f,function(c){if(c.error)b(c.error);else{var d=new h.Spritesheet(c.texture.baseTexture,a.data,a.url);d.parse(function(){a.spritesheet=d;a.textures=d.textures;b()})}})}else b()}};c.getResourcePath=d;var e=a("resource-loader"),f=(b=a("url"))&&b.__esModule?b:{default:b},h=a("../core")},{"../core":65,"resource-loader":36,url:38}],165:[function(a,b,c){c.__esModule=!0;c.default=function(){return function(a,b){a.data&&a.type===d.Resource.TYPE.IMAGE&&(a.texture=
e.default.fromLoader(a.data,a.url,a.name));b()}};var d=a("resource-loader"),e=(a=a("../core/textures/Texture"))&&a.__esModule?a:{default:a}},{"../core/textures/Texture":115,"resource-loader":36}],166:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core")),h=(a=a("../core/textures/Texture"))&&a.__esModule?
a:{default:a},g=new f.Point,k=new f.Polygon;a=function(a){function b(c,d,e,g,n){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var k=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");k=!k||"object"!==typeof k&&"function"!==typeof k?this:k;k._texture=c||h.default.EMPTY;k.uvs=e||new Float32Array([0,0,1,0,1,1,0,1]);k.vertices=d||new Float32Array([0,0,100,0,100,100,0,100]);k.indices=g||new Uint16Array([0,1,3,2]);
k.dirty=0;k.indexDirty=0;k.vertexDirty=0;k.autoUpdate=!0;k.blendMode=f.BLEND_MODES.NORMAL;k.canvasPadding=f.settings.MESH_CANVAS_PADDING;k.drawMode=n||b.DRAW_MODES.TRIANGLE_MESH;k.shader=null;k.tintRgb=new Float32Array([1,1,1]);k._glDatas={};k._uvTransform=new f.TextureMatrix(k._texture);k.uploadUvTransform=!1;k.pluginName="mesh";return k}d(b,a);b.prototype._renderWebGL=function(a){this.refresh();a.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};b.prototype._renderCanvas=
function(a){this.refresh();a.plugins[this.pluginName].render(this)};b.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture;this.refresh()};b.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)};b.prototype.refresh=function(a){this.autoUpdate&&this.vertexDirty++;this._uvTransform.update(a)&&this._refresh()};b.prototype._refresh=function(){};b.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,
0,this.vertices.length)};b.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,g);a=this.vertices;for(var c=k.points,d=this.indices,e=this.indices.length,f=this.drawMode===b.DRAW_MODES.TRIANGLES?3:1,h=0;h+2<e;h+=f){var p=2*d[h],r=2*d[h+1],l=2*d[h+2];c[0]=a[p];c[1]=a[p+1];c[2]=a[r];c[3]=a[r+1];c[4]=a[l];c[5]=a[l+1];if(k.contains(g.x,g.y))return!0}return!1};b.prototype.destroy=function(b){for(var c in this._glDatas){var d=this._glDatas[c];
d.destroy?d.destroy():(d.vertexBuffer&&(d.vertexBuffer.destroy(),d.vertexBuffer=null),d.indexBuffer&&(d.indexBuffer.destroy(),d.indexBuffer=null),d.uvBuffer&&(d.uvBuffer.destroy(),d.uvBuffer=null),d.vao&&(d.vao.destroy(),d.vao=null))}this._glDatas=null;a.prototype.destroy.call(this,b)};e(b,[{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}},
{key:"tint",get:function(){return f.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=f.utils.hex2rgb(a,this.tintRgb)}}]);return b}(f.Container);c.default=a;a.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":65,"../core/textures/Texture":115}],167:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();a=a("./Plane");a=function(a){function b(c,d,e,f,h){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g=a.call(this,
c,4,4);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g._origWidth=c.orig.width;g._origHeight=c.orig.height;g._width=g._origWidth;g._height=g._origHeight;g._leftWidth="undefined"!==typeof d?d:10;g._rightWidth="undefined"!==typeof f?f:10;g._topHeight="undefined"!==typeof e?e:10;g._bottomHeight="undefined"!==typeof h?h:10;g.refresh(!0);return g}d(b,a);b.prototype.updateHorizontalVertices=function(){var a=
this.vertices,b=this._topHeight+this._bottomHeight;b=this._height>b?1:this._height/b;a[9]=a[11]=a[13]=a[15]=this._topHeight*b;a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight*b;a[25]=a[27]=a[29]=a[31]=this._height};b.prototype.updateVerticalVertices=function(){var a=this.vertices,b=this._leftWidth+this._rightWidth;b=this._width>b?1:this._width/b;a[2]=a[10]=a[18]=a[26]=this._leftWidth*b;a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth*b;a[6]=a[14]=a[22]=a[30]=this._width};b.prototype._renderCanvas=
function(a){var b=a.context;b.globalAlpha=this.worldAlpha;a.setBlendMode(this.blendMode);var c=this.worldTransform,d=a.resolution;a.roundPixels?b.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d|0,c.ty*d|0):b.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d,c.ty*d);d=this._texture.baseTexture;a=d.source;c=d.width*d.resolution;d=d.height*d.resolution;this.drawSegment(b,a,c,d,0,1,10,11);this.drawSegment(b,a,c,d,2,3,12,13);this.drawSegment(b,a,c,d,4,5,14,15);this.drawSegment(b,a,c,d,8,9,18,19);this.drawSegment(b,
a,c,d,10,11,20,21);this.drawSegment(b,a,c,d,12,13,22,23);this.drawSegment(b,a,c,d,16,17,26,27);this.drawSegment(b,a,c,d,18,19,28,29);this.drawSegment(b,a,c,d,20,21,30,31)};b.prototype.drawSegment=function(a,b,c,d,e,f,h,v){var g=this.uvs,k=this.vertices,p=(g[h]-g[e])*c,r=(g[v]-g[f])*d;h=k[h]-k[e];v=k[v]-k[f];1>p&&(p=1);1>r&&(r=1);1>h&&(h=1);1>v&&(v=1);a.drawImage(b,g[e]*c,g[f]*d,p,r,k[e],k[f],h,v)};b.prototype._refresh=function(){a.prototype._refresh.call(this);var b=this.uvs,c=this._texture;this._origWidth=
c.orig.width;this._origHeight=c.orig.height;c=1/this._origWidth;var d=1/this._origHeight;b[0]=b[8]=b[16]=b[24]=0;b[1]=b[3]=b[5]=b[7]=0;b[6]=b[14]=b[22]=b[30]=1;b[25]=b[27]=b[29]=b[31]=1;b[2]=b[10]=b[18]=b[26]=c*this._leftWidth;b[4]=b[12]=b[20]=b[28]=1-c*this._rightWidth;b[9]=b[11]=b[13]=b[15]=d*this._topHeight;b[17]=b[19]=b[21]=b[23]=1-d*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.dirty++;this.multiplyUvs()};e(b,[{key:"width",get:function(){return this._width},
set:function(a){this._width=a;this._refresh()}},{key:"height",get:function(){return this._height},set:function(a){this._height=a;this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(a){this._leftWidth=a;this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(a){this._rightWidth=a;this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(a){this._topHeight=a;this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},
set:function(a){this._bottomHeight=a;this._refresh()}}]);return b}((a&&a.__esModule?a:{default:a}).default);c.default=a},{"./Plane":168}],168:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=(a=a("./Mesh"))&&
a.__esModule?a:{default:a};a=function(a){function b(c,d,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c._ready=!0;c.verticesX=d||10;c.verticesY=f||10;c.drawMode=e.default.DRAW_MODES.TRIANGLES;c.refresh();return c}d(b,a);b.prototype._refresh=function(){var a=this._texture,b=this.verticesX*this.verticesY,
c=[],d=[],e=[],f=this.verticesX-1,h=this.verticesY-1,v=a.width/f;a=a.height/h;for(var n=0;n<b;n++){var w=n%this.verticesX,D=n/this.verticesX|0;c.push(w*v,D*a);d.push(w/f,D/h)}b=f*h;for(h=0;h<b;h++)v=h%f,a=h/f|0,n=a*this.verticesX+v+1,w=(a+1)*this.verticesX+v,D=(a+1)*this.verticesX+v+1,e.push(a*this.verticesX+v,n,w),e.push(n,D,w);this.vertices=new Float32Array(c);this.uvs=new Float32Array(d);this.colors=new Float32Array([]);this.indices=new Uint16Array(e);this.dirty++;this.indexDirty++;this.multiplyUvs()};
b.prototype._onTextureUpdate=function(){e.default.prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};return b}(e.default);c.default=a},{"./Mesh":166}],169:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=
b)}c.__esModule=!0;a=a("./Mesh");a=function(a){function b(c,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.points=d;c.vertices=new Float32Array(4*d.length);c.uvs=new Float32Array(4*d.length);c.colors=new Float32Array(2*d.length);c.indices=new Uint16Array(2*d.length);c.autoUpdate=!0;c.refresh();
return c}d(b,a);b.prototype._refresh=function(){var a=this.points;if(!(1>a.length)&&this._texture._uvs){this.vertices.length/4!==a.length&&(this.vertices=new Float32Array(4*a.length),this.uvs=new Float32Array(4*a.length),this.colors=new Float32Array(2*a.length),this.indices=new Uint16Array(2*a.length));var b=this.uvs,c=this.indices,d=this.colors;b[0]=0;b[1]=0;b[2]=0;b[3]=1;d[0]=1;d[1]=1;c[0]=0;c[1]=1;a=a.length;for(var e=1;e<a;e++){var f=4*e,t=e/(a-1);b[f]=t;b[f+1]=0;b[f+2]=t;b[f+3]=1;f=2*e;d[f]=
1;d[f+1]=1;f=2*e;c[f]=f;c[f+1]=f+1}this.dirty++;this.indexDirty++;this.multiplyUvs();this.refreshVertices()}};b.prototype.refreshVertices=function(){var a=this.points;if(!(1>a.length))for(var b=a[0],c,d,e=this.vertices,f=a.length,t=0;t<f;t++){var u=a[t],v=4*t;c=t<a.length-1?a[t+1]:u;d=-(c.x-b.x);b=c.y-b.y;c=Math.sqrt(b*b+d*d);var n=this._texture.height/2;b/=c;d/=c;b*=n;d*=n;e[v]=u.x+b;e[v+1]=u.y+d;e[v+2]=u.x-b;e[v+3]=u.y-d;b=u}};b.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices();
this.containerUpdateTransform()};return b}((a&&a.__esModule?a:{default:a}).default);c.default=a},{"./Mesh":166}],170:[function(a,b,c){c.__esModule=!0;b=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core"));var d=(a=a("../Mesh"))&&a.__esModule?a:{default:a};a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=b}a.prototype.render=
function(a){var b=this.renderer,c=b.context,e=a.worldTransform,f=b.resolution;b.roundPixels?c.setTransform(e.a*f,e.b*f,e.c*f,e.d*f,e.tx*f|0,e.ty*f|0):c.setTransform(e.a*f,e.b*f,e.c*f,e.d*f,e.tx*f,e.ty*f);b.context.globalAlpha=a.worldAlpha;b.setBlendMode(a.blendMode);a.drawMode===d.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(a):this._renderTriangles(a)};a.prototype._renderTriangleMesh=function(a){for(var b=a.vertices.length/2,c=0;c<b-2;c++){var d=2*c;this._renderDrawTriangle(a,d,d+2,
d+4)}};a.prototype._renderTriangles=function(a){for(var b=a.indices,c=b.length,d=0;d<c;d+=3)this._renderDrawTriangle(a,2*b[d],2*b[d+1],2*b[d+2])};a.prototype._renderDrawTriangle=function(a,b,c,d){var e=this.renderer.context,f=a.uvs,h=a.vertices,g=a._texture;if(g.valid){g=g.baseTexture;var k=g.source,v=g.width,n=g.height;if(a.uploadUvTransform){var w=a._uvTransform.mapCoord;var D=(f[b]*w.a+f[b+1]*w.c+w.tx)*g.width;var r=(f[c]*w.a+f[c+1]*w.c+w.tx)*g.width;var C=(f[d]*w.a+f[d+1]*w.c+w.tx)*g.width;var z=
(f[b]*w.b+f[b+1]*w.d+w.ty)*g.height;var x=(f[c]*w.b+f[c+1]*w.d+w.ty)*g.height;f=(f[d]*w.b+f[d+1]*w.d+w.ty)*g.height}else D=f[b]*g.width,r=f[c]*g.width,C=f[d]*g.width,z=f[b+1]*g.height,x=f[c+1]*g.height,f=f[d+1]*g.height;w=h[b];var E=h[c],K=h[d];b=h[b+1];c=h[c+1];d=h[d+1];var I=a.canvasPadding/this.renderer.resolution;if(0<I){h=I/Math.abs(a.worldTransform.a);a=I/Math.abs(a.worldTransform.d);I=(w+E+K)/3;var A=(b+c+d)/3,y=w-I,J=b-A,H=Math.sqrt(y*y+J*J);w=I+y/H*(H+h);b=A+J/H*(H+a);y=E-I;J=c-A;H=Math.sqrt(y*
y+J*J);E=I+y/H*(H+h);c=A+J/H*(H+a);y=K-I;J=d-A;H=Math.sqrt(y*y+J*J);K=I+y/H*(H+h);d=A+J/H*(H+a)}e.save();e.beginPath();e.moveTo(w,b);e.lineTo(E,c);e.lineTo(K,d);e.closePath();e.clip();a=D*x+z*C+r*f-x*C-z*r-D*f;e.transform((w*x+z*K+E*f-x*K-z*E-w*f)/a,(b*x+z*d+c*f-x*d-z*c-b*f)/a,(D*E+w*C+r*K-E*C-w*r-D*K)/a,(D*c+b*C+r*d-c*C-b*r-D*d)/a,(D*x*K+z*E*C+w*r*f-w*x*C-z*r*K-D*E*f)/a,(D*x*d+z*c*C+b*r*f-b*x*C-z*r*d-D*c*f)/a);e.drawImage(k,0,0,v*g.resolution,n*g.resolution,0,0,v,n);e.restore();this.renderer.invalidateBlendMode()}};
a.prototype.renderMeshFlat=function(a){var b=this.renderer.context;a=a.vertices;var c=a.length/2;b.beginPath();for(var d=1;d<c-2;++d){var e=2*d,f=a[e+2],m=a[e+3],t=a[e+4],u=a[e+5];b.moveTo(a[e],a[e+1]);b.lineTo(f,m);b.lineTo(t,u)}b.fillStyle="#FF0000";b.fill();b.closePath()};a.prototype.destroy=function(){this.renderer=null};return a}();c.default=a;b.CanvasRenderer.registerPlugin("mesh",a)},{"../../core":65,"../Mesh":166}],171:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=
!0;var e=a("./Mesh");Object.defineProperty(c,"Mesh",{enumerable:!0,get:function(){return d(e).default}});var f=a("./webgl/MeshRenderer");Object.defineProperty(c,"MeshRenderer",{enumerable:!0,get:function(){return d(f).default}});var h=a("./canvas/CanvasMeshRenderer");Object.defineProperty(c,"CanvasMeshRenderer",{enumerable:!0,get:function(){return d(h).default}});var g=a("./Plane");Object.defineProperty(c,"Plane",{enumerable:!0,get:function(){return d(g).default}});var k=a("./NineSlicePlane");Object.defineProperty(c,
"NineSlicePlane",{enumerable:!0,get:function(){return d(k).default}});var p=a("./Rope");Object.defineProperty(c,"Rope",{enumerable:!0,get:function(){return d(p).default}})},{"./Mesh":166,"./NineSlicePlane":167,"./Plane":168,"./Rope":169,"./canvas/CanvasMeshRenderer":170,"./webgl/MeshRenderer":172}],172:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,
{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core")),f=(b=a("pixi-gl-core"))&&b.__esModule?b:{default:b},h=(b=a("../Mesh"))&&b.__esModule?b:{default:b};a("path");var g=e.Matrix.IDENTITY;a=function(a){function b(c){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;return c}d(b,a);b.prototype.onContextChange=function(){this.shader=new e.Shader(this.renderer.gl,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")};b.prototype.render=function(a){var b=this.renderer,c=b.gl,d=a._texture;if(d.valid){var k=a._glDatas[b.CONTEXT_UID];k||(b.bindVao(null),k={shader:this.shader,vertexBuffer:f.default.GLBuffer.createVertexBuffer(c,a.vertices,c.STREAM_DRAW),uvBuffer:f.default.GLBuffer.createVertexBuffer(c,a.uvs,c.STREAM_DRAW),indexBuffer:f.default.GLBuffer.createIndexBuffer(c,
a.indices,c.STATIC_DRAW),vao:null,dirty:a.dirty,indexDirty:a.indexDirty,vertexDirty:a.vertexDirty},k.vao=(new f.default.VertexArrayObject(c)).addIndex(k.indexBuffer).addAttribute(k.vertexBuffer,k.shader.attributes.aVertexPosition,c.FLOAT,!1,8,0).addAttribute(k.uvBuffer,k.shader.attributes.aTextureCoord,c.FLOAT,!1,8,0),a._glDatas[b.CONTEXT_UID]=k);b.bindVao(k.vao);a.dirty!==k.dirty&&(k.dirty=a.dirty,k.uvBuffer.upload(a.uvs));a.indexDirty!==k.indexDirty&&(k.indexDirty=a.indexDirty,k.indexBuffer.upload(a.indices));
a.vertexDirty!==k.vertexDirty&&(k.vertexDirty=a.vertexDirty,k.vertexBuffer.upload(a.vertices));b.bindShader(k.shader);k.shader.uniforms.uSampler=b.bindTexture(d);b.state.setBlendMode(e.utils.correctBlendMode(a.blendMode,d.baseTexture.premultipliedAlpha));k.shader.uniforms.uTransform&&(k.shader.uniforms.uTransform=a.uploadUvTransform?a._uvTransform.mapCoord.toArray(!0):g.toArray(!0));k.shader.uniforms.translationMatrix=a.worldTransform.toArray(!0);k.shader.uniforms.uColor=e.utils.premultiplyRgba(a.tintRgb,
a.worldAlpha,k.shader.uniforms.uColor,d.baseTexture.premultipliedAlpha);k.vao.draw(a.drawMode===h.default.DRAW_MODES.TRIANGLE_MESH?c.TRIANGLE_STRIP:c.TRIANGLES,a.indices.length,0)}};return b}(e.ObjectRenderer);c.default=a;e.WebGLRenderer.registerPlugin("mesh",a)},{"../../core":65,"../Mesh":166,path:8,"pixi-gl-core":15}],173:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&
b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,
c)&&(b[c]=a[c]);b.default=a;return b}(a("../core")),h=a("../core/utils");a=function(a){function b(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,d=arguments[1],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=
!g||"object"!==typeof g&&"function"!==typeof g?this:g;16384<e&&(e=16384);e>c&&(e=c);g._properties=[!1,!0,!1,!1,!1];g._maxSize=c;g._batchSize=e;g._glBuffers={};g._bufferUpdateIDs=[];g._updateID=0;g.interactiveChildren=!1;g.blendMode=f.BLEND_MODES.NORMAL;g.autoResize=h;g.roundPixels=!0;g.baseTexture=null;g.setProperties(d);g._tint=0;g.tintRgb=new Float32Array(4);g.tint=16777215;return g}d(b,a);b.prototype.setProperties=function(a){a&&(this._properties[0]="vertices"in a||"scale"in a?!!a.vertices||!!a.scale:
this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="tint"in a||"alpha"in a?!!a.tint||!!a.alpha:this._properties[4])};b.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};b.prototype.renderWebGL=function(a){var b=this;if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&
(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded))this.baseTexture.once("update",function(){return b.onChildrenChange(0)});a.setObjectRenderer(a.plugins.particle);a.plugins.particle.render(this)}};b.prototype.onChildrenChange=function(a){for(a=Math.floor(a/this._batchSize);this._bufferUpdateIDs.length<a;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[a]=++this._updateID};b.prototype.renderCanvas=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&
this.renderable){var b=a.context,c=this.worldTransform,d=!0;a.setBlendMode(this.blendMode);b.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(var e=0;e<this.children.length;++e){var f=this.children[e];if(f.visible){var h=f._texture.frame;b.globalAlpha=this.worldAlpha*f.alpha;if(0===f.rotation%(2*Math.PI)){d&&(b.setTransform(c.a,c.b,c.c,c.d,c.tx*a.resolution,c.ty*a.resolution),d=!1);var g=f.anchor.x*-h.width*f.scale.x+f.position.x+.5;var k=f.anchor.y*-h.height*f.scale.y+f.position.y+
.5;var r=h.width*f.scale.x;var p=h.height*f.scale.y}else d||(d=!0),f.displayObjectUpdateTransform(),g=f.worldTransform,a.roundPixels?b.setTransform(g.a,g.b,g.c,g.d,g.tx*a.resolution|0,g.ty*a.resolution|0):b.setTransform(g.a,g.b,g.c,g.d,g.tx*a.resolution,g.ty*a.resolution),g=f.anchor.x*-h.width+.5,k=f.anchor.y*-h.height+.5,r=h.width,p=h.height;var z=f._texture.baseTexture.resolution;b.drawImage(f._texture.baseTexture.source,h.x*z,h.y*z,h.width*z,h.height*z,g*a.resolution,k*a.resolution,r*a.resolution,
p*a.resolution)}}}};b.prototype.destroy=function(b){a.prototype.destroy.call(this,b);if(this._buffers)for(b=0;b<this._buffers.length;++b)this._buffers[b].destroy();this._bufferUpdateIDs=this._buffers=this._properties=null};e(b,[{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a;(0,h.hex2rgb)(a,this.tintRgb)}}]);return b}(f.Container);c.default=a},{"../core":65,"../core/utils":125}],174:[function(a,b,c){c.__esModule=!0;var d=a("./ParticleContainer");Object.defineProperty(c,
"ParticleContainer",{enumerable:!0,get:function(){return(d&&d.__esModule?d:{default:d}).default}});var e=a("./webgl/ParticleRenderer");Object.defineProperty(c,"ParticleRenderer",{enumerable:!0,get:function(){return(e&&e.__esModule?e:{default:e}).default}})},{"./ParticleContainer":173,"./webgl/ParticleRenderer":176}],175:[function(a,b,c){c.__esModule=!0;var d=(b=a("pixi-gl-core"))&&b.__esModule?b:{default:b},e=(a=a("../../core/utils/createIndicesForQuads"))&&a.__esModule?a:{default:a};a=function(){function a(b,
c,d,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.gl=b;this.size=e;this.dynamicProperties=[];this.staticProperties=[];for(b=0;b<c.length;++b)e=c[b],e={attribute:e.attribute,size:e.size,uploadFunction:e.uploadFunction,unsignedByte:e.unsignedByte,offset:e.offset},d[b]?this.dynamicProperties.push(e):this.staticProperties.push(e);this.staticStride=0;this.staticDataUint32=this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicDataUint32=this.dynamicData=
this.dynamicBuffer=null;this._updateID=0;this.initBuffers()}a.prototype.initBuffers=function(){var a=this.gl,b=0;this.indices=(0,e.default)(this.size);this.indexBuffer=d.default.GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);for(var c=this.dynamicStride=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.offset=b;b+=f.size;this.dynamicStride+=f.size}b=new ArrayBuffer(this.size*this.dynamicStride*16);this.dynamicData=new Float32Array(b);this.dynamicDataUint32=new Uint32Array(b);
this.dynamicBuffer=d.default.GLBuffer.createVertexBuffer(a,b,a.STREAM_DRAW);for(c=this.staticStride=b=0;c<this.staticProperties.length;++c)f=this.staticProperties[c],f.offset=b,b+=f.size,this.staticStride+=f.size;b=new ArrayBuffer(this.size*this.staticStride*16);this.staticData=new Float32Array(b);this.staticDataUint32=new Uint32Array(b);this.staticBuffer=d.default.GLBuffer.createVertexBuffer(a,b,a.STATIC_DRAW);this.vao=(new d.default.VertexArrayObject(a)).addIndex(this.indexBuffer);for(b=0;b<this.dynamicProperties.length;++b)c=
this.dynamicProperties[b],c.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,c.attribute,a.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*c.offset):this.vao.addAttribute(this.dynamicBuffer,c.attribute,a.FLOAT,!1,4*this.dynamicStride,4*c.offset);for(b=0;b<this.staticProperties.length;++b)c=this.staticProperties[b],c.unsignedByte?this.vao.addAttribute(this.staticBuffer,c.attribute,a.UNSIGNED_BYTE,!0,4*this.staticStride,4*c.offset):this.vao.addAttribute(this.staticBuffer,c.attribute,a.FLOAT,!1,4*this.staticStride,
4*c.offset)};a.prototype.uploadDynamic=function(a,b,c){for(var d=0;d<this.dynamicProperties.length;d++){var e=this.dynamicProperties[d];e.uploadFunction(a,b,c,e.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,e.offset)}this.dynamicBuffer.upload()};a.prototype.uploadStatic=function(a,b,c){for(var d=0;d<this.staticProperties.length;d++){var e=this.staticProperties[d];e.uploadFunction(a,b,c,e.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,e.offset)}this.staticBuffer.upload()};
a.prototype.destroy=function(){this.dynamicProperties=null;this.dynamicBuffer.destroy();this.staticProperties=this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=null;this.staticBuffer.destroy();this.staticDataUint32=this.staticData=this.staticBuffer=null};return a}();c.default=a},{"../../core/utils/createIndicesForQuads":123,"pixi-gl-core":15}],176:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var e=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core")),f=(b=a("./ParticleShader"))&&b.__esModule?b:{default:b},h=(b=a("./ParticleBuffer"))&&b.__esModule?b:{default:b},g=a("../../core/utils");
a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;c.indexBuffer=null;c.properties=null;c.tempMatrix=new e.Matrix;c.CONTEXT_UID=0;return c}d(b,a);b.prototype.onContextChange=function(){var a=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=
new f.default(a);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,
offset:0}]};b.prototype.start=function(){this.renderer.bindShader(this.shader)};b.prototype.render=function(a){var b=a.children,c=a._maxSize,d=a._batchSize,f=this.renderer,h=b.length;if(0!==h){h>c&&(h=c);(c=a._glBuffers[f.CONTEXT_UID])||(c=a._glBuffers[f.CONTEXT_UID]=this.generateBuffers(a));var g=b[0]._texture.baseTexture;this.renderer.setBlendMode(e.utils.correctBlendMode(a.blendMode,g.premultipliedAlpha));var k=f.gl,r=a.worldTransform.copy(this.tempMatrix);r.prepend(f._activeRenderTarget.projectionMatrix);
this.shader.uniforms.projectionMatrix=r.toArray(!0);this.shader.uniforms.uColor=e.utils.premultiplyRgba(a.tintRgb,a.worldAlpha,this.shader.uniforms.uColor,g.premultipliedAlpha);this.shader.uniforms.uSampler=f.bindTexture(g);g=!1;for(var p=r=0;r<h;r+=d,p+=1){var l=h-r;l>d&&(l=d);if(p>=c.length){if(!a.autoResize)break;c.push(this._generateOneMoreBuffer(a))}var x=c[p];x.uploadDynamic(b,r,l);var E=a._bufferUpdateIDs[p]||0;if(g=g||x._updateID<E)x._updateID=a._updateID,x.uploadStatic(b,r,l);f.bindVao(x.vao);
x.vao.draw(k.TRIANGLES,6*l)}}};b.prototype.generateBuffers=function(a){var b=this.renderer.gl,c=[],d=a._maxSize,e=a._batchSize;a=a._properties;for(var f=0;f<d;f+=e)c.push(new h.default(b,this.properties,a,e));return c};b.prototype._generateOneMoreBuffer=function(a){return new h.default(this.renderer.gl,this.properties,a._properties,a._batchSize)};b.prototype.uploadVertices=function(a,b,c,d,e,f){for(var h,g,n,k,p=0;p<c;++p){k=a[b+p];h=k._texture;var m=k.scale.x,l=k.scale.y;n=h.trim;var v=h.orig;n?
(g=n.x-k.anchor.x*v.width,h=g+n.width,k=n.y-k.anchor.y*v.height,n=k+n.height):(h=v.width*(1-k.anchor.x),g=v.width*-k.anchor.x,n=v.height*(1-k.anchor.y),k=v.height*-k.anchor.y);d[f]=g*m;d[f+1]=k*l;d[f+e]=h*m;d[f+e+1]=k*l;d[f+2*e]=h*m;d[f+2*e+1]=n*l;d[f+3*e]=g*m;d[f+3*e+1]=n*l;f+=4*e}};b.prototype.uploadPosition=function(a,b,c,d,e,f){for(var h=0;h<c;h++){var g=a[b+h].position;d[f]=g.x;d[f+1]=g.y;d[f+e]=g.x;d[f+e+1]=g.y;d[f+2*e]=g.x;d[f+2*e+1]=g.y;d[f+3*e]=g.x;d[f+3*e+1]=g.y;f+=4*e}};b.prototype.uploadRotation=
function(a,b,c,d,e,f){for(var h=0;h<c;h++){var g=a[b+h].rotation;d[f]=g;d[f+e]=g;d[f+2*e]=g;d[f+3*e]=g;f+=4*e}};b.prototype.uploadUvs=function(a,b,c,d,e,f){for(var h=0;h<c;++h){var g=a[b+h]._texture._uvs;g?(d[f]=g.x0,d[f+1]=g.y0,d[f+e]=g.x1,d[f+e+1]=g.y1,d[f+2*e]=g.x2,d[f+2*e+1]=g.y2,d[f+3*e]=g.x3,d[f+3*e+1]=g.y3):(d[f]=0,d[f+1]=0,d[f+e]=0,d[f+e+1]=0,d[f+2*e]=0,d[f+2*e+1]=0,d[f+3*e]=0,d[f+3*e+1]=0);f+=4*e}};b.prototype.uploadTint=function(a,b,c,d,e,f){for(var h=0;h<c;++h){var n=a[b+h],k=n._texture.baseTexture.premultipliedAlpha,
p=n.alpha;n=1>p&&k?(0,g.premultiplyTint)(n._tintRGB,p):n._tintRGB+(255*p<<24);d[f]=n;d[f+e]=n;d[f+2*e]=n;d[f+3*e]=n;f+=4*e}};b.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer);a.prototype.destroy.call(this);this.shader.destroy();this.tempMatrix=this.indices=null};return b}(e.ObjectRenderer);c.default=a;e.WebGLRenderer.registerPlugin("particle",a)},{"../../core":65,"../../core/utils":125,"./ParticleBuffer":175,"./ParticleShader":177}],177:[function(a,b,
c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;a=a("../../core/Shader");a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute vec2 aPositionCoord;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nuniform vec4 uColor;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   vec2 v = vec2(x, y);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor * uColor;\n}",
"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n  gl_FragColor = color;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?this:c}d(b,a);return b}((a&&a.__esModule?a:{default:a}).default);c.default=a},{"../../core/Shader":44}],178:[function(a,b,c){Math.sign||(Math.sign=function(a){a=Number(a);
return 0===a||isNaN(a)?a:0<a?1:-1})},{}],179:[function(a,b,c){Number.isInteger||(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a})},{}],180:[function(a,b,c){a=(a=a("object-assign"))&&a.__esModule?a:{default:a};Object.assign||(Object.assign=a.default)},{"object-assign":6}],181:[function(a,b,c){a("./Object.assign");a("./requestAnimationFrame");a("./Math.sign");a("./Number.isInteger");window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=
Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":178,"./Number.isInteger":179,"./Object.assign":180,"./requestAnimationFrame":182}],182:[function(a,b,c){(function(a){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()});if(!a.performance||!a.performance.now){var b=Date.now();a.performance||(a.performance={});a.performance.now=function(){return Date.now()-b}}for(var c=Date.now(),d=["ms","moz","webkit",
"o"],g=0;g<d.length&&!a.requestAnimationFrame;++g){var k=d[g];a.requestAnimationFrame=a[k+"RequestAnimationFrame"];a.cancelAnimationFrame=a[k+"CancelAnimationFrame"]||a[k+"CancelRequestAnimationFrame"]}a.requestAnimationFrame||(a.requestAnimationFrame=function(a){if("function"!==typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),d=16+c-b;0>d&&(d=0);c=b;return setTimeout(function(){c=Date.now();a(performance.now())},d)});a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){return clearTimeout(a)})}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],183:[function(a,b,c){function d(a,b){var c=!1;if(a&&a._textures&&a._textures.length)for(var d=0;d<a._textures.length;d++)if(a._textures[d]instanceof l.Texture){var e=a._textures[d].baseTexture;-1===b.indexOf(e)&&(b.push(e),c=!0)}return c}function e(a,b){return a instanceof l.BaseTexture?(-1===b.indexOf(a)&&b.push(a),!0):!1}function f(a,b){return a._texture&&a._texture instanceof l.Texture?
(a=a._texture.baseTexture,-1===b.indexOf(a)&&b.push(a),!0):!1}function h(a,b){return b instanceof l.Text?(b.updateText(!0),!0):!1}function g(a,b){return b instanceof l.TextStyle?(a=b.toFontString(),l.TextMetrics.measureFont(a),!0):!1}function k(a,b){return a instanceof l.Text?(-1===b.indexOf(a.style)&&b.push(a.style),-1===b.indexOf(a)&&b.push(a),a=a._texture.baseTexture,-1===b.indexOf(a)&&b.push(a),!0):!1}function p(a,b){return a instanceof l.TextStyle?(-1===b.indexOf(a)&&b.push(a),!0):!1}c.__esModule=
!0;var l=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../core")),m=(a=a("./limiters/CountLimiter"))&&a.__esModule?a:{default:a},t=l.ticker.shared;l.settings.UPLOADS_PER_FRAME=4;a=function(){function a(b){var c=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.limiter=new m.default(l.settings.UPLOADS_PER_FRAME);this.renderer=b;this.uploadHookHelper=
null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){c.queue&&c.prepareItems()};this.registerFindHook(k);this.registerFindHook(p);this.registerFindHook(d);this.registerFindHook(e);this.registerFindHook(f);this.registerUploadHook(h);this.registerUploadHook(g)}a.prototype.upload=function(a,b){"function"===typeof a&&(b=a,a=null);a&&this.add(a);this.queue.length?(b&&this.completes.push(b),this.ticking||(this.ticking=!0,t.addOnce(this.tick,
this,l.UPDATE_PRIORITY.UTILITY))):b&&b()};a.prototype.tick=function(){setTimeout(this.delayedTick,0)};a.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var a=this.queue[0],b=!1;if(a&&!a._destroyed)for(var c=0,d=this.uploadHooks.length;c<d;c++)if(this.uploadHooks[c](this.uploadHookHelper,a)){this.queue.shift();b=!0;break}b||this.queue.shift()}if(this.queue.length)t.addOnce(this.tick,this,l.UPDATE_PRIORITY.UTILITY);else for(this.ticking=
!1,a=this.completes.slice(0),b=this.completes.length=0,c=a.length;b<c;b++)a[b]()};a.prototype.registerFindHook=function(a){a&&this.addHooks.push(a);return this};a.prototype.registerUploadHook=function(a){a&&this.uploadHooks.push(a);return this};a.prototype.add=function(a){for(var b=0,c=this.addHooks.length;b<c&&!this.addHooks[b](a,this.queue);b++);if(a instanceof l.Container)for(b=a.children.length-1;0<=b;b--)this.add(a.children[b]);return this};a.prototype.destroy=function(){this.ticking&&t.remove(this.tick,
this);this.ticking=!1;this.uploadHookHelper=this.limiter=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};return a}();c.default=a},{"../core":65,"./limiters/CountLimiter":186}],184:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}function e(a,b){return b instanceof f.BaseTexture?(b=b.source,a.ctx.drawImage(b,0,0,0===b.width?a.canvas.width:Math.min(a.canvas.width,b.width),0===b.height?a.canvas.height:Math.min(a.canvas.height,b.height),0,0,a.canvas.width,a.canvas.height),!0):!1}c.__esModule=!0;var f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core"));a=a("../BasePrepare");a=function(a){function b(c){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.uploadHookHelper=c;c.canvas=document.createElement("canvas");c.canvas.width=16;c.canvas.height=16;c.ctx=c.canvas.getContext("2d");c.registerUploadHook(e);return c}d(b,a);b.prototype.destroy=function(){a.prototype.destroy.call(this);this.canvas=this.ctx=null};return b}((a&&
a.__esModule?a:{default:a}).default);c.default=a;f.CanvasRenderer.registerPlugin("prepare",a)},{"../../core":65,"../BasePrepare":183}],185:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("./webgl/WebGLPrepare");Object.defineProperty(c,"webgl",{enumerable:!0,get:function(){return d(e).default}});var f=a("./canvas/CanvasPrepare");Object.defineProperty(c,"canvas",{enumerable:!0,get:function(){return d(f).default}});var h=a("./BasePrepare");Object.defineProperty(c,
"BasePrepare",{enumerable:!0,get:function(){return d(h).default}});var g=a("./limiters/CountLimiter");Object.defineProperty(c,"CountLimiter",{enumerable:!0,get:function(){return d(g).default}});var k=a("./limiters/TimeLimiter");Object.defineProperty(c,"TimeLimiter",{enumerable:!0,get:function(){return d(k).default}})},{"./BasePrepare":183,"./canvas/CanvasPrepare":184,"./limiters/CountLimiter":186,"./limiters/TimeLimiter":187,"./webgl/WebGLPrepare":188}],186:[function(a,b,c){c.__esModule=!0;a=function(){function a(b){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.maxItemsPerFrame=b;this.itemsLeft=0}a.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};a.prototype.allowedToUpload=function(){return 0<this.itemsLeft--};return a}();c.default=a},{}],187:[function(a,b,c){c.__esModule=!0;a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.maxMilliseconds=b;this.frameStart=0}a.prototype.beginFrame=function(){this.frameStart=
Date.now()};a.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return a}();c.default=a},{}],188:[function(a,b,c){function d(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function e(a,b){return b instanceof
g.BaseTexture?(b._glTextures[a.CONTEXT_UID]||a.textureManager.updateTexture(b),!0):!1}function f(a,b){return b instanceof g.Graphics?((b.dirty||b.clearDirty||!b._webGL[a.plugins.graphics.CONTEXT_UID])&&a.plugins.graphics.updateGraphics(b),!0):!1}function h(a,b){return a instanceof g.Graphics?(b.push(a),!0):!1}c.__esModule=!0;var g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}(a("../../core"));
a=a("../BasePrepare");a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.uploadHookHelper=c.renderer;c.registerFindHook(h);c.registerUploadHook(e);c.registerUploadHook(f);return c}d(b,a);return b}((a&&a.__esModule?a:{default:a}).default);c.default=a;g.WebGLRenderer.registerPlugin("prepare",
a)},{"../../core":65,"../BasePrepare":183}],189:[function(a,b,c){(function(b){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b.default=a;return b}c.__esModule=!0;c.loader=c.prepare=c.particles=c.mesh=c.loaders=c.interaction=c.filters=c.extras=c.extract=c.accessibility=void 0;var f=a("./polyfill");Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(c,a,{enumerable:!0,get:function(){return f[a]}})});
var h=a("./core");Object.keys(h).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(c,a,{enumerable:!0,get:function(){return h[a]}})});var g=a("./deprecation");g=g&&g.__esModule?g:{default:g};var k=a("./accessibility");k=d(k);var p=a("./extract");p=d(p);var l=a("./extras");l=d(l);var m=a("./filters");m=d(m);var t=a("./interaction");t=d(t);var u=a("./loaders");u=d(u);var v=a("./mesh");v=d(v);var n=a("./particles");n=d(n);var w=a("./prepare");w=d(w);h.utils.mixins.performMixins();
var D=u.shared||null;c.accessibility=k;c.extract=p;c.extras=l;c.filters=m;c.interaction=t;c.loaders=u;c.mesh=v;c.particles=n;c.prepare=w;c.loader=D;"function"===typeof g.default&&(0,g.default)(c);b.PIXI=c}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./accessibility":42,"./core":65,"./deprecation":131,"./extract":133,"./extras":141,"./filters":153,"./interaction":159,"./loaders":162,"./mesh":171,"./particles":174,"./polyfill":181,
"./prepare":185}]},{},[189])(189)});/*

 Visual Blocks Editor

 Copyright 2013 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var Blockly={};Blockly.Blocks=Object(null);/*

 Visual Blocks Editor

 Copyright 2012 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.utils={};Blockly.utils.removeAttribute=function(a,b){goog.userAgent.IE&&goog.userAgent.isVersion("10.0")?a.setAttribute(b,null):a.removeAttribute(b)};Blockly.utils.addClass=function(a,b){var c=a.getAttribute("class")||"";if(-1!=(" "+c+" ").indexOf(" "+b+" "))return!1;c&&(c+=" ");a.setAttribute("class",c+b);return!0};
Blockly.utils.removeClass=function(a,b){var c=a.getAttribute("class");if(-1==(" "+c+" ").indexOf(" "+b+" "))return!1;c=c.split(/\s+/);for(var d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):Blockly.utils.removeAttribute(a,"class");return!0};Blockly.utils.hasClass=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};Blockly.utils.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};
Blockly.utils.noEvent=function(a){a.preventDefault();a.stopPropagation()};Blockly.utils.isTargetInput=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
Blockly.utils.getRelativeXY=function(a){var b=new goog.math.Coordinate(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(Blockly.utils.getRelativeXY.XY_REGEX_))b.x+=parseFloat(c[1]),c[3]&&(b.y+=parseFloat(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&((c=a.match(Blockly.utils.getRelativeXY.XY_2D_REGEX_))||(c=a.match(Blockly.utils.getRelativeXY.XY_3D_REGEX_)),c&&(b.x+=parseFloat(c[1]),c[3]&&
(b.y+=parseFloat(c[3]))));return b};Blockly.utils.getInjectionDivXY_=function(a){for(var b=0,c=0;a;){var d=Blockly.utils.getRelativeXY(a);b+=d.x;c+=d.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new goog.math.Coordinate(b,c)};Blockly.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/;Blockly.utils.getRelativeXY.XY_3D_REGEX_=/transform:\s*translate3d\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;
Blockly.utils.getRelativeXY.XY_2D_REGEX_=/transform:\s*translate\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;Blockly.utils.createSvgElement=function(a,b,c){a=document.createElementNS(Blockly.SVG_NS,a);for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a};Blockly.utils.isRightButton=function(a){return a.ctrlKey&&goog.userAgent.MAC?!0:2==a.button};
Blockly.utils.mouseToSvg=function(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)};Blockly.utils.shortestStringLength=function(a){return a.length?a.reduce(function(a,c){return a.length<c.length?a:c}).length:0};
Blockly.utils.commonWordPrefix=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Blockly.utils.shortestStringLength(a);for(var d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!=a[f][d])return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f][d])&&" "!=e)return c;return b};
Blockly.utils.commonWordSuffix=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Blockly.utils.shortestStringLength(a);for(var d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!=a[f].substr(-d-1,1))return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f].charAt(a[f].length-d-1))&&" "!=e)return c;return b};Blockly.utils.tokenizeInterpolation=function(a){return Blockly.utils.tokenizeInterpolation_(a,!0)};
Blockly.utils.replaceMessageReferences=function(a){if("string"!=typeof a)return a;a=Blockly.utils.tokenizeInterpolation_(a,!1);return a.length?a[0]:""};
Blockly.utils.checkMessageReferences=function(a){for(var b=!0,c=Blockly.Msg,d=/%{(BKY_[A-Z][A-Z0-9_]*)}/gi,e=d.exec(a);e;){var f=e[1];f=f.toUpperCase();"BKY_"!=f.substr(0,4)?(console.log("WARNING: Unsupported message table prefix in %{"+e[1]+"}."),b=!1):void 0==c[f.substr(4)]&&(console.log("WARNING: No message string for %{"+e[1]+"}."),b=!1);a=a.substring(e.index+f.length+1);e=d.exec(a)}return b};
Blockly.utils.tokenizeInterpolation_=function(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,h=0;h<d.length;h++){var g=d[h];0==e?"%"==g?((g=a.join(""))&&c.push(g),a.length=0,e=1):a.push(g):1==e?"%"==g?(a.push(g),e=0):b&&"0"<=g&&"9">=g?(e=2,f=g,(g=a.join(""))&&c.push(g),a.length=0):"{"==g?e=3:(a.push("%",g),e=0):2==e?"0"<=g&&"9">=g?f+=g:(c.push(parseInt(f,10)),h--,e=0):3==e&&(""==g?(a.splice(0,0,"%{"),h--,e=0):"}"!=g?a.push(g):(e=a.join(""),/[a-zA-Z][a-zA-Z0-9_]*/.test(e)?(g=e.toUpperCase(),
(g=Blockly.utils.startsWith(g,"BKY_")?g.substring(4):null)&&g in Blockly.Msg?(e=Blockly.Msg[g],"string"==typeof e?Array.prototype.push.apply(c,Blockly.utils.tokenizeInterpolation_(e,b)):b?c.push(String(e)):c.push(e)):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}(g=a.join(""))&&c.push(g);b=[];for(h=a.length=0;h<c.length;++h)"string"==typeof c[h]?a.push(c[h]):((g=a.join(""))&&b.push(g),a.length=0,b.push(c[h]));(g=a.join(""))&&b.push(g);a.length=0;return b};
Blockly.utils.genUid=function(){for(var a=Blockly.utils.genUid.soup_.length,b=[],c=0;20>c;c++)b[c]=Blockly.utils.genUid.soup_.charAt(Math.random()*a);return b.join("")};Blockly.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";Blockly.utils.wrap=function(a,b){a=a.split("\n");for(var c=0;c<a.length;c++)a[c]=Blockly.utils.wrapLine_(a[c],b);return a.join("\n")};
Blockly.utils.wrapLine_=function(a,b){if(a.length<=b)return a;for(var c=a.trim().split(/\s+/),d=0;d<c.length;d++)c[d].length>b&&(b=c[d].length);d=-Infinity;var e=1;do{var f=d;var h=a;a=[];var g=c.length/e,k=1;for(d=0;d<c.length-1;d++)k<(d+1.5)/g?(k++,a[d]=!0):a[d]=!1;a=Blockly.utils.wrapMutate_(c,a,b);d=Blockly.utils.wrapScore_(c,a,b);a=Blockly.utils.wrapToText_(c,a);e++}while(d>f);return h};
Blockly.utils.wrapScore_=function(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!=".?!".indexOf(e[f])?b+=c/3:-1!=",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b};
Blockly.utils.wrapMutate_=function(a,b,c){for(var d=Blockly.utils.wrapScore_(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var h=[].concat(b);h[f]=!h[f];h[f+1]=!h[f+1];var g=Blockly.utils.wrapScore_(a,h,c);g>d&&(d=g,e=h)}return e?Blockly.utils.wrapMutate_(a,e,c):b};Blockly.utils.wrapToText_=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]),void 0!==b[d]&&c.push(b[d]?"\n":" ");return c.join("")};
Blockly.utils.is3dSupported=function(){if(void 0!==Blockly.utils.is3dSupported.cached_)return Blockly.utils.is3dSupported.cached_;if(!goog.global.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d]){a.style[d]="translate3d(1px,1px,1px)";b=goog.global.getComputedStyle(a);
if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);Blockly.utils.is3dSupported.cached_="none"!==b;return Blockly.utils.is3dSupported.cached_};Blockly.utils.insertAfter=function(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)};
Blockly.utils.runAfterPageLoad=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};Blockly.utils.setCssTransform=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};
Blockly.utils.getViewportBBox=function(){var a=goog.dom.getViewportSize(),b=goog.style.getViewportPageOffset(document);return{right:a.width+b.x,bottom:a.height+b.y,top:b.y,left:b.x}};Blockly.utils.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};Blockly.utils.arrayRemove=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};Blockly.utils.toRadians=function(a){return a*Math.PI/180};Blockly.utils.toDegrees=function(a){return 180*a/Math.PI};
Blockly.utils.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)};goog.events={};$jscomp.scope.purify=function(a){return{valueOf:a}.valueOf()};
goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||
goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.maxTouchPoints&&!goog.global.navigator.msMaxTouchPoints),
POINTER_EVENTS:"PointerEvent"in goog.global,MSPOINTER_EVENTS:"MSPointerEvent"in goog.global&&!(!goog.global.navigator||!goog.global.navigator.msPointerEnabled),PASSIVE_EVENTS:(0,$jscomp.scope.purify)(function(){if(!goog.global.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});goog.global.addEventListener("test",goog.nullFunction,b);goog.global.removeEventListener("test",goog.nullFunction,b);return a})};/*

 Visual Blocks Editor

 Copyright 2016 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.Touch={};Blockly.Touch.touchIdentifier_=null;Blockly.Touch.TOUCH_MAP={};
goog.global.PointerEvent?Blockly.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:goog.events.BrowserFeature.TOUCH_ENABLED&&(Blockly.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});Blockly.longPid_=0;
Blockly.longStart_=function(a,b){Blockly.longStop_();a.changedTouches&&1!=a.changedTouches.length||(Blockly.longPid_=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&b.handleRightClick(a)},Blockly.LONGPRESS))};Blockly.longStop_=function(){Blockly.longPid_&&(clearTimeout(Blockly.longPid_),Blockly.longPid_=0)};Blockly.Touch.clearTouchIdentifier=function(){Blockly.Touch.touchIdentifier_=null};
Blockly.Touch.shouldHandleEvent=function(a){return!Blockly.Touch.isMouseOrTouchEvent(a)||Blockly.Touch.checkTouchIdentifier(a)};Blockly.Touch.getTouchIdentifierFromEvent=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};
Blockly.Touch.checkTouchIdentifier=function(a){var b=Blockly.Touch.getTouchIdentifierFromEvent(a);return void 0!==Blockly.Touch.touchIdentifier_&&null!==Blockly.Touch.touchIdentifier_?Blockly.Touch.touchIdentifier_==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(Blockly.Touch.touchIdentifier_=b,!0):!1};Blockly.Touch.setClientFromTouch=function(a){if(Blockly.utils.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};
Blockly.Touch.isMouseOrTouchEvent=function(a){return Blockly.utils.startsWith(a.type,"touch")||Blockly.utils.startsWith(a.type,"mouse")||Blockly.utils.startsWith(a.type,"pointer")};Blockly.Touch.isTouchEvent=function(a){return Blockly.utils.startsWith(a.type,"touch")||Blockly.utils.startsWith(a.type,"pointer")};
Blockly.Touch.splitEventByTouches=function(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};Blockly.Events={};Blockly.Events.group_="";Blockly.Events.recordUndo=!0;Blockly.Events.disabled_=0;Blockly.Events.CREATE="create";Blockly.Events.BLOCK_CREATE=Blockly.Events.CREATE;Blockly.Events.DELETE="delete";Blockly.Events.BLOCK_DELETE=Blockly.Events.DELETE;Blockly.Events.CHANGE="change";Blockly.Events.BLOCK_CHANGE=Blockly.Events.CHANGE;Blockly.Events.MOVE="move";Blockly.Events.BLOCK_MOVE=Blockly.Events.MOVE;Blockly.Events.VAR_CREATE="var_create";Blockly.Events.VAR_DELETE="var_delete";
Blockly.Events.VAR_RENAME="var_rename";Blockly.Events.UI="ui";Blockly.Events.COMMENT_CREATE="comment_create";Blockly.Events.COMMENT_DELETE="comment_delete";Blockly.Events.COMMENT_CHANGE="comment_change";Blockly.Events.COMMENT_MOVE="comment_move";Blockly.Events.FIRE_QUEUE_=[];Blockly.Events.fire=function(a){Blockly.Events.isEnabled()&&(Blockly.Events.FIRE_QUEUE_.length||setTimeout(Blockly.Events.fireNow_,0),Blockly.Events.FIRE_QUEUE_.push(a))};
Blockly.Events.fireNow_=function(){for(var a=Blockly.Events.filter(Blockly.Events.FIRE_QUEUE_,!0),b=Blockly.Events.FIRE_QUEUE_.length=0,c;c=a[b];b++){var d=Blockly.Workspace.getById(c.workspaceId);d&&d.fireChangeListener(c)}};
Blockly.Events.filter=function(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),e=0,f;f=a[e];e++)if(!f.isNull()){var h=[f.type,f.blockId,f.workspaceId].join(" "),g=d[h],k=g?g.event:null;g?f.type==Blockly.Events.MOVE&&g.index==e-1?(k.newParentId=f.newParentId,k.newInputName=f.newInputName,k.newCoordinate=f.newCoordinate,g.index=e):f.type==Blockly.Events.CHANGE&&f.element==k.element&&f.name==k.name?k.newValue=f.newValue:f.type!=Blockly.Events.UI||"click"!=f.element||"commentOpen"!=
k.element&&"mutatorOpen"!=k.element&&"warningOpen"!=k.element?(d[h]={event:f,index:1},c.push(f)):k.newValue=f.newValue:(d[h]={event:f,index:e},c.push(f))}a=c.filter(function(a){return!a.isNull()});b||a.reverse();for(e=1;f=a[e];e++)f.type==Blockly.Events.CHANGE&&"mutation"==f.element&&a.unshift(a.splice(e,1)[0]);return a};Blockly.Events.clearPendingUndo=function(){for(var a=0,b;b=Blockly.Events.FIRE_QUEUE_[a];a++)b.recordUndo=!1};Blockly.Events.disable=function(){Blockly.Events.disabled_++};
Blockly.Events.enable=function(){Blockly.Events.disabled_--};Blockly.Events.isEnabled=function(){return 0==Blockly.Events.disabled_};Blockly.Events.getGroup=function(){return Blockly.Events.group_};Blockly.Events.setGroup=function(a){Blockly.Events.group_="boolean"==typeof a?a?Blockly.utils.genUid():"":a};Blockly.Events.getDescendantIds_=function(a){var b=[];a=a.getDescendants(!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b};
Blockly.Events.fromJson=function(a,b){switch(a.type){case Blockly.Events.CREATE:var c=new Blockly.Events.Create(null);break;case Blockly.Events.DELETE:c=new Blockly.Events.Delete(null);break;case Blockly.Events.CHANGE:c=new Blockly.Events.Change(null,"","","","");break;case Blockly.Events.MOVE:c=new Blockly.Events.Move(null);break;case Blockly.Events.VAR_CREATE:c=new Blockly.Events.VarCreate(null);break;case Blockly.Events.VAR_DELETE:c=new Blockly.Events.VarDelete(null);break;case Blockly.Events.VAR_RENAME:c=
new Blockly.Events.VarRename(null,"");break;case Blockly.Events.UI:c=new Blockly.Events.Ui(null);break;case Blockly.Events.COMMENT_CREATE:c=new Blockly.Events.CommentCreate(null);break;case Blockly.Events.COMMENT_CHANGE:c=new Blockly.Events.CommentChange(null);break;case Blockly.Events.COMMENT_MOVE:c=new Blockly.Events.CommentMove(null);break;case Blockly.Events.COMMENT_DELETE:c=new Blockly.Events.CommentDelete(null);break;default:throw Error("Unknown event type.");}c.fromJson(a);c.workspaceId=b.id;
return c};Blockly.Events.disableOrphans=function(a){if(a.type==Blockly.Events.MOVE||a.type==Blockly.Events.CREATE){var b=Blockly.Workspace.getById(a.workspaceId);if(a=b.getBlockById(a.blockId))if(a.getParent()&&!a.getParent().disabled){b=a.getDescendants(!1);a=0;for(var c;c=b[a];a++)c.setDisabled(!1)}else if((a.outputConnection||a.previousConnection)&&!b.isDragging()){do a.setDisabled(!0),a=a.getNextBlock();while(a)}}};/*

 Visual Blocks Editor

 Copyright 2018 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.Events.Abstract=function(){this.workspaceId=void 0;this.group=Blockly.Events.group_;this.recordUndo=Blockly.Events.recordUndo};Blockly.Events.Abstract.prototype.toJson=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};Blockly.Events.Abstract.prototype.fromJson=function(a){this.group=a.group};Blockly.Events.Abstract.prototype.isNull=function(){return!1};Blockly.Events.Abstract.prototype.run=function(a){};
Blockly.Events.Abstract.prototype.getEventWorkspace_=function(){var a=Blockly.Workspace.getById(this.workspaceId);if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};Blockly.Events.VarBase=function(a){Blockly.Events.VarBase.superClass_.constructor.call(this);this.varId=a.getId();this.workspaceId=a.workspace.id};goog.inherits(Blockly.Events.VarBase,Blockly.Events.Abstract);Blockly.Events.VarBase.prototype.toJson=function(){var a=Blockly.Events.VarBase.superClass_.toJson.call(this);a.varId=this.varId;return a};Blockly.Events.VarBase.prototype.fromJson=function(a){Blockly.Events.VarBase.superClass_.toJson.call(this);this.varId=a.varId};
Blockly.Events.VarCreate=function(a){a&&(Blockly.Events.VarCreate.superClass_.constructor.call(this,a),this.varType=a.type,this.varName=a.name)};goog.inherits(Blockly.Events.VarCreate,Blockly.Events.VarBase);Blockly.Events.VarCreate.prototype.type=Blockly.Events.VAR_CREATE;Blockly.Events.VarCreate.prototype.toJson=function(){var a=Blockly.Events.VarCreate.superClass_.toJson.call(this);a.varType=this.varType;a.varName=this.varName;return a};
Blockly.Events.VarCreate.prototype.fromJson=function(a){Blockly.Events.VarCreate.superClass_.fromJson.call(this,a);this.varType=a.varType;this.varName=a.varName};Blockly.Events.VarCreate.prototype.run=function(a){var b=this.getEventWorkspace_();a?b.createVariable(this.varName,this.varType,this.varId):b.deleteVariableById(this.varId)};Blockly.Events.VarDelete=function(a){a&&(Blockly.Events.VarDelete.superClass_.constructor.call(this,a),this.varType=a.type,this.varName=a.name)};
goog.inherits(Blockly.Events.VarDelete,Blockly.Events.VarBase);Blockly.Events.VarDelete.prototype.type=Blockly.Events.VAR_DELETE;Blockly.Events.VarDelete.prototype.toJson=function(){var a=Blockly.Events.VarDelete.superClass_.toJson.call(this);a.varType=this.varType;a.varName=this.varName;return a};Blockly.Events.VarDelete.prototype.fromJson=function(a){Blockly.Events.VarDelete.superClass_.fromJson.call(this,a);this.varType=a.varType;this.varName=a.varName};
Blockly.Events.VarDelete.prototype.run=function(a){var b=this.getEventWorkspace_();a?b.deleteVariableById(this.varId):b.createVariable(this.varName,this.varType,this.varId)};Blockly.Events.VarRename=function(a,b){a&&(Blockly.Events.VarRename.superClass_.constructor.call(this,a),this.oldName=a.name,this.newName=b)};goog.inherits(Blockly.Events.VarRename,Blockly.Events.VarBase);Blockly.Events.VarRename.prototype.type=Blockly.Events.VAR_RENAME;
Blockly.Events.VarRename.prototype.toJson=function(){var a=Blockly.Events.VarRename.superClass_.toJson.call(this);a.oldName=this.oldName;a.newName=this.newName;return a};Blockly.Events.VarRename.prototype.fromJson=function(a){Blockly.Events.VarRename.superClass_.fromJson.call(this,a);this.oldName=a.oldName;this.newName=a.newName};Blockly.Events.VarRename.prototype.run=function(a){var b=this.getEventWorkspace_();a?b.renameVariableById(this.varId,this.newName):b.renameVariableById(this.varId,this.oldName)};/*

 Visual Blocks Editor

 Copyright 2017 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.VariableMap=function(a){this.variableMap_={};this.workspace=a};Blockly.VariableMap.prototype.clear=function(){this.variableMap_=Object(null)};Blockly.VariableMap.prototype.renameVariable=function(a,b){var c=this.getVariable(b,a.type),d=this.workspace.getAllBlocks(!1);Blockly.Events.setGroup(!0);try{c&&c.getId()!=a.getId()?this.renameVariableWithConflict_(a,b,c,d):this.renameVariableAndUses_(a,b,d)}finally{Blockly.Events.setGroup(!1)}};
Blockly.VariableMap.prototype.renameVariableById=function(a,b){var c=this.getVariableById(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.renameVariable(c,b)};Blockly.VariableMap.prototype.renameVariableAndUses_=function(a,b,c){Blockly.Events.fire(new Blockly.Events.VarRename(a,b));a.name=b;for(b=0;b<c.length;b++)c[b].updateVarName(a)};
Blockly.VariableMap.prototype.renameVariableWithConflict_=function(a,b,c,d){var e=a.type;b!=c.name&&this.renameVariableAndUses_(c,b,d);for(b=0;b<d.length;b++)d[b].renameVarById(a.getId(),c.getId());Blockly.Events.fire(new Blockly.Events.VarDelete(a));a=this.getVariablesOfType(e).indexOf(a);this.variableMap_[e].splice(a,1)};
Blockly.VariableMap.prototype.createVariable=function(a,b,c){var d=this.getVariable(a,b);if(d){if(c&&d.getId()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.getId()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.getVariableById(c))throw Error('Variable id, "'+c+'", is already in use.');c=c||Blockly.utils.genUid();b=b||"";d=new Blockly.VariableModel(this.workspace,a,b,c);this.variableMap_[b]?this.variableMap_[b].push(d):this.variableMap_[b]=[d];return d};
Blockly.VariableMap.prototype.deleteVariable=function(a){for(var b=this.variableMap_[a.type],c=0,d;d=b[c];c++)if(d.getId()==a.getId()){b.splice(c,1);Blockly.Events.fire(new Blockly.Events.VarDelete(a));break}};
Blockly.VariableMap.prototype.deleteVariableById=function(a){var b=this.getVariableById(a);if(b){var c=b.name,d=this.getVariableUsesById(a);a=0;for(var e;e=d[a];a++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){a=e.getFieldValue("NAME");c=Blockly.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);Blockly.alert(c);return}var f=this;1<d.length?(c=Blockly.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),Blockly.confirm(c,function(a){a&&
f.deleteVariableInternal_(b,d)})):f.deleteVariableInternal_(b,d)}else console.warn("Can't delete non-existent variable: "+a)};Blockly.VariableMap.prototype.deleteVariableInternal_=function(a,b){var c=Blockly.Events.getGroup();c||Blockly.Events.setGroup(!0);try{for(var d=0;d<b.length;d++)b[d].dispose(!0,!1);this.deleteVariable(a)}finally{c||Blockly.Events.setGroup(!1)}};
Blockly.VariableMap.prototype.getVariable=function(a,b){if(b=this.variableMap_[b||""])for(var c=0,d;d=b[c];c++)if(Blockly.Names.equals(d.name,a))return d;return null};Blockly.VariableMap.prototype.getVariableById=function(a){for(var b=Object.keys(this.variableMap_),c=0;c<b.length;c++)for(var d=b[c],e=0,f;f=this.variableMap_[d][e];e++)if(f.getId()==a)return f;return null};Blockly.VariableMap.prototype.getVariablesOfType=function(a){return(a=this.variableMap_[a||""])?a.slice():[]};
Blockly.VariableMap.prototype.getVariableTypes=function(){for(var a=Object.keys(this.variableMap_),b=!1,c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};Blockly.VariableMap.prototype.getAllVariables=function(){for(var a=[],b=Object.keys(this.variableMap_),c=0;c<b.length;c++)a=a.concat(this.variableMap_[b[c]]);return a};
Blockly.VariableMap.prototype.getVariableUsesById=function(a){for(var b=[],c=this.workspace.getAllBlocks(!1),d=0;d<c.length;d++){var e=c[d].getVarModels();if(e)for(var f=0;f<e.length;f++)e[f].getId()==a&&b.push(c[d])}return b};Blockly.Xml={};Blockly.Xml.utils={};Blockly.Xml.utils.createElement=function(a){return document.createElement(a)};Blockly.Xml.utils.createTextNode=function(a){return document.createTextNode(a)};Blockly.Xml.utils.textToDomDocument=function(a){return(new DOMParser).parseFromString(a,"text/xml")};Blockly.Xml.utils.domToText=function(a){return(new XMLSerializer).serializeToString(a)};Blockly.Events.BlockBase=function(a){Blockly.Events.BlockBase.superClass_.constructor.call(this);this.blockId=a.id;this.workspaceId=a.workspace.id};goog.inherits(Blockly.Events.BlockBase,Blockly.Events.Abstract);Blockly.Events.BlockBase.prototype.toJson=function(){var a=Blockly.Events.BlockBase.superClass_.toJson.call(this);a.blockId=this.blockId;return a};Blockly.Events.BlockBase.prototype.fromJson=function(a){Blockly.Events.BlockBase.superClass_.toJson.call(this);this.blockId=a.blockId};
Blockly.Events.Change=function(a,b,c,d,e){a&&(Blockly.Events.Change.superClass_.constructor.call(this,a),this.element=b,this.name=c,this.oldValue=d,this.newValue=e)};goog.inherits(Blockly.Events.Change,Blockly.Events.BlockBase);Blockly.Events.BlockChange=Blockly.Events.Change;Blockly.Events.Change.prototype.type=Blockly.Events.CHANGE;
Blockly.Events.Change.prototype.toJson=function(){var a=Blockly.Events.Change.superClass_.toJson.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};Blockly.Events.Change.prototype.fromJson=function(a){Blockly.Events.Change.superClass_.fromJson.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};Blockly.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue};
Blockly.Events.Change.prototype.run=function(a){var b=this.getEventWorkspace_().getBlockById(this.blockId);if(b)switch(b.mutator&&b.mutator.setVisible(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=b.getField(this.name))?(b.callValidator(a),b.setValue(a)):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.setCommentText(a||null);break;case "collapsed":b.setCollapsed(a);break;case "disabled":b.setDisabled(a);break;case "inline":b.setInputsInline(a);break;
case "mutation":var c="";b.mutationToDom&&(c=(c=b.mutationToDom())&&Blockly.Xml.domToText(c));if(b.domToMutation){a=a||"<mutation></mutation>";var d=Blockly.Xml.textToDom("<xml>"+a+"</xml>");b.domToMutation(d.firstChild)}Blockly.Events.fire(new Blockly.Events.Change(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)};
Blockly.Events.Create=function(a){a&&(Blockly.Events.Create.superClass_.constructor.call(this,a),this.xml=a.workspace.rendered?Blockly.Xml.blockToDomWithXY(a):Blockly.Xml.blockToDom(a),this.ids=Blockly.Events.getDescendantIds_(a))};goog.inherits(Blockly.Events.Create,Blockly.Events.BlockBase);Blockly.Events.BlockCreate=Blockly.Events.Create;Blockly.Events.Create.prototype.type=Blockly.Events.CREATE;
Blockly.Events.Create.prototype.toJson=function(){var a=Blockly.Events.Create.superClass_.toJson.call(this);a.xml=Blockly.Xml.domToText(this.xml);a.ids=this.ids;return a};Blockly.Events.Create.prototype.fromJson=function(a){Blockly.Events.Create.superClass_.fromJson.call(this,a);this.xml=Blockly.Xml.textToDom("<xml>"+a.xml+"</xml>").firstChild;this.ids=a.ids};
Blockly.Events.Create.prototype.run=function(a){var b=this.getEventWorkspace_();if(a)a=Blockly.Xml.utils.createElement("xml"),a.appendChild(this.xml),Blockly.Xml.domToWorkspace(a,b);else{a=0;for(var c;c=this.ids[a];a++){var d=b.getBlockById(c);d?d.dispose(!1,!1):c==this.blockId&&console.warn("Can't uncreate non-existent block: "+c)}}};
Blockly.Events.Delete=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");Blockly.Events.Delete.superClass_.constructor.call(this,a);this.oldXml=a.workspace.rendered?Blockly.Xml.blockToDomWithXY(a):Blockly.Xml.blockToDom(a);this.ids=Blockly.Events.getDescendantIds_(a)}};goog.inherits(Blockly.Events.Delete,Blockly.Events.BlockBase);Blockly.Events.BlockDelete=Blockly.Events.Delete;Blockly.Events.Delete.prototype.type=Blockly.Events.DELETE;
Blockly.Events.Delete.prototype.toJson=function(){var a=Blockly.Events.Delete.superClass_.toJson.call(this);a.ids=this.ids;return a};Blockly.Events.Delete.prototype.fromJson=function(a){Blockly.Events.Delete.superClass_.fromJson.call(this,a);this.ids=a.ids};
Blockly.Events.Delete.prototype.run=function(a){var b=this.getEventWorkspace_();if(a){a=0;for(var c;c=this.ids[a];a++){var d=b.getBlockById(c);d?d.dispose(!1,!1):c==this.blockId&&console.warn("Can't delete non-existent block: "+c)}}else a=Blockly.Xml.utils.createElement("xml"),a.appendChild(this.oldXml),Blockly.Xml.domToWorkspace(a,b)};
Blockly.Events.Move=function(a){a&&(Blockly.Events.Move.superClass_.constructor.call(this,a),a=this.currentLocation_(),this.oldParentId=a.parentId,this.oldInputName=a.inputName,this.oldCoordinate=a.coordinate)};goog.inherits(Blockly.Events.Move,Blockly.Events.BlockBase);Blockly.Events.BlockMove=Blockly.Events.Move;Blockly.Events.Move.prototype.type=Blockly.Events.MOVE;
Blockly.Events.Move.prototype.toJson=function(){var a=Blockly.Events.Move.superClass_.toJson.call(this);this.newParentId&&(a.newParentId=this.newParentId);this.newInputName&&(a.newInputName=this.newInputName);this.newCoordinate&&(a.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y));return a};
Blockly.Events.Move.prototype.fromJson=function(a){Blockly.Events.Move.superClass_.fromJson.call(this,a);this.newParentId=a.newParentId;this.newInputName=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.newCoordinate=new goog.math.Coordinate(parseFloat(a[0]),parseFloat(a[1])))};Blockly.Events.Move.prototype.recordNew=function(){var a=this.currentLocation_();this.newParentId=a.parentId;this.newInputName=a.inputName;this.newCoordinate=a.coordinate};
Blockly.Events.Move.prototype.currentLocation_=function(){var a=Blockly.Workspace.getById(this.workspaceId).getBlockById(this.blockId),b={},c=a.getParent();if(c){if(b.parentId=c.id,a=c.getInputWithBlock(a))b.inputName=a.name}else b.coordinate=a.getRelativeToSurfaceXY();return b};Blockly.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&goog.math.Coordinate.equals(this.oldCoordinate,this.newCoordinate)};
Blockly.Events.Move.prototype.run=function(a){var b=this.getEventWorkspace_(),c=b.getBlockById(this.blockId);if(c){var d=a?this.newParentId:this.oldParentId,e=a?this.newInputName:this.oldInputName;a=a?this.newCoordinate:this.oldCoordinate;var f=null;if(d&&(f=b.getBlockById(d),!f)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&c.unplug();if(a)e=c.getRelativeToSurfaceXY(),c.moveBy(a.x-e.x,a.y-e.y);else{c=c.outputConnection||c.previousConnection;if(e){if(b=f.getInput(e))var h=
b.connection}else c.type==Blockly.PREVIOUS_STATEMENT&&(h=f.nextConnection);h?c.connect(h):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.blockId)};Blockly.Xml.workspaceToDom=function(a,b){var c=Blockly.Xml.utils.createElement("xml"),d=Blockly.Xml.variablesToDom(Blockly.Variables.allUsedVarModels(a));d.hasChildNodes()&&c.appendChild(d);var e=a.getTopComments(!0);d=0;for(var f;f=e[d];d++)c.appendChild(f.toXmlWithXY(b));a=a.getTopBlocks(!0);for(d=0;e=a[d];d++)c.appendChild(Blockly.Xml.blockToDomWithXY(e,b));return c};
Blockly.Xml.variablesToDom=function(a){for(var b=Blockly.Xml.utils.createElement("variables"),c=0,d;d=a[c];c++){var e=Blockly.Xml.utils.createElement("variable");e.appendChild(Blockly.Xml.utils.createTextNode(d.name));e.setAttribute("type",d.type);e.setAttribute("id",d.getId());b.appendChild(e)}return b};
Blockly.Xml.blockToDomWithXY=function(a,b){var c;a.workspace.RTL&&(c=a.workspace.getWidth());b=Blockly.Xml.blockToDom(a,b);var d=a.getRelativeToSurfaceXY();b.setAttribute("x",Math.round(a.workspace.RTL?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b};
Blockly.Xml.fieldToDomVariable_=function(a){null==a.getValue()&&(a.initModel(),a.getValue());var b=a.getVariable();if(!b)throw Error("Tried to serialize a variable field with no variable.");var c=Blockly.Xml.utils.createElement("field");c.appendChild(Blockly.Xml.utils.createTextNode(b.name));c.setAttribute("name",a.name);c.setAttribute("id",b.getId());c.setAttribute("variabletype",b.type);return c};
Blockly.Xml.fieldToDom_=function(a){if(a.name&&a.EDITABLE){if(a.referencesVariables())return Blockly.Xml.fieldToDomVariable_(a);var b=Blockly.Xml.utils.createElement("field");b.appendChild(Blockly.Xml.utils.createTextNode(a.getValue()));b.setAttribute("name",a.name);return b}return null};Blockly.Xml.allFieldsToDom_=function(a,b){for(var c=0,d;d=a.inputList[c];c++)for(var e=0,f;f=d.fieldRow[e];e++)(f=Blockly.Xml.fieldToDom_(f))&&b.appendChild(f)};
Blockly.Xml.blockToDom=function(a,b){var c=Blockly.Xml.utils.createElement(a.isShadow()?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.mutationToDom){var d=a.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}Blockly.Xml.allFieldsToDom_(a,c);var e=a.getCommentText();e&&(d=Blockly.Xml.utils.createElement("comment"),d.appendChild(Blockly.Xml.utils.createTextNode(e)),"object"==typeof a.comment&&(d.setAttribute("pinned",a.comment.isVisible()),
e=a.comment.getBubbleSize(),d.setAttribute("h",e.height),d.setAttribute("w",e.width)),c.appendChild(d));a.data&&(d=Blockly.Xml.utils.createElement("data"),d.appendChild(Blockly.Xml.utils.createTextNode(a.data)),c.appendChild(d));e=0;for(var f;f=a.inputList[e];e++){var h,g=!0;if(f.type!=Blockly.DUMMY_INPUT){var k=f.connection.targetBlock();f.type==Blockly.INPUT_VALUE?h=Blockly.Xml.utils.createElement("value"):f.type==Blockly.NEXT_STATEMENT&&(h=Blockly.Xml.utils.createElement("statement"));d=f.connection.getShadowDom();
!d||k&&k.isShadow()||h.appendChild(Blockly.Xml.cloneShadow_(d));k&&(h.appendChild(Blockly.Xml.blockToDom(k,b)),g=!1);h.setAttribute("name",f.name);g||c.appendChild(h)}}a.inputsInlineDefault!=a.inputsInline&&c.setAttribute("inline",a.inputsInline);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.disabled&&c.setAttribute("disabled",!0);a.isDeletable()||a.isShadow()||c.setAttribute("deletable",!1);a.isMovable()||a.isShadow()||c.setAttribute("movable",!1);a.isEditable()||c.setAttribute("editable",!1);
if(e=a.getNextBlock())h=Blockly.Xml.utils.createElement("next"),h.appendChild(Blockly.Xml.blockToDom(e,b)),c.appendChild(h);d=a.nextConnection&&a.nextConnection.getShadowDom();!d||e&&e.isShadow()||h.appendChild(Blockly.Xml.cloneShadow_(d));return c};
Blockly.Xml.cloneShadow_=function(a){for(var b=a=a.cloneNode(!0),c;b;)if(b.firstChild)b=b.firstChild;else{for(;b&&!b.nextSibling;)c=b,b=b.parentNode,3==c.nodeType&&""==c.data.trim()&&b.firstChild!=c&&Blockly.utils.removeNode(c);b&&(c=b,b=b.nextSibling,3==c.nodeType&&""==c.data.trim()&&Blockly.utils.removeNode(c))}return a};Blockly.Xml.domToText=function(a){return Blockly.Xml.utils.domToText(a)};
Blockly.Xml.domToPrettyText=function(a){a=Blockly.Xml.domToText(a).split("<");for(var b="",c=1;c<a.length;c++){var d=a[c];"/"==d[0]&&(b=b.substring(2));a[c]=b+"<"+d;"/"!=d[0]&&"/>"!=d.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};
Blockly.Xml.textToDom=function(a){a=Blockly.Xml.utils.textToDomDocument(a);if(!a||!a.documentElement||"xml"!=a.documentElement.nodeName.toLowerCase())throw TypeError("Blockly.Xml.textToDom expected an <xml> document.");return a.documentElement};Blockly.Xml.clearWorkspaceAndLoadFromXml=function(a,b){b.setResizesEnabled(!1);b.clear();a=Blockly.Xml.domToWorkspace(a,b);b.setResizesEnabled(!0);return a};
Blockly.Xml.domToWorkspace=function(a,b){if(a instanceof Blockly.Workspace){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var d;b.RTL&&(d=b.getWidth());c=[];Blockly.Field.startCache();var e=a.childNodes.length,f=Blockly.Events.getGroup();f||Blockly.Events.setGroup(!0);b.setResizesEnabled&&b.setResizesEnabled(!1);var h=!0;try{for(var g=0;g<e;g++){var k=a.childNodes[g],p=k.nodeName.toLowerCase();if("block"==p||"shadow"==p&&!Blockly.Events.recordUndo){var l=
Blockly.Xml.domToBlock(k,b);c.push(l.id);var m=k.hasAttribute("x")?parseInt(k.getAttribute("x"),10):10,t=k.hasAttribute("y")?parseInt(k.getAttribute("y"),10):10;isNaN(m)||isNaN(t)||l.moveBy(b.RTL?d-m:m,t);h=!1}else{if("shadow"==p)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==p)b.rendered?Blockly.WorkspaceCommentSvg.fromXml(k,b,d):Blockly.WorkspaceComment.fromXml(k,b);else if("variables"==p){if(h)Blockly.Xml.domToVariables(k,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
h=!1}}}}finally{f||Blockly.Events.setGroup(!1),Blockly.Field.stopCache()}b.setResizesEnabled&&b.setResizesEnabled(!0);return c};
Blockly.Xml.appendDomToWorkspace=function(a,b){if(b.hasOwnProperty("scale")){var c=Blockly.BlockSvg.TAB_WIDTH;try{Blockly.BlockSvg.TAB_WIDTH=0;var d=b.getBlocksBoundingBox()}finally{Blockly.BlockSvg.TAB_WIDTH=c}}a=Blockly.Xml.domToWorkspace(a,b);if(d&&d.height){c=d.y+d.height;var e=d.x;var f=Infinity,h=Infinity;for(d=0;d<a.length;d++){var g=b.getBlockById(a[d]).getRelativeToSurfaceXY();g.y<h&&(h=g.y);g.x<f&&(f=g.x)}c=c-h+Blockly.BlockSvg.SEP_SPACE_Y;e-=f;var k;b.RTL&&(k=b.getWidth());for(d=0;d<a.length;d++)b.getBlockById(a[d]).moveBy(b.RTL?
k-e:e,c)}return a};
Blockly.Xml.domToBlock=function(a,b){if(a instanceof Blockly.Workspace){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}Blockly.Events.disable();c=b.getAllVariables();try{var d=Blockly.Xml.domToBlockHeadless_(a,b),e=d.getDescendants(!1);if(b.rendered){d.setConnectionsHidden(!0);for(var f=e.length-1;0<=f;f--)e[f].initSvg();for(f=e.length-1;0<=f;f--)e[f].render(!1);setTimeout(function(){d.workspace&&d.setConnectionsHidden(!1)},1);d.updateDisabled();b.resizeContents()}else for(f=
e.length-1;0<=f;f--)e[f].initModel()}finally{Blockly.Events.enable()}if(Blockly.Events.isEnabled()){a=Blockly.Variables.getAddedVariables(b,c);for(f=0;f<a.length;f++)Blockly.Events.fire(new Blockly.Events.VarCreate(a[f]));Blockly.Events.fire(new Blockly.Events.BlockCreate(d))}return d};
Blockly.Xml.domToVariables=function(a,b){for(var c=0,d;d=a.childNodes[c];c++)if(d.nodeType==Element.ELEMENT_NODE){var e=d.getAttribute("type"),f=d.getAttribute("id");d=d.textContent;if(null==e)throw Error("Variable with id, "+f+" is without a type");b.createVariable(d,e,f)}};
Blockly.Xml.domToBlockHeadless_=function(a,b){var c=null,d=a.getAttribute("type");if(!d)throw TypeError("Block type unspecified: "+a.outerHTML);var e=a.getAttribute("id");c=b.newBlock(d,e);var f=null;e=0;for(var h;h=a.childNodes[e];e++)if(3!=h.nodeType){for(var g=f=null,k=0,p;p=h.childNodes[k];k++)1==p.nodeType&&("block"==p.nodeName.toLowerCase()?f=p:"shadow"==p.nodeName.toLowerCase()&&(g=p));!f&&g&&(f=g);k=h.getAttribute("name");switch(h.nodeName.toLowerCase()){case "mutation":c.domToMutation&&(c.domToMutation(h),
c.initSvg&&c.initSvg());break;case "comment":c.setCommentText(h.textContent);var l=h.getAttribute("pinned");l&&!c.isInFlyout&&setTimeout(function(){c.comment&&c.comment.setVisible&&c.comment.setVisible("true"==l)},1);f=parseInt(h.getAttribute("w"),10);h=parseInt(h.getAttribute("h"),10);!isNaN(f)&&!isNaN(h)&&c.comment&&c.comment.setVisible&&c.comment.setBubbleSize(f,h);break;case "data":c.data=h.textContent;break;case "title":case "field":Blockly.Xml.domToField_(c,k,h);break;case "value":case "statement":h=
c.getInput(k);if(!h){console.warn("Ignoring non-existent input "+k+" in block "+d);break}g&&h.connection.setShadowDom(g);if(f)if(f=Blockly.Xml.domToBlockHeadless_(f,b),f.outputConnection)h.connection.connect(f.outputConnection);else if(f.previousConnection)h.connection.connect(f.previousConnection);else throw TypeError("Child block does not have output or previous statement.");break;case "next":g&&c.nextConnection&&c.nextConnection.setShadowDom(g);if(f){if(!c.nextConnection)throw TypeError("Next statement does not exist.");
if(c.nextConnection.isConnected())throw TypeError("Next statement is already connected.");f=Blockly.Xml.domToBlockHeadless_(f,b);if(!f.previousConnection)throw TypeError("Next block does not have previous statement.");c.nextConnection.connect(f.previousConnection)}break;default:console.warn("Ignoring unknown tag: "+h.nodeName)}}(e=a.getAttribute("inline"))&&c.setInputsInline("true"==e);(e=a.getAttribute("disabled"))&&c.setDisabled("true"==e||"disabled"==e);(e=a.getAttribute("deletable"))&&c.setDeletable("true"==
e);(e=a.getAttribute("movable"))&&c.setMovable("true"==e);(e=a.getAttribute("editable"))&&c.setEditable("true"==e);(e=a.getAttribute("collapsed"))&&c.setCollapsed("true"==e);if("shadow"==a.nodeName.toLowerCase()){a=c.getChildren(!1);for(e=0;b=a[e];e++)if(!b.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(c.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");c.setShadow(!0)}return c};
Blockly.Xml.domToFieldVariable_=function(a,b,c,d){var e=b.getAttribute("variabletype")||"";"''"==e&&(e="");a=Blockly.Variables.getOrCreateVariablePackage(a,b.id,c,e);if(null!=e&&e!==a.type)throw Error("Serialized variable type with id '"+a.getId()+"' had type "+a.type+", and does not match variable field that references it: "+Blockly.Xml.domToText(b)+".");d.setValue(a.getId())};
Blockly.Xml.domToField_=function(a,b,c){var d=a.getField(b);d?(a=a.workspace,b=c.textContent,d.referencesVariables()?Blockly.Xml.domToFieldVariable_(a,c,b,d):d.setValue(b)):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};Blockly.Xml.deleteNext=function(a){for(var b=0,c;c=a.childNodes[b];b++)if("next"==c.nodeName.toLowerCase()){a.removeChild(c);break}};goog.global.Blockly||(goog.global.Blockly={});goog.global.Blockly.Xml||(goog.global.Blockly.Xml={});
goog.global.Blockly.Xml.domToText=Blockly.Xml.domToText;goog.global.Blockly.Xml.domToWorkspace=Blockly.Xml.domToWorkspace;goog.global.Blockly.Xml.textToDom=Blockly.Xml.textToDom;goog.global.Blockly.Xml.workspaceToDom=Blockly.Xml.workspaceToDom;Blockly.Events.CommentBase=function(a){this.commentId=a.id;this.workspaceId=a.workspace.id;this.group=Blockly.Events.group_;this.recordUndo=Blockly.Events.recordUndo};goog.inherits(Blockly.Events.CommentBase,Blockly.Events.Abstract);Blockly.Events.CommentBase.prototype.toJson=function(){var a={type:this.type};this.group&&(a.group=this.group);this.commentId&&(a.commentId=this.commentId);return a};Blockly.Events.CommentBase.prototype.fromJson=function(a){this.commentId=a.commentId;this.group=a.group};
Blockly.Events.CommentChange=function(a,b,c){a&&(Blockly.Events.CommentChange.superClass_.constructor.call(this,a),this.oldContents_=b,this.newContents_=c)};goog.inherits(Blockly.Events.CommentChange,Blockly.Events.CommentBase);Blockly.Events.CommentChange.prototype.type=Blockly.Events.COMMENT_CHANGE;Blockly.Events.CommentChange.prototype.toJson=function(){var a=Blockly.Events.CommentChange.superClass_.toJson.call(this);a.newContents=this.newContents_;return a};
Blockly.Events.CommentChange.prototype.fromJson=function(a){Blockly.Events.CommentChange.superClass_.fromJson.call(this,a);this.newContents_=a.newValue};Blockly.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_};Blockly.Events.CommentChange.prototype.run=function(a){var b=this.getEventWorkspace_().getCommentById(this.commentId);b?b.setContent(a?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)};
Blockly.Events.CommentCreate=function(a){a&&(Blockly.Events.CommentCreate.superClass_.constructor.call(this,a),this.xml=a.toXmlWithXY())};goog.inherits(Blockly.Events.CommentCreate,Blockly.Events.CommentBase);Blockly.Events.CommentCreate.prototype.type=Blockly.Events.COMMENT_CREATE;Blockly.Events.CommentCreate.prototype.toJson=function(){var a=Blockly.Events.CommentCreate.superClass_.toJson.call(this);a.xml=Blockly.Xml.domToText(this.xml);return a};
Blockly.Events.CommentCreate.prototype.fromJson=function(a){Blockly.Events.CommentCreate.superClass_.fromJson.call(this,a);this.xml=Blockly.Xml.textToDom("<xml>"+a.xml+"</xml>").firstChild};Blockly.Events.CommentCreate.prototype.run=function(a){Blockly.Events.CommentCreateDeleteHelper(this,a)};
Blockly.Events.CommentCreateDeleteHelper=function(a,b){var c=a.getEventWorkspace_();b?(b=Blockly.Xml.utils.createElement("xml"),b.appendChild(a.xml),Blockly.Xml.domToWorkspace(b,c)):(c=c.getCommentById(a.commentId))?c.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.commentId)};Blockly.Events.CommentDelete=function(a){a&&(Blockly.Events.CommentDelete.superClass_.constructor.call(this,a),this.xml=a.toXmlWithXY())};goog.inherits(Blockly.Events.CommentDelete,Blockly.Events.CommentBase);
Blockly.Events.CommentDelete.prototype.type=Blockly.Events.COMMENT_DELETE;Blockly.Events.CommentDelete.prototype.toJson=function(){return Blockly.Events.CommentDelete.superClass_.toJson.call(this)};Blockly.Events.CommentDelete.prototype.fromJson=function(a){Blockly.Events.CommentDelete.superClass_.fromJson.call(this,a)};Blockly.Events.CommentDelete.prototype.run=function(a){Blockly.Events.CommentCreateDeleteHelper(this,!a)};
Blockly.Events.CommentMove=function(a){a&&(Blockly.Events.CommentMove.superClass_.constructor.call(this,a),this.comment_=a,this.oldCoordinate_=a.getXY(),this.newCoordinate_=null)};goog.inherits(Blockly.Events.CommentMove,Blockly.Events.CommentBase);Blockly.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY();this.comment_=null};
Blockly.Events.CommentMove.prototype.type=Blockly.Events.COMMENT_MOVE;Blockly.Events.CommentMove.prototype.setOldCoordinate=function(a){this.oldCoordinate_=a};Blockly.Events.CommentMove.prototype.toJson=function(){var a=Blockly.Events.CommentMove.superClass_.toJson.call(this);this.newCoordinate_&&(a.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y));return a};
Blockly.Events.CommentMove.prototype.fromJson=function(a){Blockly.Events.CommentMove.superClass_.fromJson.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.newCoordinate_=new goog.math.Coordinate(parseFloat(a[0]),parseFloat(a[1])))};Blockly.Events.CommentMove.prototype.isNull=function(){return goog.math.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)};
Blockly.Events.CommentMove.prototype.run=function(a){var b=this.getEventWorkspace_().getCommentById(this.commentId);if(b){a=a?this.newCoordinate_:this.oldCoordinate_;var c=b.getXY();b.moveBy(a.x-c.x,a.y-c.y)}else console.warn("Can't move non-existent comment: "+this.commentId)};Blockly.WorkspaceComment=function(a,b,c,d,e){this.id=e&&!a.getCommentById(e)?e:Blockly.utils.genUid();a.addTopComment(this);this.xy_=new goog.math.Coordinate(0,0);this.height_=c;this.width_=d;this.workspace=a;this.RTL=a.RTL;this.movable_=this.deletable_=!0;this.content_=b;this.isComment=!0;Blockly.WorkspaceComment.fireCreateEvent(this)};
Blockly.WorkspaceComment.prototype.dispose=function(){this.workspace&&(Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.CommentDelete(this)),this.workspace.removeTopComment(this),this.workspace=null)};Blockly.WorkspaceComment.prototype.getHeight=function(){return this.height_};Blockly.WorkspaceComment.prototype.setHeight=function(a){this.height_=a};Blockly.WorkspaceComment.prototype.getWidth=function(){return this.width_};
Blockly.WorkspaceComment.prototype.setWidth=function(a){this.width_=a};Blockly.WorkspaceComment.prototype.getXY=function(){return this.xy_.clone()};Blockly.WorkspaceComment.prototype.moveBy=function(a,b){var c=new Blockly.Events.CommentMove(this);this.xy_.translate(a,b);c.recordNew();Blockly.Events.fire(c)};Blockly.WorkspaceComment.prototype.isDeletable=function(){return this.deletable_&&!(this.workspace&&this.workspace.options.readOnly)};
Blockly.WorkspaceComment.prototype.setDeletable=function(a){this.deletable_=a};Blockly.WorkspaceComment.prototype.isMovable=function(){return this.movable_&&!(this.workspace&&this.workspace.options.readOnly)};Blockly.WorkspaceComment.prototype.setMovable=function(a){this.movable_=a};Blockly.WorkspaceComment.prototype.getContent=function(){return this.content_};
Blockly.WorkspaceComment.prototype.setContent=function(a){this.content_!=a&&(Blockly.Events.fire(new Blockly.Events.CommentChange(this,this.content_,a)),this.content_=a)};Blockly.WorkspaceComment.prototype.toXmlWithXY=function(a){a=this.toXml(a);a.setAttribute("x",Math.round(this.xy_.x));a.setAttribute("y",Math.round(this.xy_.y));a.setAttribute("h",this.height_);a.setAttribute("w",this.width_);return a};
Blockly.WorkspaceComment.prototype.toXml=function(a){var b=Blockly.Xml.utils.createElement("comment");a||b.setAttribute("id",this.id);b.textContent=this.getContent();return b};Blockly.WorkspaceComment.fireCreateEvent=function(a){if(Blockly.Events.isEnabled()){var b=Blockly.Events.getGroup();b||Blockly.Events.setGroup(!0);try{Blockly.Events.fire(new Blockly.Events.CommentCreate(a))}finally{b||Blockly.Events.setGroup(!1)}}};
Blockly.WorkspaceComment.fromXml=function(a,b){var c=Blockly.WorkspaceComment.parseAttributes(a);b=new Blockly.WorkspaceComment(b,c.content,c.h,c.w,c.id);c=parseInt(a.getAttribute("x"),10);a=parseInt(a.getAttribute("y"),10);isNaN(c)||isNaN(a)||b.moveBy(c,a);Blockly.WorkspaceComment.fireCreateEvent(b);return b};
Blockly.WorkspaceComment.parseAttributes=function(a){var b=a.getAttribute("h"),c=a.getAttribute("w");return{id:a.getAttribute("id"),h:b?parseInt(b,10):100,w:c?parseInt(c,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};Blockly.Workspace=function(a){this.id=Blockly.utils.genUid();Blockly.Workspace.WorkspaceDB_[this.id]=this;this.options=a||{};this.RTL=!!this.options.RTL;this.horizontalLayout=!!this.options.horizontalLayout;this.toolboxPosition=this.options.toolboxPosition;this.topBlocks_=[];this.topComments_=[];this.commentDB_=Object.create(null);this.listeners_=[];this.undoStack_=[];this.redoStack_=[];this.blockDB_=Object.create(null);this.variableMap_=new Blockly.VariableMap(this);this.potentialVariableMap_=null};
Blockly.Workspace.prototype.rendered=!1;Blockly.Workspace.prototype.isClearing=!1;Blockly.Workspace.prototype.MAX_UNDO=1024;Blockly.Workspace.prototype.dispose=function(){this.listeners_.length=0;this.clear();delete Blockly.Workspace.WorkspaceDB_[this.id]};Blockly.Workspace.SCAN_ANGLE=3;Blockly.Workspace.prototype.addTopBlock=function(a){this.topBlocks_.push(a)};
Blockly.Workspace.prototype.removeTopBlock=function(a){if(!Blockly.utils.arrayRemove(this.topBlocks_,a))throw Error("Block not present in workspace's list of top-most blocks.");};Blockly.Workspace.prototype.getTopBlocks=function(a){var b=[].concat(this.topBlocks_);if(a&&1<b.length){var c=Math.sin(Blockly.utils.toRadians(Blockly.Workspace.SCAN_ANGLE));this.RTL&&(c*=-1);b.sort(function(a,b){a=a.getRelativeToSurfaceXY();b=b.getRelativeToSurfaceXY();return a.y+c*a.x-(b.y+c*b.x)})}return b};
Blockly.Workspace.prototype.addTopComment=function(a){this.topComments_.push(a);this.commentDB_[a.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+a.id+'"');this.commentDB_[a.id]=a};Blockly.Workspace.prototype.removeTopComment=function(a){if(!Blockly.utils.arrayRemove(this.topComments_,a))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[a.id]};
Blockly.Workspace.prototype.getTopComments=function(a){var b=[].concat(this.topComments_);if(a&&1<b.length){var c=Math.sin(Blockly.utils.toRadians(Blockly.Workspace.SCAN_ANGLE));this.RTL&&(c*=-1);b.sort(function(a,b){a=a.getRelativeToSurfaceXY();b=b.getRelativeToSurfaceXY();return a.y+c*a.x-(b.y+c*b.x)})}return b};
Blockly.Workspace.prototype.getAllBlocks=function(a){if(a){a=this.getTopBlocks(!0);for(var b=[],c=0;c<a.length;c++)b.push.apply(b,a[c].getDescendants(!0))}else for(b=this.getTopBlocks(!1),c=0;c<b.length;c++)b.push.apply(b,b[c].getChildren(!1));return b};
Blockly.Workspace.prototype.clear=function(){this.isClearing=!0;try{var a=Blockly.Events.getGroup();for(a||Blockly.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose();for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose();a||Blockly.Events.setGroup(!1);this.variableMap_.clear();this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}};
Blockly.Workspace.prototype.renameVariableById=function(a,b){this.variableMap_.renameVariableById(a,b)};Blockly.Workspace.prototype.createVariable=function(a,b,c){return this.variableMap_.createVariable(a,b,c)};Blockly.Workspace.prototype.getVariableUsesById=function(a){return this.variableMap_.getVariableUsesById(a)};Blockly.Workspace.prototype.deleteVariableById=function(a){this.variableMap_.deleteVariableById(a)};
Blockly.Workspace.prototype.deleteVariableInternal_=function(a,b){this.variableMap_.deleteVariableInternal_(a,b)};Blockly.Workspace.prototype.variableIndexOf=function(a){console.warn("Deprecated call to Blockly.Workspace.prototype.variableIndexOf");return-1};Blockly.Workspace.prototype.getVariable=function(a,b){return this.variableMap_.getVariable(a,b)};Blockly.Workspace.prototype.getVariableById=function(a){return this.variableMap_.getVariableById(a)};
Blockly.Workspace.prototype.getVariablesOfType=function(a){return this.variableMap_.getVariablesOfType(a)};Blockly.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes()};Blockly.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()};Blockly.Workspace.prototype.getWidth=function(){return 0};Blockly.Workspace.prototype.newBlock=function(a,b){return new Blockly.Block(this,a,b)};
Blockly.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?Infinity:this.options.maxBlocks-this.getAllBlocks().length};
Blockly.Workspace.prototype.undo=function(a){var b=a?this.redoStack_:this.undoStack_,c=a?this.undoStack_:this.redoStack_,d=b.pop();if(d){for(var e=[d];b.length&&d.group&&d.group==b[b.length-1].group;)e.push(b.pop());for(b=0;d=e[b];b++)c.push(d);e=Blockly.Events.filter(e,a);Blockly.Events.recordUndo=!1;try{for(b=0;d=e[b];b++)d.run(a)}finally{Blockly.Events.recordUndo=!0}}};Blockly.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0;this.redoStack_.length=0;Blockly.Events.clearPendingUndo()};
Blockly.Workspace.prototype.addChangeListener=function(a){this.listeners_.push(a);return a};Blockly.Workspace.prototype.removeChangeListener=function(a){Blockly.utils.arrayRemove(this.listeners_,a)};Blockly.Workspace.prototype.fireChangeListener=function(a){if(a.recordUndo)for(this.undoStack_.push(a),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var b=0,c;c=this.listeners_[b];b++)c(a)};
Blockly.Workspace.prototype.getBlockById=function(a){return this.blockDB_[a]||null};Blockly.Workspace.prototype.getCommentById=function(a){return this.commentDB_[a]||null};Blockly.Workspace.prototype.allInputsFilled=function(a){for(var b=this.getTopBlocks(!1),c=0,d;d=b[c];c++)if(!d.allInputsFilled(a))return!1;return!0};Blockly.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_};
Blockly.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new Blockly.VariableMap(this)};Blockly.Workspace.prototype.getVariableMap=function(){return this.variableMap_};Blockly.Workspace.WorkspaceDB_=Object.create(null);Blockly.Workspace.getById=function(a){return Blockly.Workspace.WorkspaceDB_[a]||null};Blockly.Workspace.prototype.clear=Blockly.Workspace.prototype.clear;Blockly.Workspace.prototype.clearUndo=Blockly.Workspace.prototype.clearUndo;
Blockly.Workspace.prototype.addChangeListener=Blockly.Workspace.prototype.addChangeListener;Blockly.Workspace.prototype.removeChangeListener=Blockly.Workspace.prototype.removeChangeListener;Blockly.Bubble=function(a,b,c,d,e,f){this.workspace_=a;this.content_=b;this.shape_=c;c=Blockly.Bubble.ARROW_ANGLE;this.workspace_.RTL&&(c=-c);this.arrow_radians_=Blockly.utils.toRadians(c);a.getBubbleCanvas().appendChild(this.createDom_(b,!(!e||!f)));this.setAnchorLocation(d);e&&f||(b=this.content_.getBBox(),e=b.width+2*Blockly.Bubble.BORDER_WIDTH,f=b.height+2*Blockly.Bubble.BORDER_WIDTH);this.setBubbleSize(e,f);this.positionBubble_();this.renderArrow_();this.rendered_=!0;a.options.readOnly||(Blockly.bindEventWithChecks_(this.bubbleBack_,
"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&Blockly.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))};Blockly.Bubble.BORDER_WIDTH=6;Blockly.Bubble.ARROW_THICKNESS=5;Blockly.Bubble.ARROW_ANGLE=20;Blockly.Bubble.ARROW_BEND=4;Blockly.Bubble.ANCHOR_RADIUS=8;Blockly.Bubble.onMouseUpWrapper_=null;Blockly.Bubble.onMouseMoveWrapper_=null;Blockly.Bubble.prototype.resizeCallback_=null;
Blockly.Bubble.unbindDragEvents_=function(){Blockly.Bubble.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseUpWrapper_),Blockly.Bubble.onMouseUpWrapper_=null);Blockly.Bubble.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseMoveWrapper_),Blockly.Bubble.onMouseMoveWrapper_=null)};Blockly.Bubble.bubbleMouseUp_=function(){Blockly.Touch.clearTouchIdentifier();Blockly.Bubble.unbindDragEvents_()};Blockly.Bubble.prototype.rendered_=!1;Blockly.Bubble.prototype.anchorXY_=null;
Blockly.Bubble.prototype.relativeLeft_=0;Blockly.Bubble.prototype.relativeTop_=0;Blockly.Bubble.prototype.width_=0;Blockly.Bubble.prototype.height_=0;Blockly.Bubble.prototype.autoLayout_=!0;
Blockly.Bubble.prototype.createDom_=function(a,b){this.bubbleGroup_=Blockly.utils.createSvgElement("g",{},null);var c={filter:"url(#"+this.workspace_.options.embossFilterId+")"};-1!=goog.userAgent.getUserAgentString().indexOf("JavaFX")&&(c={});c=Blockly.utils.createSvgElement("g",c,this.bubbleGroup_);this.bubbleArrow_=Blockly.utils.createSvgElement("path",{},c);this.bubbleBack_=Blockly.utils.createSvgElement("rect",{"class":"blocklyDraggable",x:0,y:0,rx:Blockly.Bubble.BORDER_WIDTH,ry:Blockly.Bubble.BORDER_WIDTH},
c);b?(this.resizeGroup_=Blockly.utils.createSvgElement("g",{"class":this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),b=2*Blockly.Bubble.BORDER_WIDTH,Blockly.utils.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.resizeGroup_),Blockly.utils.createSvgElement("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.resizeGroup_),Blockly.utils.createSvgElement("line",{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},
this.resizeGroup_)):this.resizeGroup_=null;this.bubbleGroup_.appendChild(a);return this.bubbleGroup_};Blockly.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_};Blockly.Bubble.prototype.setSvgId=function(a){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=a)};Blockly.Bubble.prototype.bubbleMouseDown_=function(a){var b=this.workspace_.getGesture(a);b&&b.handleBubbleStart(a,this)};Blockly.Bubble.prototype.showContextMenu_=function(a){};
Blockly.Bubble.prototype.isDeletable=function(){return!1};
Blockly.Bubble.prototype.resizeMouseDown_=function(a){this.promote_();Blockly.Bubble.unbindDragEvents_();Blockly.utils.isRightButton(a)||(this.workspace_.startDrag(a,new goog.math.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,Blockly.Bubble.bubbleMouseUp_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.resizeMouseMove_),Blockly.hideChaff());
a.stopPropagation()};Blockly.Bubble.prototype.resizeMouseMove_=function(a){this.autoLayout_=!1;a=this.workspace_.moveDrag(a);this.setBubbleSize(this.workspace_.RTL?-a.x:a.x,a.y);this.workspace_.RTL&&this.positionBubble_()};Blockly.Bubble.prototype.registerResizeEvent=function(a){this.resizeCallback_=a};Blockly.Bubble.prototype.promote_=function(){var a=this.bubbleGroup_.parentNode;return a.lastChild!==this.bubbleGroup_?(a.appendChild(this.bubbleGroup_),!0):!1};
Blockly.Bubble.prototype.setAnchorLocation=function(a){this.anchorXY_=a;this.rendered_&&this.positionBubble_()};
Blockly.Bubble.prototype.layoutBubble_=function(){var a=-this.width_/4,b=-this.height_-Blockly.BlockSvg.MIN_BLOCK_Y,c=this.workspace_.getMetrics();c.viewWidth/=this.workspace_.scale;c.viewLeft/=this.workspace_.scale;var d=this.anchorXY_.x;this.workspace_.RTL?d-c.viewLeft-a-this.width_<Blockly.Scrollbar.scrollbarThickness?a=d-c.viewLeft-this.width_-Blockly.Scrollbar.scrollbarThickness:d-c.viewLeft-a>c.viewWidth&&(a=d-c.viewLeft-c.viewWidth):d+a<c.viewLeft?a=c.viewLeft-d:c.viewLeft+c.viewWidth<d+a+
this.width_+Blockly.BlockSvg.SEP_SPACE_X+Blockly.Scrollbar.scrollbarThickness&&(a=c.viewLeft+c.viewWidth-d-this.width_-Blockly.Scrollbar.scrollbarThickness);this.anchorXY_.y+b<c.viewTop&&(b=this.shape_.getBBox().height);this.relativeLeft_=a;this.relativeTop_=b};Blockly.Bubble.prototype.positionBubble_=function(){var a=this.anchorXY_.x;a=this.workspace_.RTL?a-(this.relativeLeft_+this.width_):a+this.relativeLeft_;this.moveTo(a,this.relativeTop_+this.anchorXY_.y)};
Blockly.Bubble.prototype.moveTo=function(a,b){this.bubbleGroup_.setAttribute("transform","translate("+a+","+b+")")};Blockly.Bubble.prototype.getBubbleSize=function(){return{width:this.width_,height:this.height_}};
Blockly.Bubble.prototype.setBubbleSize=function(a,b){var c=2*Blockly.Bubble.BORDER_WIDTH;a=Math.max(a,c+45);b=Math.max(b,c+20);this.width_=a;this.height_=b;this.bubbleBack_.setAttribute("width",a);this.bubbleBack_.setAttribute("height",b);this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*Blockly.Bubble.BORDER_WIDTH+","+(b-c)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));this.rendered_&&(this.autoLayout_&&
this.layoutBubble_(),this.positionBubble_(),this.renderArrow_());this.resizeCallback_&&this.resizeCallback_()};
Blockly.Bubble.prototype.renderArrow_=function(){var a=[],b=this.width_/2,c=this.height_/2,d=-this.relativeLeft_,e=-this.relativeTop_;if(b==d&&c==e)a.push("M "+b+","+c);else{e-=c;d-=b;this.workspace_.RTL&&(d*=-1);var f=Math.sqrt(e*e+d*d),h=Math.acos(d/f);0>e&&(h=2*Math.PI-h);var g=h+Math.PI/2;g>2*Math.PI&&(g-=2*Math.PI);var k=Math.sin(g),p=Math.cos(g),l=this.getBubbleSize();g=(l.width+l.height)/Blockly.Bubble.ARROW_THICKNESS;g=Math.min(g,l.width,l.height)/4;l=1-Blockly.Bubble.ANCHOR_RADIUS/f;d=b+
l*d;e=c+l*e;l=b+g*p;var m=c+g*k;b-=g*p;c-=g*k;k=h+this.arrow_radians_;k>2*Math.PI&&(k-=2*Math.PI);h=Math.sin(k)*f/Blockly.Bubble.ARROW_BEND;f=Math.cos(k)*f/Blockly.Bubble.ARROW_BEND;a.push("M"+l+","+m);a.push("C"+(l+f)+","+(m+h)+" "+d+","+e+" "+d+","+e);a.push("C"+d+","+e+" "+(b+f)+","+(c+h)+" "+b+","+c)}a.push("z");this.bubbleArrow_.setAttribute("d",a.join(" "))};Blockly.Bubble.prototype.setColour=function(a){this.bubbleBack_.setAttribute("fill",a);this.bubbleArrow_.setAttribute("fill",a)};
Blockly.Bubble.prototype.dispose=function(){Blockly.Bubble.unbindDragEvents_();Blockly.utils.removeNode(this.bubbleGroup_);this.shape_=this.content_=this.workspace_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null};Blockly.Bubble.prototype.moveDuringDrag=function(a,b){a?a.translateSurface(b.x,b.y):this.moveTo(b.x,b.y);this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-b.x-this.width_:b.x-this.anchorXY_.x;this.relativeTop_=b.y-this.anchorXY_.y;this.renderArrow_()};
Blockly.Bubble.prototype.getRelativeToSurfaceXY=function(){return new goog.math.Coordinate(this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)};Blockly.Bubble.prototype.setAutoLayout=function(a){this.autoLayout_=a};Blockly.Events.Ui=function(a,b,c,d){Blockly.Events.Ui.superClass_.constructor.call(this);this.blockId=a?a.id:null;this.workspaceId=a?a.workspace.id:null;this.element=b;this.oldValue=c;this.newValue=d;this.recordUndo=!1};goog.inherits(Blockly.Events.Ui,Blockly.Events.Abstract);Blockly.Events.Ui.prototype.type=Blockly.Events.UI;
Blockly.Events.Ui.prototype.toJson=function(){var a=Blockly.Events.Ui.superClass_.toJson.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.blockId&&(a.blockId=this.blockId);return a};Blockly.Events.Ui.prototype.fromJson=function(a){Blockly.Events.Ui.superClass_.fromJson.call(this,a);this.element=a.element;this.newValue=a.newValue;this.blockId=a.blockId};Blockly.Icon=function(a){this.block_=a};Blockly.Icon.prototype.collapseHidden=!0;Blockly.Icon.prototype.SIZE=17;Blockly.Icon.prototype.bubble_=null;Blockly.Icon.prototype.iconXY_=null;
Blockly.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=Blockly.utils.createSvgElement("g",{"class":"blocklyIconGroup"},null),this.block_.isInFlyout&&Blockly.utils.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),Blockly.bindEventWithChecks_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())};
Blockly.Icon.prototype.dispose=function(){Blockly.utils.removeNode(this.iconGroup_);this.iconGroup_=null;this.setVisible(!1);this.block_=null};Blockly.Icon.prototype.updateEditable=function(){};Blockly.Icon.prototype.isVisible=function(){return!!this.bubble_};Blockly.Icon.prototype.iconClick_=function(a){this.block_.workspace.isDragging()||this.block_.isInFlyout||Blockly.utils.isRightButton(a)||this.setVisible(!this.isVisible())};Blockly.Icon.prototype.updateColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.getColour())};
Blockly.Icon.prototype.renderIcon=function(a){if(this.collapseHidden&&this.block_.isCollapsed())return this.iconGroup_.setAttribute("display","none"),a;this.iconGroup_.setAttribute("display","block");var b=this.SIZE;this.block_.RTL&&(a-=b);this.iconGroup_.setAttribute("transform","translate("+a+",5)");this.computeIconLocation();return a=this.block_.RTL?a-Blockly.BlockSvg.SEP_SPACE_X:a+(b+Blockly.BlockSvg.SEP_SPACE_X)};
Blockly.Icon.prototype.setIconLocation=function(a){this.iconXY_=a;this.isVisible()&&this.bubble_.setAnchorLocation(a)};Blockly.Icon.prototype.computeIconLocation=function(){var a=this.block_.getRelativeToSurfaceXY(),b=Blockly.utils.getRelativeXY(this.iconGroup_);a=new goog.math.Coordinate(a.x+b.x+this.SIZE/2,a.y+b.y+this.SIZE/2);goog.math.Coordinate.equals(this.getIconLocation(),a)||this.setIconLocation(a)};Blockly.Icon.prototype.getIconLocation=function(){return this.iconXY_};/*

 Visual Blocks Editor

 Copyright 2011 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.Comment=function(a){Blockly.Comment.superClass_.constructor.call(this,a);this.createIcon()};goog.inherits(Blockly.Comment,Blockly.Icon);Blockly.Comment.prototype.text_="";Blockly.Comment.prototype.width_=160;Blockly.Comment.prototype.height_=80;
Blockly.Comment.prototype.drawIcon_=function(a){Blockly.utils.createSvgElement("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);Blockly.utils.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);Blockly.utils.createSvgElement("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
Blockly.Comment.prototype.createEditor_=function(){this.foreignObject_=Blockly.utils.createSvgElement("foreignObject",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null);var a=document.createElementNS(Blockly.HTML_NS,"body");a.setAttribute("xmlns",Blockly.HTML_NS);a.className="blocklyMinimalBody";var b=document.createElementNS(Blockly.HTML_NS,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.block_.RTL?"RTL":"LTR");a.appendChild(b);this.textarea_=b;this.foreignObject_.appendChild(a);
Blockly.bindEventWithChecks_(b,"mouseup",this,this.textareaFocus_,!0,!0);Blockly.bindEventWithChecks_(b,"wheel",this,function(a){a.stopPropagation()});Blockly.bindEventWithChecks_(b,"change",this,function(a){this.text_!=b.value&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this.block_,"comment",null,this.text_,b.value)),this.text_=b.value)});setTimeout(function(){b.focus()},0);return this.foreignObject_};
Blockly.Comment.prototype.updateEditable=function(){this.isVisible()&&(this.setVisible(!1),this.setVisible(!0));Blockly.Icon.prototype.updateEditable.call(this)};Blockly.Comment.prototype.resizeBubble_=function(){if(this.isVisible()){var a=this.bubble_.getBubbleSize(),b=2*Blockly.Bubble.BORDER_WIDTH;this.foreignObject_.setAttribute("width",a.width-b);this.foreignObject_.setAttribute("height",a.height-b);this.textarea_.style.width=a.width-b-4+"px";this.textarea_.style.height=a.height-b-4+"px"}};
Blockly.Comment.prototype.setVisible=function(a){if(a!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"commentOpen",!a,a)),!this.block_.isEditable()&&!this.textarea_||goog.userAgent.IE)Blockly.Warning.prototype.setVisible.call(this,a);else{var b=this.getText(),c=this.getBubbleSize();a?(this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,this.width_,this.height_),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.resizeBubble_.bind(this)),
this.updateColour()):(this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null);this.setText(b);this.setBubbleSize(c.width,c.height)}};Blockly.Comment.prototype.textareaFocus_=function(a){this.bubble_.promote_()&&this.textarea_.focus()};Blockly.Comment.prototype.getBubbleSize=function(){return this.isVisible()?this.bubble_.getBubbleSize():{width:this.width_,height:this.height_}};
Blockly.Comment.prototype.setBubbleSize=function(a,b){this.textarea_?this.bubble_.setBubbleSize(a,b):(this.width_=a,this.height_=b)};Blockly.Comment.prototype.getText=function(){return this.textarea_?this.textarea_.value:this.text_};Blockly.Comment.prototype.setText=function(a){this.text_!=a&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this.block_,"comment",null,this.text_,a)),this.text_=a);this.textarea_&&(this.textarea_.value=a)};
Blockly.Comment.prototype.dispose=function(){Blockly.Events.isEnabled()&&this.setText("");this.block_.comment=null;Blockly.Icon.prototype.dispose.call(this)};Blockly.Connection=function(a,b){this.sourceBlock_=a;this.type=b;a.workspace.connectionDBList&&(this.db_=a.workspace.connectionDBList[b],this.dbOpposite_=a.workspace.connectionDBList[Blockly.OPPOSITE_TYPE[b]],this.hidden_=!this.db_)};Blockly.Connection.CAN_CONNECT=0;Blockly.Connection.REASON_SELF_CONNECTION=1;Blockly.Connection.REASON_WRONG_TYPE=2;Blockly.Connection.REASON_TARGET_NULL=3;Blockly.Connection.REASON_CHECKS_FAILED=4;Blockly.Connection.REASON_DIFFERENT_WORKSPACES=5;
Blockly.Connection.REASON_SHADOW_PARENT=6;Blockly.Connection.prototype.targetConnection=null;Blockly.Connection.prototype.check_=null;Blockly.Connection.prototype.shadowDom_=null;Blockly.Connection.prototype.x_=0;Blockly.Connection.prototype.y_=0;Blockly.Connection.prototype.inDB_=!1;Blockly.Connection.prototype.db_=null;Blockly.Connection.prototype.dbOpposite_=null;Blockly.Connection.prototype.hidden_=null;
Blockly.Connection.prototype.connect_=function(a){var b=this,c=b.getSourceBlock(),d=a.getSourceBlock();a.isConnected()&&a.disconnect();if(b.isConnected()){var e=b.targetBlock(),f=b.getShadowDom();b.setShadowDom(null);if(e.isShadow())f=Blockly.Xml.blockToDom(e),e.dispose(),e=null;else if(b.type==Blockly.INPUT_VALUE){if(!e.outputConnection)throw Error("Orphan block does not have an output connection.");var h=Blockly.Connection.lastConnectionInRow_(d,e);h&&(e.outputConnection.connect(h),e=null)}else if(b.type==
Blockly.NEXT_STATEMENT){if(!e.previousConnection)throw Error("Orphan block does not have a previous connection.");for(h=d;h.nextConnection;){var g=h.getNextBlock();if(g&&!g.isShadow())h=g;else{e.previousConnection.checkType_(h.nextConnection)&&(h.nextConnection.connect(e.previousConnection),e=null);break}}}if(e&&(b.disconnect(),Blockly.Events.recordUndo)){var k=Blockly.Events.getGroup();setTimeout(function(){e.workspace&&!e.getParent()&&(Blockly.Events.setGroup(k),e.outputConnection?e.outputConnection.bumpAwayFrom_(b):
e.previousConnection&&e.previousConnection.bumpAwayFrom_(b),Blockly.Events.setGroup(!1))},Blockly.BUMP_DELAY)}b.setShadowDom(f)}var p;Blockly.Events.isEnabled()&&(p=new Blockly.Events.BlockMove(d));Blockly.Connection.connectReciprocally_(b,a);d.setParent(c);p&&(p.recordNew(),Blockly.Events.fire(p))};
Blockly.Connection.prototype.dispose=function(){if(this.isConnected())throw Error("Disconnect connection before disposing of it.");this.inDB_&&this.db_.removeConnection_(this);this.dbOpposite_=this.db_=null};Blockly.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_};Blockly.Connection.prototype.isSuperior=function(){return this.type==Blockly.INPUT_VALUE||this.type==Blockly.NEXT_STATEMENT};Blockly.Connection.prototype.isConnected=function(){return!!this.targetConnection};
Blockly.Connection.prototype.canConnectWithReason_=function(a){if(!a)return Blockly.Connection.REASON_TARGET_NULL;if(this.isSuperior())var b=this.sourceBlock_,c=a.getSourceBlock();else c=this.sourceBlock_,b=a.getSourceBlock();return b&&b==c?Blockly.Connection.REASON_SELF_CONNECTION:a.type!=Blockly.OPPOSITE_TYPE[this.type]?Blockly.Connection.REASON_WRONG_TYPE:b&&c&&b.workspace!==c.workspace?Blockly.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType_(a)?b.isShadow()&&!c.isShadow()?Blockly.Connection.REASON_SHADOW_PARENT:
Blockly.Connection.CAN_CONNECT:Blockly.Connection.REASON_CHECKS_FAILED};
Blockly.Connection.prototype.checkConnection_=function(a){switch(this.canConnectWithReason_(a)){case Blockly.Connection.CAN_CONNECT:break;case Blockly.Connection.REASON_SELF_CONNECTION:throw Error("Attempted to connect a block to itself.");case Blockly.Connection.REASON_DIFFERENT_WORKSPACES:throw Error("Blocks not on same workspace.");case Blockly.Connection.REASON_WRONG_TYPE:throw Error("Attempt to connect incompatible types.");case Blockly.Connection.REASON_TARGET_NULL:throw Error("Target connection is null.");
case Blockly.Connection.REASON_CHECKS_FAILED:throw Error("Connection checks failed. "+(this+" expected "+this.check_+", found "+a.check_));case Blockly.Connection.REASON_SHADOW_PARENT:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");}};
Blockly.Connection.prototype.isConnectionAllowed=function(a){if(this.canConnectWithReason_(a)!=Blockly.Connection.CAN_CONNECT)return!1;switch(a.type){case Blockly.PREVIOUS_STATEMENT:if(a.isConnected()||this.isConnected())return!1;break;case Blockly.OUTPUT_VALUE:if(a.isConnected()||this.isConnected())return!1;break;case Blockly.INPUT_VALUE:if(a.targetConnection&&!a.targetBlock().isMovable()&&!a.targetBlock().isShadow())return!1;break;case Blockly.NEXT_STATEMENT:if(a.isConnected()&&!this.sourceBlock_.nextConnection&&
!a.targetBlock().isShadow()&&a.targetBlock().nextConnection)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=Blockly.draggingConnections_.indexOf(a)?!1:!0};Blockly.Connection.prototype.connect=function(a){this.targetConnection!=a&&(this.checkConnection_(a),this.isSuperior()?this.connect_(a):a.connect_(this))};
Blockly.Connection.connectReciprocally_=function(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.targetConnection=b;b.targetConnection=a};Blockly.Connection.singleConnection_=function(a,b){for(var c=!1,d=0;d<a.inputList.length;d++){var e=a.inputList[d].connection;if(e&&e.type==Blockly.INPUT_VALUE&&b.outputConnection.checkType_(e)){if(c)return null;c=e}}return c};
Blockly.Connection.lastConnectionInRow_=function(a,b){for(var c;c=Blockly.Connection.singleConnection_(a,b);)if(a=c.targetBlock(),!a||a.isShadow())return c;return null};
Blockly.Connection.prototype.disconnect=function(){var a=this.targetConnection;if(!a)throw Error("Source connection not connected.");if(a.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var b=this.sourceBlock_;var c=a.getSourceBlock();a=this}else b=a.getSourceBlock(),c=this.sourceBlock_;this.disconnectInternal_(b,c);a.respawnShadow_()};
Blockly.Connection.prototype.disconnectInternal_=function(a,b){var c;Blockly.Events.isEnabled()&&(c=new Blockly.Events.BlockMove(b));this.targetConnection=this.targetConnection.targetConnection=null;b.setParent(null);c&&(c.recordNew(),Blockly.Events.fire(c))};
Blockly.Connection.prototype.respawnShadow_=function(){var a=this.getSourceBlock(),b=this.getShadowDom();if(a.workspace&&b&&Blockly.Events.recordUndo)if(a=Blockly.Xml.domToBlock(b,a.workspace),a.outputConnection)this.connect(a.outputConnection);else if(a.previousConnection)this.connect(a.previousConnection);else throw Error("Child block does not have output or previous statement.");};
Blockly.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null};Blockly.Connection.prototype.checkType_=function(a){if(!this.check_||!a.check_)return!0;for(var b=0;b<this.check_.length;b++)if(-1!=a.check_.indexOf(this.check_[b]))return!0;return!1};Blockly.Connection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()};
Blockly.Connection.prototype.setCheck=function(a){a?(Array.isArray(a)||(a=[a]),this.check_=a,this.onCheckChanged_()):this.check_=null;return this};Blockly.Connection.prototype.getCheck=function(){return this.check_};Blockly.Connection.prototype.setShadowDom=function(a){this.shadowDom_=a};Blockly.Connection.prototype.getShadowDom=function(){return this.shadowDom_};Blockly.Connection.prototype.neighbours_=function(){return[]};
Blockly.Connection.prototype.toString=function(){var a=this.sourceBlock_;if(a)if(a.outputConnection==this)var b="Output Connection of ";else if(a.previousConnection==this)b="Previous Connection of ";else if(a.nextConnection==this)b="Next Connection of ";else{b=null;for(var c=0,d;d=a.inputList[c];c++)if(d.connection==this){b=d;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";
return b+a.toDevString()};Blockly.ConnectionDB=function(){};Blockly.ConnectionDB.prototype=[];Blockly.ConnectionDB.constructor=Blockly.ConnectionDB;Blockly.ConnectionDB.prototype.addConnection=function(a){if(a.inDB_)throw Error("Connection already in database.");if(!a.getSourceBlock().isInFlyout){var b=this.findPositionForConnection_(a);this.splice(b,0,a);a.inDB_=!0}};
Blockly.ConnectionDB.prototype.findConnection=function(a){if(!this.length)return-1;var b=this.findPositionForConnection_(a);if(b>=this.length)return-1;for(var c=a.y_,d=b;0<=d&&this[d].y_==c;){if(this[d]==a)return d;d--}for(;b<this.length&&this[b].y_==c;){if(this[b]==a)return b;b++}return-1};
Blockly.ConnectionDB.prototype.findPositionForConnection_=function(a){if(!this.length)return 0;for(var b=0,c=this.length;b<c;){var d=Math.floor((b+c)/2);if(this[d].y_<a.y_)b=d+1;else if(this[d].y_>a.y_)c=d;else{b=d;break}}return b};Blockly.ConnectionDB.prototype.removeConnection_=function(a){if(!a.inDB_)throw Error("Connection not in database.");var b=this.findConnection(a);if(-1==b)throw Error("Unable to find connection in connectionDB.");a.inDB_=!1;this.splice(b,1)};
Blockly.ConnectionDB.prototype.getNeighbours=function(a,b){function c(a){var c=e-d[a].x_,g=f-d[a].y_;Math.sqrt(c*c+g*g)<=b&&k.push(d[a]);return g<b}var d=this,e=a.x_,f=a.y_;a=0;for(var h=d.length-2,g=h;a<g;)d[g].y_<f?a=g:h=g,g=Math.floor((a+h)/2);var k=[];h=a=g;if(d.length){for(;0<=a&&c(a);)a--;do h++;while(h<d.length&&c(h))}return k};Blockly.ConnectionDB.prototype.isInYRange_=function(a,b,c){return Math.abs(this[a].y_-b)<=c};
Blockly.ConnectionDB.prototype.searchForClosest=function(a,b,c){if(!this.length)return{connection:null,radius:b};var d=a.y_,e=a.x_;a.x_=e+c.x;a.y_=d+c.y;var f=this.findPositionForConnection_(a);c=null;for(var h=b,g,k=f-1;0<=k&&this.isInYRange_(k,a.y_,b);)g=this[k],a.isConnectionAllowed(g,h)&&(c=g,h=g.distanceFrom(a)),k--;for(;f<this.length&&this.isInYRange_(f,a.y_,b);)g=this[f],a.isConnectionAllowed(g,h)&&(c=g,h=g.distanceFrom(a)),f++;a.x_=e;a.y_=d;return{connection:c,radius:h}};
Blockly.ConnectionDB.init=function(a){var b=[];b[Blockly.INPUT_VALUE]=new Blockly.ConnectionDB;b[Blockly.OUTPUT_VALUE]=new Blockly.ConnectionDB;b[Blockly.NEXT_STATEMENT]=new Blockly.ConnectionDB;b[Blockly.PREVIOUS_STATEMENT]=new Blockly.ConnectionDB;a.connectionDBList=b};Blockly.constants={};Blockly.DRAG_RADIUS=5;Blockly.FLYOUT_DRAG_RADIUS=10;Blockly.SNAP_RADIUS=20;Blockly.BUMP_DELAY=250;Blockly.COLLAPSE_CHARS=30;Blockly.LONGPRESS=750;Blockly.SOUND_LIMIT=100;Blockly.DRAG_STACK=!0;Blockly.HSV_SATURATION=.45;Blockly.HSV_VALUE=.65;Blockly.SPRITE={width:96,height:124,url:"sprites.png"};Blockly.SVG_NS="http://www.w3.org/2000/svg";Blockly.HTML_NS="http://www.w3.org/1999/xhtml";Blockly.INPUT_VALUE=1;Blockly.OUTPUT_VALUE=2;Blockly.NEXT_STATEMENT=3;
Blockly.PREVIOUS_STATEMENT=4;Blockly.DUMMY_INPUT=5;Blockly.ALIGN_LEFT=-1;Blockly.ALIGN_CENTRE=0;Blockly.ALIGN_RIGHT=1;Blockly.DRAG_NONE=0;Blockly.DRAG_STICKY=1;Blockly.DRAG_BEGIN=1;Blockly.DRAG_FREE=2;Blockly.OPPOSITE_TYPE=[];Blockly.OPPOSITE_TYPE[Blockly.INPUT_VALUE]=Blockly.OUTPUT_VALUE;Blockly.OPPOSITE_TYPE[Blockly.OUTPUT_VALUE]=Blockly.INPUT_VALUE;Blockly.OPPOSITE_TYPE[Blockly.NEXT_STATEMENT]=Blockly.PREVIOUS_STATEMENT;Blockly.OPPOSITE_TYPE[Blockly.PREVIOUS_STATEMENT]=Blockly.NEXT_STATEMENT;
Blockly.TOOLBOX_AT_TOP=0;Blockly.TOOLBOX_AT_BOTTOM=1;Blockly.TOOLBOX_AT_LEFT=2;Blockly.TOOLBOX_AT_RIGHT=3;Blockly.DELETE_AREA_NONE=null;Blockly.DELETE_AREA_TRASH=1;Blockly.DELETE_AREA_TOOLBOX=2;Blockly.VARIABLE_CATEGORY_NAME="VARIABLE";Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC";Blockly.PROCEDURE_CATEGORY_NAME="PROCEDURE";Blockly.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID";Blockly.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID";Blockly.BlockAnimations={};Blockly.BlockAnimations.disconnectPid_=0;Blockly.BlockAnimations.disconnectGroup_=null;Blockly.BlockAnimations.disposeUiEffect=function(a){var b=a.workspace,c=a.getSvgRoot();b.getAudioManager().play("delete");a=b.getSvgXY(c);c=c.cloneNode(!0);c.translateX_=a.x;c.translateY_=a.y;c.setAttribute("transform","translate("+a.x+","+a.y+")");b.getParentSvg().appendChild(c);c.bBox_=c.getBBox();Blockly.BlockAnimations.disposeUiStep_(c,b.RTL,new Date,b.scale)};
Blockly.BlockAnimations.disposeUiStep_=function(a,b,c,d){var e=(new Date-c)/150;1<e?Blockly.utils.removeNode(a):(a.setAttribute("transform","translate("+(a.translateX_+(b?-1:1)*a.bBox_.width*d/2*e)+","+(a.translateY_+a.bBox_.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(Blockly.BlockAnimations.disposeUiStep_,10,a,b,c,d))};
Blockly.BlockAnimations.connectionUiEffect=function(a){var b=a.workspace,c=b.scale;b.getAudioManager().play("click");if(!(1>c)){var d=b.getSvgXY(a.getSvgRoot());a.outputConnection?(d.x+=(a.RTL?3:-3)*c,d.y+=13*c):a.previousConnection&&(d.x+=(a.RTL?-23:23)*c,d.y+=3*c);a=Blockly.utils.createSvgElement("circle",{cx:d.x,cy:d.y,r:0,fill:"none",stroke:"#888","stroke-width":10},b.getParentSvg());Blockly.BlockAnimations.connectionUiStep_(a,new Date,c)}};
Blockly.BlockAnimations.connectionUiStep_=function(a,b,c){var d=(new Date-b)/150;1<d?Blockly.utils.removeNode(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,Blockly.BlockAnimations.disconnectPid_=setTimeout(Blockly.BlockAnimations.connectionUiStep_,10,a,b,c))};
Blockly.BlockAnimations.disconnectUiEffect=function(a){a.workspace.getAudioManager().play("disconnect");if(!(1>a.workspace.scale)){var b=a.getHeightWidth().height;b=Math.atan(10/b)/Math.PI*180;a.RTL||(b*=-1);Blockly.BlockAnimations.disconnectUiStep_(a.getSvgRoot(),b,new Date)}};
Blockly.BlockAnimations.disconnectUiStep_=function(a,b,c){var d=(new Date-c)/200;1<d?a.skew_="":(a.skew_="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",Blockly.BlockAnimations.disconnectGroup_=a,Blockly.BlockAnimations.disconnectPid_=setTimeout(Blockly.BlockAnimations.disconnectUiStep_,10,a,b,c));a.setAttribute("transform",a.translate_+a.skew_)};
Blockly.BlockAnimations.disconnectUiStop=function(){if(Blockly.BlockAnimations.disconnectGroup_){clearTimeout(Blockly.BlockAnimations.disconnectPid_);var a=Blockly.BlockAnimations.disconnectGroup_;a.skew_="";a.setAttribute("transform",a.translate_);Blockly.BlockAnimations.disconnectGroup_=null}};Blockly.RenderedConnection=function(a,b){Blockly.RenderedConnection.superClass_.constructor.call(this,a,b);this.offsetInBlock_=new goog.math.Coordinate(0,0)};goog.inherits(Blockly.RenderedConnection,Blockly.Connection);Blockly.RenderedConnection.prototype.distanceFrom=function(a){var b=this.x_-a.x_;a=this.y_-a.y_;return Math.sqrt(b*b+a*a)};
Blockly.RenderedConnection.prototype.bumpAwayFrom_=function(a){if(!this.sourceBlock_.workspace.isDragging()){var b=this.sourceBlock_.getRootBlock();if(!b.isInFlyout){var c=!1;if(!b.isMovable()){b=a.getSourceBlock().getRootBlock();if(!b.isMovable())return;a=this;c=!0}var d=Blockly.selected==b;d||b.addSelect();var e=a.x_+Blockly.SNAP_RADIUS-this.x_;a=a.y_+Blockly.SNAP_RADIUS-this.y_;c&&(a=-a);b.RTL&&(e=-e);b.moveBy(e,a);d||b.removeSelect()}}};
Blockly.RenderedConnection.prototype.moveTo=function(a,b){this.inDB_&&this.db_.removeConnection_(this);this.x_=a;this.y_=b;this.hidden_||this.db_.addConnection(this)};Blockly.RenderedConnection.prototype.moveBy=function(a,b){this.moveTo(this.x_+a,this.y_+b)};Blockly.RenderedConnection.prototype.moveToOffset=function(a){this.moveTo(a.x+this.offsetInBlock_.x,a.y+this.offsetInBlock_.y)};
Blockly.RenderedConnection.prototype.setOffsetInBlock=function(a,b){this.offsetInBlock_.x=a;this.offsetInBlock_.y=b};Blockly.RenderedConnection.prototype.tighten_=function(){var a=this.targetConnection.x_-this.x_,b=this.targetConnection.y_-this.y_;if(0!=a||0!=b){var c=this.targetBlock(),d=c.getSvgRoot();if(!d)throw Error("block is not rendered.");d=Blockly.utils.getRelativeXY(d);c.getSvgRoot().setAttribute("transform","translate("+(d.x-a)+","+(d.y-b)+")");c.moveConnections_(-a,-b)}};
Blockly.RenderedConnection.prototype.closest=function(a,b){return this.dbOpposite_.searchForClosest(this,a,b)};
Blockly.RenderedConnection.prototype.highlight=function(){var a=this.type==Blockly.INPUT_VALUE||this.type==Blockly.OUTPUT_VALUE?"m 0,0 "+Blockly.BlockSvg.TAB_PATH_DOWN+" v 5":"m -20,0 h 5 "+Blockly.BlockSvg.NOTCH_PATH_LEFT+" h 5";var b=this.sourceBlock_.getRelativeToSurfaceXY();Blockly.Connection.highlightedPath_=Blockly.utils.createSvgElement("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.x_-b.x)+","+(this.y_-b.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},
this.sourceBlock_.getSvgRoot())};
Blockly.RenderedConnection.prototype.unhideAll=function(){this.setHidden(!1);var a=[];if(this.type!=Blockly.INPUT_VALUE&&this.type!=Blockly.NEXT_STATEMENT)return a;var b=this.targetBlock();if(b){if(b.isCollapsed()){var c=[];b.outputConnection&&c.push(b.outputConnection);b.nextConnection&&c.push(b.nextConnection);b.previousConnection&&c.push(b.previousConnection)}else c=b.getConnections_(!0);for(var d=0;d<c.length;d++)a.push.apply(a,c[d].unhideAll());a.length||(a[0]=b)}return a};
Blockly.RenderedConnection.prototype.unhighlight=function(){Blockly.utils.removeNode(Blockly.Connection.highlightedPath_);delete Blockly.Connection.highlightedPath_};Blockly.RenderedConnection.prototype.setHidden=function(a){(this.hidden_=a)&&this.inDB_?this.db_.removeConnection_(this):a||this.inDB_||this.db_.addConnection(this)};
Blockly.RenderedConnection.prototype.hideAll=function(){this.setHidden(!0);if(this.targetConnection)for(var a=this.targetBlock().getDescendants(!1),b=0;b<a.length;b++){for(var c=a[b],d=c.getConnections_(!0),e=0;e<d.length;e++)d[e].setHidden(!0);c=c.getIcons();for(e=0;e<c.length;e++)c[e].setVisible(!1)}};Blockly.RenderedConnection.prototype.isConnectionAllowed=function(a,b){return this.distanceFrom(a)>b?!1:Blockly.RenderedConnection.superClass_.isConnectionAllowed.call(this,a)};
Blockly.RenderedConnection.prototype.disconnectInternal_=function(a,b){Blockly.RenderedConnection.superClass_.disconnectInternal_.call(this,a,b);a.rendered&&a.render();b.rendered&&(b.updateDisabled(),b.render())};
Blockly.RenderedConnection.prototype.respawnShadow_=function(){var a=this.getSourceBlock(),b=this.getShadowDom();if(a.workspace&&b&&Blockly.Events.recordUndo){Blockly.RenderedConnection.superClass_.respawnShadow_.call(this);b=this.targetBlock();if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.initSvg();b.render(!1);a.rendered&&a.render()}};Blockly.RenderedConnection.prototype.neighbours_=function(a){return this.dbOpposite_.getNeighbours(this,a)};
Blockly.RenderedConnection.prototype.connect_=function(a){Blockly.RenderedConnection.superClass_.connect_.call(this,a);var b=this.getSourceBlock();a=a.getSourceBlock();b.rendered&&b.updateDisabled();a.rendered&&a.updateDisabled();b.rendered&&a.rendered&&(this.type==Blockly.NEXT_STATEMENT||this.type==Blockly.PREVIOUS_STATEMENT?a.render():b.render())};
Blockly.RenderedConnection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours_())};Blockly.DraggedConnectionManager=function(a){this.topBlock_=Blockly.selected=a;this.workspace_=a.workspace;this.availableConnections_=this.initAvailableConnections_();this.localConnection_=this.closestConnection_=null;this.radiusConnection_=0;this.wouldDeleteBlock_=!1};Blockly.DraggedConnectionManager.prototype.dispose=function(){this.workspace_=this.topBlock_=null;this.availableConnections_.length=0;this.localConnection_=this.closestConnection_=null};
Blockly.DraggedConnectionManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_};Blockly.DraggedConnectionManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_};
Blockly.DraggedConnectionManager.prototype.applyConnections=function(){if(this.closestConnection_){this.localConnection_.connect(this.closestConnection_);if(this.topBlock_.rendered){var a=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;Blockly.BlockAnimations.connectionUiEffect(a.getSourceBlock());this.topBlock_.getRootBlock().bringToFront()}this.removeHighlighting_()}};
Blockly.DraggedConnectionManager.prototype.update=function(a,b){var c=this.closestConnection_;(a=this.updateClosest_(a))&&c&&c.unhighlight();c=!!this.closestConnection_&&b!=Blockly.DELETE_AREA_TOOLBOX;this.wouldDeleteBlock_=(b=!!b&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable())&&!c;b&&this.closestConnection_&&(this.closestConnection_.unhighlight(),this.closestConnection_=null);!this.wouldDeleteBlock_&&a&&this.closestConnection_&&this.addHighlighting_()};
Blockly.DraggedConnectionManager.prototype.removeHighlighting_=function(){this.closestConnection_&&this.closestConnection_.unhighlight()};Blockly.DraggedConnectionManager.prototype.addHighlighting_=function(){this.closestConnection_&&this.closestConnection_.highlight()};Blockly.DraggedConnectionManager.prototype.initAvailableConnections_=function(){var a=this.topBlock_.getConnections_(!1),b=this.topBlock_.lastConnectionInStack();b&&b!=this.topBlock_.nextConnection&&a.push(b);return a};
Blockly.DraggedConnectionManager.prototype.updateClosest_=function(a){var b=this.closestConnection_;this.localConnection_=this.closestConnection_=null;this.radiusConnection_=Blockly.SNAP_RADIUS;for(var c=0;c<this.availableConnections_.length;c++){var d=this.availableConnections_[c],e=d.closest(this.radiusConnection_,a);e.connection&&(this.closestConnection_=e.connection,this.localConnection_=d,this.radiusConnection_=e.radius)}return b!=this.closestConnection_};Blockly.BlockDragger=function(a,b){this.draggingBlock_=a;this.workspace_=b;this.draggedConnectionManager_=new Blockly.DraggedConnectionManager(this.draggingBlock_);this.deleteArea_=null;this.wouldDeleteBlock_=!1;this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY();this.dragIconData_=Blockly.BlockDragger.initIconData_(a)};
Blockly.BlockDragger.prototype.dispose=function(){this.startWorkspace_=this.workspace_=this.draggingBlock_=null;this.dragIconData_.length=0;this.draggedConnectionManager_&&(this.draggedConnectionManager_.dispose(),this.draggedConnectionManager_=null)};Blockly.BlockDragger.initIconData_=function(a){var b=[];a=a.getDescendants(!1);for(var c=0,d;d=a[c];c++){d=d.getIcons();for(var e=0;e<d.length;e++){var f={location:d[e].getIconLocation(),icon:d[e]};b.push(f)}}return b};
Blockly.BlockDragger.prototype.startBlockDrag=function(a,b){Blockly.Events.getGroup()||Blockly.Events.setGroup(!0);this.workspace_.isMutator&&this.draggingBlock_.bringToFront();this.workspace_.setResizesEnabled(!1);Blockly.BlockAnimations.disconnectUiStop();if(this.draggingBlock_.getParent()||b&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())this.draggingBlock_.unplug(b),a=this.pixelsToWorkspaceUnits_(a),a=goog.math.Coordinate.sum(this.startXY_,a),this.draggingBlock_.translate(a.x,
a.y),Blockly.BlockAnimations.disconnectUiEffect(this.draggingBlock_);this.draggingBlock_.setDragging(!0);this.draggingBlock_.moveToDragSurface_();if(a=this.workspace_.getToolbox())b=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",a.addStyle(b)};
Blockly.BlockDragger.prototype.dragBlock=function(a,b){b=this.pixelsToWorkspaceUnits_(b);var c=goog.math.Coordinate.sum(this.startXY_,b);this.draggingBlock_.moveDuringDrag(c);this.dragIcons_(b);this.deleteArea_=this.workspace_.isDeleteArea(a);this.draggedConnectionManager_.update(b,this.deleteArea_);this.updateCursorDuringBlockDrag_()};
Blockly.BlockDragger.prototype.endBlockDrag=function(a,b){this.dragBlock(a,b);this.dragIconData_=[];Blockly.BlockAnimations.disconnectUiStop();a=this.pixelsToWorkspaceUnits_(b);b=goog.math.Coordinate.sum(this.startXY_,a);this.draggingBlock_.moveOffDragSurface_(b);this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections_(a.x,a.y),this.draggingBlock_.setDragging(!1),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),
this.draggingBlock_.scheduleSnapAndBump());this.workspace_.setResizesEnabled(!0);if(a=this.workspace_.getToolbox())b=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",a.removeStyle(b);Blockly.Events.setGroup(!1)};Blockly.BlockDragger.prototype.fireMoveEvent_=function(){var a=new Blockly.Events.BlockMove(this.draggingBlock_);a.oldCoordinate=this.startXY_;a.recordNew();Blockly.Events.fire(a)};
Blockly.BlockDragger.prototype.maybeDeleteBlock_=function(){var a=this.workspace_.trashcan;this.wouldDeleteBlock_?(a&&setTimeout(a.close.bind(a),100),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0)):a&&a.close();return this.wouldDeleteBlock_};
Blockly.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var a=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==Blockly.DELETE_AREA_TRASH&&a&&a.setOpen_(!0)):(this.draggingBlock_.setDeleteStyle(!1),a&&a.setOpen_(!1))};
Blockly.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(a){a=new goog.math.Coordinate(a.x/this.workspace_.scale,a.y/this.workspace_.scale);this.workspace_.isMutator&&(a=a.scale(1/this.workspace_.options.parentWorkspace.scale));return a};Blockly.BlockDragger.prototype.dragIcons_=function(a){for(var b=0;b<this.dragIconData_.length;b++){var c=this.dragIconData_[b];c.icon.setIconLocation(goog.math.Coordinate.sum(c.location,a))}};Blockly.WorkspaceCommentSvg=function(a,b,c,d,e){this.svgGroup_=Blockly.utils.createSvgElement("g",{"class":"blocklyComment"},null);this.svgGroup_.translate_="";this.svgRect_=Blockly.utils.createSvgElement("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:Blockly.WorkspaceCommentSvg.BORDER_RADIUS,ry:Blockly.WorkspaceCommentSvg.BORDER_RADIUS});this.svgGroup_.appendChild(this.svgRect_);this.rendered_=!1;this.useDragSurface_=Blockly.utils.is3dSupported()&&!!a.blockDragSurface_;Blockly.WorkspaceCommentSvg.superClass_.constructor.call(this,
a,b,c,d,e);this.render()};goog.inherits(Blockly.WorkspaceCommentSvg,Blockly.WorkspaceComment);Blockly.WorkspaceCommentSvg.DEFAULT_SIZE=100;
Blockly.WorkspaceCommentSvg.prototype.dispose=function(){this.workspace&&(Blockly.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.CommentDelete(this)),Blockly.utils.removeNode(this.svgGroup_),this.svgRect_=this.svgGroup_=null,this.disposeInternal_(),Blockly.Events.disable(),Blockly.WorkspaceCommentSvg.superClass_.dispose.call(this),Blockly.Events.enable())};
Blockly.WorkspaceCommentSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit_||(Blockly.bindEventWithChecks_(this.svgRectTarget_,"mousedown",this,this.pathMouseDown_),Blockly.bindEventWithChecks_(this.svgHandleTarget_,"mousedown",this,this.pathMouseDown_));this.eventsInit_=!0;this.updateMovable();this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot())};
Blockly.WorkspaceCommentSvg.prototype.pathMouseDown_=function(a){var b=this.workspace.getGesture(a);b&&b.handleBubbleStart(a,this)};Blockly.WorkspaceCommentSvg.prototype.showContextMenu_=function(a){if(!this.workspace.options.readOnly){var b=[];this.isDeletable()&&this.isMovable()&&(b.push(Blockly.ContextMenu.commentDuplicateOption(this)),b.push(Blockly.ContextMenu.commentDeleteOption(this)));Blockly.ContextMenu.show(a,b,this.RTL)}};
Blockly.WorkspaceCommentSvg.prototype.select=function(){if(Blockly.selected!=this){var a=null;if(Blockly.selected){a=Blockly.selected.id;Blockly.Events.disable();try{Blockly.selected.unselect()}finally{Blockly.Events.enable()}}a=new Blockly.Events.Ui(null,"selected",a,this.id);a.workspaceId=this.workspace.id;Blockly.Events.fire(a);Blockly.selected=this;this.addSelect()}};
Blockly.WorkspaceCommentSvg.prototype.unselect=function(){if(Blockly.selected==this){var a=new Blockly.Events.Ui(null,"selected",this.id,null);a.workspaceId=this.workspace.id;Blockly.Events.fire(a);Blockly.selected=null;this.removeSelect();this.blurFocus()}};Blockly.WorkspaceCommentSvg.prototype.addSelect=function(){Blockly.utils.addClass(this.svgGroup_,"blocklySelected");this.setFocus()};
Blockly.WorkspaceCommentSvg.prototype.removeSelect=function(){Blockly.utils.removeClass(this.svgGroup_,"blocklySelected");this.blurFocus()};Blockly.WorkspaceCommentSvg.prototype.addFocus=function(){Blockly.utils.addClass(this.svgGroup_,"blocklyFocused")};Blockly.WorkspaceCommentSvg.prototype.removeFocus=function(){Blockly.utils.removeClass(this.svgGroup_,"blocklyFocused")};
Blockly.WorkspaceCommentSvg.prototype.getRelativeToSurfaceXY=function(){var a=0,b=0,c=this.useDragSurface_?this.workspace.blockDragSurface_.getGroup():null,d=this.getSvgRoot();if(d){do{var e=Blockly.utils.getRelativeXY(d);a+=e.x;b+=e.y;this.useDragSurface_&&this.workspace.blockDragSurface_.getCurrentBlock()==d&&(e=this.workspace.blockDragSurface_.getSurfaceTranslation(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.workspace.getBubbleCanvas()&&d!=c)}return this.xy_=new goog.math.Coordinate(a,b)};
Blockly.WorkspaceCommentSvg.prototype.moveBy=function(a,b){var c=new Blockly.Events.CommentMove(this),d=this.getRelativeToSurfaceXY();this.translate(d.x+a,d.y+b);this.xy_=new goog.math.Coordinate(d.x+a,d.y+b);c.recordNew();Blockly.Events.fire(c);this.workspace.resizeContents()};Blockly.WorkspaceCommentSvg.prototype.translate=function(a,b){this.xy_=new goog.math.Coordinate(a,b);this.getSvgRoot().setAttribute("transform","translate("+a+","+b+")")};
Blockly.WorkspaceCommentSvg.prototype.moveToDragSurface_=function(){if(this.useDragSurface_){var a=this.getRelativeToSurfaceXY();this.clearTransformAttributes_();this.workspace.blockDragSurface_.translateSurface(a.x,a.y);this.workspace.blockDragSurface_.setBlocksAndShow(this.getSvgRoot())}};Blockly.WorkspaceCommentSvg.prototype.moveOffDragSurface_=function(a){this.useDragSurface_&&(this.translate(a.x,a.y),this.workspace.blockDragSurface_.clearAndHide(this.workspace.getCanvas()))};
Blockly.WorkspaceCommentSvg.prototype.moveDuringDrag=function(a,b){a?a.translateSurface(b.x,b.y):(this.svgGroup_.translate_="translate("+b.x+","+b.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))};Blockly.WorkspaceCommentSvg.prototype.moveTo=function(a,b){this.translate(a,b)};Blockly.WorkspaceCommentSvg.prototype.clearTransformAttributes_=function(){Blockly.utils.removeAttribute(this.getSvgRoot(),"transform")};
Blockly.WorkspaceCommentSvg.prototype.getBoundingRectangle=function(){var a=this.getRelativeToSurfaceXY(),b=this.getHeightWidth();if(this.RTL){var c=new goog.math.Coordinate(a.x-b.width,a.y);a=new goog.math.Coordinate(a.x,a.y+b.height)}else c=new goog.math.Coordinate(a.x,a.y),a=new goog.math.Coordinate(a.x+b.width,a.y+b.height);return{topLeft:c,bottomRight:a}};
Blockly.WorkspaceCommentSvg.prototype.updateMovable=function(){this.isMovable()?Blockly.utils.addClass(this.svgGroup_,"blocklyDraggable"):Blockly.utils.removeClass(this.svgGroup_,"blocklyDraggable")};Blockly.WorkspaceCommentSvg.prototype.setMovable=function(a){Blockly.WorkspaceCommentSvg.superClass_.setMovable.call(this,a);this.updateMovable()};
Blockly.WorkspaceCommentSvg.prototype.setDragging=function(a){a?(a=this.getSvgRoot(),a.translate_="",a.skew_="",Blockly.utils.addClass(this.svgGroup_,"blocklyDragging")):Blockly.utils.removeClass(this.svgGroup_,"blocklyDragging")};Blockly.WorkspaceCommentSvg.prototype.getSvgRoot=function(){return this.svgGroup_};Blockly.WorkspaceCommentSvg.prototype.getContent=function(){return this.textarea_?this.textarea_.value:this.content_};
Blockly.WorkspaceCommentSvg.prototype.setContent=function(a){Blockly.WorkspaceCommentSvg.superClass_.setContent.call(this,a);this.textarea_&&(this.textarea_.value=a)};Blockly.WorkspaceCommentSvg.prototype.setDeleteStyle=function(a){a?Blockly.utils.addClass(this.svgGroup_,"blocklyDraggingDelete"):Blockly.utils.removeClass(this.svgGroup_,"blocklyDraggingDelete")};Blockly.WorkspaceCommentSvg.prototype.setAutoLayout=function(){};
Blockly.WorkspaceCommentSvg.fromXml=function(a,b,c){Blockly.Events.disable();try{var d=Blockly.WorkspaceComment.parseAttributes(a),e=new Blockly.WorkspaceCommentSvg(b,d.content,d.h,d.w,d.id);b.rendered&&(e.initSvg(),e.render(!1));if(!isNaN(d.x)&&!isNaN(d.y))if(b.RTL){var f=c||b.getWidth();e.moveBy(f-d.x,d.y)}else e.moveBy(d.x,d.y)}finally{Blockly.Events.enable()}Blockly.WorkspaceComment.fireCreateEvent(e);return e};
Blockly.WorkspaceCommentSvg.prototype.toXmlWithXY=function(a){var b;this.workspace.RTL&&(b=this.workspace.getWidth());a=this.toXml(a);var c=this.getRelativeToSurfaceXY();a.setAttribute("x",Math.round(this.workspace.RTL?b-c.x:c.x));a.setAttribute("y",Math.round(c.y));a.setAttribute("h",this.getHeight());a.setAttribute("w",this.getWidth());return a};Blockly.BubbleDragger=function(a,b){this.draggingBubble_=a;this.workspace_=b;this.deleteArea_=null;this.wouldDeleteBubble_=!1;this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY();this.dragSurface_=Blockly.utils.is3dSupported()&&b.getBlockDragSurface()?b.getBlockDragSurface():null};Blockly.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null};
Blockly.BubbleDragger.prototype.startBubbleDrag=function(){Blockly.Events.getGroup()||Blockly.Events.setGroup(!0);this.workspace_.setResizesEnabled(!1);this.draggingBubble_.setAutoLayout(!1);this.dragSurface_&&this.moveToDragSurface_();this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0);var a=this.workspace_.getToolbox();if(a){var b=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";a.addStyle(b)}};
Blockly.BubbleDragger.prototype.dragBubble=function(a,b){b=this.pixelsToWorkspaceUnits_(b);b=goog.math.Coordinate.sum(this.startXY_,b);this.draggingBubble_.moveDuringDrag(this.dragSurface_,b);this.draggingBubble_.isDeletable()&&(this.deleteArea_=this.workspace_.isDeleteArea(a),this.updateCursorDuringBubbleDrag_())};
Blockly.BubbleDragger.prototype.maybeDeleteBubble_=function(){var a=this.workspace_.trashcan;this.wouldDeleteBubble_?(a&&setTimeout(a.close.bind(a),100),this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):a&&a.close();return this.wouldDeleteBubble_};
Blockly.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.wouldDeleteBubble_=this.deleteArea_!=Blockly.DELETE_AREA_NONE;var a=this.workspace_.trashcan;this.wouldDeleteBubble_?(this.draggingBubble_.setDeleteStyle(!0),this.deleteArea_==Blockly.DELETE_AREA_TRASH&&a&&a.setOpen_(!0)):(this.draggingBubble_.setDeleteStyle(!1),a&&a.setOpen_(!1))};
Blockly.BubbleDragger.prototype.endBubbleDrag=function(a,b){this.dragBubble(a,b);a=this.pixelsToWorkspaceUnits_(b);a=goog.math.Coordinate.sum(this.startXY_,a);this.draggingBubble_.moveTo(a.x,a.y);this.maybeDeleteBubble_()||(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_());this.workspace_.setResizesEnabled(!0);this.workspace_.toolbox_&&(a=this.draggingBubble_.isDeletable()?
"blocklyToolboxDelete":"blocklyToolboxGrab",this.workspace_.toolbox_.removeStyle(a));Blockly.Events.setGroup(!1)};Blockly.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var a=new Blockly.Events.CommentMove(this.draggingBubble_);a.setOldCoordinate(this.startXY_);a.recordNew();Blockly.Events.fire(a)}};
Blockly.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(a){a=new goog.math.Coordinate(a.x/this.workspace_.scale,a.y/this.workspace_.scale);this.workspace_.isMutator&&(a=a.scale(1/this.workspace_.options.parentWorkspace.scale));return a};Blockly.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0);this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y);this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())};Blockly.WorkspaceDragger=function(a){this.workspace_=a;this.startDragMetrics_=a.getMetrics();this.startScrollXY_=new goog.math.Coordinate(a.scrollX,a.scrollY)};Blockly.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null};Blockly.WorkspaceDragger.prototype.startDrag=function(){Blockly.selected&&Blockly.selected.unselect();this.workspace_.setupDragSurface()};Blockly.WorkspaceDragger.prototype.endDrag=function(a){this.drag(a);this.workspace_.resetDragSurface()};
Blockly.WorkspaceDragger.prototype.drag=function(a){var b=this.startDragMetrics_,c=goog.math.Coordinate.sum(this.startScrollXY_,a);a=Math.min(c.x,-b.contentLeft);c=Math.min(c.y,-b.contentTop);a=Math.max(a,b.viewWidth-b.contentLeft-b.contentWidth);c=Math.max(c,b.viewHeight-b.contentTop-b.contentHeight);a=-a-b.contentLeft;c=-c-b.contentTop;this.updateScroll_(a,c)};Blockly.WorkspaceDragger.prototype.updateScroll_=function(a,b){this.workspace_.scrollbar.set(a,b)};Blockly.FlyoutDragger=function(a){Blockly.FlyoutDragger.superClass_.constructor.call(this,a.getWorkspace());this.scrollbar_=a.scrollbar_;this.horizontalLayout_=a.horizontalLayout_};goog.inherits(Blockly.FlyoutDragger,Blockly.WorkspaceDragger);Blockly.FlyoutDragger.prototype.updateScroll_=function(a,b){this.horizontalLayout_?this.scrollbar_.set(a):this.scrollbar_.set(b)};Blockly.Tooltip={};Blockly.Tooltip.visible=!1;Blockly.Tooltip.blocked_=!1;Blockly.Tooltip.LIMIT=50;Blockly.Tooltip.mouseOutPid_=0;Blockly.Tooltip.showPid_=0;Blockly.Tooltip.lastX_=0;Blockly.Tooltip.lastY_=0;Blockly.Tooltip.element_=null;Blockly.Tooltip.poisonedElement_=null;Blockly.Tooltip.OFFSET_X=0;Blockly.Tooltip.OFFSET_Y=10;Blockly.Tooltip.RADIUS_OK=10;Blockly.Tooltip.HOVER_MS=750;Blockly.Tooltip.MARGINS=5;Blockly.Tooltip.DIV=null;
Blockly.Tooltip.createDom=function(){Blockly.Tooltip.DIV||(Blockly.Tooltip.DIV=document.createElement("div"),Blockly.Tooltip.DIV.className="blocklyTooltipDiv",document.body.appendChild(Blockly.Tooltip.DIV))};Blockly.Tooltip.bindMouseEvents=function(a){Blockly.bindEvent_(a,"mouseover",null,Blockly.Tooltip.onMouseOver_);Blockly.bindEvent_(a,"mouseout",null,Blockly.Tooltip.onMouseOut_);a.addEventListener("mousemove",Blockly.Tooltip.onMouseMove_,!1)};
Blockly.Tooltip.onMouseOver_=function(a){if(!Blockly.Tooltip.blocked_){for(a=a.target;"string"!=typeof a.tooltip&&"function"!=typeof a.tooltip;)a=a.tooltip;Blockly.Tooltip.element_!=a&&(Blockly.Tooltip.hide(),Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.element_=a);clearTimeout(Blockly.Tooltip.mouseOutPid_)}};
Blockly.Tooltip.onMouseOut_=function(a){Blockly.Tooltip.blocked_||(Blockly.Tooltip.mouseOutPid_=setTimeout(function(){Blockly.Tooltip.element_=null;Blockly.Tooltip.poisonedElement_=null;Blockly.Tooltip.hide()},1),clearTimeout(Blockly.Tooltip.showPid_))};
Blockly.Tooltip.onMouseMove_=function(a){if(Blockly.Tooltip.element_&&Blockly.Tooltip.element_.tooltip&&!Blockly.WidgetDiv.isVisible()&&!Blockly.Tooltip.blocked_)if(Blockly.Tooltip.visible){var b=Blockly.Tooltip.lastX_-a.pageX;a=Blockly.Tooltip.lastY_-a.pageY;Math.sqrt(b*b+a*a)>Blockly.Tooltip.RADIUS_OK&&Blockly.Tooltip.hide()}else Blockly.Tooltip.poisonedElement_!=Blockly.Tooltip.element_&&(clearTimeout(Blockly.Tooltip.showPid_),Blockly.Tooltip.lastX_=a.pageX,Blockly.Tooltip.lastY_=a.pageY,Blockly.Tooltip.showPid_=
setTimeout(Blockly.Tooltip.show_,Blockly.Tooltip.HOVER_MS))};Blockly.Tooltip.hide=function(){Blockly.Tooltip.visible&&(Blockly.Tooltip.visible=!1,Blockly.Tooltip.DIV&&(Blockly.Tooltip.DIV.style.display="none"));Blockly.Tooltip.showPid_&&clearTimeout(Blockly.Tooltip.showPid_)};Blockly.Tooltip.block=function(){Blockly.Tooltip.hide();Blockly.Tooltip.blocked_=!0};Blockly.Tooltip.unblock=function(){Blockly.Tooltip.blocked_=!1};
Blockly.Tooltip.show_=function(){if(!Blockly.Tooltip.blocked_&&(Blockly.Tooltip.poisonedElement_=Blockly.Tooltip.element_,Blockly.Tooltip.DIV)){Blockly.Tooltip.DIV.innerHTML="";for(var a=Blockly.Tooltip.element_.tooltip;"function"==typeof a;)a=a();a=Blockly.utils.wrap(a,Blockly.Tooltip.LIMIT);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));Blockly.Tooltip.DIV.appendChild(c)}a=Blockly.Tooltip.element_.RTL;b=goog.dom.getViewportSize();
Blockly.Tooltip.DIV.style.direction=a?"rtl":"ltr";Blockly.Tooltip.DIV.style.display="block";Blockly.Tooltip.visible=!0;c=Blockly.Tooltip.lastX_;c=a?c-(Blockly.Tooltip.OFFSET_X+Blockly.Tooltip.DIV.offsetWidth):c+Blockly.Tooltip.OFFSET_X;var d=Blockly.Tooltip.lastY_+Blockly.Tooltip.OFFSET_Y;d+Blockly.Tooltip.DIV.offsetHeight>b.height+window.scrollY&&(d-=Blockly.Tooltip.DIV.offsetHeight+2*Blockly.Tooltip.OFFSET_Y);a?c=Math.max(Blockly.Tooltip.MARGINS-window.scrollX,c):c+Blockly.Tooltip.DIV.offsetWidth>
b.width+window.scrollX-2*Blockly.Tooltip.MARGINS&&(c=b.width-Blockly.Tooltip.DIV.offsetWidth-2*Blockly.Tooltip.MARGINS);Blockly.Tooltip.DIV.style.top=d+"px";Blockly.Tooltip.DIV.style.left=c+"px"}};Blockly.Gesture=function(a,b){this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=this.currentDragDeltaXY_=this.mouseDownXY_=null;this.creatorWorkspace_=b;this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1;this.mostRecentEvent_=a;this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null;this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1;
this.healStack_=!Blockly.DRAG_STACK};
Blockly.Gesture.prototype.dispose=function(){Blockly.Touch.clearTouchIdentifier();Blockly.Tooltip.unblock();this.creatorWorkspace_.clearGesture();this.onMoveWrapper_&&Blockly.unbindEvent_(this.onMoveWrapper_);this.onUpWrapper_&&Blockly.unbindEvent_(this.onUpWrapper_);this.flyout_=this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=null;this.blockDragger_&&(this.blockDragger_.dispose(),this.blockDragger_=null);this.workspaceDragger_&&(this.workspaceDragger_.dispose(),this.workspaceDragger_=
null);this.bubbleDragger_&&(this.bubbleDragger_.dispose(),this.bubbleDragger_=null)};Blockly.Gesture.prototype.updateFromEvent_=function(a){var b=new goog.math.Coordinate(a.clientX,a.clientY);this.updateDragDelta_(b)&&(this.updateIsDragging_(),Blockly.longStop_());this.mostRecentEvent_=a};
Blockly.Gesture.prototype.updateDragDelta_=function(a){this.currentDragDeltaXY_=goog.math.Coordinate.difference(a,this.mouseDownXY_);return this.hasExceededDragRadius_?!1:this.hasExceededDragRadius_=goog.math.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?Blockly.FLYOUT_DRAG_RADIUS:Blockly.DRAG_RADIUS)};
Blockly.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return this.targetBlock_.disabled?!1:!this.flyout_.isScrollable()||this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)?(this.startWorkspace_=this.flyout_.targetWorkspace_,this.startWorkspace_.updateScreenCalculationsIfScrolled(),Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0):!1};
Blockly.Gesture.prototype.updateIsDraggingBubble_=function(){if(!this.startBubble_)return!1;this.isDraggingBubble_=!0;this.startDraggingBubble_();return!0};Blockly.Gesture.prototype.updateIsDraggingBlock_=function(){if(!this.targetBlock_)return!1;this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0);return this.isDraggingBlock_?(this.startDraggingBlock_(),!0):!1};
Blockly.Gesture.prototype.updateIsDraggingWorkspace_=function(){if(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())this.workspaceDragger_=this.flyout_?new Blockly.FlyoutDragger(this.flyout_):new Blockly.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag()};
Blockly.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0;this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()};
Blockly.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new Blockly.BlockDragger(this.targetBlock_,this.startWorkspace_);this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_);this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)};
Blockly.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new Blockly.BubbleDragger(this.startBubble_,this.startWorkspace_);this.bubbleDragger_.startBubbleDrag();this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)};
Blockly.Gesture.prototype.doStart=function(a){Blockly.utils.isTargetInput(a)?this.cancel():(this.hasStarted_=!0,Blockly.BlockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.startWorkspace_.markFocused(),this.mostRecentEvent_=a,Blockly.hideChaff(!!this.flyout_),Blockly.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),Blockly.utils.isRightButton(a)?this.handleRightClick(a):("touchstart"!=
a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||Blockly.longStart_(a,this),this.mouseDownXY_=new goog.math.Coordinate(a.clientX,a.clientY),this.healStack_=a.altKey||a.ctrlKey||a.metaKey,this.bindMouseEvents(a)))};
Blockly.Gesture.prototype.bindMouseEvents=function(a){this.onMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this));this.onUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this));a.preventDefault();a.stopPropagation()};
Blockly.Gesture.prototype.handleMove=function(a){this.updateFromEvent_(a);this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_);a.preventDefault();a.stopPropagation()};
Blockly.Gesture.prototype.handleUp=function(a){this.updateFromEvent_(a);Blockly.longStop_();this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(a,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(a,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():
this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(),a.preventDefault(),a.stopPropagation(),this.dispose())};
Blockly.Gesture.prototype.cancel=function(){this.isEnding_||(Blockly.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())};
Blockly.Gesture.prototype.handleRightClick=function(a){this.targetBlock_?(this.bringBlockToFront_(),Blockly.hideChaff(this.flyout_),this.targetBlock_.showContextMenu_(a)):this.startBubble_?this.startBubble_.showContextMenu_(a):this.startWorkspace_&&!this.flyout_&&(Blockly.hideChaff(),this.startWorkspace_.showContextMenu_(a));a.preventDefault();a.stopPropagation();this.dispose()};
Blockly.Gesture.prototype.handleWsStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(b);this.mostRecentEvent_=a;this.doStart(a)};Blockly.Gesture.prototype.handleFlyoutStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(b);this.handleWsStart(a,b.getWorkspace())};
Blockly.Gesture.prototype.handleBlockStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(b);this.mostRecentEvent_=a};Blockly.Gesture.prototype.handleBubbleStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(b);this.mostRecentEvent_=a};
Blockly.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus();this.startBubble_.select&&this.startBubble_.select()};Blockly.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor_();this.bringBlockToFront_()};
Blockly.Gesture.prototype.doBlockClick_=function(){this.flyout_&&this.flyout_.autoClose?this.targetBlock_.disabled||(Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump()):Blockly.Events.fire(new Blockly.Events.Ui(this.startBlock_,"click",void 0,void 0));this.bringBlockToFront_();Blockly.Events.setGroup(!1)};Blockly.Gesture.prototype.doWorkspaceClick_=function(){Blockly.selected&&Blockly.selected.unselect()};
Blockly.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()};Blockly.Gesture.prototype.setStartField=function(a){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=a)};Blockly.Gesture.prototype.setStartBubble=function(a){this.startBubble_||(this.startBubble_=a)};
Blockly.Gesture.prototype.setStartBlock=function(a){this.startBlock_||this.startBubble_||(this.startBlock_=a,a.isInFlyout&&a!=a.getRootBlock()?this.setTargetBlock_(a.getRootBlock()):this.setTargetBlock_(a))};Blockly.Gesture.prototype.setTargetBlock_=function(a){a.isShadow()?this.setTargetBlock_(a.getParent()):this.targetBlock_=a};Blockly.Gesture.prototype.setStartWorkspace_=function(a){this.startWorkspace_||(this.startWorkspace_=a)};
Blockly.Gesture.prototype.setStartFlyout_=function(a){this.flyout_||(this.flyout_=a)};Blockly.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_};Blockly.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()};Blockly.Gesture.prototype.isFieldClick_=function(){return(this.startField_?this.startField_.isCurrentlyEditable():!1)&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)};
Blockly.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_};Blockly.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_};Blockly.Gesture.prototype.hasStarted=function(){return this.hasStarted_};Blockly.Grid=function(a,b){this.gridPattern_=a;this.spacing_=b.spacing;this.length_=b.length;this.line2_=(this.line1_=a.firstChild)&&this.line1_.nextSibling;this.snapToGrid_=b.snap};Blockly.Grid.prototype.scale_=1;Blockly.Grid.prototype.dispose=function(){this.gridPattern_=null};Blockly.Grid.prototype.shouldSnap=function(){return this.snapToGrid_};Blockly.Grid.prototype.getSpacing=function(){return this.spacing_};Blockly.Grid.prototype.getPatternId=function(){return this.gridPattern_.id};
Blockly.Grid.prototype.update=function(a){this.scale_=a;var b=this.spacing_*a||100;this.gridPattern_.setAttribute("width",b);this.gridPattern_.setAttribute("height",b);b=Math.floor(this.spacing_/2)+.5;var c=b-this.length_/2,d=b+this.length_/2;b*=a;c*=a;d*=a;this.setLineAttributes_(this.line1_,a,c,d,b,b);this.setLineAttributes_(this.line2_,a,b,b,c,d)};
Blockly.Grid.prototype.setLineAttributes_=function(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))};Blockly.Grid.prototype.moveTo=function(a,b){this.gridPattern_.setAttribute("x",a);this.gridPattern_.setAttribute("y",b);(goog.userAgent.IE||goog.userAgent.EDGE)&&this.update(this.scale_)};
Blockly.Grid.createDom=function(a,b,c){a=Blockly.utils.createSvgElement("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},c);0<b.length&&0<b.spacing?(Blockly.utils.createSvgElement("line",{stroke:b.colour},a),1<b.length&&Blockly.utils.createSvgElement("line",{stroke:b.colour},a)):Blockly.utils.createSvgElement("line",{},a);return a};Blockly.Options=function(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,h=!1,g=!1,k=!1;else c=Blockly.Options.parseToolboxTree(a.toolbox),d=!(!c||!c.getElementsByTagName("category").length),e=a.trashcan,void 0===e&&(e=d),f=a.collapse,void 0===f&&(f=d),h=a.comments,void 0===h&&(h=d),g=a.disable,void 0===g&&(g=d),k=a.sounds,void 0===k&&(k=!0);var p=!!a.rtl,l=a.horizontalLayout;void 0===l&&(l=!1);var m=a.toolboxPosition;m="end"===m?!1:!0;m=l?m?Blockly.TOOLBOX_AT_TOP:Blockly.TOOLBOX_AT_BOTTOM:m==
p?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT;var t=a.scrollbars;void 0===t&&(t=d);var u=a.css;void 0===u&&(u=!0);var v="https://blockly-demo.appspot.com/static/media/";a.media?v=a.media:a.path&&(v=a.path+"media/");var n=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex;this.RTL=p;this.oneBasedIndex=n;this.collapse=f;this.comments=h;this.disable=g;this.readOnly=b;this.maxBlocks=a.maxBlocks||Infinity;this.pathToMedia=v;this.hasCategories=d;this.hasScrollbars=t;this.hasTrashcan=e;this.hasSounds=k;
this.hasCss=u;this.horizontalLayout=l;this.languageTree=c;this.gridOptions=Blockly.Options.parseGridOptions_(a);this.zoomOptions=Blockly.Options.parseZoomOptions_(a);this.toolboxPosition=m};Blockly.Options.prototype.parentWorkspace=null;Blockly.Options.prototype.setMetrics=null;Blockly.Options.prototype.getMetrics=null;
Blockly.Options.parseZoomOptions_=function(a){a=a.zoom||{};var b={};b.controls=void 0===a.controls?!1:!!a.controls;b.wheel=void 0===a.wheel?!1:!!a.wheel;b.startScale=void 0===a.startScale?1:parseFloat(a.startScale);b.maxScale=void 0===a.maxScale?3:parseFloat(a.maxScale);b.minScale=void 0===a.minScale?.3:parseFloat(a.minScale);b.scaleSpeed=void 0===a.scaleSpeed?1.2:parseFloat(a.scaleSpeed);return b};
Blockly.Options.parseGridOptions_=function(a){a=a.grid||{};var b={};b.spacing=parseFloat(a.spacing)||0;b.colour=a.colour||"#888";b.length=parseFloat(a.length)||1;b.snap=0<b.spacing&&!!a.snap;return b};Blockly.Options.parseToolboxTree=function(a){a?("string"!=typeof a&&("undefined"==typeof XSLTProcessor&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=Blockly.Xml.textToDom(a))):a=null;return a};Blockly.ScrollbarPair=function(a){this.workspace_=a;this.hScroll=new Blockly.Scrollbar(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.vScroll=new Blockly.Scrollbar(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.corner_=Blockly.utils.createSvgElement("rect",{height:Blockly.Scrollbar.scrollbarThickness,width:Blockly.Scrollbar.scrollbarThickness,"class":"blocklyScrollbarBackground"},null);Blockly.utils.insertAfter(this.corner_,a.getBubbleCanvas())};Blockly.ScrollbarPair.prototype.oldHostMetrics_=null;
Blockly.ScrollbarPair.prototype.dispose=function(){Blockly.utils.removeNode(this.corner_);this.oldHostMetrics_=this.workspace_=this.corner_=null;this.hScroll.dispose();this.hScroll=null;this.vScroll.dispose();this.vScroll=null};
Blockly.ScrollbarPair.prototype.resize=function(){var a=this.workspace_.getMetrics();if(a){var b=!1,c=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==a.viewWidth&&this.oldHostMetrics_.viewHeight==a.viewHeight&&this.oldHostMetrics_.absoluteTop==a.absoluteTop&&this.oldHostMetrics_.absoluteLeft==a.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==a.contentWidth&&this.oldHostMetrics_.viewLeft==a.viewLeft&&this.oldHostMetrics_.contentLeft==a.contentLeft||(b=!0),this.oldHostMetrics_&&
this.oldHostMetrics_.contentHeight==a.contentHeight&&this.oldHostMetrics_.viewTop==a.viewTop&&this.oldHostMetrics_.contentTop==a.contentTop||(c=!0)):c=b=!0;b&&this.hScroll.resize(a);c&&this.vScroll.resize(a);this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==a.viewWidth&&this.oldHostMetrics_.absoluteLeft==a.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position_.x);this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==a.viewHeight&&this.oldHostMetrics_.absoluteTop==a.absoluteTop||this.corner_.setAttribute("y",
this.hScroll.position_.y);this.oldHostMetrics_=a}};Blockly.ScrollbarPair.prototype.set=function(a,b){var c={};a*=this.hScroll.ratio_;b*=this.vScroll.ratio_;var d=this.vScroll.scrollViewSize_;c.x=this.getRatio_(a,this.hScroll.scrollViewSize_);c.y=this.getRatio_(b,d);this.workspace_.setMetrics(c);this.hScroll.setHandlePosition(a);this.vScroll.setHandlePosition(b)};Blockly.ScrollbarPair.prototype.getRatio_=function(a,b){a/=b;return isNaN(a)?0:a};
Blockly.Scrollbar=function(a,b,c,d){this.workspace_=a;this.pair_=c||!1;this.horizontal_=b;this.oldHostMetrics_=null;this.createDom_(d);this.position_=new goog.math.Coordinate(0,0);a=Blockly.Scrollbar.scrollbarThickness;b?(this.svgBackground_.setAttribute("height",a),this.outerSvg_.setAttribute("height",a),this.svgHandle_.setAttribute("height",a-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",a),this.outerSvg_.setAttribute("width",
a),this.svgHandle_.setAttribute("width",a-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y");this.onMouseDownBarWrapper_=Blockly.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_);this.onMouseDownHandleWrapper_=Blockly.bindEventWithChecks_(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)};Blockly.Scrollbar.prototype.origin_=new goog.math.Coordinate(0,0);Blockly.Scrollbar.prototype.startDragMouse_=0;
Blockly.Scrollbar.prototype.scrollViewSize_=0;Blockly.Scrollbar.prototype.handleLength_=0;Blockly.Scrollbar.prototype.handlePosition_=0;Blockly.Scrollbar.prototype.isVisible_=!0;Blockly.Scrollbar.prototype.containerVisible_=!0;Blockly.Scrollbar.scrollbarThickness=15;goog.events.BrowserFeature.TOUCH_ENABLED&&(Blockly.Scrollbar.scrollbarThickness=25);
Blockly.Scrollbar.metricsAreEquivalent_=function(a,b){return a&&b&&a.viewWidth==b.viewWidth&&a.viewHeight==b.viewHeight&&a.viewLeft==b.viewLeft&&a.viewTop==b.viewTop&&a.absoluteTop==b.absoluteTop&&a.absoluteLeft==b.absoluteLeft&&a.contentWidth==b.contentWidth&&a.contentHeight==b.contentHeight&&a.contentLeft==b.contentLeft&&a.contentTop==b.contentTop?!0:!1};
Blockly.Scrollbar.prototype.dispose=function(){this.cleanUp_();Blockly.unbindEvent_(this.onMouseDownBarWrapper_);this.onMouseDownBarWrapper_=null;Blockly.unbindEvent_(this.onMouseDownHandleWrapper_);this.onMouseDownHandleWrapper_=null;Blockly.utils.removeNode(this.outerSvg_);this.workspace_=this.svgHandle_=this.svgBackground_=this.svgGroup_=this.outerSvg_=null};Blockly.Scrollbar.prototype.setHandleLength_=function(a){this.handleLength_=a;this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)};
Blockly.Scrollbar.prototype.setHandlePosition=function(a){this.handlePosition_=a;this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)};Blockly.Scrollbar.prototype.setScrollViewSize_=function(a){this.scrollViewSize_=a;this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollViewSize_);this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollViewSize_)};Blockly.ScrollbarPair.prototype.setContainerVisible=function(a){this.hScroll.setContainerVisible(a);this.vScroll.setContainerVisible(a)};
Blockly.Scrollbar.prototype.setPosition_=function(a,b){this.position_.x=a;this.position_.y=b;Blockly.utils.setCssTransform(this.outerSvg_,"translate("+(this.position_.x+this.origin_.x)+"px,"+(this.position_.y+this.origin_.y)+"px)")};Blockly.Scrollbar.prototype.resize=function(a){if(!a&&(a=this.workspace_.getMetrics(),!a))return;Blockly.Scrollbar.metricsAreEquivalent_(a,this.oldHostMetrics_)||(this.oldHostMetrics_=a,this.horizontal_?this.resizeHorizontal_(a):this.resizeVertical_(a),this.onScroll_())};
Blockly.Scrollbar.prototype.resizeHorizontal_=function(a){this.resizeViewHorizontal(a)};Blockly.Scrollbar.prototype.resizeViewHorizontal=function(a){var b=a.viewWidth-1;this.pair_&&(b-=Blockly.Scrollbar.scrollbarThickness);this.setScrollViewSize_(Math.max(0,b));b=a.absoluteLeft+.5;this.pair_&&this.workspace_.RTL&&(b+=Blockly.Scrollbar.scrollbarThickness);this.setPosition_(b,a.absoluteTop+a.viewHeight-Blockly.Scrollbar.scrollbarThickness-.5);this.resizeContentHorizontal(a)};
Blockly.Scrollbar.prototype.resizeContentHorizontal=function(a){this.pair_||this.setVisible(this.scrollViewSize_<a.contentWidth);this.ratio_=this.scrollViewSize_/a.contentWidth;if(-Infinity==this.ratio_||Infinity==this.ratio_||isNaN(this.ratio_))this.ratio_=0;this.setHandleLength_(Math.max(0,a.viewWidth*this.ratio_));this.setHandlePosition(this.constrainHandle_((a.viewLeft-a.contentLeft)*this.ratio_))};Blockly.Scrollbar.prototype.resizeVertical_=function(a){this.resizeViewVertical(a)};
Blockly.Scrollbar.prototype.resizeViewVertical=function(a){var b=a.viewHeight-1;this.pair_&&(b-=Blockly.Scrollbar.scrollbarThickness);this.setScrollViewSize_(Math.max(0,b));b=a.absoluteLeft+.5;this.workspace_.RTL||(b+=a.viewWidth-Blockly.Scrollbar.scrollbarThickness-1);this.setPosition_(b,a.absoluteTop+.5);this.resizeContentVertical(a)};
Blockly.Scrollbar.prototype.resizeContentVertical=function(a){this.pair_||this.setVisible(this.scrollViewSize_<a.contentHeight);this.ratio_=this.scrollViewSize_/a.contentHeight;if(-Infinity==this.ratio_||Infinity==this.ratio_||isNaN(this.ratio_))this.ratio_=0;this.setHandleLength_(Math.max(0,a.viewHeight*this.ratio_));this.setHandlePosition(this.constrainHandle_((a.viewTop-a.contentTop)*this.ratio_))};
Blockly.Scrollbar.prototype.createDom_=function(a){var b="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");a&&(b+=" "+a);this.outerSvg_=Blockly.utils.createSvgElement("svg",{"class":b},null);this.svgGroup_=Blockly.utils.createSvgElement("g",{},this.outerSvg_);this.svgBackground_=Blockly.utils.createSvgElement("rect",{"class":"blocklyScrollbarBackground"},this.svgGroup_);a=Math.floor((Blockly.Scrollbar.scrollbarThickness-5)/2);this.svgHandle_=Blockly.utils.createSvgElement("rect",{"class":"blocklyScrollbarHandle",
rx:a,ry:a},this.svgGroup_);Blockly.utils.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())};Blockly.Scrollbar.prototype.isVisible=function(){return this.isVisible_};Blockly.Scrollbar.prototype.setContainerVisible=function(a){var b=a!=this.containerVisible_;this.containerVisible_=a;b&&this.updateDisplay_()};Blockly.Scrollbar.prototype.setVisible=function(a){var b=a!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=a;b&&this.updateDisplay_()};
Blockly.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")};
Blockly.Scrollbar.prototype.onMouseDownBar_=function(a){this.workspace_.markFocused();Blockly.Touch.clearTouchIdentifier();this.cleanUp_();if(Blockly.utils.isRightButton(a))a.stopPropagation();else{var b=Blockly.utils.mouseToSvg(a,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());b=this.horizontal_?b.x:b.y;var c=Blockly.utils.getInjectionDivXY_(this.svgHandle_);c=this.horizontal_?c.x:c.y;var d=this.handlePosition_,e=.95*this.handleLength_;b<=c?d-=e:b>=c+this.handleLength_&&(d+=
e);this.setHandlePosition(this.constrainHandle_(d));this.onScroll_();a.stopPropagation();a.preventDefault()}};
Blockly.Scrollbar.prototype.onMouseDownHandle_=function(a){this.workspace_.markFocused();this.cleanUp_();Blockly.utils.isRightButton(a)?a.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?a.clientX:a.clientY,Blockly.Scrollbar.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,this.onMouseUpHandle_),Blockly.Scrollbar.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.onMouseMoveHandle_),
a.stopPropagation(),a.preventDefault())};Blockly.Scrollbar.prototype.onMouseMoveHandle_=function(a){this.setHandlePosition(this.constrainHandle_(this.startDragHandle+((this.horizontal_?a.clientX:a.clientY)-this.startDragMouse_)));this.onScroll_()};Blockly.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface();Blockly.Touch.clearTouchIdentifier();this.cleanUp_()};
Blockly.Scrollbar.prototype.cleanUp_=function(){Blockly.hideChaff(!0);Blockly.Scrollbar.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseUpWrapper_),Blockly.Scrollbar.onMouseUpWrapper_=null);Blockly.Scrollbar.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseMoveWrapper_),Blockly.Scrollbar.onMouseMoveWrapper_=null)};
Blockly.Scrollbar.prototype.constrainHandle_=function(a){return a=0>=a||isNaN(a)||this.scrollViewSize_<this.handleLength_?0:Math.min(a,this.scrollViewSize_-this.handleLength_)};Blockly.Scrollbar.prototype.onScroll_=function(){var a=this.handlePosition_/this.scrollViewSize_;isNaN(a)&&(a=0);var b={};this.horizontal_?b.x=a:b.y=a;this.workspace_.setMetrics(b)};Blockly.Scrollbar.prototype.set=function(a){this.setHandlePosition(this.constrainHandle_(a*this.ratio_));this.onScroll_()};
Blockly.Scrollbar.prototype.setOrigin=function(a,b){this.origin_=new goog.math.Coordinate(a,b)};Blockly.TouchGesture=function(a,b){Blockly.TouchGesture.superClass_.constructor.call(this,a,b);this.isMultiTouch_=!1;this.cachedPoints_={};this.startDistance_=this.previousScale_=0;this.onStartWrapper_=null};goog.inherits(Blockly.TouchGesture,Blockly.Gesture);Blockly.TouchGesture.ZOOM_IN_MULTIPLIER=5;Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER=6;Blockly.TouchGesture.prototype.doStart=function(a){Blockly.TouchGesture.superClass_.doStart.call(this,a);!this.isEnding_&&Blockly.Touch.isTouchEvent(a)&&this.handleTouchStart(a)};
Blockly.TouchGesture.prototype.bindMouseEvents=function(a){this.onStartWrapper_=Blockly.bindEventWithChecks_(document,"mousedown",null,this.handleStart.bind(this),!0);this.onMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this),!0);this.onUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this),!0);a.preventDefault();a.stopPropagation()};
Blockly.TouchGesture.prototype.handleStart=function(a){!this.isDragging()&&Blockly.Touch.isTouchEvent(a)&&(this.handleTouchStart(a),this.isMultiTouch()&&Blockly.longStop_())};Blockly.TouchGesture.prototype.handleMove=function(a){this.isDragging()?Blockly.Touch.shouldHandleEvent(a)&&Blockly.TouchGesture.superClass_.handleMove.call(this,a):this.isMultiTouch()?(Blockly.Touch.isTouchEvent(a)&&this.handleTouchMove(a),Blockly.longStop_()):Blockly.TouchGesture.superClass_.handleMove.call(this,a)};
Blockly.TouchGesture.prototype.handleUp=function(a){Blockly.Touch.isTouchEvent(a)&&!this.isDragging()&&this.handleTouchEnd(a);!this.isMultiTouch()||this.isDragging()?Blockly.Touch.shouldHandleEvent(a)&&Blockly.TouchGesture.superClass_.handleUp.call(this,a):(a.preventDefault(),a.stopPropagation(),this.dispose())};Blockly.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_};
Blockly.TouchGesture.prototype.dispose=function(){Blockly.TouchGesture.superClass_.dispose.call(this);this.onStartWrapper_&&Blockly.unbindEvent_(this.onStartWrapper_)};Blockly.TouchGesture.prototype.handleTouchStart=function(a){var b=Blockly.Touch.getTouchIdentifierFromEvent(a);this.cachedPoints_[b]=this.getTouchPoint(a);b=Object.keys(this.cachedPoints_);2==b.length&&(this.startDistance_=goog.math.Coordinate.distance(this.cachedPoints_[b[0]],this.cachedPoints_[b[1]]),this.isMultiTouch_=!0,a.preventDefault())};
Blockly.TouchGesture.prototype.handleTouchMove=function(a){var b=Blockly.Touch.getTouchIdentifierFromEvent(a);this.cachedPoints_[b]=this.getTouchPoint(a);b=Object.keys(this.cachedPoints_);if(2==b.length){b=this.touchScale_=goog.math.Coordinate.distance(this.cachedPoints_[b[0]],this.cachedPoints_[b[1]])/this.startDistance_;if(0<this.previousScale_&&Infinity>this.previousScale_){var c=b-this.previousScale_;c=0<c?c*Blockly.TouchGesture.ZOOM_IN_MULTIPLIER:c*Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER;var d=
this.startWorkspace_,e=Blockly.utils.mouseToSvg(a,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(e.x,e.y,c)}this.previousScale_=b;a.preventDefault()}};Blockly.TouchGesture.prototype.handleTouchEnd=function(a){a=Blockly.Touch.getTouchIdentifierFromEvent(a);this.cachedPoints_[a]&&delete this.cachedPoints_[a];2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_={},this.previousScale_=0)};
Blockly.TouchGesture.prototype.getTouchPoint=function(a){return this.startWorkspace_?new goog.math.Coordinate(a.pageX?a.pageX:a.changedTouches[0].pageX,a.pageY?a.pageY:a.changedTouches[0].pageY):null};goog.math.Box=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};goog.math.Box.boundingBox=function(a){for(var b=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),c=1;c<arguments.length;c++)b.expandToIncludeCoordinate(arguments[c]);return b};goog.math.Box.prototype.getWidth=function(){return this.right-this.left};goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top};
goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)};goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"});goog.math.Box.prototype.contains=function(a){return goog.math.Box.contains(this,a)};
goog.math.Box.prototype.expand=function(a,b,c,d){goog.isObject(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(d));return this};goog.math.Box.prototype.expandToInclude=function(a){this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.right=Math.max(this.right,a.right);this.bottom=Math.max(this.bottom,a.bottom)};
goog.math.Box.prototype.expandToIncludeCoordinate=function(a){this.top=Math.min(this.top,a.y);this.right=Math.max(this.right,a.x);this.bottom=Math.max(this.bottom,a.y);this.left=Math.min(this.left,a.x)};goog.math.Box.equals=function(a,b){return a==b?!0:a&&b?a.top==b.top&&a.right==b.right&&a.bottom==b.bottom&&a.left==b.left:!1};
goog.math.Box.contains=function(a,b){return a&&b?b instanceof goog.math.Box?b.left>=a.left&&b.right<=a.right&&b.top>=a.top&&b.bottom<=a.bottom:b.x>=a.left&&b.x<=a.right&&b.y>=a.top&&b.y<=a.bottom:!1};goog.math.Box.relativePositionX=function(a,b){return b.x<a.left?b.x-a.left:b.x>a.right?b.x-a.right:0};goog.math.Box.relativePositionY=function(a,b){return b.y<a.top?b.y-a.top:b.y>a.bottom?b.y-a.bottom:0};
goog.math.Box.distance=function(a,b){var c=goog.math.Box.relativePositionX(a,b);a=goog.math.Box.relativePositionY(a,b);return Math.sqrt(c*c+a*a)};goog.math.Box.intersects=function(a,b){return a.left<=b.right&&b.left<=a.right&&a.top<=b.bottom&&b.top<=a.bottom};goog.math.Box.intersectsWithPadding=function(a,b,c){return a.left<=b.right+c&&b.left<=a.right+c&&a.top<=b.bottom+c&&b.top<=a.bottom+c};
goog.math.Box.prototype.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};goog.math.Box.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
goog.math.Box.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};goog.math.Box.prototype.translate=function(a,b){a instanceof goog.math.Coordinate?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(goog.asserts.assertNumber(a),this.left+=a,this.right+=a,goog.isNumber(b)&&(this.top+=b,this.bottom+=b));return this};
goog.math.Box.prototype.scale=function(a,b){b=goog.isNumber(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};goog.math.IRect=function(){};goog.math.Rect=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)};goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)};goog.math.Rect.createFromPositionAndSize=function(a,b){return new goog.math.Rect(a.x,a.y,b.width,b.height)};
goog.math.Rect.createFromBox=function(a){return new goog.math.Rect(a.left,a.top,a.right-a.left,a.bottom-a.top)};goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"});goog.math.Rect.equals=function(a,b){return a==b?!0:a&&b?a.left==b.left&&a.width==b.width&&a.top==b.top&&a.height==b.height:!1};
goog.math.Rect.prototype.intersection=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};
goog.math.Rect.intersection=function(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var e=Math.max(a.top,b.top);a=Math.min(a.top+a.height,b.top+b.height);if(e<=a)return new goog.math.Rect(c,e,d-c,a-e)}return null};goog.math.Rect.intersects=function(a,b){return a.left<=b.left+b.width&&b.left<=a.left+a.width&&a.top<=b.top+b.height&&b.top<=a.top+a.height};goog.math.Rect.prototype.intersects=function(a){return goog.math.Rect.intersects(this,a)};
goog.math.Rect.difference=function(a,b){var c=goog.math.Rect.intersection(a,b);if(!c||!c.height||!c.width)return[a.clone()];c=[];var d=a.top,e=a.height,f=a.left+a.width,h=a.top+a.height,g=b.left+b.width,k=b.top+b.height;b.top>a.top&&(c.push(new goog.math.Rect(a.left,a.top,a.width,b.top-a.top)),d=b.top,e-=b.top-a.top);k<h&&(c.push(new goog.math.Rect(a.left,k,a.width,h-k)),e=k-d);b.left>a.left&&c.push(new goog.math.Rect(a.left,d,b.left-a.left,e));g<f&&c.push(new goog.math.Rect(g,d,f-g,e));return c};
goog.math.Rect.prototype.difference=function(a){return goog.math.Rect.difference(this,a)};goog.math.Rect.prototype.boundingRect=function(a){var b=Math.max(this.left+this.width,a.left+a.width),c=Math.max(this.top+this.height,a.top+a.height);this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.width=b-this.left;this.height=c-this.top};goog.math.Rect.boundingRect=function(a,b){if(!a||!b)return null;a=new goog.math.Rect(a.left,a.top,a.width,a.height);a.boundingRect(b);return a};
goog.math.Rect.prototype.contains=function(a){return a instanceof goog.math.Coordinate?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};goog.math.Rect.prototype.squaredDistance=function(a){var b=a.x<this.left?this.left-a.x:Math.max(a.x-(this.left+this.width),0);a=a.y<this.top?this.top-a.y:Math.max(a.y-(this.top+this.height),0);return b*b+a*a};
goog.math.Rect.prototype.distance=function(a){return Math.sqrt(this.squaredDistance(a))};goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)};goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)};goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)};
goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)};goog.math.Rect.prototype.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};goog.math.Rect.prototype.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
goog.math.Rect.prototype.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};goog.math.Rect.prototype.translate=function(a,b){a instanceof goog.math.Coordinate?(this.left+=a.x,this.top+=a.y):(this.left+=goog.asserts.assertNumber(a),goog.isNumber(b)&&(this.top+=b));return this};
goog.math.Rect.prototype.scale=function(a,b){b=goog.isNumber(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};Blockly.Trashcan=function(a){this.workspace_=a};Blockly.Trashcan.prototype.WIDTH_=47;Blockly.Trashcan.prototype.BODY_HEIGHT_=44;Blockly.Trashcan.prototype.LID_HEIGHT_=16;Blockly.Trashcan.prototype.MARGIN_BOTTOM_=20;Blockly.Trashcan.prototype.MARGIN_SIDE_=20;Blockly.Trashcan.prototype.MARGIN_HOTSPOT_=10;Blockly.Trashcan.prototype.SPRITE_LEFT_=0;Blockly.Trashcan.prototype.SPRITE_TOP_=32;Blockly.Trashcan.prototype.isOpen=!1;Blockly.Trashcan.prototype.svgGroup_=null;
Blockly.Trashcan.prototype.svgLid_=null;Blockly.Trashcan.prototype.lidTask_=0;Blockly.Trashcan.prototype.lidOpen_=0;Blockly.Trashcan.prototype.left_=0;Blockly.Trashcan.prototype.top_=0;
Blockly.Trashcan.prototype.createDom=function(){this.svgGroup_=Blockly.utils.createSvgElement("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=Blockly.utils.createSvgElement("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.svgGroup_);Blockly.utils.createSvgElement("rect",{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},b);Blockly.utils.createSvgElement("image",{width:Blockly.SPRITE.width,x:-this.SPRITE_LEFT_,height:Blockly.SPRITE.height,y:-this.SPRITE_TOP_,
"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.svgGroup_).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url);b=Blockly.utils.createSvgElement("clipPath",{id:"blocklyTrashLidClipPath"+a},this.svgGroup_);Blockly.utils.createSvgElement("rect",{width:this.WIDTH_,height:this.LID_HEIGHT_},b);this.svgLid_=Blockly.utils.createSvgElement("image",{width:Blockly.SPRITE.width,x:-this.SPRITE_LEFT_,height:Blockly.SPRITE.height,y:-this.SPRITE_TOP_,
"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.svgGroup_);this.svgLid_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.click);this.animateLid_();return this.svgGroup_};Blockly.Trashcan.prototype.init=function(a){this.bottom_=this.MARGIN_BOTTOM_+a;this.setOpen_(!1);return this.bottom_+this.BODY_HEIGHT_+this.LID_HEIGHT_};
Blockly.Trashcan.prototype.dispose=function(){this.svgGroup_&&(Blockly.utils.removeNode(this.svgGroup_),this.svgGroup_=null);this.workspace_=this.svgLid_=null;clearTimeout(this.lidTask_)};
Blockly.Trashcan.prototype.position=function(){var a=this.workspace_.getMetrics();a&&(this.workspace_.RTL?(this.left_=this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,a.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(this.left_+=a.flyoutWidth,this.workspace_.toolbox_&&(this.left_+=a.absoluteLeft))):(this.left_=a.viewWidth+a.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness,a.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(this.left_-=a.flyoutWidth)),this.top_=a.viewHeight+
a.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-this.bottom_,a.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM&&(this.top_-=a.flyoutHeight),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))};
Blockly.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var a=this.svgGroup_.getBoundingClientRect();return new goog.math.Rect(a.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,a.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_,this.WIDTH_+2*this.MARGIN_HOTSPOT_,this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_)};Blockly.Trashcan.prototype.setOpen_=function(a){this.isOpen!=a&&(clearTimeout(this.lidTask_),this.isOpen=a,this.animateLid_())};
Blockly.Trashcan.prototype.animateLid_=function(){this.lidOpen_+=this.isOpen?.2:-.2;this.lidOpen_=Math.min(Math.max(this.lidOpen_,0),1);var a=45*this.lidOpen_;this.svgLid_.setAttribute("transform","rotate("+(this.workspace_.RTL?-a:a)+","+(this.workspace_.RTL?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")");this.svgGroup_.style.opacity=.4+.4*this.lidOpen_;0<this.lidOpen_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),20))};Blockly.Trashcan.prototype.close=function(){this.setOpen_(!1)};
Blockly.Trashcan.prototype.click=function(){var a=this.workspace_.startScrollX-this.workspace_.scrollX,b=this.workspace_.startScrollY-this.workspace_.scrollY;Math.sqrt(a*a+b*b)>Blockly.DRAG_RADIUS||console.log("TODO: Inspect trash.")};Blockly.VariableModel=function(a,b,c,d){this.workspace=a;this.name=b;this.type=c||"";this.id_=d||Blockly.utils.genUid();Blockly.Events.fire(new Blockly.Events.VarCreate(this))};Blockly.VariableModel.prototype.getId=function(){return this.id_};Blockly.VariableModel.compareByName=function(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};Blockly.Variables={};Blockly.Variables.NAME_TYPE=Blockly.VARIABLE_CATEGORY_NAME;Blockly.Variables.allUsedVarModels=function(a){var b=a.getAllBlocks(!1);a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].getVarModels();if(d)for(var e=0;e<d.length;e++){var f=d[e];f.getId()&&(a[f.getId()]=f)}}b=[];for(var h in a)b.push(a[h]);return b};Blockly.Variables.allUsedVariables=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};
Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={};
Blockly.Variables.allDeveloperVariables=function(a){var b=a.getAllBlocks(!1);a={};for(var c=0;c<b.length;c++){var d=b[c],e=d.getDeveloperVariables;!e&&d.getDeveloperVars&&(e=d.getDeveloperVars,Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[d.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+d.type+"')"),Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[d.type]=!0));if(e)for(d=e(),e=0;e<d.length;e++)a[d[e]]=d[e]}b=[];for(var f in a)b.push(a[f]);
return b};Blockly.Variables.flyoutCategory=function(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");a.registerButtonCallback("CREATE_VARIABLE",function(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace())});b.push(c);a=Blockly.Variables.flyoutCategoryBlocks(a);return b=b.concat(a)};
Blockly.Variables.flyoutCategoryBlocks=function(a){a=a.getVariablesOfType("");a.sort(Blockly.VariableModel.compareByName);var b=[];if(0<a.length){var c=a[0];if(Blockly.Blocks.variables_set){var d=Blockly.Blocks.math_change?8:24;d='<xml><block type="variables_set" gap="'+d+'">'+Blockly.Variables.generateVariableFieldXmlString(c)+"</block></xml>";d=Blockly.Xml.textToDom(d).firstChild;b.push(d)}Blockly.Blocks.math_change&&(d=Blockly.Blocks.variables_get?20:8,d='<xml><block type="math_change" gap="'+
d+'">'+Blockly.Variables.generateVariableFieldXmlString(c)+'<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></xml>',d=Blockly.Xml.textToDom(d).firstChild,b.push(d));for(c=0;d=a[c];c++)Blockly.Blocks.variables_get&&(d='<xml><block type="variables_get" gap="8">'+Blockly.Variables.generateVariableFieldXmlString(d)+"</block></xml>",d=Blockly.Xml.textToDom(d).firstChild,b.push(d))}return b};
Blockly.Variables.generateUniqueName=function(a){a=a.getAllVariables();var b="";if(a.length)for(var c=1,d=0,e="ijkmnopqrstuvwxyzabcdefgh".charAt(d);!b;){for(var f=!1,h=0;h<a.length;h++)if(a[h].name.toLowerCase()==e){f=!0;break}f?(d++,25==d&&(d=0,c++),e="ijkmnopqrstuvwxyzabcdefgh".charAt(d),1<c&&(e+=c)):b=e}else b="i";return b};
Blockly.Variables.createVariableButtonHandler=function(a,b,c){var d=c||"",e=function(c){Blockly.Variables.promptName(Blockly.Msg.NEW_VARIABLE_TITLE,c,function(c){if(c){var f=Blockly.Variables.nameUsedWithAnyType_(c,a);if(f){var h=c.toLowerCase();if(f.type==d)var p=Blockly.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",h);else p=Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,p=p.replace("%1",h).replace("%2",f.type);Blockly.alert(p,function(){e(c)})}else a.createVariable(c,d),b&&b(c)}else b&&b(null)})};
e("")};goog.exportSymbol("Blockly.Variables.createVariableButtonHandler",Blockly.Variables.createVariableButtonHandler);Blockly.Variables.createVariable=Blockly.Variables.createVariableButtonHandler;goog.exportSymbol("Blockly.Variables.createVariable",Blockly.Variables.createVariable);
Blockly.Variables.renameVariable=function(a,b,c){var d=function(e){var f=Blockly.Msg.RENAME_VARIABLE_TITLE.replace("%1",b.name);Blockly.Variables.promptName(f,e,function(e){if(e){var f=Blockly.Variables.nameUsedWithOtherType_(e,b.type,a);f?(f=Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",e.toLowerCase()).replace("%2",f.type),Blockly.alert(f,function(){d(e)})):(a.renameVariableById(b.getId(),e),c&&c(e))}else c&&c(null)})};d("")};
Blockly.Variables.promptName=function(a,b,c){Blockly.prompt(a,b,function(a){a&&(a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),a==Blockly.Msg.RENAME_VARIABLE||a==Blockly.Msg.NEW_VARIABLE)&&(a=null);c(a)})};Blockly.Variables.nameUsedWithOtherType_=function(a,b,c){c=c.getVariableMap().getAllVariables();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a&&e.type!=b)return e;return null};
Blockly.Variables.nameUsedWithAnyType_=function(a,b){b=b.getVariableMap().getAllVariables();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null};Blockly.Variables.generateVariableFieldXmlString=function(a){var b=a.type;""==b&&(b="''");return'<field name="VAR" id="'+a.getId()+'" variabletype="'+goog.string.htmlEscape(b)+'">'+goog.string.htmlEscape(a.name)+"</field>"};
Blockly.Variables.generateVariableFieldDom=function(a){a=Blockly.Variables.generateVariableFieldXmlString(a);return Blockly.Xml.textToDom("<xml>"+a+"</xml>").firstChild};Blockly.Variables.getOrCreateVariablePackage=function(a,b,c,d){var e=Blockly.Variables.getVariable(a,b,c,d);e||(e=Blockly.Variables.createVariable_(a,b,c,d));return e};
Blockly.Variables.getVariable=function(a,b,c,d){var e=a.getPotentialVariableMap();if(b){var f=a.getVariableById(b);!f&&e&&(f=e.getVariableById(b))}else if(c){if(void 0==d)throw Error("Tried to look up a variable by name without a type");f=a.getVariable(c,d);!f&&e&&(f=e.getVariable(c,d))}return f};
Blockly.Variables.createVariable_=function(a,b,c,d){var e=a.getPotentialVariableMap();c||(c=Blockly.Variables.generateUniqueName(a.isFlyout?a.targetWorkspace:a));return e?e.createVariable(c,d,b):a.createVariable(c,d,b)};Blockly.Variables.getAddedVariables=function(a,b){a=a.getAllVariables();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var e=a[d];-1==b.indexOf(e)&&c.push(e)}return c};Blockly.VariablesDynamic={};Blockly.VariablesDynamic.onCreateVariableButtonClick_String=function(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(),null,"String")};Blockly.VariablesDynamic.onCreateVariableButtonClick_Number=function(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(),null,"Number")};Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour=function(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(),null,"Colour")};
Blockly.VariablesDynamic.flyoutCategory=function(a){var b=[],c=document.createElement("button");c.setAttribute("text",Blockly.Msg.NEW_STRING_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(c);c=document.createElement("button");c.setAttribute("text",Blockly.Msg.NEW_NUMBER_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(c);c=document.createElement("button");c.setAttribute("text",Blockly.Msg.NEW_COLOUR_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");
b.push(c);a.registerButtonCallback("CREATE_VARIABLE_STRING",Blockly.VariablesDynamic.onCreateVariableButtonClick_String);a.registerButtonCallback("CREATE_VARIABLE_NUMBER",Blockly.VariablesDynamic.onCreateVariableButtonClick_Number);a.registerButtonCallback("CREATE_VARIABLE_COLOUR",Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour);a=Blockly.VariablesDynamic.flyoutCategoryBlocks(a);return b=b.concat(a)};
Blockly.VariablesDynamic.flyoutCategoryBlocks=function(a){a=a.getAllVariables();a.sort(Blockly.VariableModel.compareByName);var b=[];if(0<a.length){if(Blockly.Blocks.variables_set_dynamic){var c='<xml><block type="variables_set_dynamic" gap="24">'+Blockly.Variables.generateVariableFieldXmlString(a[0])+"</block></xml>";c=Blockly.Xml.textToDom(c).firstChild;b.push(c)}if(Blockly.Blocks.variables_get_dynamic)for(var d=0;c=a[d];d++)c='<xml><block type="variables_get_dynamic" gap="8">'+Blockly.Variables.generateVariableFieldXmlString(c)+
"</block></xml>",c=Blockly.Xml.textToDom(c).firstChild,b.push(c)}return b};Blockly.WorkspaceAudio=function(a){this.parentWorkspace_=a;this.SOUNDS_=Object.create(null)};Blockly.WorkspaceAudio.prototype.lastSound_=null;Blockly.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null};Blockly.WorkspaceAudio.prototype.load=function(a,b){if(a.length){try{var c=new window.Audio}catch(g){return}for(var d,e=0;e<a.length;e++){var f=a[e],h=f.match(/\.(\w+)$/);if(h&&c.canPlayType("audio/"+h[1])){d=new window.Audio(f);break}}d&&d.play&&(this.SOUNDS_[b]=d)}};
Blockly.WorkspaceAudio.prototype.preload=function(){for(var a in this.SOUNDS_){var b=this.SOUNDS_[a];b.volume=.01;b.play();b.pause();if(goog.userAgent.IPAD||goog.userAgent.IPHONE)break}};
Blockly.WorkspaceAudio.prototype.play=function(a,b){var c=this.SOUNDS_[a];c?(a=new Date,null!=this.lastSound_&&a-this.lastSound_<Blockly.SOUND_LIMIT||(this.lastSound_=a,c=goog.userAgent.DOCUMENT_MODE&&9===goog.userAgent.DOCUMENT_MODE||goog.userAgent.IPAD||goog.userAgent.ANDROID?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(a,b)};Blockly.WorkspaceCommentSvg.render={};Blockly.WorkspaceCommentSvg.RESIZE_SIZE=8;Blockly.WorkspaceCommentSvg.BORDER_RADIUS=3;Blockly.WorkspaceCommentSvg.TEXTAREA_OFFSET=2;Blockly.WorkspaceCommentSvg.TOP_OFFSET=10;Blockly.WorkspaceCommentSvg.prototype.getHeightWidth=function(){return{width:this.getWidth(),height:this.getHeight()}};
Blockly.WorkspaceCommentSvg.prototype.render=function(){if(!this.rendered_){var a=this.getHeightWidth();this.createEditor_();this.svgGroup_.appendChild(this.foreignObject_);this.svgHandleTarget_=Blockly.utils.createSvgElement("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.svgGroup_.appendChild(this.svgHandleTarget_);this.svgRectTarget_=Blockly.utils.createSvgElement("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:Blockly.WorkspaceCommentSvg.BORDER_RADIUS,ry:Blockly.WorkspaceCommentSvg.BORDER_RADIUS});
this.svgGroup_.appendChild(this.svgRectTarget_);this.addResizeDom_();this.isDeletable()&&this.addDeleteDom_();this.setSize_(a.width,a.height);this.textarea_.value=this.content_;this.rendered_=!0;this.resizeGroup_&&Blockly.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_);this.isDeletable()&&(Blockly.bindEventWithChecks_(this.deleteGroup_,"mousedown",this,this.deleteMouseDown_),Blockly.bindEventWithChecks_(this.deleteGroup_,"mouseout",this,this.deleteMouseOut_),Blockly.bindEventWithChecks_(this.deleteGroup_,
"mouseup",this,this.deleteMouseUp_))}};
Blockly.WorkspaceCommentSvg.prototype.createEditor_=function(){this.foreignObject_=Blockly.utils.createSvgElement("foreignObject",{x:0,y:Blockly.WorkspaceCommentSvg.TOP_OFFSET,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(Blockly.HTML_NS,"body");a.setAttribute("xmlns",Blockly.HTML_NS);a.className="blocklyMinimalBody";var b=document.createElementNS(Blockly.HTML_NS,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.RTL?"RTL":"LTR");a.appendChild(b);
this.textarea_=b;this.foreignObject_.appendChild(a);Blockly.bindEventWithChecks_(b,"wheel",this,function(a){a.stopPropagation()});Blockly.bindEventWithChecks_(b,"change",this,function(a){this.setContent(b.value)});return this.foreignObject_};
Blockly.WorkspaceCommentSvg.prototype.addResizeDom_=function(){this.resizeGroup_=Blockly.utils.createSvgElement("g",{"class":this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup_);var a=Blockly.WorkspaceCommentSvg.RESIZE_SIZE;Blockly.utils.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,a.toString())},this.resizeGroup_);Blockly.utils.createSvgElement("line",{"class":"blocklyResizeLine",x1:a/3,y1:a-1,x2:a-1,y2:a/3},this.resizeGroup_);Blockly.utils.createSvgElement("line",{"class":"blocklyResizeLine",
x1:2*a/3,y1:a-1,x2:a-1,y2:2*a/3},this.resizeGroup_)};
Blockly.WorkspaceCommentSvg.prototype.addDeleteDom_=function(){this.deleteGroup_=Blockly.utils.createSvgElement("g",{"class":"blocklyCommentDeleteIcon"},this.svgGroup_);this.deleteIconBorder_=Blockly.utils.createSvgElement("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup_);Blockly.utils.createSvgElement("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup_);Blockly.utils.createSvgElement("line",{x1:"5",y1:"5",x2:"10",y2:"10",
stroke:"#fff","stroke-width":"2"},this.deleteGroup_)};
Blockly.WorkspaceCommentSvg.prototype.resizeMouseDown_=function(a){this.unbindDragEvents_();Blockly.utils.isRightButton(a)||(this.workspace.startDrag(a,new goog.math.Coordinate(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,this.resizeMouseUp_),this.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.resizeMouseMove_),Blockly.hideChaff());a.stopPropagation()};
Blockly.WorkspaceCommentSvg.prototype.deleteMouseDown_=function(a){Blockly.utils.addClass(this.deleteIconBorder_,"blocklyDeleteIconHighlighted");a.stopPropagation()};Blockly.WorkspaceCommentSvg.prototype.deleteMouseOut_=function(){Blockly.utils.removeClass(this.deleteIconBorder_,"blocklyDeleteIconHighlighted")};Blockly.WorkspaceCommentSvg.prototype.deleteMouseUp_=function(a){this.dispose(!0,!0);a.stopPropagation()};
Blockly.WorkspaceCommentSvg.prototype.unbindDragEvents_=function(){this.onMouseUpWrapper_&&(Blockly.unbindEvent_(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null);this.onMouseMoveWrapper_&&(Blockly.unbindEvent_(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)};Blockly.WorkspaceCommentSvg.prototype.resizeMouseUp_=function(){Blockly.Touch.clearTouchIdentifier();this.unbindDragEvents_()};
Blockly.WorkspaceCommentSvg.prototype.resizeMouseMove_=function(a){this.autoLayout_=!1;a=this.workspace.moveDrag(a);this.setSize_(this.RTL?-a.x:a.x,a.y)};
Blockly.WorkspaceCommentSvg.prototype.resizeComment_=function(){var a=this.getHeightWidth(),b=Blockly.WorkspaceCommentSvg.TOP_OFFSET,c=2*Blockly.WorkspaceCommentSvg.TEXTAREA_OFFSET;this.foreignObject_.setAttribute("width",a.width);this.foreignObject_.setAttribute("height",a.height-b);this.RTL&&this.foreignObject_.setAttribute("x",-a.width);this.textarea_.style.width=a.width-c+"px";this.textarea_.style.height=a.height-c-b+"px"};
Blockly.WorkspaceCommentSvg.prototype.setSize_=function(a,b){a=Math.max(a,45);b=Math.max(b,20+Blockly.WorkspaceCommentSvg.TOP_OFFSET);this.width_=a;this.height_=b;this.svgRect_.setAttribute("width",a);this.svgRect_.setAttribute("height",b);this.svgRectTarget_.setAttribute("width",a);this.svgRectTarget_.setAttribute("height",b);this.svgHandleTarget_.setAttribute("width",a);this.svgHandleTarget_.setAttribute("height",Blockly.WorkspaceCommentSvg.TOP_OFFSET);this.RTL&&(this.svgRect_.setAttribute("transform",
"scale(-1 1)"),this.svgRectTarget_.setAttribute("transform","scale(-1 1)"));var c=Blockly.WorkspaceCommentSvg.RESIZE_SIZE;this.resizeGroup_&&(this.RTL?(this.resizeGroup_.setAttribute("transform","translate("+(-a+c)+","+(b-c)+") scale(-1 1)"),this.deleteGroup_.setAttribute("transform","translate("+(-a+c)+","+-c+") scale(-1 1)")):(this.resizeGroup_.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"),this.deleteGroup_.setAttribute("transform","translate("+(a-c)+","+-c+")")));this.resizeComment_()};
Blockly.WorkspaceCommentSvg.prototype.disposeInternal_=function(){this.svgHandleTarget_=this.svgRectTarget_=this.foreignObject_=this.textarea_=null};Blockly.WorkspaceCommentSvg.prototype.setFocus=function(){var a=this;this.focused_=!0;setTimeout(function(){a.textarea_.focus();a.addFocus();Blockly.utils.addClass(a.svgRectTarget_,"blocklyCommentTargetFocused");Blockly.utils.addClass(a.svgHandleTarget_,"blocklyCommentHandleTargetFocused")},0)};
Blockly.WorkspaceCommentSvg.prototype.blurFocus=function(){var a=this;this.focused_=!1;setTimeout(function(){a.textarea_.blur();a.removeFocus();Blockly.utils.removeClass(a.svgRectTarget_,"blocklyCommentTargetFocused");Blockly.utils.removeClass(a.svgHandleTarget_,"blocklyCommentHandleTargetFocused")},0)};Blockly.WorkspaceDragSurfaceSvg=function(a){this.container_=a;this.createDom()};Blockly.WorkspaceDragSurfaceSvg.prototype.SVG_=null;Blockly.WorkspaceDragSurfaceSvg.prototype.dragGroup_=null;Blockly.WorkspaceDragSurfaceSvg.prototype.container_=null;
Blockly.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=Blockly.utils.createSvgElement("svg",{xmlns:Blockly.SVG_NS,"xmlns:html":Blockly.HTML_NS,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))};
Blockly.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.SVG_.style.display="block";Blockly.utils.setCssTransform(this.SVG_,"translate3d("+a+"px, "+b+"px, 0px)")};Blockly.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return Blockly.utils.getRelativeXY(this.SVG_)};
Blockly.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.SVG_.childNodes[0],c=this.SVG_.childNodes[1];if(!(b&&c&&Blockly.utils.hasClass(b,"blocklyBlockCanvas")&&Blockly.utils.hasClass(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.previousSibling_?Blockly.utils.insertAfter(b,this.previousSibling_):a.insertBefore(b,a.firstChild);
Blockly.utils.insertAfter(c,b);this.SVG_.style.display="none";if(this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");Blockly.utils.setCssTransform(this.SVG_,"");this.previousSibling_=null};
Blockly.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(a,b,c,d,e,f){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=c;a.setAttribute("transform","translate(0, 0) scale("+f+")");b.setAttribute("transform","translate(0, 0) scale("+f+")");this.SVG_.setAttribute("width",d);this.SVG_.setAttribute("height",e);this.SVG_.appendChild(a);this.SVG_.appendChild(b);this.SVG_.style.display="block"};/*

 Visual Blocks Editor

 Copyright 2015 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.ZoomControls=function(a){this.workspace_=a};Blockly.ZoomControls.prototype.WIDTH_=32;Blockly.ZoomControls.prototype.HEIGHT_=110;Blockly.ZoomControls.prototype.MARGIN_BOTTOM_=20;Blockly.ZoomControls.prototype.MARGIN_SIDE_=20;Blockly.ZoomControls.prototype.svgGroup_=null;Blockly.ZoomControls.prototype.left_=0;Blockly.ZoomControls.prototype.top_=0;
Blockly.ZoomControls.prototype.createDom=function(){this.svgGroup_=Blockly.utils.createSvgElement("g",{"class":"blocklyZoom"},null);var a=String(Math.random()).substring(2);this.createZoomOutSvg_(a);this.createZoomInSvg_(a);this.createZoomResetSvg_(a);return this.svgGroup_};Blockly.ZoomControls.prototype.init=function(a){this.bottom_=this.MARGIN_BOTTOM_+a;return this.bottom_+this.HEIGHT_};
Blockly.ZoomControls.prototype.dispose=function(){this.svgGroup_&&(Blockly.utils.removeNode(this.svgGroup_),this.svgGroup_=null);this.workspace_=null};
Blockly.ZoomControls.prototype.position=function(){var a=this.workspace_.getMetrics();a&&(this.workspace_.RTL?(this.left_=this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,a.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(this.left_+=a.flyoutWidth,this.workspace_.toolbox_&&(this.left_+=a.absoluteLeft))):(this.left_=a.viewWidth+a.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness,a.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(this.left_-=a.flyoutWidth)),this.top_=a.viewHeight+
a.absoluteTop-this.HEIGHT_-this.bottom_,a.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM&&(this.top_-=a.flyoutHeight),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))};
Blockly.ZoomControls.prototype.createZoomOutSvg_=function(a){var b=this.workspace_,c=Blockly.utils.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+a},this.svgGroup_);Blockly.utils.createSvgElement("rect",{width:32,height:32,y:77},c);a=Blockly.utils.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-64,y:-15,"clip-path":"url(#blocklyZoomoutClipPath"+a+")"},this.svgGroup_);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b.options.pathToMedia+Blockly.SPRITE.url);
Blockly.bindEventWithChecks_(a,"mousedown",null,function(a){b.markFocused();b.zoomCenter(-1);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()})};
Blockly.ZoomControls.prototype.createZoomInSvg_=function(a){var b=this.workspace_,c=Blockly.utils.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+a},this.svgGroup_);Blockly.utils.createSvgElement("rect",{width:32,height:32,y:43},c);a=Blockly.utils.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-32,y:-49,"clip-path":"url(#blocklyZoominClipPath"+a+")"},this.svgGroup_);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b.options.pathToMedia+Blockly.SPRITE.url);
Blockly.bindEventWithChecks_(a,"mousedown",null,function(a){b.markFocused();b.zoomCenter(1);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()})};
Blockly.ZoomControls.prototype.createZoomResetSvg_=function(a){var b=this.workspace_,c=Blockly.utils.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+a},this.svgGroup_);Blockly.utils.createSvgElement("rect",{width:32,height:32},c);a=Blockly.utils.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+a+")"},this.svgGroup_);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b.options.pathToMedia+Blockly.SPRITE.url);
Blockly.bindEventWithChecks_(a,"mousedown",null,function(a){b.markFocused();b.setScale(b.options.zoomOptions.startScale);b.beginCanvasTransition();b.scrollCenter();setTimeout(function(){b.endCanvasTransition()},500);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()})};/*

 Visual Blocks Editor

 Copyright 2014 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.WorkspaceSvg=function(a,b,c){Blockly.WorkspaceSvg.superClass_.constructor.call(this,a);this.getMetrics=a.getMetrics||Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_;this.setMetrics=a.setMetrics||Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_;Blockly.ConnectionDB.init(this);b&&(this.blockDragSurface_=b);c&&(this.workspaceDragSurface_=c);this.useWorkspaceDragSurface_=this.workspaceDragSurface_&&Blockly.utils.is3dSupported();this.highlightedBlocks_=[];this.audioManager_=new Blockly.WorkspaceAudio(a.parentWorkspace);
this.grid_=this.options.gridPattern?new Blockly.Grid(a.gridPattern,a.gridOptions):null;Blockly.Variables&&Blockly.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.VARIABLE_CATEGORY_NAME,Blockly.Variables.flyoutCategory);Blockly.VariablesDynamic&&Blockly.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME,Blockly.VariablesDynamic.flyoutCategory);Blockly.Procedures&&Blockly.Procedures.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.PROCEDURE_CATEGORY_NAME,
Blockly.Procedures.flyoutCategory)};goog.inherits(Blockly.WorkspaceSvg,Blockly.Workspace);Blockly.WorkspaceSvg.prototype.resizeHandlerWrapper_=null;Blockly.WorkspaceSvg.prototype.rendered=!0;Blockly.WorkspaceSvg.prototype.isVisible_=!0;Blockly.WorkspaceSvg.prototype.isFlyout=!1;Blockly.WorkspaceSvg.prototype.isMutator=!1;Blockly.WorkspaceSvg.prototype.resizesEnabled_=!0;Blockly.WorkspaceSvg.prototype.scrollX=0;Blockly.WorkspaceSvg.prototype.scrollY=0;Blockly.WorkspaceSvg.prototype.startScrollX=0;
Blockly.WorkspaceSvg.prototype.startScrollY=0;Blockly.WorkspaceSvg.prototype.dragDeltaXY_=null;Blockly.WorkspaceSvg.prototype.scale=1;Blockly.WorkspaceSvg.prototype.trashcan=null;Blockly.WorkspaceSvg.prototype.scrollbar=null;Blockly.WorkspaceSvg.prototype.currentGesture_=null;Blockly.WorkspaceSvg.prototype.blockDragSurface_=null;Blockly.WorkspaceSvg.prototype.workspaceDragSurface_=null;Blockly.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1;Blockly.WorkspaceSvg.prototype.isDragSurfaceActive_=!1;
Blockly.WorkspaceSvg.prototype.injectionDiv_=null;Blockly.WorkspaceSvg.prototype.lastRecordedPageScroll_=null;Blockly.WorkspaceSvg.prototype.flyoutButtonCallbacks_={};Blockly.WorkspaceSvg.prototype.toolboxCategoryCallbacks_={};Blockly.WorkspaceSvg.prototype.configureContextMenu=null;Blockly.WorkspaceSvg.prototype.targetWorkspace=null;Blockly.WorkspaceSvg.prototype.inverseScreenCTM_=null;Blockly.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0;
Blockly.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var a=this.getParentSvg().getScreenCTM();a&&(this.inverseScreenCTM_=a.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_};Blockly.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0};Blockly.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_};
Blockly.WorkspaceSvg.prototype.getSvgXY=function(a){var b=0,c=0,d=1;if(Blockly.utils.containsNode(this.getCanvas(),a)||Blockly.utils.containsNode(this.getBubbleCanvas(),a))d=this.scale;do{var e=Blockly.utils.getRelativeXY(a);if(a==this.getCanvas()||a==this.getBubbleCanvas())d=1;b+=e.x*d;c+=e.y*d;a=a.parentNode}while(a&&a!=this.getParentSvg());return new goog.math.Coordinate(b,c)};Blockly.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return Blockly.utils.getInjectionDivXY_(this.svgBlockCanvas_)};
Blockly.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var a=this.svgGroup_;a;){if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=a;break}a=a.parentNode}return this.injectionDiv_};Blockly.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(a){this.resizeHandlerWrapper_=a};
Blockly.WorkspaceSvg.prototype.createDom=function(a){this.svgGroup_=Blockly.utils.createSvgElement("g",{"class":"blocklyWorkspace"},null);a&&(this.svgBackground_=Blockly.utils.createSvgElement("rect",{height:"100%",width:"100%","class":a},this.svgGroup_),"blocklyMainBackground"==a&&this.grid_&&(this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")"));this.svgBlockCanvas_=Blockly.utils.createSvgElement("g",{"class":"blocklyBlockCanvas"},this.svgGroup_);this.svgBubbleCanvas_=Blockly.utils.createSvgElement("g",
{"class":"blocklyBubbleCanvas"},this.svgGroup_);a=Blockly.Scrollbar.scrollbarThickness;this.options.hasTrashcan&&(a=this.addTrashcan_(a));this.options.zoomOptions&&this.options.zoomOptions.controls&&this.addZoomControls_(a);this.isFlyout||(Blockly.bindEventWithChecks_(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),this.options.zoomOptions&&this.options.zoomOptions.wheel&&Blockly.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.onMouseWheel_));this.options.hasCategories&&(this.toolbox_=
new Blockly.Toolbox(this));this.grid_&&this.grid_.update(this.scale);this.recordDeleteAreas();return this.svgGroup_};
Blockly.WorkspaceSvg.prototype.dispose=function(){this.rendered=!1;this.currentGesture_&&this.currentGesture_.cancel();Blockly.WorkspaceSvg.superClass_.dispose.call(this);this.svgGroup_&&(Blockly.utils.removeNode(this.svgGroup_),this.svgGroup_=null);this.svgBubbleCanvas_=this.svgBlockCanvas_=null;this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null);this.flyout_&&(this.flyout_.dispose(),this.flyout_=null);this.trashcan&&(this.trashcan.dispose(),this.trashcan=null);this.scrollbar&&(this.scrollbar.dispose(),
this.scrollbar=null);this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null);this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null);this.grid_&&(this.grid_.dispose(),this.grid_=null);this.toolboxCategoryCallbacks_&&(this.toolboxCategoryCallbacks_=null);this.flyoutButtonCallbacks_&&(this.flyoutButtonCallbacks_=null);if(!this.options.parentWorkspace){var a=this.getParentSvg().parentNode;a&&Blockly.utils.removeNode(a)}this.resizeHandlerWrapper_&&(Blockly.unbindEvent_(this.resizeHandlerWrapper_),
this.resizeHandlerWrapper_=null)};Blockly.WorkspaceSvg.prototype.newBlock=function(a,b){return new Blockly.BlockSvg(this,a,b)};Blockly.WorkspaceSvg.prototype.addTrashcan_=function(a){this.trashcan=new Blockly.Trashcan(this);var b=this.trashcan.createDom();this.svgGroup_.insertBefore(b,this.svgBlockCanvas_);return this.trashcan.init(a)};
Blockly.WorkspaceSvg.prototype.addZoomControls_=function(a){this.zoomControls_=new Blockly.ZoomControls(this);var b=this.zoomControls_.createDom();this.svgGroup_.appendChild(b);return this.zoomControls_.init(a)};
Blockly.WorkspaceSvg.prototype.addFlyout_=function(a){var b={disabledPatternId:this.options.disabledPatternId,parentWorkspace:this,RTL:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,toolboxPosition:this.options.toolboxPosition};this.flyout_=null;this.flyout_=this.horizontalLayout?new Blockly.HorizontalFlyout(b):new Blockly.VerticalFlyout(b);this.flyout_.autoClose=!1;return this.flyout_.createDom(a)};
Blockly.WorkspaceSvg.prototype.getFlyout_=function(){return this.flyout_?this.flyout_:this.toolbox_?this.toolbox_.flyout_:null};Blockly.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_};Blockly.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM();this.recordDeleteAreas()};Blockly.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())};
Blockly.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position();this.flyout_&&this.flyout_.position();this.trashcan&&this.trashcan.position();this.zoomControls_&&this.zoomControls_.position();this.scrollbar&&this.scrollbar.resize();this.updateScreenCalculations_()};Blockly.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var a=goog.dom.getDocumentScroll();goog.math.Coordinate.equals(this.lastRecordedPageScroll_,a)||(this.lastRecordedPageScroll_=a,this.updateScreenCalculations_())};
Blockly.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_};Blockly.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_};Blockly.WorkspaceSvg.prototype.getParentSvg=function(){if(this.cachedParentSvg_)return this.cachedParentSvg_;for(var a=this.svgGroup_;a;){if("svg"==a.tagName)return this.cachedParentSvg_=a;a=a.parentNode}return null};
Blockly.WorkspaceSvg.prototype.translate=function(a,b){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",c);this.svgBubbleCanvas_.setAttribute("transform",c)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(a,b,this.scale)};
Blockly.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var a=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_);a="translate("+a.x+","+a.y+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",a);this.svgBubbleCanvas_.setAttribute("transform",a)}};
Blockly.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var a=this.svgBlockCanvas_.previousSibling,b=parseInt(this.getParentSvg().getAttribute("width"),10),c=parseInt(this.getParentSvg().getAttribute("height"),10),d=Blockly.utils.getRelativeXY(this.svgBlockCanvas_);this.workspaceDragSurface_.setContentsAndShow(this.svgBlockCanvas_,this.svgBubbleCanvas_,a,b,c,this.scale);this.workspaceDragSurface_.translateSurface(d.x,
d.y)}};Blockly.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_};Blockly.WorkspaceSvg.prototype.getWidth=function(){var a=this.getMetrics();return a?a.viewWidth/this.scale:0};
Blockly.WorkspaceSvg.prototype.setVisible=function(a){this.scrollbar&&this.scrollbar.setContainerVisible(a);this.getFlyout_()&&this.getFlyout_().setContainerVisible(a);this.getParentSvg().style.display=a?"block":"none";this.toolbox_&&(this.toolbox_.HtmlDiv.style.display=a?"block":"none");a?(this.render(),this.toolbox_&&this.toolbox_.position()):Blockly.hideChaff(!0);this.isVisible_=a};Blockly.WorkspaceSvg.prototype.render=function(){for(var a=this.getAllBlocks(!1),b=a.length-1;0<=b;b--)a[b].render(!1)};
Blockly.WorkspaceSvg.prototype.traceOn=function(){console.warn("Deprecated call to traceOn, delete this.")};Blockly.WorkspaceSvg.prototype.highlightBlock=function(a,b){if(void 0===b){for(var c=0,d;d=this.highlightedBlocks_[c];c++)d.setHighlighted(!1);this.highlightedBlocks_.length=0}if(d=a?this.getBlockById(a):null)(a=void 0===b||b)?-1==this.highlightedBlocks_.indexOf(d)&&this.highlightedBlocks_.push(d):Blockly.utils.arrayRemove(this.highlightedBlocks_,d),d.setHighlighted(a)};
Blockly.WorkspaceSvg.prototype.paste=function(a){!this.rendered||a.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==a.tagName.toLowerCase()?this.pasteWorkspaceComment_(a):this.pasteBlock_(a))};
Blockly.WorkspaceSvg.prototype.pasteBlock_=function(a){Blockly.Events.disable();try{var b=Blockly.Xml.domToBlock(a,this),c=parseInt(a.getAttribute("x"),10),d=parseInt(a.getAttribute("y"),10);if(!isNaN(c)&&!isNaN(d)){this.RTL&&(c=-c);do{a=!1;for(var e=this.getAllBlocks(!1),f=0,h;h=e[f];f++){var g=h.getRelativeToSurfaceXY();if(1>=Math.abs(c-g.x)&&1>=Math.abs(d-g.y)){a=!0;break}}if(!a){var k=b.getConnections_(!1);f=0;for(var p;p=k[f];f++)if(p.closest(Blockly.SNAP_RADIUS,new goog.math.Coordinate(c,d)).connection){a=
!0;break}}a&&(c=this.RTL?c-Blockly.SNAP_RADIUS:c+Blockly.SNAP_RADIUS,d+=2*Blockly.SNAP_RADIUS)}while(a);b.moveBy(c,d)}}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&!b.isShadow()&&Blockly.Events.fire(new Blockly.Events.BlockCreate(b));b.select()};
Blockly.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(a){Blockly.Events.disable();try{var b=Blockly.WorkspaceCommentSvg.fromXml(a,this),c=parseInt(a.getAttribute("x"),10),d=parseInt(a.getAttribute("y"),10);isNaN(c)||isNaN(d)||(this.RTL&&(c=-c),b.moveBy(c+50,d+50))}finally{Blockly.Events.enable()}Blockly.Events.isEnabled();b.select()};
Blockly.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var a=this.isFlyout?this.targetWorkspace:this;a&&!a.currentGesture_&&a.toolbox_&&a.toolbox_.flyout_&&a.toolbox_.refreshSelection()};Blockly.WorkspaceSvg.prototype.renameVariableById=function(a,b){Blockly.WorkspaceSvg.superClass_.renameVariableById.call(this,a,b);this.refreshToolboxSelection()};Blockly.WorkspaceSvg.prototype.deleteVariableById=function(a){Blockly.WorkspaceSvg.superClass_.deleteVariableById.call(this,a);this.refreshToolboxSelection()};
Blockly.WorkspaceSvg.prototype.createVariable=function(a,b,c){a=Blockly.WorkspaceSvg.superClass_.createVariable.call(this,a,b,c);this.refreshToolboxSelection();return a};Blockly.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null;this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_?this.toolbox_.getClientRect():null};
Blockly.WorkspaceSvg.prototype.isDeleteArea=function(a){a=new goog.math.Coordinate(a.clientX,a.clientY);return this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(a)?Blockly.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(a)?Blockly.DELETE_AREA_TOOLBOX:Blockly.DELETE_AREA_NONE};Blockly.WorkspaceSvg.prototype.onMouseDown_=function(a){var b=this.getGesture(a);b&&b.handleWsStart(a,this)};
Blockly.WorkspaceSvg.prototype.startDrag=function(a,b){a=Blockly.utils.mouseToSvg(a,this.getParentSvg(),this.getInverseScreenCTM());a.x/=this.scale;a.y/=this.scale;this.dragDeltaXY_=goog.math.Coordinate.difference(b,a)};Blockly.WorkspaceSvg.prototype.moveDrag=function(a){a=Blockly.utils.mouseToSvg(a,this.getParentSvg(),this.getInverseScreenCTM());a.x/=this.scale;a.y/=this.scale;return goog.math.Coordinate.sum(this.dragDeltaXY_,a)};
Blockly.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()};Blockly.WorkspaceSvg.prototype.isDraggable=function(){return!!this.scrollbar};Blockly.WorkspaceSvg.prototype.onMouseWheel_=function(a){this.currentGesture_&&this.currentGesture_.cancel();var b=-a.deltaY/50,c=Blockly.utils.mouseToSvg(a,this.getParentSvg(),this.getInverseScreenCTM());this.zoom(c.x,c.y,b);a.preventDefault()};
Blockly.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var a=this.getTopBlocks(!1),b=this.getTopComments(!1);a=a.concat(b);if(!a.length)return{x:0,y:0,width:0,height:0};b=a[0].getBoundingRectangle();for(var c=1;c<a.length;c++){var d=a[c].getBoundingRectangle();d.topLeft.x<b.topLeft.x&&(b.topLeft.x=d.topLeft.x);d.bottomRight.x>b.bottomRight.x&&(b.bottomRight.x=d.bottomRight.x);d.topLeft.y<b.topLeft.y&&(b.topLeft.y=d.topLeft.y);d.bottomRight.y>b.bottomRight.y&&(b.bottomRight.y=d.bottomRight.y)}return{x:b.topLeft.x,
y:b.topLeft.y,width:b.bottomRight.x-b.topLeft.x,height:b.bottomRight.y-b.topLeft.y}};Blockly.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1);Blockly.Events.setGroup(!0);for(var a=this.getTopBlocks(!0),b=0,c=0,d;d=a[c];c++){var e=d.getRelativeToSurfaceXY();d.moveBy(-e.x,b-e.y);d.snapToGrid();b=d.getRelativeToSurfaceXY().y+d.getHeightWidth().height+Blockly.BlockSvg.MIN_BLOCK_Y}Blockly.Events.setGroup(!1);this.setResizesEnabled(!0)};
Blockly.WorkspaceSvg.prototype.showContextMenu_=function(a){function b(a){if(a.isDeletable())t=t.concat(a.getDescendants(!1));else{a=a.getChildren(!1);for(var c=0;c<a.length;c++)b(a[c])}}function c(){Blockly.Events.setGroup(f);var a=t.shift();a&&(a.workspace?(a.dispose(!1,!0),setTimeout(c,10)):c());Blockly.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var d=[],e=this.getTopBlocks(!0),f=Blockly.utils.genUid(),h=this,g={};g.text=Blockly.Msg.UNDO;g.enabled=0<this.undoStack_.length;g.callback=
this.undo.bind(this,!1);d.push(g);g={};g.text=Blockly.Msg.REDO;g.enabled=0<this.redoStack_.length;g.callback=this.undo.bind(this,!0);d.push(g);this.scrollbar&&(g={},g.text=Blockly.Msg.CLEAN_UP,g.enabled=1<e.length,g.callback=this.cleanUp.bind(this),d.push(g));if(this.options.collapse){for(var k=g=!1,p=0;p<e.length;p++)for(var l=e[p];l;)l.isCollapsed()?g=!0:k=!0,l=l.getNextBlock();var m=function(a){for(var b=0,c=0;c<e.length;c++)for(var d=e[c];d;)setTimeout(d.setCollapsed.bind(d,a),b),d=d.getNextBlock(),
b+=10};k={enabled:k};k.text=Blockly.Msg.COLLAPSE_ALL;k.callback=function(){m(!0)};d.push(k);g={enabled:g};g.text=Blockly.Msg.EXPAND_ALL;g.callback=function(){m(!1)};d.push(g)}var t=[];for(p=0;p<e.length;p++)b(e[p]);g={text:1==t.length?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(t.length)),enabled:0<t.length,callback:function(){h.currentGesture_&&h.currentGesture_.cancel();2>t.length?c():Blockly.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace("%1",t.length),function(a){a&&
c()})}};d.push(g);this.configureContextMenu&&this.configureContextMenu(d);Blockly.ContextMenu.show(a,d,this.RTL)}};
Blockly.WorkspaceSvg.prototype.updateToolbox=function(a){if(a=Blockly.Options.parseToolboxTree(a)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=a;this.toolbox_.populate_(a);this.toolbox_.addColour_()}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");
this.options.languageTree=a;this.flyout_.show(a.childNodes)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.");};Blockly.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(Blockly.mainWorkspace=this,this.setBrowserFocus())};Blockly.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur();try{this.getParentSvg().focus()}catch(a){try{this.getParentSvg().parentNode.setActive()}catch(b){this.getParentSvg().parentNode.focus()}}};
Blockly.WorkspaceSvg.prototype.zoom=function(a,b,c){var d=this.options.zoomOptions.scaleSpeed,e=this.getMetrics(),f=this.getParentSvg().createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(this.getCanvas().getCTM().inverse());a=f.x;b=f.y;f=this.getCanvas();d=Math.pow(d,c);c=this.scale*d;c>this.options.zoomOptions.maxScale?d=this.options.zoomOptions.maxScale/this.scale:c<this.options.zoomOptions.minScale&&(d=this.options.zoomOptions.minScale/this.scale);this.scale!=c&&(this.scrollbar&&(a=f.getCTM().translate(a*
(1-d),b*(1-d)).scale(d),this.scrollX=a.e-e.absoluteLeft,this.scrollY=a.f-e.absoluteTop),this.setScale(c))};Blockly.WorkspaceSvg.prototype.zoomCenter=function(a){var b=this.getMetrics();this.zoom(b.viewWidth/2,b.viewHeight/2,a)};
Blockly.WorkspaceSvg.prototype.zoomToFit=function(){var a=this.getMetrics(),b=this.getBlocksBoundingBox(),c=b.width;b=b.height;if(c){var d=a.viewWidth,e=a.viewHeight;this.flyout_&&(d-=this.flyout_.width_);this.scrollbar||(c+=a.contentLeft,b+=a.contentTop);this.setScale(Math.min(d/c,e/b));this.scrollCenter()}};Blockly.WorkspaceSvg.prototype.beginCanvasTransition=function(){Blockly.utils.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning");Blockly.utils.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")};
Blockly.WorkspaceSvg.prototype.endCanvasTransition=function(){Blockly.utils.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning");Blockly.utils.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")};Blockly.WorkspaceSvg.prototype.scrollCenter=function(){if(this.scrollbar){var a=this.getMetrics(),b=(a.contentWidth-a.viewWidth)/2;this.flyout_&&(b-=this.flyout_.width_/2);this.scrollbar.set(b,(a.contentHeight-a.viewHeight)/2)}else console.warn("Tried to scroll a non-scrollable workspace.")};
Blockly.WorkspaceSvg.prototype.centerOnBlock=function(a){if(this.scrollbar){if(a=this.getBlockById(a)){var b=a.getRelativeToSurfaceXY(),c=a.getHeightWidth(),d=this.scale;a=(b.x+(this.RTL?-1:1)*c.width/2)*d;b=(b.y+c.height/2)*d;c=this.getMetrics();a=a-c.contentLeft-c.viewWidth/2;b=b-c.contentTop-c.viewHeight/2;Blockly.hideChaff();this.scrollbar.set(a,b)}}else console.warn("Tried to scroll a non-scrollable workspace.")};
Blockly.WorkspaceSvg.prototype.setScale=function(a){this.options.zoomOptions.maxScale&&a>this.options.zoomOptions.maxScale?a=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&a<this.options.zoomOptions.minScale&&(a=this.options.zoomOptions.minScale);this.scale=a;this.grid_&&this.grid_.update(this.scale);this.scrollbar?this.scrollbar.resize():this.translate(this.scrollX,this.scrollY);Blockly.hideChaff(!1);this.flyout_&&this.flyout_.reflow()};
Blockly.WorkspaceSvg.getDimensionsPx_=function(a){var b=0,c=0;a&&(b=a.getWidth(),c=a.getHeight());return{width:b,height:c}};Blockly.WorkspaceSvg.getContentDimensions_=function(a,b){return a.scrollbar?Blockly.WorkspaceSvg.getContentDimensionsBounded_(a,b):Blockly.WorkspaceSvg.getContentDimensionsExact_(a)};
Blockly.WorkspaceSvg.getContentDimensionsExact_=function(a){var b=a.getBlocksBoundingBox(),c=a.scale;a=b.width*c;var d=b.height*c,e=b.x*c;b=b.y*c;return{left:e,top:b,right:e+a,bottom:b+d,width:a,height:d}};
Blockly.WorkspaceSvg.getContentDimensionsBounded_=function(a,b){a=Blockly.WorkspaceSvg.getContentDimensionsExact_(a);var c=b.width;b=b.height;var d=c/2,e=b/2,f=Math.min(a.left-d,a.right-c),h=Math.min(a.top-e,a.bottom-b);return{left:f,top:h,height:Math.max(a.bottom+e,a.top+b)-h,width:Math.max(a.right+d,a.left+c)-f}};
Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var a=Blockly.WorkspaceSvg.getDimensionsPx_(this.toolbox_),b=Blockly.WorkspaceSvg.getDimensionsPx_(this.flyout_),c=Blockly.svgSize(this.getParentSvg());if(this.toolbox_)if(this.toolboxPosition==Blockly.TOOLBOX_AT_TOP||this.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM)c.height-=a.height;else if(this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT)c.width-=a.width;var d=Blockly.WorkspaceSvg.getContentDimensions_(this,
c),e=0;this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(e=a.width);var f=0;this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_TOP&&(f=a.height);return{contentHeight:d.height,contentWidth:d.width,contentTop:d.top,contentLeft:d.left,viewHeight:c.height,viewWidth:c.width,viewTop:-this.scrollY,viewLeft:-this.scrollX,absoluteTop:f,absoluteLeft:e,toolboxWidth:a.width,toolboxHeight:a.height,flyoutWidth:b.width,flyoutHeight:b.height,toolboxPosition:this.toolboxPosition}};
Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(a){if(!this.scrollbar)throw Error("Attempt to set top level workspace scroll without scrollbars.");var b=this.getMetrics();"number"==typeof a.x&&(this.scrollX=-b.contentWidth*a.x-b.contentLeft);"number"==typeof a.y&&(this.scrollY=-b.contentHeight*a.y-b.contentTop);a=this.scrollX+b.absoluteLeft;b=this.scrollY+b.absoluteTop;this.translate(a,b);this.grid_&&this.grid_.moveTo(a,b)};
Blockly.WorkspaceSvg.prototype.setResizesEnabled=function(a){var b=!this.resizesEnabled_&&a;this.resizesEnabled_=a;b&&this.resizeContents()};Blockly.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1);Blockly.WorkspaceSvg.superClass_.clear.call(this);this.setResizesEnabled(!0)};Blockly.WorkspaceSvg.prototype.registerButtonCallback=function(a,b){if("function"!=typeof b)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[a]=b};
Blockly.WorkspaceSvg.prototype.getButtonCallback=function(a){return(a=this.flyoutButtonCallbacks_[a])?a:null};Blockly.WorkspaceSvg.prototype.removeButtonCallback=function(a){this.flyoutButtonCallbacks_[a]=null};Blockly.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(a,b){if("function"!=typeof b)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[a]=b};
Blockly.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(a){return(a=this.toolboxCategoryCallbacks_[a])?a:null};Blockly.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(a){this.toolboxCategoryCallbacks_[a]=null};
Blockly.WorkspaceSvg.prototype.getGesture=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.currentGesture_;return c?b&&c.hasStarted()?(console.warn("tried to start the same gesture twice"),c.cancel(),null):c:b?this.currentGesture_=new Blockly.TouchGesture(a,this):null};Blockly.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null};Blockly.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()};
Blockly.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_};Blockly.WorkspaceSvg.prototype.getGrid=function(){return this.grid_};Blockly.WorkspaceSvg.prototype.setVisible=Blockly.WorkspaceSvg.prototype.setVisible;Blockly.Mutator=function(a){Blockly.Mutator.superClass_.constructor.call(this,null);this.quarkNames_=a};goog.inherits(Blockly.Mutator,Blockly.Icon);Blockly.Mutator.prototype.workspaceWidth_=0;Blockly.Mutator.prototype.workspaceHeight_=0;
Blockly.Mutator.prototype.drawIcon_=function(a){Blockly.utils.createSvgElement("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);Blockly.utils.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
Blockly.utils.createSvgElement("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};Blockly.Mutator.prototype.iconClick_=function(a){this.block_.isEditable()&&Blockly.Icon.prototype.iconClick_.call(this,a)};
Blockly.Mutator.prototype.createEditor_=function(){this.svgDialog_=Blockly.utils.createSvgElement("svg",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null);if(this.quarkNames_.length)for(var a=Blockly.Xml.utils.createElement("xml"),b=0,c;c=this.quarkNames_[b];b++){var d=Blockly.Xml.utils.createElement("block");d.setAttribute("type",c);a.appendChild(d)}else a=null;a={languageTree:a,parentWorkspace:this.block_.workspace,pathToMedia:this.block_.workspace.options.pathToMedia,RTL:this.block_.RTL,
toolboxPosition:this.block_.RTL?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT,horizontalLayout:!1,getMetrics:this.getFlyoutMetrics_.bind(this),setMetrics:null};this.workspace_=new Blockly.WorkspaceSvg(a);this.workspace_.isMutator=!0;a=this.workspace_.addFlyout_("g");b=this.workspace_.createDom("blocklyMutatorBackground");b.insertBefore(a,this.workspace_.svgBlockCanvas_);this.svgDialog_.appendChild(b);return this.svgDialog_};
Blockly.Mutator.prototype.updateEditable=function(){this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&Blockly.utils.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&Blockly.utils.addClass(this.iconGroup_,"blocklyIconGroupReadonly")));Blockly.Icon.prototype.updateEditable.call(this)};
Blockly.Mutator.prototype.resizeBubble_=function(){var a=2*Blockly.Bubble.BORDER_WIDTH,b=this.workspace_.getCanvas().getBBox();var c=this.block_.RTL?-b.x:b.width+b.x;b=b.height+3*a;if(this.workspace_.flyout_){var d=this.workspace_.flyout_.getMetrics_();b=Math.max(b,d.contentHeight+20)}c+=3*a;if(Math.abs(this.workspaceWidth_-c)>a||Math.abs(this.workspaceHeight_-b)>a)this.workspaceWidth_=c,this.workspaceHeight_=b,this.bubble_.setBubbleSize(c+a,b+a),this.svgDialog_.setAttribute("width",this.workspaceWidth_),
this.svgDialog_.setAttribute("height",this.workspaceHeight_);this.block_.RTL&&(a="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",a));this.workspace_.resize()};
Blockly.Mutator.prototype.setVisible=function(a){if(a!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"mutatorOpen",!a,a)),a){this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,null,null);this.bubble_.setSvgId(this.block_.id);if(a=this.workspace_.options.languageTree)this.workspace_.flyout_.init(this.workspace_),this.workspace_.flyout_.show(a.childNodes);this.rootBlock_=this.block_.decompose(this.workspace_);a=this.rootBlock_.getDescendants(!1);
for(var b=0,c;c=a[b];b++)c.render();this.rootBlock_.setMovable(!1);this.rootBlock_.setDeletable(!1);this.workspace_.flyout_?(a=2*this.workspace_.flyout_.CORNER_RADIUS,b=this.workspace_.flyout_.width_+a):b=a=16;this.block_.RTL&&(b=-b);this.rootBlock_.moveBy(b,a);if(this.block_.saveConnections){var d=this;this.block_.saveConnections(this.rootBlock_);this.sourceListener_=function(){d.block_.saveConnections(d.rootBlock_)};this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_();
this.workspace_.addChangeListener(this.workspaceChanged_.bind(this));this.updateColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)};
Blockly.Mutator.prototype.workspaceChanged_=function(){if(!this.workspace_.isDragging())for(var a=this.workspace_.getTopBlocks(!1),b=0,c;c=a[b];b++){var d=c.getRelativeToSurfaceXY(),e=c.getHeightWidth();20>d.y+e.height&&c.moveBy(0,20-e.height-d.y)}if(this.rootBlock_.workspace==this.workspace_){Blockly.Events.setGroup(!0);c=this.block_;a=(a=c.mutationToDom())&&Blockly.Xml.domToText(a);b=c.rendered;c.rendered=!1;c.compose(this.rootBlock_);c.rendered=b;c.initSvg();b=(b=c.mutationToDom())&&Blockly.Xml.domToText(b);
if(a!=b){Blockly.Events.fire(new Blockly.Events.BlockChange(c,"mutation",null,a,b));var f=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(f);c.bumpNeighbours_();Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY)}c.rendered&&c.render();this.workspace_.isDragging()||this.resizeBubble_();Blockly.Events.setGroup(!1)}};Blockly.Mutator.prototype.getFlyoutMetrics_=function(){return{viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_,absoluteTop:0,absoluteLeft:0}};
Blockly.Mutator.prototype.dispose=function(){this.block_.mutator=null;Blockly.Icon.prototype.dispose.call(this)};Blockly.Mutator.reconnect=function(a,b,c){if(!a||!a.getSourceBlock().workspace)return!1;c=b.getInput(c).connection;var d=a.targetBlock();return d&&d!=b||c.targetConnection==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)};
Blockly.Mutator.findParentWs=function(a){var b=null;if(a&&a.options){var c=a.options.parentWorkspace;a.isFlyout?c&&c.options&&(b=c.options.parentWorkspace):c&&(b=c)}return b};goog.global.Blockly||(goog.global.Blockly={});goog.global.Blockly.Mutator||(goog.global.Blockly.Mutator={});goog.global.Blockly.Mutator.reconnect=Blockly.Mutator.reconnect;Blockly.Extensions={};Blockly.Extensions.ALL_={};Blockly.Extensions.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(Blockly.Extensions.ALL_[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');Blockly.Extensions.ALL_[a]=b};
Blockly.Extensions.registerMixin=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');Blockly.Extensions.register(a,function(){this.mixin(b)})};
Blockly.Extensions.registerMutator=function(a,b,c,d){var e='Error when registering mutator "'+a+'": ';Blockly.Extensions.checkHasFunction_(e,b.domToMutation,"domToMutation");Blockly.Extensions.checkHasFunction_(e,b.mutationToDom,"mutationToDom");var f=Blockly.Extensions.checkMutatorDialog_(b,e);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');Blockly.Extensions.register(a,function(){f&&this.setMutator(new Blockly.Mutator(d));this.mixin(b);c&&c.apply(this)})};
Blockly.Extensions.apply=function(a,b,c){var d=Blockly.Extensions.ALL_[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c)Blockly.Extensions.checkNoMutatorProperties_(a,b);else var e=Blockly.Extensions.getMutatorProperties_(b);d.apply(b);if(c)Blockly.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+a+'": ',b);else if(!Blockly.Extensions.mutatorPropertiesMatch_(e,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');
};Blockly.Extensions.checkHasFunction_=function(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');};Blockly.Extensions.checkNoMutatorProperties_=function(a,b){if(Blockly.Extensions.getMutatorProperties_(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
Blockly.Extensions.checkMutatorDialog_=function(a,b){var c=void 0!==a.compose,d=void 0!==a.decompose;if(c&&d){if("function"!=typeof a.compose)throw Error(b+"compose must be a function.");if("function"!=typeof a.decompose)throw Error(b+"decompose must be a function.");return!0}if(c||d)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
Blockly.Extensions.checkBlockHasMutatorProperties_=function(a,b){if("function"!=typeof b.domToMutation)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.mutationToDom)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');Blockly.Extensions.checkMutatorDialog_(b,a)};
Blockly.Extensions.getMutatorProperties_=function(a){var b=[];void 0!==a.domToMutation&&b.push(a.domToMutation);void 0!==a.mutationToDom&&b.push(a.mutationToDom);void 0!==a.compose&&b.push(a.compose);void 0!==a.decompose&&b.push(a.decompose);return b};Blockly.Extensions.mutatorPropertiesMatch_=function(a,b){b=Blockly.Extensions.getMutatorProperties_(b);if(b.length!=a.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!=b[c])return!1;return!0};
Blockly.Extensions.buildTooltipForDropdown=function(a,b){var c=[];"object"==typeof document&&Blockly.utils.runAfterPageLoad(function(){for(var a in b)Blockly.utils.checkMessageReferences(b[a])});return function(){this.type&&-1===c.indexOf(this.type)&&(Blockly.Extensions.checkDropdownOptionsInTable_(this,a,b),c.push(this.type));this.setTooltip(function(){var d=this.getFieldValue(a),e=b[d];null==e?-1===c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field "+a,null!=this.type&&(d+=" of block type "+
this.type),console.warn(d+".")):e=Blockly.utils.replaceMessageReferences(e);return e}.bind(this))}};Blockly.Extensions.checkDropdownOptionsInTable_=function(a,b,c){var d=a.getField(b);if(!d.isOptionListDynamic()){d=d.getOptions();for(var e=0;e<d.length;++e){var f=d[e][1];null==c[f]&&console.warn("No tooltip mapping for value "+f+" of field "+b+" of block type "+a.type)}}};
Blockly.Extensions.buildTooltipWithFieldText=function(a,b){"object"==typeof document&&Blockly.utils.runAfterPageLoad(function(){Blockly.utils.checkMessageReferences(a)});return function(){this.setTooltip(function(){var c=this.getField(b);return Blockly.utils.replaceMessageReferences(a).replace("%1",c?c.getText():"")}.bind(this))}};
Blockly.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip;this.setTooltip(function(){var a=this.getParent();return a&&a.getInputsInline()&&a.tooltip||this.tooltipWhenNotConnected_}.bind(this))};Blockly.Extensions.register("parent_tooltip_when_inline",Blockly.Extensions.extensionParentTooltip_);goog.dom.vendor={};goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null};goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null};
goog.dom.vendor.getPrefixedPropertyName=function(a,b){if(b&&a in b)return a;var c=goog.dom.vendor.getVendorJsPrefix();return c?(c=c.toLowerCase(),a=c+goog.string.toTitleCase(a),!goog.isDef(b)||a in b?a:null):null};goog.dom.vendor.getPrefixedEventType=function(a){return((goog.dom.vendor.getVendorJsPrefix()||"")+a).toLowerCase()};goog.style={};goog.style.setStyle=function(a,b,c){if(goog.isString(b))goog.style.setStyle_(a,c,b);else for(var d in b)goog.style.setStyle_(a,b[d],d)};goog.style.setStyle_=function(a,b,c){(c=goog.style.getVendorJsStyleName_(a,c))&&(a.style[c]=b)};goog.style.styleNameCache_={};
goog.style.getVendorJsStyleName_=function(a,b){var c=goog.style.styleNameCache_[b];if(!c){var d=goog.string.toCamelCase(b);c=d;void 0===a.style[d]&&(d=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(d),void 0!==a.style[d]&&(c=d));goog.style.styleNameCache_[b]=c}return c};
goog.style.getVendorStyleName_=function(a,b){var c=goog.string.toCamelCase(b);return void 0===a.style[c]&&(c=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(c),void 0!==a.style[c])?goog.dom.vendor.getVendorPrefix()+"-"+b:b};goog.style.getStyle=function(a,b){var c=a.style[goog.string.toCamelCase(b)];return"undefined"!==typeof c?c:a.style[goog.style.getVendorJsStyleName_(a,b)]||""};
goog.style.getComputedStyle=function(a,b){var c=goog.dom.getOwnerDocument(a);return c.defaultView&&c.defaultView.getComputedStyle&&(a=c.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""};goog.style.getCascadedStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:null};goog.style.getStyle_=function(a,b){return goog.style.getComputedStyle(a,b)||goog.style.getCascadedStyle(a,b)||a.style&&a.style[b]};
goog.style.getComputedBoxSizing=function(a){return goog.style.getStyle_(a,"boxSizing")||goog.style.getStyle_(a,"MozBoxSizing")||goog.style.getStyle_(a,"WebkitBoxSizing")||null};goog.style.getComputedPosition=function(a){return goog.style.getStyle_(a,"position")};goog.style.getBackgroundColor=function(a){return goog.style.getStyle_(a,"backgroundColor")};goog.style.getComputedOverflowX=function(a){return goog.style.getStyle_(a,"overflowX")};
goog.style.getComputedOverflowY=function(a){return goog.style.getStyle_(a,"overflowY")};goog.style.getComputedZIndex=function(a){return goog.style.getStyle_(a,"zIndex")};goog.style.getComputedTextAlign=function(a){return goog.style.getStyle_(a,"textAlign")};goog.style.getComputedCursor=function(a){return goog.style.getStyle_(a,"cursor")};goog.style.getComputedTransform=function(a){var b=goog.style.getVendorStyleName_(a,"transform");return goog.style.getStyle_(a,b)||goog.style.getStyle_(a,"transform")};
goog.style.setPosition=function(a,b,c){if(b instanceof goog.math.Coordinate){var d=b.x;b=b.y}else d=b,b=c;a.style.left=goog.style.getPixelStyleValue_(d,!1);a.style.top=goog.style.getPixelStyleValue_(b,!1)};goog.style.getPosition=function(a){return new goog.math.Coordinate(a.offsetLeft,a.offsetTop)};
goog.style.getClientViewportElement=function(a){a=a?goog.dom.getOwnerDocument(a):goog.dom.getDocument();return!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(a).isCss1CompatMode()?a.documentElement:a.body};goog.style.getViewportPageOffset=function(a){var b=a.body;a=a.documentElement;return new goog.math.Coordinate(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};
goog.style.getBoundingClientRect_=function(a){try{var b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}goog.userAgent.IE&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b};
goog.style.getOffsetParent=function(a){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return goog.asserts.assert(a&&"offsetParent"in a),a.offsetParent;var b=goog.dom.getOwnerDocument(a),c=goog.style.getStyle_(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(a.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&&a.host&&(a=a.host),c=goog.style.getStyle_(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||
a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null};
goog.style.getVisibleRectForElement=function(a){for(var b=new goog.math.Box(0,Infinity,Infinity,0),c=goog.dom.getDomHelper(a),d=c.getDocument().body,e=c.getDocument().documentElement,f=c.getDocumentScrollElement();a=goog.style.getOffsetParent(a);)if(!(goog.userAgent.IE&&0==a.clientWidth||goog.userAgent.WEBKIT&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=goog.style.getStyle_(a,"overflow")){var h=goog.style.getPageOffset(a),g=goog.style.getClientLeftTop(a);h.x+=g.x;h.y+=g.y;b.top=Math.max(b.top,
h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=c.getViewportSize();b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null};
goog.style.getContainerOffsetToScrollInto=function(a,b,c){var d=b||goog.dom.getDocumentScrollElement(),e=goog.style.getPageOffset(a),f=goog.style.getPageOffset(d),h=goog.style.getBorderBox(d);d==goog.dom.getDocumentScrollElement()?(b=e.x-d.scrollLeft,e=e.y-d.scrollTop,goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(b+=h.left,e+=h.top)):(b=e.x-f.x-h.left,e=e.y-f.y-h.top);h=goog.style.getSizeWithDisplay_(a);a=d.clientWidth-h.width;h=d.clientHeight-h.height;f=d.scrollLeft;d=d.scrollTop;
c?(f+=b-a/2,d+=e-h/2):(f+=Math.min(b,Math.max(b-a,0)),d+=Math.min(e,Math.max(e-h,0)));return new goog.math.Coordinate(f,d)};goog.style.scrollIntoContainerView=function(a,b,c){b=b||goog.dom.getDocumentScrollElement();a=goog.style.getContainerOffsetToScrollInto(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y};goog.style.getClientLeftTop=function(a){return new goog.math.Coordinate(a.clientLeft,a.clientTop)};
goog.style.getPageOffset=function(a){var b=goog.dom.getOwnerDocument(a);goog.asserts.assertObject(a,"Parameter is required");var c=new goog.math.Coordinate(0,0),d=goog.style.getClientViewportElement(b);if(a==d)return c;a=goog.style.getBoundingClientRect_(a);b=goog.dom.getDomHelper(b).getDocumentScroll();c.x=a.left+b.x;c.y=a.top+b.y;return c};goog.style.getPageOffsetLeft=function(a){return goog.style.getPageOffset(a).x};goog.style.getPageOffsetTop=function(a){return goog.style.getPageOffset(a).y};
goog.style.getFramedPageOffset=function(a,b){var c=new goog.math.Coordinate(0,0),d=goog.dom.getWindow(goog.dom.getOwnerDocument(a));if(!goog.reflect.canAccessProperty(d,"parent"))return c;do{var e=d==b?goog.style.getPageOffset(a):goog.style.getClientPositionForElement_(goog.asserts.assert(a));c.x+=e.x;c.y+=e.y}while(d&&d!=b&&d!=d.parent&&(a=d.frameElement)&&(d=d.parent));return c};
goog.style.translateRectForAnotherFrame=function(a,b,c){if(b.getDocument()!=c.getDocument()){var d=b.getDocument().body;c=goog.style.getFramedPageOffset(d,c.getWindow());c=goog.math.Coordinate.difference(c,goog.style.getPageOffset(d));!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||b.isCss1CompatMode()||(c=goog.math.Coordinate.difference(c,b.getDocumentScroll()));a.left+=c.x;a.top+=c.y}};
goog.style.getRelativePosition=function(a,b){a=goog.style.getClientPosition(a);b=goog.style.getClientPosition(b);return new goog.math.Coordinate(a.x-b.x,a.y-b.y)};goog.style.getClientPositionForElement_=function(a){a=goog.style.getBoundingClientRect_(a);return new goog.math.Coordinate(a.left,a.top)};
goog.style.getClientPosition=function(a){goog.asserts.assert(a);if(a.nodeType==goog.dom.NodeType.ELEMENT)return goog.style.getClientPositionForElement_(a);a=a.changedTouches?a.changedTouches[0]:a;return new goog.math.Coordinate(a.clientX,a.clientY)};goog.style.setPageOffset=function(a,b,c){var d=goog.style.getPageOffset(a);b instanceof goog.math.Coordinate&&(c=b.y,b=b.x);b=goog.asserts.assertNumber(b)-d.x;goog.style.setPosition(a,a.offsetLeft+b,a.offsetTop+(Number(c)-d.y))};
goog.style.setSize=function(a,b,c){if(b instanceof goog.math.Size)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");goog.style.setWidth(a,b);goog.style.setHeight(a,c)};goog.style.getPixelStyleValue_=function(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a};goog.style.setHeight=function(a,b){a.style.height=goog.style.getPixelStyleValue_(b,!0)};goog.style.setWidth=function(a,b){a.style.width=goog.style.getPixelStyleValue_(b,!0)};
goog.style.getSize=function(a){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,a)};goog.style.evaluateWithTemporaryDisplay_=function(a,b){if("none"!=goog.style.getStyle_(b,"display"))return a(b);var c=b.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=a(b);c.display=d;c.position=f;c.visibility=e;return a};
goog.style.getSizeWithDisplay_=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=goog.userAgent.WEBKIT&&!b&&!c;return goog.isDef(b)&&!d||!a.getBoundingClientRect?new goog.math.Size(b,c):(a=goog.style.getBoundingClientRect_(a),new goog.math.Size(a.right-a.left,a.bottom-a.top))};goog.style.getTransformedSize=function(a){if(!a.getBoundingClientRect)return null;a=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,a);return new goog.math.Size(a.right-a.left,a.bottom-a.top)};
goog.style.getBounds=function(a){var b=goog.style.getPageOffset(a);a=goog.style.getSize(a);return new goog.math.Rect(b.x,b.y,a.width,a.height)};goog.style.toCamelCase=function(a){return goog.string.toCamelCase(String(a))};goog.style.toSelectorCase=function(a){return goog.string.toSelectorCase(a)};
goog.style.getOpacity=function(a){goog.asserts.assert(a);var b=a.style;a="";"opacity"in b?a=b.opacity:"MozOpacity"in b?a=b.MozOpacity:"filter"in b&&(b=b.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(a=String(b[1]/100));return""==a?a:Number(a)};goog.style.setOpacity=function(a,b){goog.asserts.assert(a);a=a.style;"opacity"in a?a.opacity=b:"MozOpacity"in a?a.MozOpacity=b:"filter"in a&&(a.filter=""===b?"":"alpha(opacity="+100*Number(b)+")")};
goog.style.setTransparentBackgroundImage=function(a,b){a=a.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?a.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+b+'", sizingMethod="crop")':(a.backgroundImage="url("+b+")",a.backgroundPosition="top left",a.backgroundRepeat="no-repeat")};goog.style.clearTransparentBackgroundImage=function(a){a=a.style;"filter"in a?a.filter="":a.backgroundImage="none"};goog.style.showElement=function(a,b){goog.style.setElementShown(a,b)};
goog.style.setElementShown=function(a,b){a.style.display=b?"":"none"};goog.style.isElementShown=function(a){return"none"!=a.style.display};
goog.style.installSafeStyleSheet=function(a,b){b=goog.dom.getDomHelper(b);var c=b.getDocument();if(goog.userAgent.IE&&c.createStyleSheet)return b=c.createStyleSheet(),goog.style.setSafeStyleSheet(b,a),b;c=b.getElementsByTagNameAndClass("HEAD")[0];if(!c){var d=b.getElementsByTagNameAndClass("BODY")[0];c=b.createDom("HEAD");d.parentNode.insertBefore(c,d)}d=b.createDom("STYLE");goog.style.setSafeStyleSheet(d,a);b.appendChild(c,d);return d};
goog.style.uninstallStyles=function(a){goog.dom.removeNode(a.ownerNode||a.owningElement||a)};goog.style.setSafeStyleSheet=function(a,b){b=goog.html.SafeStyleSheet.unwrap(b);goog.userAgent.IE&&goog.isDef(a.cssText)?a.cssText=b:a.innerHTML=b};goog.style.setPreWrap=function(a){a=a.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(a.whiteSpace="pre",a.wordWrap="break-word"):a.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"};
goog.style.setInlineBlock=function(a){a=a.style;a.position="relative";goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(a.zoom="1",a.display="inline"):a.display="inline-block"};goog.style.isRightToLeft=function(a){return"rtl"==goog.style.getStyle_(a,"direction")};goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT||goog.userAgent.EDGE?"WebkitUserSelect":null;
goog.style.isUnselectable=function(a){return goog.style.unselectableStyle_?"none"==a.style[goog.style.unselectableStyle_].toLowerCase():goog.userAgent.IE||goog.userAgent.OPERA?"on"==a.getAttribute("unselectable"):!1};
goog.style.setUnselectable=function(a,b,c){c=c?null:a.getElementsByTagName("*");var d=goog.style.unselectableStyle_;if(d){if(b=b?"none":"",a.style&&(a.style[d]=b),c){a=0;for(var e;e=c[a];a++)e.style&&(e.style[d]=b)}}else if(goog.userAgent.IE||goog.userAgent.OPERA)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;e=c[a];a++)e.setAttribute("unselectable",b)};goog.style.getBorderBoxSize=function(a){return new goog.math.Size(a.offsetWidth,a.offsetHeight)};
goog.style.setBorderBoxSize=function(a,b){var c=goog.dom.getOwnerDocument(a),d=goog.dom.getDomHelper(c).isCss1CompatMode();!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||d&&goog.userAgent.isVersionOrHigher("8")?goog.style.setBoxSizingSize_(a,b,"border-box"):(c=a.style,d?(d=goog.style.getPaddingBox(a),a=goog.style.getBorderBox(a),c.pixelWidth=b.width-a.left-d.left-d.right-a.right,c.pixelHeight=b.height-a.top-d.top-d.bottom-a.bottom):(c.pixelWidth=b.width,c.pixelHeight=b.height))};
goog.style.getContentBoxSize=function(a){var b=goog.dom.getOwnerDocument(a),c=goog.userAgent.IE&&a.currentStyle;if(c&&goog.dom.getDomHelper(b).isCss1CompatMode()&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)return b=goog.style.getIePixelValue_(a,c.width,"width","pixelWidth"),a=goog.style.getIePixelValue_(a,c.height,"height","pixelHeight"),new goog.math.Size(b,a);c=goog.style.getBorderBoxSize(a);b=goog.style.getPaddingBox(a);a=goog.style.getBorderBox(a);return new goog.math.Size(c.width-a.left-
b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};
goog.style.setContentBoxSize=function(a,b){var c=goog.dom.getOwnerDocument(a),d=goog.dom.getDomHelper(c).isCss1CompatMode();!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||d&&goog.userAgent.isVersionOrHigher("8")?goog.style.setBoxSizingSize_(a,b,"content-box"):(c=a.style,d?(c.pixelWidth=b.width,c.pixelHeight=b.height):(d=goog.style.getPaddingBox(a),a=goog.style.getBorderBox(a),c.pixelWidth=b.width+a.left+d.left+d.right+a.right,c.pixelHeight=b.height+a.top+d.top+d.bottom+a.bottom))};
goog.style.setBoxSizingSize_=function(a,b,c){a=a.style;goog.userAgent.GECKO?a.MozBoxSizing=c:goog.userAgent.WEBKIT?a.WebkitBoxSizing=c:a.boxSizing=c;a.width=Math.max(b.width,0)+"px";a.height=Math.max(b.height,0)+"px"};goog.style.getIePixelValue_=function(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return+b};
goog.style.getIePixelDistance_=function(a,b){return(b=goog.style.getCascadedStyle(a,b))?goog.style.getIePixelValue_(a,b,"left","pixelLeft"):0};
goog.style.getBox_=function(a,b){if(goog.userAgent.IE){var c=goog.style.getIePixelDistance_(a,b+"Left"),d=goog.style.getIePixelDistance_(a,b+"Right"),e=goog.style.getIePixelDistance_(a,b+"Top");a=goog.style.getIePixelDistance_(a,b+"Bottom");return new goog.math.Box(e,d,a,c)}c=goog.style.getComputedStyle(a,b+"Left");d=goog.style.getComputedStyle(a,b+"Right");e=goog.style.getComputedStyle(a,b+"Top");a=goog.style.getComputedStyle(a,b+"Bottom");return new goog.math.Box(parseFloat(e),parseFloat(d),parseFloat(a),
parseFloat(c))};goog.style.getPaddingBox=function(a){return goog.style.getBox_(a,"padding")};goog.style.getMarginBox=function(a){return goog.style.getBox_(a,"margin")};goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6};goog.style.getIePixelBorder_=function(a,b){if("none"==goog.style.getCascadedStyle(a,b+"Style"))return 0;b=goog.style.getCascadedStyle(a,b+"Width");return b in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[b]:goog.style.getIePixelValue_(a,b,"left","pixelLeft")};
goog.style.getBorderBox=function(a){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){var b=goog.style.getIePixelBorder_(a,"borderLeft"),c=goog.style.getIePixelBorder_(a,"borderRight"),d=goog.style.getIePixelBorder_(a,"borderTop");a=goog.style.getIePixelBorder_(a,"borderBottom");return new goog.math.Box(d,c,a,b)}b=goog.style.getComputedStyle(a,"borderLeftWidth");c=goog.style.getComputedStyle(a,"borderRightWidth");d=goog.style.getComputedStyle(a,"borderTopWidth");a=goog.style.getComputedStyle(a,
"borderBottomWidth");return new goog.math.Box(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};goog.style.getFontFamily=function(a){var b=goog.dom.getOwnerDocument(a),c="";if(b.body.createTextRange&&goog.dom.contains(b,a)){b=b.body.createTextRange();b.moveToElementText(a);try{c=b.queryCommandValue("FontName")}catch(d){c=""}}c||(c=goog.style.getStyle_(a,"fontFamily"));a=c.split(",");1<a.length&&(c=a[0]);return goog.string.stripQuotes(c,"\"'")};goog.style.lengthUnitRegex_=/[^\d]+$/;
goog.style.getLengthUnits=function(a){return(a=a.match(goog.style.lengthUnitRegex_))&&a[0]||null};goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,"in":1,mm:1,pc:1,pt:1};goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1};
goog.style.getFontSize=function(a){var b=goog.style.getStyle_(a,"fontSize"),c=goog.style.getLengthUnits(b);if(b&&"px"==c)return parseInt(b,10);if(goog.userAgent.IE){if(String(c)in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(a,b,"left","pixelLeft");if(a.parentNode&&a.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&String(c)in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return a=a.parentNode,c=goog.style.getStyle_(a,"fontSize"),goog.style.getIePixelValue_(a,b==c?"1em":b,
"left","pixelLeft")}c=goog.dom.createDom("SPAN",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});goog.dom.appendChild(a,c);b=c.offsetHeight;goog.dom.removeNode(c);return b};goog.style.parseStyleAttribute=function(a){var b={};goog.array.forEach(a.split(/\s*;\s*/),function(a){var c=a.match(/\s*([\w-]+)\s*:(.+)/);c&&(a=c[1],c=goog.string.trim(c[2]),b[goog.string.toCamelCase(a.toLowerCase())]=c)});return b};
goog.style.toStyleAttribute=function(a){var b=[];goog.object.forEach(a,function(a,d){b.push(goog.string.toSelectorCase(d),":",a,";")});return b.join("")};goog.style.setFloat=function(a,b){a.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=b};goog.style.getFloat=function(a){return a.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""};
goog.style.getScrollbarWidth=function(a){var b=goog.dom.createElement("DIV");a&&(b.className=a);b.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px";a=goog.dom.createElement("DIV");goog.style.setSize(a,"200px","200px");b.appendChild(a);goog.dom.appendChild(goog.dom.getDocument().body,b);a=b.offsetWidth-b.clientWidth;goog.dom.removeNode(b);return a};goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;
goog.style.getCssTranslation=function(a){a=goog.style.getComputedTransform(a);return a?(a=a.match(goog.style.MATRIX_TRANSLATION_REGEX_))?new goog.math.Coordinate(parseFloat(a[1]),parseFloat(a[2])):new goog.math.Coordinate(0,0):new goog.math.Coordinate(0,0)};Blockly.Field=function(a,b){this.size_=new goog.math.Size(0,Blockly.BlockSvg.MIN_BLOCK_Y);this.setValue(a);this.setValidator(b)};Blockly.Field.TYPE_MAP_={};Blockly.Field.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!b||"function"!=typeof b.fromJson)throw Error('Field "'+b+'" must have a fromJson function');Blockly.Field.TYPE_MAP_[a]=b};Blockly.Field.fromJson=function(a){var b=Blockly.Field.TYPE_MAP_[a.type];return b?b.fromJson(a):null};
Blockly.Field.cacheWidths_=null;Blockly.Field.cacheReference_=0;Blockly.Field.prototype.name=void 0;Blockly.Field.prototype.maxDisplayLength=50;Blockly.Field.prototype.text_="";Blockly.Field.prototype.sourceBlock_=null;Blockly.Field.prototype.visible_=!0;Blockly.Field.prototype.validator_=null;Blockly.Field.NBSP="\u00a0";Blockly.Field.prototype.EDITABLE=!0;Blockly.Field.prototype.setSourceBlock=function(a){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=a};
Blockly.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.utils.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.borderRect_=Blockly.utils.createSvgElement("rect",{rx:4,ry:4,x:-Blockly.BlockSvg.SEP_SPACE_X/2,y:0,height:16},this.fieldGroup_),this.textElement_=Blockly.utils.createSvgElement("text",{"class":"blocklyText",y:this.size_.height-12.5},this.fieldGroup_),this.updateEditable(),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),
this.mouseDownWrapper_=Blockly.bindEventWithChecks_(this.fieldGroup_,"mousedown",this,this.onMouseDown_),this.render_())};Blockly.Field.prototype.initModel=function(){};Blockly.Field.prototype.dispose=function(){this.mouseDownWrapper_&&(Blockly.unbindEvent_(this.mouseDownWrapper_),this.mouseDownWrapper_=null);this.sourceBlock_=null;this.fieldGroup_&&(Blockly.utils.removeNode(this.fieldGroup_),this.fieldGroup_=null);this.validator_=this.borderRect_=this.textElement_=null};
Blockly.Field.prototype.updateEditable=function(){var a=this.fieldGroup_;this.EDITABLE&&a&&(this.sourceBlock_.isEditable()?(Blockly.utils.addClass(a,"blocklyEditableText"),Blockly.utils.removeClass(a,"blocklyNonEditableText"),this.fieldGroup_.style.cursor=this.CURSOR):(Blockly.utils.addClass(a,"blocklyNonEditableText"),Blockly.utils.removeClass(a,"blocklyEditableText"),this.fieldGroup_.style.cursor=""))};
Blockly.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()};Blockly.Field.prototype.isVisible=function(){return this.visible_};Blockly.Field.prototype.setVisible=function(a){if(this.visible_!=a){this.visible_=a;var b=this.getSvgRoot();b&&(b.style.display=a?"block":"none",this.render_())}};Blockly.Field.prototype.setValidator=function(a){this.validator_=a};Blockly.Field.prototype.getValidator=function(){return this.validator_};
Blockly.Field.prototype.classValidator=function(a){return a};Blockly.Field.prototype.callValidator=function(a){var b=this.classValidator(a);if(null===b)return null;void 0!==b&&(a=b);if(b=this.getValidator()){b=b.call(this,a);if(null===b)return null;void 0!==b&&(a=b)}return a};Blockly.Field.prototype.getSvgRoot=function(){return this.fieldGroup_};Blockly.Field.prototype.render_=function(){this.visible_?(this.textElement_.textContent=this.getDisplayText_(),this.updateWidth()):this.size_.width=0};
Blockly.Field.prototype.updateWidth=function(){var a=Blockly.Field.getCachedWidth(this.textElement_);this.borderRect_&&this.borderRect_.setAttribute("width",a+Blockly.BlockSvg.SEP_SPACE_X);this.size_.width=a};
Blockly.Field.getCachedWidth=function(a){var b=a.textContent+"\n"+a.className.baseVal,c;if(Blockly.Field.cacheWidths_&&(c=Blockly.Field.cacheWidths_[b]))return c;try{c=goog.userAgent.IE||goog.userAgent.EDGE?a.getBBox().width:a.getComputedTextLength()}catch(d){return 8*a.textContent.length}Blockly.Field.cacheWidths_&&(Blockly.Field.cacheWidths_[b]=c);return c};Blockly.Field.startCache=function(){Blockly.Field.cacheReference_++;Blockly.Field.cacheWidths_||(Blockly.Field.cacheWidths_={})};
Blockly.Field.stopCache=function(){Blockly.Field.cacheReference_--;Blockly.Field.cacheReference_||(Blockly.Field.cacheWidths_=null)};Blockly.Field.prototype.getSize=function(){this.size_.width||this.render_();return this.size_};Blockly.Field.prototype.getScaledBBox_=function(){var a=this.borderRect_.getBBox(),b=a.height*this.sourceBlock_.workspace.scale;a=a.width*this.sourceBlock_.workspace.scale;var c=this.getAbsoluteXY_();return{top:c.y,bottom:c.y+b,left:c.x,right:c.x+a}};
Blockly.Field.prototype.getDisplayText_=function(){var a=this.text_;if(!a)return Blockly.Field.NBSP;a.length>this.maxDisplayLength&&(a=a.substring(0,this.maxDisplayLength-2)+"\u2026");a=a.replace(/\s/g,Blockly.Field.NBSP);this.sourceBlock_.RTL&&(a+="\u200f");return a};Blockly.Field.prototype.getText=function(){return this.text_};Blockly.Field.prototype.setText=function(a){null!==a&&(a=String(a),a!==this.text_&&(this.text_=a,this.forceRerender()))};
Blockly.Field.prototype.forceRerender=function(){this.size_.width=0;this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_())};Blockly.Field.prototype.getValue=function(){return this.getText()};Blockly.Field.prototype.setValue=function(a){if(null!==a){var b=this.getValue();b!=a&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,b,a)),this.setText(a))}};
Blockly.Field.prototype.onMouseDown_=function(a){this.sourceBlock_&&this.sourceBlock_.workspace&&(a=this.sourceBlock_.workspace.getGesture(a))&&a.setStartField(this)};Blockly.Field.prototype.setTooltip=function(a){};Blockly.Field.prototype.getAbsoluteXY_=function(){return goog.style.getPageOffset(this.borderRect_)};Blockly.Field.prototype.referencesVariables=function(){return!1};Blockly.FieldLabel=function(a,b){this.size_=new goog.math.Size(0,17.5);this.class_=b;this.setValue(a);this.tooltip_=""};goog.inherits(Blockly.FieldLabel,Blockly.Field);Blockly.FieldLabel.fromJson=function(a){var b=Blockly.utils.replaceMessageReferences(a.text);return new Blockly.FieldLabel(b,a["class"])};Blockly.FieldLabel.prototype.EDITABLE=!1;
Blockly.FieldLabel.prototype.init=function(){this.textElement_||(this.textElement_=Blockly.utils.createSvgElement("text",{"class":"blocklyText",y:this.size_.height-5},null),this.class_&&Blockly.utils.addClass(this.textElement_,this.class_),this.visible_||(this.textElement_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.textElement_),this.textElement_.tooltip=this.tooltip_?this.tooltip_:this.sourceBlock_,Blockly.Tooltip.bindMouseEvents(this.textElement_),this.render_())};
Blockly.FieldLabel.prototype.dispose=function(){this.textElement_&&(Blockly.utils.removeNode(this.textElement_),this.textElement_=null)};Blockly.FieldLabel.prototype.getSvgRoot=function(){return this.textElement_};Blockly.FieldLabel.prototype.setTooltip=function(a){this.tooltip_=a;this.textElement_&&(this.textElement_.tooltip=a)};Blockly.Field.register("field_label",Blockly.FieldLabel);Blockly.Input=function(a,b,c,d){if(a!=Blockly.DUMMY_INPUT&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.sourceBlock_=c;this.connection=d;this.fieldRow=[]};Blockly.Input.prototype.align=Blockly.ALIGN_LEFT;Blockly.Input.prototype.visible_=!0;Blockly.Input.prototype.appendField=function(a,b){this.insertFieldAt(this.fieldRow.length,a,b);return this};
Blockly.Input.prototype.insertFieldAt=function(a,b,c){if(0>a||a>this.fieldRow.length)throw Error("index "+a+" out of bounds.");if(!b&&!c)return a;"string"==typeof b&&(b=new Blockly.FieldLabel(b));b.setSourceBlock(this.sourceBlock_);this.sourceBlock_.rendered&&b.init();b.name=c;b.prefixField&&(a=this.insertFieldAt(a,b.prefixField));this.fieldRow.splice(a,0,b);++a;b.suffixField&&(a=this.insertFieldAt(a,b.suffixField));this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_());
return a};Blockly.Input.prototype.removeField=function(a){for(var b=0,c;c=this.fieldRow[b];b++)if(c.name===a){c.dispose();this.fieldRow.splice(b,1);this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_());return}throw Error('Field "%s" not found.',a);};Blockly.Input.prototype.isVisible=function(){return this.visible_};
Blockly.Input.prototype.setVisible=function(a){var b=[];if(this.visible_==a)return b;for(var c=(this.visible_=a)?"block":"none",d=0,e;e=this.fieldRow[d];d++)e.setVisible(a);this.connection&&(a?b=this.connection.unhideAll():this.connection.hideAll(),d=this.connection.targetBlock())&&(d.getSvgRoot().style.display=c,a||(d.rendered=!1));return b};Blockly.Input.prototype.setCheck=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.setCheck(a);return this};
Blockly.Input.prototype.setAlign=function(a){this.align=a;this.sourceBlock_.rendered&&this.sourceBlock_.render();return this};Blockly.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var a=0;a<this.fieldRow.length;a++)this.fieldRow[a].init()};Blockly.Input.prototype.dispose=function(){for(var a=0,b;b=this.fieldRow[a];a++)b.dispose();this.connection&&this.connection.dispose();this.sourceBlock_=null};Blockly.Warning=function(a){Blockly.Warning.superClass_.constructor.call(this,a);this.createIcon();this.text_={}};goog.inherits(Blockly.Warning,Blockly.Icon);Blockly.Warning.prototype.collapseHidden=!1;
Blockly.Warning.prototype.drawIcon_=function(a){Blockly.utils.createSvgElement("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);Blockly.utils.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);Blockly.utils.createSvgElement("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
Blockly.Warning.textToDom_=function(a){var b=Blockly.utils.createSvgElement("text",{"class":"blocklyText blocklyBubbleText",y:Blockly.Bubble.BORDER_WIDTH},null);a=a.split("\n");for(var c=0;c<a.length;c++){var d=Blockly.utils.createSvgElement("tspan",{dy:"1em",x:Blockly.Bubble.BORDER_WIDTH},b),e=document.createTextNode(a[c]);d.appendChild(e)}return b};
Blockly.Warning.prototype.setVisible=function(a){if(a!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"warningOpen",!a,a)),a){a=Blockly.Warning.textToDom_(this.getText());this.bubble_=new Blockly.Bubble(this.block_.workspace,a,this.block_.svgPath_,this.iconXY_,null,null);this.bubble_.setSvgId(this.block_.id);if(this.block_.RTL)for(var b=a.getBBox().width,c=0,d;d=a.childNodes[c];c++)d.setAttribute("text-anchor","end"),d.setAttribute("x",b+Blockly.Bubble.BORDER_WIDTH);this.updateColour();
a=this.bubble_.getBubbleSize();this.bubble_.setBubbleSize(a.width,a.height)}else this.bubble_.dispose(),this.body_=this.bubble_=null};Blockly.Warning.prototype.bodyFocus_=function(a){this.bubble_.promote_()};Blockly.Warning.prototype.setText=function(a,b){this.text_[b]!=a&&(a?this.text_[b]=a:delete this.text_[b],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))};Blockly.Warning.prototype.getText=function(){var a=[],b;for(b in this.text_)a.push(this.text_[b]);return a.join("\n")};
Blockly.Warning.prototype.dispose=function(){this.block_.warning=null;Blockly.Icon.prototype.dispose.call(this)};Blockly.Block=function(a,b,c){if("undefined"!==typeof Blockly.Generator.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!a.getBlockById(c)?c:Blockly.utils.genUid();a.blockDB_[this.id]=this;this.previousConnection=this.nextConnection=this.outputConnection=null;this.inputList=[];this.inputsInline=void 0;this.disabled=!1;this.tooltip="";this.contextMenu=!0;this.parentBlock_=null;this.childBlocks_=[];this.editable_=this.movable_=this.deletable_=
!0;this.collapsed_=this.isShadow_=!1;this.comment=null;this.xy_=new goog.math.Coordinate(0,0);this.workspace=a;this.isInFlyout=a.isFlyout;this.isInMutator=a.isMutator;this.RTL=a.RTL;this.isInsertionMarker_=!1;if(b){this.type=b;c=Blockly.Blocks[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+b);goog.mixin(this,c)}a.addTopBlock(this);"function"==typeof this.init&&this.init();this.inputsInlineDefault=this.inputsInline;if(Blockly.Events.isEnabled()){(a=Blockly.Events.getGroup())||
Blockly.Events.setGroup(!0);try{Blockly.Events.fire(new Blockly.Events.BlockCreate(this))}finally{a||Blockly.Events.setGroup(!1)}}"function"==typeof this.onchange&&this.setOnChange(this.onchange)};Blockly.Block.obtain=function(a,b){console.warn("Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead.");return a.newBlock(b)};Blockly.Block.prototype.data=null;Blockly.Block.prototype.colour_="#000000";Blockly.Block.prototype.hue_=null;
Blockly.Block.prototype.dispose=function(a){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_);this.unplug(a);Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockDelete(this));Blockly.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),delete this.workspace.blockDB_[this.id],this.workspace=null);Blockly.selected==this&&(Blockly.selected=null);for(var b=this.childBlocks_.length-1;0<=b;b--)this.childBlocks_[b].dispose(!1);
b=0;for(var c;c=this.inputList[b];b++)c.dispose();this.inputList.length=0;var d=this.getConnections_(!0);for(b=0;b<d.length;b++){var e=d[b];e.isConnected()&&e.disconnect();d[b].dispose()}}finally{Blockly.Events.enable()}}};Blockly.Block.prototype.initModel=function(){for(var a=0,b;b=this.inputList[a];a++)for(var c=0,d;d=b.fieldRow[c];c++)d.initModel&&d.initModel()};Blockly.Block.prototype.unplug=function(a){this.outputConnection?this.unplugFromRow_(a):this.previousConnection&&this.unplugFromStack_(a)};
Blockly.Block.prototype.unplugFromRow_=function(a){var b=null;this.outputConnection.isConnected()&&(b=this.outputConnection.targetConnection,this.outputConnection.disconnect());b&&a&&(a=this.getOnlyValueConnection_())&&a.isConnected()&&(a=a.targetConnection,a.checkType_(b)&&(a.disconnect(),b.connect(a)))};
Blockly.Block.prototype.getOnlyValueConnection_=function(){for(var a=null,b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;if(c&&c.type==Blockly.INPUT_VALUE){if(a)return null;a=c}}return a};
Blockly.Block.prototype.unplugFromStack_=function(a){var b=null;this.previousConnection.isConnected()&&(b=this.previousConnection.targetConnection,this.previousConnection.disconnect());var c=this.getNextBlock();a&&c&&(a=this.nextConnection.targetConnection,a.disconnect(),b&&b.checkType_(a)&&b.connect(a))};
Blockly.Block.prototype.getConnections_=function(a){a=[];this.outputConnection&&a.push(this.outputConnection);this.previousConnection&&a.push(this.previousConnection);this.nextConnection&&a.push(this.nextConnection);for(var b=0,c;c=this.inputList[b];b++)c.connection&&a.push(c.connection);return a};Blockly.Block.prototype.lastConnectionInStack=function(){for(var a=this.nextConnection;a;){var b=a.targetBlock();if(!b)return a;a=b.nextConnection}return null};Blockly.Block.prototype.bumpNeighbours_=function(){console.warn("Not expected to reach this bumpNeighbours_ function. The BlockSvg function for bumpNeighbours_ was expected to be called instead.")};
Blockly.Block.prototype.getParent=function(){return this.parentBlock_};Blockly.Block.prototype.getInputWithBlock=function(a){for(var b=0,c;c=this.inputList[b];b++)if(c.connection&&c.connection.targetBlock()==a)return c;return null};Blockly.Block.prototype.getSurroundParent=function(){var a=this;do{var b=a;a=a.getParent();if(!a)return null}while(a.getNextBlock()==b);return a};Blockly.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()};
Blockly.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()};Blockly.Block.prototype.getFirstStatementConnection=function(){for(var a=0,b;b=this.inputList[a];a++)if(b.connection&&b.connection.type==Blockly.NEXT_STATEMENT)return b.connection;return null};Blockly.Block.prototype.getRootBlock=function(){var a=this;do{var b=a;a=b.parentBlock_}while(a);return b};
Blockly.Block.prototype.getChildren=function(a){if(!a)return this.childBlocks_;a=[];for(var b=0,c;c=this.inputList[b];b++)c.connection&&(c=c.connection.targetBlock())&&a.push(c);(b=this.getNextBlock())&&a.push(b);return a};
Blockly.Block.prototype.setParent=function(a){if(a!=this.parentBlock_){if(this.parentBlock_){Blockly.utils.arrayRemove(this.parentBlock_.childBlocks_,this);if(this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=a)?a.childBlocks_.push(this):this.workspace.addTopBlock(this)}};
Blockly.Block.prototype.getDescendants=function(a){for(var b=[this],c=this.getChildren(a),d,e=0;d=c[e];e++)b.push.apply(b,d.getDescendants(a));return b};Blockly.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)};Blockly.Block.prototype.setDeletable=function(a){this.deletable_=a};Blockly.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)};
Blockly.Block.prototype.setMovable=function(a){this.movable_=a};Blockly.Block.prototype.isShadow=function(){return this.isShadow_};Blockly.Block.prototype.setShadow=function(a){this.isShadow_=a};Blockly.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_};Blockly.Block.prototype.setInsertionMarker=function(a){this.isInsertionMarker_=a};Blockly.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)};
Blockly.Block.prototype.setEditable=function(a){this.editable_=a;a=0;for(var b;b=this.inputList[a];a++)for(var c=0,d;d=b.fieldRow[c];c++)d.updateEditable()};
Blockly.Block.prototype.setConnectionsHidden=function(a){if(!a&&this.isCollapsed()){if(this.outputConnection&&this.outputConnection.setHidden(a),this.previousConnection&&this.previousConnection.setHidden(a),this.nextConnection){this.nextConnection.setHidden(a);var b=this.nextConnection.targetBlock();b&&b.setConnectionsHidden(a)}}else for(var c=this.getConnections_(!0),d=0;b=c[d];d++)b.setHidden(a),b.isSuperior()&&(b=b.targetBlock())&&b.setConnectionsHidden(a)};
Blockly.Block.prototype.getMatchingConnection=function(a,b){var c=this.getConnections_(!0);a=a.getConnections_(!0);if(c.length!=a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]==b)return c[d];return null};Blockly.Block.prototype.setHelpUrl=function(a){this.helpUrl=a};Blockly.Block.prototype.setTooltip=function(a){this.tooltip=a};Blockly.Block.prototype.getColour=function(){return this.colour_};Blockly.Block.prototype.getHue=function(){return this.hue_};
Blockly.Block.prototype.setColour=function(a){var b="string"==typeof a?Blockly.utils.replaceMessageReferences(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)this.hue_=c,this.colour_=Blockly.hueToRgb(c);else if("string"==typeof b&&/^#[0-9a-fA-F]{6}$/.test(b))this.colour_=b,this.hue_=null;else throw c='Invalid colour: "'+b+'"',a!=b&&(c+=' (from "'+a+'")'),c;};
Blockly.Block.prototype.setOnChange=function(a){if(a&&"function"!=typeof a)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_);if(this.onchange=a)this.onchangeWrapper_=a.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)};Blockly.Block.prototype.getField=function(a){for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)if(e.name===a)return e;return null};
Blockly.Block.prototype.getVars=function(){for(var a=[],b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)e.referencesVariables()&&a.push(e.getValue());return a};Blockly.Block.prototype.getVarModels=function(){for(var a=[],b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)e.referencesVariables()&&(e=this.workspace.getVariableById(e.getValue()))&&a.push(e);return a};
Blockly.Block.prototype.updateVarName=function(a){for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)e.referencesVariables()&&a.getId()==e.getValue()&&e.setText(a.name)};Blockly.Block.prototype.renameVarById=function(a,b){for(var c=0,d;d=this.inputList[c];c++)for(var e=0,f;f=d.fieldRow[e];e++)f.referencesVariables()&&a==f.getValue()&&f.setValue(b)};Blockly.Block.prototype.getFieldValue=function(a){return(a=this.getField(a))?a.getValue():null};
Blockly.Block.prototype.setFieldValue=function(a,b){var c=this.getField(b);if(!c)throw Error('Field "'+b+'" not found.');c.setValue(a)};
Blockly.Block.prototype.setPreviousStatement=function(a,b){if(a){void 0===b&&(b=null);if(!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(Blockly.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(b)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose();
this.previousConnection=null}};Blockly.Block.prototype.setNextStatement=function(a,b){if(a)void 0===b&&(b=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Blockly.NEXT_STATEMENT)),this.nextConnection.setCheck(b);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose();this.nextConnection=null}};
Blockly.Block.prototype.setOutput=function(a,b){if(a){void 0===b&&(b=null);if(!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(Blockly.OUTPUT_VALUE)}this.outputConnection.setCheck(b)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose();this.outputConnection=
null}};Blockly.Block.prototype.setInputsInline=function(a){this.inputsInline!=a&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"inline",null,this.inputsInline,a)),this.inputsInline=a)};
Blockly.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var a=1;a<this.inputList.length;a++)if(this.inputList[a-1].type==Blockly.DUMMY_INPUT&&this.inputList[a].type==Blockly.DUMMY_INPUT)return!1;for(a=1;a<this.inputList.length;a++)if(this.inputList[a-1].type==Blockly.INPUT_VALUE&&this.inputList[a].type==Blockly.DUMMY_INPUT)return!0;return!1};
Blockly.Block.prototype.setDisabled=function(a){this.disabled!=a&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"disabled",null,this.disabled,a)),this.disabled=a)};Blockly.Block.prototype.getInheritedDisabled=function(){for(var a=this.getSurroundParent();a;){if(a.disabled)return!0;a=a.getSurroundParent()}return!1};Blockly.Block.prototype.isCollapsed=function(){return this.collapsed_};
Blockly.Block.prototype.setCollapsed=function(a){this.collapsed_!=a&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"collapsed",null,this.collapsed_,a)),this.collapsed_=a)};
Blockly.Block.prototype.toString=function(a,b){var c=[],d=b||"?";if(this.collapsed_)c.push(this.getInput("_TEMP_COLLAPSED_INPUT").fieldRow[0].text_);else for(var e=0,f;f=this.inputList[e];e++){for(var h=0,g;g=f.fieldRow[h];h++)g instanceof Blockly.FieldDropdown&&!g.getValue()?c.push(d):c.push(g.getText());f.connection&&((f=f.connection.targetBlock())?c.push(f.toString(void 0,b)):c.push(d))}c=c.join(" ").trim()||"???";a&&c.length>a&&(c=c.substring(0,a-3)+"...");return c};
Blockly.Block.prototype.appendValueInput=function(a){return this.appendInput_(Blockly.INPUT_VALUE,a)};Blockly.Block.prototype.appendStatementInput=function(a){return this.appendInput_(Blockly.NEXT_STATEMENT,a)};Blockly.Block.prototype.appendDummyInput=function(a){return this.appendInput_(Blockly.DUMMY_INPUT,a||"")};
Blockly.Block.prototype.jsonInit=function(a){var b=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(b+"Must not have both an output and a previousStatement.");this.jsonInitColour_(a,b);for(var c=0;void 0!==a["message"+c];)this.interpolate_(a["message"+c],a["args"+c]||[],a["lastDummyAlign"+c]),c++;void 0!==a.inputsInline&&this.setInputsInline(a.inputsInline);void 0!==a.output&&this.setOutput(!0,a.output);void 0!==a.previousStatement&&this.setPreviousStatement(!0,a.previousStatement);
void 0!==a.nextStatement&&this.setNextStatement(!0,a.nextStatement);void 0!==a.tooltip&&(c=a.tooltip,c=Blockly.utils.replaceMessageReferences(c),this.setTooltip(c));void 0!==a.enableContextMenu&&(c=a.enableContextMenu,this.contextMenu=!!c);void 0!==a.helpUrl&&(c=a.helpUrl,c=Blockly.utils.replaceMessageReferences(c),this.setHelpUrl(c));"string"==typeof a.extensions&&(console.warn(b+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=
[a.extensions]);void 0!==a.mutator&&Blockly.Extensions.apply(a.mutator,this,!0);if(Array.isArray(a.extensions))for(a=a.extensions,b=0;b<a.length;++b)Blockly.Extensions.apply(a[b],this,!1)};Blockly.Block.prototype.jsonInitColour_=function(a,b){if("colour"in a)if(void 0===a.colour)console.warn(b+"Undefined color value.");else{a=a.colour;try{this.setColour(a)}catch(c){console.warn(b+"Illegal color value: ",a)}}};
Blockly.Block.prototype.mixin=function(a,b){if(void 0!==b&&"boolean"!=typeof b)throw Error("opt_disableCheck must be a boolean if provided");if(!b){b=[];for(var c in a)void 0!==this[c]&&b.push(c);if(b.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(b));}goog.mixin(this,a)};
Blockly.Block.prototype.interpolate_=function(a,b,c){var d=Blockly.utils.tokenizeInterpolation(a),e=[],f=0;a=[];for(var h=0;h<d.length;h++){var g=d[h];if("number"==typeof g){if(0>=g||g>b.length)throw Error('Block "'+this.type+'": Message index %'+g+" out of range.");if(e[g])throw Error('Block "'+this.type+'": Message index %'+g+" duplicated.");e[g]=!0;f++;a.push(b[g-1])}else(g=g.trim())&&a.push(g)}if(f!=b.length)throw Error('Block "'+this.type+'": Message does not reference all '+b.length+" arg(s).");
a.length&&("string"==typeof a[a.length-1]||Blockly.utils.startsWith(a[a.length-1].type,"field_"))&&(h={type:"input_dummy"},c&&(h.align=c),a.push(h));c={LEFT:Blockly.ALIGN_LEFT,RIGHT:Blockly.ALIGN_RIGHT,CENTRE:Blockly.ALIGN_CENTRE};b=[];for(h=0;h<a.length;h++)if(e=a[h],"string"==typeof e)b.push([e,void 0]);else{d=f=null;do if(g=!1,"string"==typeof e)f=new Blockly.FieldLabel(e);else switch(e.type){case "input_value":d=this.appendValueInput(e.name);break;case "input_statement":d=this.appendStatementInput(e.name);
break;case "input_dummy":d=this.appendDummyInput(e.name);break;default:f=Blockly.Field.fromJson(e),f||(e.alt?(e=e.alt,g=!0):console.warn("Blockly could not create a field of type "+e.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(g);if(f)b.push([f,e.name]);else if(d){e.check&&d.setCheck(e.check);e.align&&d.setAlign(c[e.align]);for(e=0;e<b.length;e++)d.appendField(b[e][0],b[e][1]);b.length=0}}};
Blockly.Block.prototype.appendInput_=function(a,b){var c=null;if(a==Blockly.INPUT_VALUE||a==Blockly.NEXT_STATEMENT)c=this.makeConnection_(a);a=new Blockly.Input(a,b,this,c);this.inputList.push(a);return a};
Blockly.Block.prototype.moveInputBefore=function(a,b){if(a!=b){for(var c=-1,d=b?-1:this.inputList.length,e=0,f;f=this.inputList[e];e++)if(f.name==a){if(c=e,-1!=d)break}else if(b&&f.name==b&&(d=e,-1!=c))break;if(-1==c)throw Error('Named input "'+a+'" not found.');if(-1==d)throw Error('Reference input "'+b+'" not found.');this.moveNumberedInputBefore(c,d)}};
Blockly.Block.prototype.moveNumberedInputBefore=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.inputList.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.inputList.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.inputList[a];this.inputList.splice(a,1);a<b&&b--;this.inputList.splice(b,0,c)};
Blockly.Block.prototype.removeInput=function(a,b){for(var c=0,d;d=this.inputList[c];c++)if(d.name==a){d.connection&&d.connection.isConnected()&&(d.connection.setShadowDom(null),a=d.connection.targetBlock(),a.isShadow()?a.dispose():a.unplug());d.dispose();this.inputList.splice(c,1);return}if(!b)throw Error("Input not found: "+a);};Blockly.Block.prototype.getInput=function(a){for(var b=0,c;c=this.inputList[b];b++)if(c.name==a)return c;return null};
Blockly.Block.prototype.getInputTargetBlock=function(a){return(a=this.getInput(a))&&a.connection&&a.connection.targetBlock()};Blockly.Block.prototype.getCommentText=function(){return this.comment||""};Blockly.Block.prototype.setCommentText=function(a){this.comment!=a&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"comment",null,this.comment,a||"")),this.comment=a)};Blockly.Block.prototype.setWarningText=function(a,b){};Blockly.Block.prototype.setMutator=function(a){};
Blockly.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_};Blockly.Block.prototype.moveBy=function(a,b){if(this.parentBlock_)throw Error("Block has parent.");var c=new Blockly.Events.BlockMove(this);this.xy_.translate(a,b);c.recordNew();Blockly.Events.fire(c)};Blockly.Block.prototype.makeConnection_=function(a){return new Blockly.Connection(this,a)};
Blockly.Block.prototype.allInputsFilled=function(a){void 0===a&&(a=!0);if(!a&&this.isShadow())return!1;for(var b=0,c;c=this.inputList[b];b++)if(c.connection&&(c=c.connection.targetBlock(),!c||!c.allInputsFilled(a)))return!1;return(b=this.getNextBlock())?b.allInputsFilled(a):!0};Blockly.Block.prototype.toDevString=function(){var a=this.type?'"'+this.type+'" block':"Block";this.id&&(a+=' (id="'+this.id+'")');return a};Blockly.utils.uiMenu={};Blockly.utils.uiMenu.getSize=function(a){a=a.getElement();var b=goog.style.getSize(a);b.height=a.scrollHeight;return b};Blockly.utils.uiMenu.adjustBBoxesForRTL=function(a,b,c){b.left+=c.width;b.right+=c.width;a.left+=c.width;a.right+=c.width};goog.debug.entryPointRegistry={};goog.debug.EntryPointMonitor=function(){};goog.debug.entryPointRegistry.refList_=[];goog.debug.entryPointRegistry.monitors_=[];goog.debug.entryPointRegistry.monitorsMayExist_=!1;goog.debug.entryPointRegistry.register=function(a){goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=a;if(goog.debug.entryPointRegistry.monitorsMayExist_)for(var b=goog.debug.entryPointRegistry.monitors_,c=0;c<b.length;c++)a(goog.bind(b[c].wrap,b[c]))};
goog.debug.entryPointRegistry.monitorAll=function(a){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var b=goog.bind(a.wrap,a),c=0;c<goog.debug.entryPointRegistry.refList_.length;c++)goog.debug.entryPointRegistry.refList_[c](b);goog.debug.entryPointRegistry.monitors_.push(a)};
goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(a){var b=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(a==b[b.length-1],"Only the most recent monitor can be unwrapped.");a=goog.bind(a.unwrap,a);for(var c=0;c<goog.debug.entryPointRegistry.refList_.length;c++)goog.debug.entryPointRegistry.refList_[c](a);b.length--};goog.debug.errorcontext={};goog.debug.errorcontext.addErrorContext=function(a,b,c){a[goog.debug.errorcontext.CONTEXT_KEY_]||(a[goog.debug.errorcontext.CONTEXT_KEY_]={});a[goog.debug.errorcontext.CONTEXT_KEY_][b]=c};goog.debug.errorcontext.getErrorContext=function(a){return a[goog.debug.errorcontext.CONTEXT_KEY_]||{}};goog.debug.errorcontext.CONTEXT_KEY_="__closure__error__context__984382";goog.debug.LOGGING_ENABLED=goog.DEBUG;goog.debug.FORCE_SLOPPY_STACKS=!1;goog.debug.catchErrors=function(a,b,c){c=c||goog.global;var d=c.onerror,e=!!b;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(e=!e);c.onerror=function(b,c,g,k,p){d&&d(b,c,g,k,p);a({message:b,fileName:c,line:g,lineNumber:g,col:k,error:p});return e}};
goog.debug.expose=function(a,b){if("undefined"==typeof a)return"undefined";if(null==a)return"NULL";var c=[],d;for(d in a)if(b||!goog.isFunction(a[d])){var e=d+" = ";try{e+=a[d]}catch(f){e+="*** "+f+" ***"}c.push(e)}return c.join("\n")};
goog.debug.deepExpose=function(a,b){var c=[],d=[],e={},f=function(a,g){var h=g+"  ";try{if(goog.isDef(a))if(goog.isNull(a))c.push("NULL");else if(goog.isString(a))c.push('"'+a.replace(/\n/g,"\n"+g)+'"');else if(goog.isFunction(a))c.push(String(a).replace(/\n/g,"\n"+g));else if(goog.isObject(a)){goog.hasUid(a)||d.push(a);var p=goog.getUid(a);if(e[p])c.push("*** reference loop detected (id="+p+") ***");else{e[p]=!0;c.push("{");for(var l in a)if(b||!goog.isFunction(a[l]))c.push("\n"),c.push(h),c.push(l+
" = "),f(a[l],h);c.push("\n"+g+"}");delete e[p]}}else c.push(a);else c.push("undefined")}catch(m){c.push("*** "+m+" ***")}};f(a,"");for(a=0;a<d.length;a++)goog.removeUid(d[a]);return c.join("")};goog.debug.exposeArray=function(a){for(var b=[],c=0;c<a.length;c++)goog.isArray(a[c])?b.push(goog.debug.exposeArray(a[c])):b.push(a[c]);return"[ "+b.join(", ")+" ]"};
goog.debug.normalizeErrorObject=function(a){var b=goog.getObjectByName("window.location.href");if(goog.isString(a))return{message:a,name:"Unknown error",lineNumber:"Not available",fileName:b,stack:"Not available"};var c=!1;try{var d=a.lineNumber||a.line||"Not available"}catch(f){d="Not available",c=!0}try{var e=a.fileName||a.filename||a.sourceURL||goog.global.$googDebugFname||b}catch(f){e="Not available",c=!0}return!c&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:{message:a.message||"Not available",
name:a.name||"UnknownError",lineNumber:d,fileName:e,stack:a.stack||"Not available"}};goog.debug.enhanceError=function(a,b){a instanceof Error||(a=Error(a),Error.captureStackTrace&&Error.captureStackTrace(a,goog.debug.enhanceError));a.stack||(a.stack=goog.debug.getStacktrace(goog.debug.enhanceError));if(b){for(var c=0;a["message"+c];)++c;a["message"+c]=String(b)}return a};
goog.debug.enhanceErrorWithContext=function(a,b){a=goog.debug.enhanceError(a);if(b)for(var c in b)goog.debug.errorcontext.addErrorContext(a,c,b[c]);return a};
goog.debug.getStacktraceSimple=function(a){if(!goog.debug.FORCE_SLOPPY_STACKS){var b=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(b)return b}b=[];for(var c=arguments.callee.caller,d=0;c&&(!a||d<a);){b.push(goog.debug.getFunctionName(c));b.push("()\n");try{c=c.caller}catch(e){b.push("[exception trying to get caller]\n");break}d++;if(d>=goog.debug.MAX_STACK_DEPTH){b.push("[...long stack...]");break}}a&&d>=a?b.push("[...reached max depth limit...]"):b.push("[end]");return b.join("")};
goog.debug.MAX_STACK_DEPTH=50;goog.debug.getNativeStackTrace_=function(a){var b=Error();if(Error.captureStackTrace)return Error.captureStackTrace(b,a),String(b.stack);try{throw b;}catch(c){b=c}return(a=b.stack)?String(a):null};goog.debug.getStacktrace=function(a){var b;goog.debug.FORCE_SLOPPY_STACKS||(b=goog.debug.getNativeStackTrace_(a||goog.debug.getStacktrace));b||(b=goog.debug.getStacktraceHelper_(a||arguments.callee.caller,[]));return b};
goog.debug.getStacktraceHelper_=function(a,b){var c=[];if(goog.array.contains(b,a))c.push("[...circular reference...]");else if(a&&b.length<goog.debug.MAX_STACK_DEPTH){c.push(goog.debug.getFunctionName(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=goog.debug.getFunctionName(f))?f:"[fn]";break;default:f=
typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(goog.debug.getStacktraceHelper_(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")};goog.debug.setFunctionResolver=function(a){goog.debug.fnNameResolver_=a};
goog.debug.getFunctionName=function(a){if(goog.debug.fnNameCache_[a])return goog.debug.fnNameCache_[a];if(goog.debug.fnNameResolver_){var b=goog.debug.fnNameResolver_(a);if(b)return goog.debug.fnNameCache_[a]=b}a=String(a);goog.debug.fnNameCache_[a]||(b=/function ([^\(]+)/.exec(a),goog.debug.fnNameCache_[a]=b?b[1]:"[Anonymous]");return goog.debug.fnNameCache_[a]};
goog.debug.makeWhitespaceVisible=function(a){return a.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")};goog.debug.runtimeType=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};goog.debug.fnNameCache_={};goog.debug.freezeInternal_=goog.DEBUG&&Object.freeze||function(a){return a};
goog.debug.freeze=function(a){return goog.debug.freezeInternal_(a)};goog.disposable={};goog.disposable.IDisposable=function(){};goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod;goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod;goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this);this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2};goog.Disposable.MONITORING_MODE=0;goog.Disposable.INCLUDE_STACK_ON_CREATION=!0;goog.Disposable.instances_={};
goog.Disposable.getUndisposedObjects=function(){var a=[],b;for(b in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(b)&&a.push(goog.Disposable.instances_[Number(b)]);return a};goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}};goog.Disposable.prototype.disposed_=!1;goog.Disposable.prototype.isDisposed=function(){return this.disposed_};goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed;
goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var a=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");if(goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&
this.onDisposeCallbacks_&&0<this.onDisposeCallbacks_.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete goog.Disposable.instances_[a]}};goog.Disposable.prototype.registerDisposable=function(a){this.addOnDisposeCallback(goog.partial(goog.dispose,a))};
goog.Disposable.prototype.addOnDisposeCallback=function(a,b){this.disposed_?goog.isDef(b)?a.call(b):a():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.isDef(b)?goog.bind(a,b):a))};goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};goog.Disposable.isDisposed=function(a){return a&&"function"==typeof a.isDisposed?a.isDisposed():!1};
goog.dispose=function(a){a&&"function"==typeof a.dispose&&a.dispose()};goog.disposeAll=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];goog.isArrayLike(d)?goog.disposeAll.apply(null,d):goog.dispose(d)}};goog.events.EventId=function(a){this.id=a};goog.events.EventId.prototype.toString=function(){return this.id};goog.events.Event=function(a,b){this.type=a instanceof goog.events.EventId?String(a):a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0};goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};goog.events.Event.stopPropagation=function(a){a.stopPropagation()};goog.events.Event.preventDefault=function(a){a.preventDefault()};goog.events.getVendorPrefixedName_=function(a){return goog.userAgent.WEBKIT?"webkit"+a:goog.userAgent.OPERA?"o"+a.toLowerCase():a.toLowerCase()};
goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSECANCEL:"mousecancel",SELECTIONCHANGE:"selectionchange",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:"focusin",FOCUSOUT:"focusout",CHANGE:"change",RESET:"reset",
SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DEVICECHANGE:"devicechange",DEVICEMOTION:"devicemotion",DEVICEORIENTATION:"deviceorientation",DOMCONTENTLOADED:"DOMContentLoaded",
ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",LOADEDDATA:"loadeddata",LOADEDMETADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",RATECHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIMEUPDATE:"timeupdate",
VOLUMECHANGE:"volumechange",WAITING:"waiting",SOURCEOPEN:"sourceopen",SOURCEENDED:"sourceended",SOURCECLOSED:"sourceclosed",ABORT:"abort",UPDATE:"update",UPDATESTART:"updatestart",UPDATEEND:"updateend",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",INSTALL:"install",ACTIVATE:"activate",
FETCH:"fetch",FOREIGNFETCH:"foreignfetch",MESSAGEERROR:"messageerror",STATECHANGE:"statechange",UPDATEFOUND:"updatefound",CONTROLLERCHANGE:"controllerchange",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",
POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",
MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:goog.userAgent.IE?"textinput":"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",BEFOREINPUT:"beforeinput",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",
LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",
AFTERPRINT:"afterprint",BEFOREINSTALLPROMPT:"beforeinstallprompt",APPINSTALLED:"appinstalled"};goog.events.getPointerFallbackEventName_=function(a,b,c){return goog.events.BrowserFeature.POINTER_EVENTS?a:goog.events.BrowserFeature.MSPOINTER_EVENTS?b:c};
goog.events.PointerFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.MOUSEDOWN),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.MOUSEUP),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,goog.events.EventType.MOUSECANCEL),
POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.MOUSEMOVE),POINTEROVER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROVER,goog.events.EventType.MSPOINTEROVER,goog.events.EventType.MOUSEOVER),POINTEROUT:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROUT,goog.events.EventType.MSPOINTEROUT,goog.events.EventType.MOUSEOUT),POINTERENTER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERENTER,
goog.events.EventType.MSPOINTERENTER,goog.events.EventType.MOUSEENTER),POINTERLEAVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERLEAVE,goog.events.EventType.MSPOINTERLEAVE,goog.events.EventType.MOUSELEAVE)};
goog.events.PointerAsMouseEventType={MOUSEDOWN:goog.events.PointerFallbackEventType.POINTERDOWN,MOUSEUP:goog.events.PointerFallbackEventType.POINTERUP,MOUSECANCEL:goog.events.PointerFallbackEventType.POINTERCANCEL,MOUSEMOVE:goog.events.PointerFallbackEventType.POINTERMOVE,MOUSEOVER:goog.events.PointerFallbackEventType.POINTEROVER,MOUSEOUT:goog.events.PointerFallbackEventType.POINTEROUT,MOUSEENTER:goog.events.PointerFallbackEventType.POINTERENTER,MOUSELEAVE:goog.events.PointerFallbackEventType.POINTERLEAVE};goog.events.BrowserEvent=function(a,b){goog.events.Event.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.platformModifierKey=!1;this.pointerId=0;this.pointerType="";this.event_=null;a&&this.init(a,b)};goog.inherits(goog.events.BrowserEvent,goog.events.Event);
goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2};goog.events.BrowserEvent.PointerType={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"};goog.events.BrowserEvent.IEButtonMap=goog.debug.freeze([1,4,2]);goog.events.BrowserEvent.IE_BUTTON_MAP=goog.events.BrowserEvent.IEButtonMap;goog.events.BrowserEvent.IE_POINTER_TYPE_MAP=goog.debug.freeze({2:goog.events.BrowserEvent.PointerType.TOUCH,3:goog.events.BrowserEvent.PointerType.PEN,4:goog.events.BrowserEvent.PointerType.MOUSE});
goog.events.BrowserEvent.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;(b=a.relatedTarget)?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(b,"nodeName")||(b=null)):c==goog.events.EventType.MOUSEOVER?b=a.fromElement:c==goog.events.EventType.MOUSEOUT&&(b=a.toElement);this.relatedTarget=b;goog.isNull(d)?(this.offsetX=goog.userAgent.WEBKIT||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=
goog.userAgent.WEBKIT||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=
a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=goog.userAgent.MAC?a.metaKey:a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType=goog.events.BrowserEvent.getPointerType_(a);this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()};
goog.events.BrowserEvent.prototype.isButton=function(a){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==a:"click"==this.type?a==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IE_BUTTON_MAP[a])};goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)};
goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_};
goog.events.BrowserEvent.getPointerType_=function(a){return goog.isString(a.pointerType)?a.pointerType:goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[a.pointerType]||""};goog.events.Listenable=function(){};goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1E6*Math.random()|0);goog.events.Listenable.addImplementation=function(a){a.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0};goog.events.Listenable.isImplementedBy=function(a){return!(!a||!a[goog.events.Listenable.IMPLEMENTED_BY_PROP])};goog.events.ListenableKey=function(){};goog.events.ListenableKey.counter_=0;goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_};goog.events.Listener=function(a,b,c,d,e,f){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack);this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.handler=f;this.key=goog.events.ListenableKey.reserveKey();this.removed=this.callOnce=!1};goog.events.Listener.ENABLE_MONITORING=!1;goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0;this.handler=this.src=this.proxy=this.listener=null};goog.events.ListenerMap=function(a){this.src=a;this.listeners={};this.typeCount_=0};goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_};goog.events.ListenerMap.prototype.getListenerCount=function(){var a=0,b;for(b in this.listeners)a+=this.listeners[b].length;return a};
goog.events.ListenerMap.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.typeCount_++);var h=goog.events.ListenerMap.findListenerIndex_(a,b,d,e);-1<h?(b=a[h],c||(b.callOnce=!1)):(b=new goog.events.Listener(b,null,this.src,f,!!d,e),b.callOnce=c,a.push(b));return b};
goog.events.ListenerMap.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=goog.events.ListenerMap.findListenerIndex_(e,b,c,d);return-1<b?(e[b].markAsRemoved(),goog.array.removeAt(e,b),0==e.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};
goog.events.ListenerMap.prototype.removeByKey=function(a){var b=a.type;if(!(b in this.listeners))return!1;var c=goog.array.remove(this.listeners[b],a);c&&(a.markAsRemoved(),0==this.listeners[b].length&&(delete this.listeners[b],this.typeCount_--));return c};goog.events.ListenerMap.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,d[e].markAsRemoved();delete this.listeners[c];this.typeCount_--}return b};
goog.events.ListenerMap.prototype.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};goog.events.ListenerMap.prototype.getListener=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=goog.events.ListenerMap.findListenerIndex_(a,b,c,d));return-1<e?a[e]:null};
goog.events.ListenerMap.prototype.hasListener=function(a,b){var c=goog.isDef(a),d=c?a.toString():"",e=goog.isDef(b);return goog.object.some(this.listeners,function(a,h){for(h=0;h<a.length;++h)if(!(c&&a[h].type!=d||e&&a[h].capture!=b))return!0;return!1})};goog.events.ListenerMap.findListenerIndex_=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1E6*Math.random()|0);goog.events.onString_="on";goog.events.onStringMap_={};goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2};goog.events.CAPTURE_SIMULATION_MODE=2;goog.events.listenerCountEstimate_=0;
goog.events.listen=function(a,b,c,d,e){if(d&&d.once)return goog.events.listenOnce(a,b,c,d,e);if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.listen(a,b[f],c,d,e);return null}c=goog.events.wrapListener(c);return goog.events.Listenable.isImplementedBy(a)?(d=goog.isObject(d)?!!d.capture:!!d,a.listen(b,c,d,e)):goog.events.listen_(a,b,c,!1,d,e)};
goog.events.listen_=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=goog.isObject(e)?!!e.capture:!!e;if(h&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var g=goog.events.getListenerMap_(a);g||(a[goog.events.LISTENER_MAP_PROP_]=
g=new goog.events.ListenerMap(a));c=g.add(b,c,d,h,f);if(c.proxy)return c;d=goog.events.getProxy();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)goog.events.BrowserFeature.PASSIVE_EVENTS||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(goog.events.getOnString_(b.toString()),d);else if(a.addListener&&a.removeListener)goog.asserts.assert("change"===b,"MediaQueryList only has a change event"),a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");
goog.events.listenerCountEstimate_++;return c};goog.events.getProxy=function(){var a=goog.events.handleBrowserEvent_,b=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b};
goog.events.listenOnce=function(a,b,c,d,e){if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.listenOnce(a,b[f],c,d,e);return null}c=goog.events.wrapListener(c);return goog.events.Listenable.isImplementedBy(a)?(d=goog.isObject(d)?!!d.capture:!!d,a.listenOnce(b,c,d,e)):goog.events.listen_(a,b,c,!0,d,e)};goog.events.listenWithWrapper=function(a,b,c,d,e){b.listen(a,c,d,e)};
goog.events.unlisten=function(a,b,c,d,e){if(goog.isArray(b)){for(var f=0;f<b.length;f++)goog.events.unlisten(a,b[f],c,d,e);return null}d=goog.isObject(d)?!!d.capture:!!d;c=goog.events.wrapListener(c);if(goog.events.Listenable.isImplementedBy(a))return a.unlisten(b,c,d,e);if(!a)return!1;if(a=goog.events.getListenerMap_(a))if(b=a.getListener(b,c,d,e))return goog.events.unlistenByKey(b);return!1};
goog.events.unlistenByKey=function(a){if(goog.isNumber(a)||!a||a.removed)return!1;var b=a.src;if(goog.events.Listenable.isImplementedBy(b))return b.unlistenByKey(a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(goog.events.getOnString_(c),d):b.addListener&&b.removeListener&&b.removeListener(d);goog.events.listenerCountEstimate_--;(c=goog.events.getListenerMap_(b))?(c.removeByKey(a),0==c.getTypeCount()&&(c.src=null,b[goog.events.LISTENER_MAP_PROP_]=
null)):a.markAsRemoved();return!0};goog.events.unlistenWithWrapper=function(a,b,c,d,e){b.unlisten(a,c,d,e)};goog.events.removeAll=function(a,b){if(!a)return 0;if(goog.events.Listenable.isImplementedBy(a))return a.removeAllListeners(b);a=goog.events.getListenerMap_(a);if(!a)return 0;var c=0;b=b&&b.toString();for(var d in a.listeners)if(!b||d==b)for(var e=a.listeners[d].concat(),f=0;f<e.length;++f)goog.events.unlistenByKey(e[f])&&++c;return c};
goog.events.getListeners=function(a,b,c){return goog.events.Listenable.isImplementedBy(a)?a.getListeners(b,c):a?(a=goog.events.getListenerMap_(a))?a.getListeners(b,c):[]:[]};goog.events.getListener=function(a,b,c,d,e){c=goog.events.wrapListener(c);d=!!d;return goog.events.Listenable.isImplementedBy(a)?a.getListener(b,c,d,e):a?(a=goog.events.getListenerMap_(a))?a.getListener(b,c,d,e):null:null};
goog.events.hasListener=function(a,b,c){if(goog.events.Listenable.isImplementedBy(a))return a.hasListener(b,c);a=goog.events.getListenerMap_(a);return!!a&&a.hasListener(b,c)};goog.events.expose=function(a){var b=[],c;for(c in a)a[c]&&a[c].id?b.push(c+" = "+a[c]+" ("+a[c].id+")"):b.push(c+" = "+a[c]);return b.join("\n")};goog.events.getOnString_=function(a){return a in goog.events.onStringMap_?goog.events.onStringMap_[a]:goog.events.onStringMap_[a]=goog.events.onString_+a};
goog.events.fireListeners=function(a,b,c,d){return goog.events.Listenable.isImplementedBy(a)?a.fireListeners(b,c,d):goog.events.fireListeners_(a,b,c,d)};goog.events.fireListeners_=function(a,b,c,d){var e=!0;if(a=goog.events.getListenerMap_(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=goog.events.fireListener(f,d),e=e&&!1!==f)}return e};
goog.events.fireListener=function(a,b){var c=a.listener,d=a.handler||a.src;a.callOnce&&goog.events.unlistenByKey(a);return c.call(d,b)};goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_};goog.events.dispatchEvent=function(a,b){goog.asserts.assert(goog.events.Listenable.isImplementedBy(a),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.");return a.dispatchEvent(b)};
goog.events.protectBrowserEventEntryPoint=function(a){goog.events.handleBrowserEvent_=a.protectEntryPoint(goog.events.handleBrowserEvent_)};
goog.events.handleBrowserEvent_=function(a,b){if(a.removed)return!0;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var c=b||goog.getObjectByName("window.event");b=new goog.events.BrowserEvent(c,this);var d=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(c)){goog.events.markIeEvent_(c);c=[];for(var e=b.currentTarget;e;e=e.parentNode)c.push(e);a=a.type;for(e=c.length-1;!b.propagationStopped_&&0<=e;e--){b.currentTarget=c[e];var f=
goog.events.fireListeners_(c[e],a,!0,b);d=d&&f}for(e=0;!b.propagationStopped_&&e<c.length;e++)b.currentTarget=c[e],f=goog.events.fireListeners_(c[e],a,!1,b),d=d&&f}}else d=goog.events.fireListener(a,b);return d}return goog.events.fireListener(a,new goog.events.BrowserEvent(b,this))};goog.events.markIeEvent_=function(a){var b=!1;if(0==a.keyCode)try{a.keyCode=-1;return}catch(c){b=!0}if(b||void 0==a.returnValue)a.returnValue=!0};goog.events.isMarkedIeEvent_=function(a){return 0>a.keyCode||void 0!=a.returnValue};
goog.events.uniqueIdCounter_=0;goog.events.getUniqueId=function(a){return a+"_"+goog.events.uniqueIdCounter_++};goog.events.getListenerMap_=function(a){a=a[goog.events.LISTENER_MAP_PROP_];return a instanceof goog.events.ListenerMap?a:null};goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1E9*Math.random()>>>0);
goog.events.wrapListener=function(a){goog.asserts.assert(a,"Listener can not be null.");if(goog.isFunction(a))return a;goog.asserts.assert(a.handleEvent,"An object listener must have handleEvent method.");a[goog.events.LISTENER_WRAPPER_PROP_]||(a[goog.events.LISTENER_WRAPPER_PROP_]=function(b){return a.handleEvent(b)});return a[goog.events.LISTENER_WRAPPER_PROP_]};goog.debug.entryPointRegistry.register(function(a){goog.events.handleBrowserEvent_=a(goog.events.handleBrowserEvent_)});goog.events.EventHandler=function(a){goog.Disposable.call(this);this.handler_=a;this.keys_={}};goog.inherits(goog.events.EventHandler,goog.Disposable);goog.events.EventHandler.typeArray_=[];goog.events.EventHandler.prototype.listen=function(a,b,c,d){return this.listen_(a,b,c,d)};goog.events.EventHandler.prototype.listenWithScope=function(a,b,c,d,e){return this.listen_(a,b,c,d,e)};
goog.events.EventHandler.prototype.listen_=function(a,b,c,d,e){goog.isArray(b)||(b&&(goog.events.EventHandler.typeArray_[0]=b.toString()),b=goog.events.EventHandler.typeArray_);for(var f=0;f<b.length;f++){var h=goog.events.listen(a,b[f],c||this.handleEvent,d||!1,e||this.handler_||this);if(!h)break;this.keys_[h.key]=h}return this};goog.events.EventHandler.prototype.listenOnce=function(a,b,c,d){return this.listenOnce_(a,b,c,d)};
goog.events.EventHandler.prototype.listenOnceWithScope=function(a,b,c,d,e){return this.listenOnce_(a,b,c,d,e)};goog.events.EventHandler.prototype.listenOnce_=function(a,b,c,d,e){if(goog.isArray(b))for(var f=0;f<b.length;f++)this.listenOnce_(a,b[f],c,d,e);else{a=goog.events.listenOnce(a,b,c||this.handleEvent,d,e||this.handler_||this);if(!a)return this;this.keys_[a.key]=a}return this};goog.events.EventHandler.prototype.listenWithWrapper=function(a,b,c,d){return this.listenWithWrapper_(a,b,c,d)};
goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(a,b,c,d,e){return this.listenWithWrapper_(a,b,c,d,e)};goog.events.EventHandler.prototype.listenWithWrapper_=function(a,b,c,d,e){b.listen(a,c,d,e||this.handler_||this,this);return this};goog.events.EventHandler.prototype.getListenerCount=function(){var a=0,b;for(b in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,b)&&a++;return a};
goog.events.EventHandler.prototype.unlisten=function(a,b,c,d,e){if(goog.isArray(b))for(var f=0;f<b.length;f++)this.unlisten(a,b[f],c,d,e);else if(d=goog.isObject(d)?!!d.capture:!!d,a=goog.events.getListener(a,b,c||this.handleEvent,d,e||this.handler_||this))goog.events.unlistenByKey(a),delete this.keys_[a.key];return this};goog.events.EventHandler.prototype.unlistenWithWrapper=function(a,b,c,d,e){b.unlisten(a,c,d,e||this.handler_||this,this);return this};
goog.events.EventHandler.prototype.removeAll=function(){goog.object.forEach(this.keys_,function(a,b){this.keys_.hasOwnProperty(b)&&goog.events.unlistenByKey(a)},this);this.keys_={}};goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this);this.removeAll()};goog.events.EventHandler.prototype.handleEvent=function(a){throw Error("EventHandler.handleEvent not implemented");};goog.events.EventTarget=function(){goog.Disposable.call(this);this.eventTargetListeners_=new goog.events.ListenerMap(this);this.actualEventTarget_=this;this.parentEventTarget_=null};goog.inherits(goog.events.EventTarget,goog.Disposable);goog.events.Listenable.addImplementation(goog.events.EventTarget);goog.events.EventTarget.MAX_ANCESTORS_=1E3;goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_};
goog.events.EventTarget.prototype.setParentEventTarget=function(a){this.parentEventTarget_=a};goog.events.EventTarget.prototype.addEventListener=function(a,b,c,d){goog.events.listen(this,a,b,c,d)};goog.events.EventTarget.prototype.removeEventListener=function(a,b,c,d){goog.events.unlisten(this,a,b,c,d)};
goog.events.EventTarget.prototype.dispatchEvent=function(a){this.assertInitialized_();var b=this.getParentEventTarget();if(b){var c=[];for(var d=1;b;b=b.getParentEventTarget())c.push(b),goog.asserts.assert(++d<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,a,c)};
goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};goog.events.EventTarget.prototype.listen=function(a,b,c,d){this.assertInitialized_();return this.eventTargetListeners_.add(String(a),b,!1,c,d)};goog.events.EventTarget.prototype.listenOnce=function(a,b,c,d){return this.eventTargetListeners_.add(String(a),b,!0,c,d)};
goog.events.EventTarget.prototype.unlisten=function(a,b,c,d){return this.eventTargetListeners_.remove(String(a),b,c,d)};goog.events.EventTarget.prototype.unlistenByKey=function(a){return this.eventTargetListeners_.removeByKey(a)};goog.events.EventTarget.prototype.removeAllListeners=function(a){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(a):0};
goog.events.EventTarget.prototype.fireListeners=function(a,b,c){a=this.eventTargetListeners_.listeners[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.removed&&f.capture==b){var h=f.listener,g=f.handler||f.src;f.callOnce&&this.unlistenByKey(f);d=!1!==h.call(g,c)&&d}}return d&&0!=c.returnValue_};goog.events.EventTarget.prototype.getListeners=function(a,b){return this.eventTargetListeners_.getListeners(String(a),b)};
goog.events.EventTarget.prototype.getListener=function(a,b,c,d){return this.eventTargetListeners_.getListener(String(a),b,c,d)};goog.events.EventTarget.prototype.hasListener=function(a,b){a=goog.isDef(a)?String(a):void 0;return this.eventTargetListeners_.hasListener(a,b)};goog.events.EventTarget.prototype.setTargetForTesting=function(a){this.actualEventTarget_=a};goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};
goog.events.EventTarget.dispatchEventInternal_=function(a,b,c){var d=b.type||b;if(goog.isString(b))b=new goog.events.Event(b,a);else if(b instanceof goog.events.Event)b.target=b.target||a;else{var e=b;b=new goog.events.Event(d,a);goog.object.extend(b,e)}e=!0;if(c)for(var f=c.length-1;!b.propagationStopped_&&0<=f;f--){var h=b.currentTarget=c[f];e=h.fireListeners(d,!0,b)&&e}b.propagationStopped_||(h=b.currentTarget=a,e=h.fireListeners(d,!0,b)&&e,b.propagationStopped_||(e=h.fireListeners(d,!1,b)&&e));
if(c)for(f=0;!b.propagationStopped_&&f<c.length;f++)h=b.currentTarget=c[f],e=h.fireListeners(d,!1,b)&&e;return e};goog.ui={};goog.ui.IdGenerator=function(){};goog.addSingletonGetter(goog.ui.IdGenerator);goog.ui.IdGenerator.prototype.nextId_=0;goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return":"+(this.nextId_++).toString(36)};goog.ui.Component=function(a){goog.events.EventTarget.call(this);this.dom_=a||goog.dom.getDomHelper();this.rightToLeft_=goog.ui.Component.defaultRightToLeft_;this.id_=null;this.inDocument_=!1;this.element_=null;this.googUiComponentHandler_=void 0;this.childIndex_=this.children_=this.parent_=this.model_=null;this.pointerEventsEnabled_=this.wasDecorated_=!1};goog.inherits(goog.ui.Component,goog.events.EventTarget);goog.ui.Component.ALLOW_DETACHED_DECORATION=!1;
goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance();goog.ui.Component.DEFAULT_BIDI_DIR=0;goog.ui.Component.defaultRightToLeft_=1==goog.ui.Component.DEFAULT_BIDI_DIR?!1:-1==goog.ui.Component.DEFAULT_BIDI_DIR?!0:null;
goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"};
goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"};
goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64};
goog.ui.Component.getStateTransitionEvent=function(a,b){switch(a){case goog.ui.Component.State.DISABLED:return b?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return b?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return b?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return b?goog.ui.Component.EventType.SELECT:
goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return b?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return b?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return b?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw Error(goog.ui.Component.Error.STATE_INVALID);};
goog.ui.Component.setDefaultRightToLeft=function(a){goog.ui.Component.defaultRightToLeft_=a};goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())};goog.ui.Component.prototype.setId=function(a){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,a,this));this.id_=a};goog.ui.Component.prototype.getElement=function(){return this.element_};
goog.ui.Component.prototype.getElementStrict=function(){var a=this.element_;goog.asserts.assert(a,"Can not call getElementStrict before rendering/decorating.");return a};goog.ui.Component.prototype.setElementInternal=function(a){this.element_=a};goog.ui.Component.prototype.getElementsByClass=function(a){return this.element_?this.dom_.getElementsByClass(a,this.element_):[]};goog.ui.Component.prototype.getElementByClass=function(a){return this.element_?this.dom_.getElementByClass(a,this.element_):null};
goog.ui.Component.prototype.getRequiredElementByClass=function(a){var b=this.getElementByClass(a);goog.asserts.assert(b,"Expected element in component with class: %s",a);return b};goog.ui.Component.prototype.getHandler=function(){this.googUiComponentHandler_||(this.googUiComponentHandler_=new goog.events.EventHandler(this));return goog.asserts.assert(this.googUiComponentHandler_)};
goog.ui.Component.prototype.setParent=function(a){if(this==a)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(a&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=a)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=a;goog.ui.Component.superClass_.setParentEventTarget.call(this,a)};goog.ui.Component.prototype.getParent=function(){return this.parent_};
goog.ui.Component.prototype.setParentEventTarget=function(a){if(this.parent_&&this.parent_!=a)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,a)};goog.ui.Component.prototype.getDomHelper=function(){return this.dom_};goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_};goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement("DIV")};goog.ui.Component.prototype.render=function(a){this.render_(a)};
goog.ui.Component.prototype.renderBefore=function(a){this.render_(a.parentNode,a)};goog.ui.Component.prototype.render_=function(a,b){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom();a?a.insertBefore(this.element_,b||null):this.dom_.getDocument().body.appendChild(this.element_);this.parent_&&!this.parent_.isInDocument()||this.enterDocument()};
goog.ui.Component.prototype.decorate=function(a){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(a&&this.canDecorate(a)){this.wasDecorated_=!0;var b=goog.dom.getOwnerDocument(a);this.dom_&&this.dom_.getDocument()==b||(this.dom_=goog.dom.getDomHelper(a));this.decorateInternal(a);goog.ui.Component.ALLOW_DETACHED_DECORATION&&!goog.dom.contains(b,a)||this.enterDocument()}else throw Error(goog.ui.Component.Error.DECORATE_INVALID);};goog.ui.Component.prototype.canDecorate=function(a){return!0};
goog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_};goog.ui.Component.prototype.decorateInternal=function(a){this.element_=a};goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0;this.forEachChild(function(a){!a.isInDocument()&&a.getElement()&&a.enterDocument()})};
goog.ui.Component.prototype.exitDocument=function(){this.forEachChild(function(a){a.isInDocument()&&a.exitDocument()});this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll();this.inDocument_=!1};
goog.ui.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument();this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_);this.forEachChild(function(a){a.dispose()});!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_);this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null;goog.ui.Component.superClass_.disposeInternal.call(this)};
goog.ui.Component.prototype.makeId=function(a){return this.getId()+"."+a};goog.ui.Component.prototype.makeIds=function(a){var b={},c;for(c in a)b[c]=this.makeId(a[c]);return b};goog.ui.Component.prototype.getModel=function(){return this.model_};goog.ui.Component.prototype.setModel=function(a){this.model_=a};goog.ui.Component.prototype.getFragmentFromId=function(a){return a.substring(this.getId().length+1)};
goog.ui.Component.prototype.getElementByFragment=function(a){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(a))};goog.ui.Component.prototype.addChild=function(a,b){this.addChildAt(a,this.getChildCount(),b)};
goog.ui.Component.prototype.addChildAt=function(a,b,c){goog.asserts.assert(!!a,"Provided element must not be null.");if(a.inDocument_&&(c||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(0>b||b>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]);a.getParent()==this?(goog.object.set(this.childIndex_,a.getId(),a),goog.array.remove(this.children_,a)):goog.object.add(this.childIndex_,
a.getId(),a);a.setParent(this);goog.array.insertAt(this.children_,a,b);a.inDocument_&&this.inDocument_&&a.getParent()==this?(c=this.getContentElement(),b=c.childNodes[b]||null,b!=a.getElement()&&c.insertBefore(a.getElement(),b)):c?(this.element_||this.createDom(),b=this.getChildAt(b+1),a.render_(this.getContentElement(),b?b.element_:null)):this.inDocument_&&!a.inDocument_&&a.element_&&a.element_.parentNode&&a.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&a.enterDocument()};
goog.ui.Component.prototype.getContentElement=function(){return this.element_};goog.ui.Component.prototype.isRightToLeft=function(){null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body));return this.rightToLeft_};goog.ui.Component.prototype.setRightToLeft=function(a){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=a};
goog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length};goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0};goog.ui.Component.prototype.getChildIds=function(){var a=[];this.forEachChild(function(b){a.push(b.getId())});return a};goog.ui.Component.prototype.getChild=function(a){return this.childIndex_&&a?goog.object.get(this.childIndex_,a)||null:null};
goog.ui.Component.prototype.getChildAt=function(a){return this.children_?this.children_[a]||null:null};goog.ui.Component.prototype.forEachChild=function(a,b){this.children_&&goog.array.forEach(this.children_,a,b)};goog.ui.Component.prototype.indexOfChild=function(a){return this.children_&&a?goog.array.indexOf(this.children_,a):-1};
goog.ui.Component.prototype.removeChild=function(a,b){if(a){var c=goog.isString(a)?a:a.getId();a=this.getChild(c);c&&a&&(goog.object.remove(this.childIndex_,c),goog.array.remove(this.children_,a),b&&(a.exitDocument(),a.element_&&goog.dom.removeNode(a.element_)),a.setParent(null))}if(!a)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return a};goog.ui.Component.prototype.removeChildAt=function(a,b){return this.removeChild(this.getChildAt(a),b)};
goog.ui.Component.prototype.removeChildren=function(a){for(var b=[];this.hasChildren();)b.push(this.removeChildAt(0,a));return b};goog.ui.Component.prototype.pointerEventsEnabled=function(){return this.pointerEventsEnabled_};goog.ui.Component.prototype.setPointerEventsEnabled=function(a){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.pointerEventsEnabled_=a};goog.a11y={};goog.a11y.aria={};
goog.a11y.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",
MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",
TAB_LIST:"tablist",TAB_PANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"};goog.a11y.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",COLINDEX:"colindex",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",
POSINSET:"posinset",PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",ROWINDEX:"rowindex",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"};goog.a11y.aria.AutoCompleteValues={INLINE:"inline",LIST:"list",BOTH:"both",NONE:"none"};goog.a11y.aria.DropEffectValues={COPY:"copy",MOVE:"move",LINK:"link",EXECUTE:"execute",POPUP:"popup",NONE:"none"};
goog.a11y.aria.LivePriority={OFF:"off",POLITE:"polite",ASSERTIVE:"assertive"};goog.a11y.aria.OrientationValues={VERTICAL:"vertical",HORIZONTAL:"horizontal"};goog.a11y.aria.RelevantValues={ADDITIONS:"additions",REMOVALS:"removals",TEXT:"text",ALL:"all"};goog.a11y.aria.SortValues={ASCENDING:"ascending",DESCENDING:"descending",NONE:"none",OTHER:"other"};goog.a11y.aria.CheckedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"};
goog.a11y.aria.ExpandedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"};goog.a11y.aria.GrabbedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"};goog.a11y.aria.InvalidValues={FALSE:"false",TRUE:"true",GRAMMAR:"grammar",SPELLING:"spelling"};goog.a11y.aria.PressedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"};goog.a11y.aria.SelectedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"};goog.a11y.aria.datatables={};
goog.a11y.aria.datatables.getDefaultValuesMap=function(){goog.a11y.aria.DefaultStateValueMap_||(goog.a11y.aria.DefaultStateValueMap_=goog.object.create(goog.a11y.aria.State.ATOMIC,!1,goog.a11y.aria.State.AUTOCOMPLETE,"none",goog.a11y.aria.State.DROPEFFECT,"none",goog.a11y.aria.State.HASPOPUP,!1,goog.a11y.aria.State.LIVE,"off",goog.a11y.aria.State.MULTILINE,!1,goog.a11y.aria.State.MULTISELECTABLE,!1,goog.a11y.aria.State.ORIENTATION,"vertical",goog.a11y.aria.State.READONLY,!1,goog.a11y.aria.State.RELEVANT,
"additions text",goog.a11y.aria.State.REQUIRED,!1,goog.a11y.aria.State.SORT,"none",goog.a11y.aria.State.BUSY,!1,goog.a11y.aria.State.DISABLED,!1,goog.a11y.aria.State.HIDDEN,!1,goog.a11y.aria.State.INVALID,"false"));return goog.a11y.aria.DefaultStateValueMap_};goog.a11y.aria.ARIA_PREFIX_="aria-";goog.a11y.aria.ROLE_ATTRIBUTE_="role";goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_=goog.object.createSet("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));
goog.a11y.aria.CONTAINER_ROLES_=[goog.a11y.aria.Role.COMBOBOX,goog.a11y.aria.Role.GRID,goog.a11y.aria.Role.GROUP,goog.a11y.aria.Role.LISTBOX,goog.a11y.aria.Role.MENU,goog.a11y.aria.Role.MENUBAR,goog.a11y.aria.Role.RADIOGROUP,goog.a11y.aria.Role.ROW,goog.a11y.aria.Role.ROWGROUP,goog.a11y.aria.Role.TAB_LIST,goog.a11y.aria.Role.TEXTBOX,goog.a11y.aria.Role.TOOLBAR,goog.a11y.aria.Role.TREE,goog.a11y.aria.Role.TREEGRID];
goog.a11y.aria.setRole=function(a,b){b?(goog.asserts.ENABLE_ASSERTS&&goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.Role,b),"No such ARIA role "+b),a.setAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_,b)):goog.a11y.aria.removeRole(a)};goog.a11y.aria.getRole=function(a){return a.getAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)||null};goog.a11y.aria.removeRole=function(a){a.removeAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)};
goog.a11y.aria.setState=function(a,b,c){goog.isArray(c)&&(c=c.join(" "));var d=goog.a11y.aria.getAriaAttributeName_(b);""===c||void 0==c?(c=goog.a11y.aria.datatables.getDefaultValuesMap(),b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};goog.a11y.aria.toggleState=function(a,b){var c=goog.a11y.aria.getState(a,b);goog.string.isEmptyOrWhitespace(goog.string.makeSafe(c))||"true"==c||"false"==c?goog.a11y.aria.setState(a,b,"true"==c?"false":"true"):goog.a11y.aria.removeState(a,b)};
goog.a11y.aria.removeState=function(a,b){a.removeAttribute(goog.a11y.aria.getAriaAttributeName_(b))};goog.a11y.aria.getState=function(a,b){a=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));return null==a||void 0==a?"":String(a)};goog.a11y.aria.getActiveDescendant=function(a){var b=goog.a11y.aria.getState(a,goog.a11y.aria.State.ACTIVEDESCENDANT);return goog.dom.getOwnerDocument(a).getElementById(b)};
goog.a11y.aria.setActiveDescendant=function(a,b){var c="";b&&(c=b.id,goog.asserts.assert(c,"The active element should have an id."));goog.a11y.aria.setState(a,goog.a11y.aria.State.ACTIVEDESCENDANT,c)};goog.a11y.aria.getLabel=function(a){return goog.a11y.aria.getState(a,goog.a11y.aria.State.LABEL)};goog.a11y.aria.setLabel=function(a,b){goog.a11y.aria.setState(a,goog.a11y.aria.State.LABEL,b)};
goog.a11y.aria.assertRoleIsSetInternalUtil=function(a,b){goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_[a.tagName]||(a=goog.a11y.aria.getRole(a),goog.asserts.assert(null!=a,"The element ARIA role cannot be null."),goog.asserts.assert(goog.array.contains(b,a),'Non existing or incorrect role set for element.The role set is "'+a+'". The role should be any of "'+b+'". Check the ARIA specification for more details http://www.w3.org/TR/wai-aria/roles.'))};
goog.a11y.aria.getStateBoolean=function(a,b){a=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));goog.asserts.assert(goog.isBoolean(a)||null==a||"true"==a||"false"==a);return null==a?a:goog.isBoolean(a)?a:"true"==a};goog.a11y.aria.getStateNumber=function(a,b){a=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));goog.asserts.assert((null==a||!isNaN(Number(a)))&&!goog.isBoolean(a));return null==a?null:Number(a)};
goog.a11y.aria.getStateString=function(a,b){a=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));goog.asserts.assert((null==a||goog.isString(a))&&(""==a||isNaN(Number(a)))&&"true"!=a&&"false"!=a);return null==a||""==a?null:a};goog.a11y.aria.getStringArrayStateInternalUtil=function(a,b){a=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));return goog.a11y.aria.splitStringOnWhitespace_(a)};goog.a11y.aria.hasState=function(a,b){return a.hasAttribute(goog.a11y.aria.getAriaAttributeName_(b))};
goog.a11y.aria.isContainerRole=function(a){a=goog.a11y.aria.getRole(a);return goog.array.contains(goog.a11y.aria.CONTAINER_ROLES_,a)};goog.a11y.aria.splitStringOnWhitespace_=function(a){return a?a.split(/\s+/):[]};goog.a11y.aria.getAriaAttributeName_=function(a){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.assert(a,"ARIA attribute cannot be empty."),goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.State,a),"No such ARIA attribute "+a));return goog.a11y.aria.ARIA_PREFIX_+a};goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,
Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,
SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255};
goog.events.KeyCodes.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=goog.events.KeyCodes.F1&&a.keyCode<=goog.events.KeyCodes.F12)return!1;switch(a.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.VK_NONAME:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;
default:return a.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||a.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}};
goog.events.KeyCodes.firesKeyPressEvent=function(a,b,c,d,e,f){if(goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("525"))return!0;if(goog.userAgent.MAC&&e)return goog.events.KeyCodes.isCharacterKey(a);if(e&&!d)return!1;if(!goog.userAgent.GECKO){goog.isNumber(b)&&(b=goog.events.KeyCodes.normalizeKeyCode(b));var h=b==goog.events.KeyCodes.CTRL||b==goog.events.KeyCodes.ALT||goog.userAgent.MAC&&b==goog.events.KeyCodes.META,g=b==goog.events.KeyCodes.SHIFT&&(d||f);if((!c||goog.userAgent.MAC)&&h||
goog.userAgent.MAC&&g)return!1}if((goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&d&&c)switch(a){case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.TILDE:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:return!1}if(goog.userAgent.IE&&
d&&b==a)return!1;switch(a){case goog.events.KeyCodes.ENTER:return goog.userAgent.GECKO?f||e?!1:!(c&&d):!0;case goog.events.KeyCodes.ESC:return!(goog.userAgent.WEBKIT||goog.userAgent.EDGE||goog.userAgent.GECKO)}return goog.userAgent.GECKO&&(d||e||f)?!1:goog.events.KeyCodes.isCharacterKey(a)};
goog.events.KeyCodes.isCharacterKey=function(a){if(a>=goog.events.KeyCodes.ZERO&&a<=goog.events.KeyCodes.NINE||a>=goog.events.KeyCodes.NUM_ZERO&&a<=goog.events.KeyCodes.NUM_MULTIPLY||a>=goog.events.KeyCodes.A&&a<=goog.events.KeyCodes.Z||(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&0==a)return!0;switch(a){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.PLUS_SIGN:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.AT_SIGN:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return!0;
default:return!1}};goog.events.KeyCodes.normalizeKeyCode=function(a){return goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(a):goog.userAgent.MAC&&goog.userAgent.WEBKIT?goog.events.KeyCodes.normalizeMacWebKitKeyCode(a):a};
goog.events.KeyCodes.normalizeGeckoKeyCode=function(a){switch(a){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.FF_DASH:return goog.events.KeyCodes.DASH;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return a}};
goog.events.KeyCodes.normalizeMacWebKitKeyCode=function(a){switch(a){case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:return goog.events.KeyCodes.META;default:return a}};goog.events.KeyHandler=function(a,b){goog.events.EventTarget.call(this);a&&this.attach(a,b)};goog.inherits(goog.events.KeyHandler,goog.events.EventTarget);goog.events.KeyHandler.prototype.element_=null;goog.events.KeyHandler.prototype.keyPressKey_=null;goog.events.KeyHandler.prototype.keyDownKey_=null;goog.events.KeyHandler.prototype.keyUpKey_=null;goog.events.KeyHandler.prototype.lastKey_=-1;goog.events.KeyHandler.prototype.keyCode_=-1;goog.events.KeyHandler.prototype.altKey_=!1;
goog.events.KeyHandler.EventType={KEY:"key"};
goog.events.KeyHandler.safariKey_={3:goog.events.KeyCodes.ENTER,12:goog.events.KeyCodes.NUMLOCK,63232:goog.events.KeyCodes.UP,63233:goog.events.KeyCodes.DOWN,63234:goog.events.KeyCodes.LEFT,63235:goog.events.KeyCodes.RIGHT,63236:goog.events.KeyCodes.F1,63237:goog.events.KeyCodes.F2,63238:goog.events.KeyCodes.F3,63239:goog.events.KeyCodes.F4,63240:goog.events.KeyCodes.F5,63241:goog.events.KeyCodes.F6,63242:goog.events.KeyCodes.F7,63243:goog.events.KeyCodes.F8,63244:goog.events.KeyCodes.F9,63245:goog.events.KeyCodes.F10,
63246:goog.events.KeyCodes.F11,63247:goog.events.KeyCodes.F12,63248:goog.events.KeyCodes.PRINT_SCREEN,63272:goog.events.KeyCodes.DELETE,63273:goog.events.KeyCodes.HOME,63275:goog.events.KeyCodes.END,63276:goog.events.KeyCodes.PAGE_UP,63277:goog.events.KeyCodes.PAGE_DOWN,63289:goog.events.KeyCodes.NUMLOCK,63302:goog.events.KeyCodes.INSERT};
goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,
"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT};goog.events.KeyHandler.USES_KEYDOWN_=!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("525");goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&&goog.userAgent.GECKO;
goog.events.KeyHandler.prototype.handleKeyDown_=function(a){(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&(this.lastKey_==goog.events.KeyCodes.CTRL&&!a.ctrlKey||this.lastKey_==goog.events.KeyCodes.ALT&&!a.altKey||goog.userAgent.MAC&&this.lastKey_==goog.events.KeyCodes.META&&!a.metaKey)&&this.resetState();-1==this.lastKey_&&(a.ctrlKey&&a.keyCode!=goog.events.KeyCodes.CTRL?this.lastKey_=goog.events.KeyCodes.CTRL:a.altKey&&a.keyCode!=goog.events.KeyCodes.ALT?this.lastKey_=goog.events.KeyCodes.ALT:a.metaKey&&
a.keyCode!=goog.events.KeyCodes.META&&(this.lastKey_=goog.events.KeyCodes.META));goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(a.keyCode,this.lastKey_,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.keyCode_=goog.events.KeyCodes.normalizeKeyCode(a.keyCode),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(this.altKey_=a.altKey))};goog.events.KeyHandler.prototype.resetState=function(){this.keyCode_=this.lastKey_=-1};
goog.events.KeyHandler.prototype.handleKeyup_=function(a){this.resetState();this.altKey_=a.altKey};
goog.events.KeyHandler.prototype.handleEvent=function(a){var b=a.getBrowserEvent(),c=b.altKey;if(goog.userAgent.IE&&a.type==goog.events.EventType.KEYPRESS){var d=this.keyCode_;var e=d!=goog.events.KeyCodes.ENTER&&d!=goog.events.KeyCodes.ESC?b.keyCode:0}else(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&a.type==goog.events.EventType.KEYPRESS?(d=this.keyCode_,e=0<=b.charCode&&63232>b.charCode&&goog.events.KeyCodes.isCharacterKey(d)?b.charCode:0):goog.userAgent.OPERA&&!goog.userAgent.WEBKIT?(d=this.keyCode_,
e=goog.events.KeyCodes.isCharacterKey(d)?b.keyCode:0):(d=b.keyCode||this.keyCode_,e=b.charCode||0,goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&a.type==goog.events.EventType.KEYPRESS&&(c=this.altKey_),goog.userAgent.MAC&&e==goog.events.KeyCodes.QUESTION_MARK&&d==goog.events.KeyCodes.WIN_KEY&&(d=goog.events.KeyCodes.SLASH));var f=d=goog.events.KeyCodes.normalizeKeyCode(d);d?63232<=d&&d in goog.events.KeyHandler.safariKey_?f=goog.events.KeyHandler.safariKey_[d]:25==d&&a.shiftKey&&(f=9):b.keyIdentifier&&
b.keyIdentifier in goog.events.KeyHandler.keyIdentifier_&&(f=goog.events.KeyHandler.keyIdentifier_[b.keyIdentifier]);goog.userAgent.GECKO&&goog.events.KeyHandler.USES_KEYDOWN_&&a.type==goog.events.EventType.KEYPRESS&&!goog.events.KeyCodes.firesKeyPressEvent(f,this.lastKey_,a.shiftKey,a.ctrlKey,c,a.metaKey)||(a=f==this.lastKey_,this.lastKey_=f,b=new goog.events.KeyEvent(f,e,a,b),b.altKey=c,this.dispatchEvent(b))};goog.events.KeyHandler.prototype.getElement=function(){return this.element_};
goog.events.KeyHandler.prototype.attach=function(a,b){this.keyUpKey_&&this.detach();this.element_=a;this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this,b);this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,b,this);this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,b,this)};
goog.events.KeyHandler.prototype.detach=function(){this.keyPressKey_&&(goog.events.unlistenByKey(this.keyPressKey_),goog.events.unlistenByKey(this.keyDownKey_),goog.events.unlistenByKey(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null);this.element_=null;this.keyCode_=this.lastKey_=-1};goog.events.KeyHandler.prototype.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this);this.detach()};
goog.events.KeyEvent=function(a,b,c,d){goog.events.BrowserEvent.call(this,d);this.type=goog.events.KeyHandler.EventType.KEY;this.keyCode=a;this.charCode=b;this.repeat=c};goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent);goog.ui.ComponentUtil={};goog.ui.ComponentUtil.getMouseEventType=function(a){return a.pointerEventsEnabled()?goog.events.PointerAsMouseEventType:goog.events.EventType};goog.dom.classlist={};goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST=!1;goog.dom.classlist.get=function(a){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList)return a.classList;a=a.className;return goog.isString(a)&&a.match(/\S+/g)||[]};goog.dom.classlist.set=function(a,b){a.className=b};goog.dom.classlist.contains=function(a,b){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.contains(b):goog.array.contains(goog.dom.classlist.get(a),b)};
goog.dom.classlist.add=function(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.add(b):goog.dom.classlist.contains(a,b)||(a.className+=0<a.className.length?" "+b:b)};
goog.dom.classlist.addAll=function(a,b){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList)goog.array.forEach(b,function(b){goog.dom.classlist.add(a,b)});else{var c={};goog.array.forEach(goog.dom.classlist.get(a),function(a){c[a]=!0});goog.array.forEach(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}};
goog.dom.classlist.remove=function(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.remove(b):goog.dom.classlist.contains(a,b)&&(a.className=goog.array.filter(goog.dom.classlist.get(a),function(a){return a!=b}).join(" "))};
goog.dom.classlist.removeAll=function(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?goog.array.forEach(b,function(b){goog.dom.classlist.remove(a,b)}):a.className=goog.array.filter(goog.dom.classlist.get(a),function(a){return!goog.array.contains(b,a)}).join(" ")};goog.dom.classlist.enable=function(a,b,c){c?goog.dom.classlist.add(a,b):goog.dom.classlist.remove(a,b)};goog.dom.classlist.enableAll=function(a,b,c){(c?goog.dom.classlist.addAll:goog.dom.classlist.removeAll)(a,b)};
goog.dom.classlist.swap=function(a,b,c){return goog.dom.classlist.contains(a,b)?(goog.dom.classlist.remove(a,b),goog.dom.classlist.add(a,c),!0):!1};goog.dom.classlist.toggle=function(a,b){var c=!goog.dom.classlist.contains(a,b);goog.dom.classlist.enable(a,b,c);return c};goog.dom.classlist.addRemove=function(a,b,c){goog.dom.classlist.remove(a,b);goog.dom.classlist.add(a,c)};goog.ui.registry={};goog.ui.registry.getDefaultRenderer=function(a){for(var b;a;){b=goog.getUid(a);if(b=goog.ui.registry.defaultRenderers_[b])break;a=a.superClass_?a.superClass_.constructor:null}return b?goog.isFunction(b.getInstance)?b.getInstance():new b:null};goog.ui.registry.setDefaultRenderer=function(a,b){if(!goog.isFunction(a))throw Error("Invalid component class "+a);if(!goog.isFunction(b))throw Error("Invalid renderer class "+b);a=goog.getUid(a);goog.ui.registry.defaultRenderers_[a]=b};
goog.ui.registry.getDecoratorByClassName=function(a){return a in goog.ui.registry.decoratorFunctions_?goog.ui.registry.decoratorFunctions_[a]():null};goog.ui.registry.setDecoratorByClassName=function(a,b){if(!a)throw Error("Invalid class name "+a);if(!goog.isFunction(b))throw Error("Invalid decorator function "+b);goog.ui.registry.decoratorFunctions_[a]=b};
goog.ui.registry.getDecorator=function(a){goog.asserts.assert(a);for(var b=goog.dom.classlist.get(a),c=0,d=b.length;c<d;c++)if(a=goog.ui.registry.getDecoratorByClassName(b[c]))return a;return null};goog.ui.registry.reset=function(){goog.ui.registry.defaultRenderers_={};goog.ui.registry.decoratorFunctions_={}};goog.ui.registry.defaultRenderers_={};goog.ui.registry.decoratorFunctions_={};goog.ui.ContainerRenderer=function(a){this.ariaRole_=a};goog.addSingletonGetter(goog.ui.ContainerRenderer);goog.ui.ContainerRenderer.getCustomRenderer=function(a,b){a=new a;a.getCssClass=function(){return b};return a};goog.ui.ContainerRenderer.CSS_CLASS="goog-container";goog.ui.ContainerRenderer.prototype.getAriaRole=function(){return this.ariaRole_};goog.ui.ContainerRenderer.prototype.enableTabIndex=function(a,b){a&&(a.tabIndex=b?0:-1)};
goog.ui.ContainerRenderer.prototype.createDom=function(a){return a.getDomHelper().createDom("DIV",this.getClassNames(a).join(" "))};goog.ui.ContainerRenderer.prototype.getContentElement=function(a){return a};goog.ui.ContainerRenderer.prototype.canDecorate=function(a){return"DIV"==a.tagName};
goog.ui.ContainerRenderer.prototype.decorate=function(a,b){b.id&&a.setId(b.id);var c=this.getCssClass(),d=!1,e=goog.dom.classlist.get(b);e&&goog.array.forEach(e,function(b){b==c?d=!0:b&&this.setStateFromClassName(a,b,c)},this);d||goog.dom.classlist.add(b,c);this.decorateChildren(a,this.getContentElement(b));return b};
goog.ui.ContainerRenderer.prototype.setStateFromClassName=function(a,b,c){b==c+"-disabled"?a.setEnabled(!1):b==c+"-horizontal"?a.setOrientation(goog.ui.Container.Orientation.HORIZONTAL):b==c+"-vertical"&&a.setOrientation(goog.ui.Container.Orientation.VERTICAL)};
goog.ui.ContainerRenderer.prototype.decorateChildren=function(a,b,c){if(b){c=c||b.firstChild;for(var d;c&&c.parentNode==b;){d=c.nextSibling;if(c.nodeType==goog.dom.NodeType.ELEMENT){var e=this.getDecoratorForChild(c);e&&(e.setElementInternal(c),a.isEnabled()||e.setEnabled(!1),a.addChild(e),e.decorate(c))}else c.nodeValue&&""!=goog.string.trim(c.nodeValue)||b.removeChild(c);c=d}}};goog.ui.ContainerRenderer.prototype.getDecoratorForChild=function(a){return goog.ui.registry.getDecorator(a)};
goog.ui.ContainerRenderer.prototype.initializeDom=function(a){a=a.getElement();goog.asserts.assert(a,"The container DOM element cannot be null.");goog.style.setUnselectable(a,!0,goog.userAgent.GECKO);goog.userAgent.IE&&(a.hideFocus=!0);var b=this.getAriaRole();b&&goog.a11y.aria.setRole(a,b)};goog.ui.ContainerRenderer.prototype.getKeyEventTarget=function(a){return a.getElement()};goog.ui.ContainerRenderer.prototype.getCssClass=function(){return goog.ui.ContainerRenderer.CSS_CLASS};
goog.ui.ContainerRenderer.prototype.getClassNames=function(a){var b=this.getCssClass(),c=a.getOrientation()==goog.ui.Container.Orientation.HORIZONTAL;c=[b,c?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};goog.ui.ContainerRenderer.prototype.getDefaultOrientation=function(){return goog.ui.Container.Orientation.VERTICAL};goog.ui.ControlRenderer=function(){};goog.addSingletonGetter(goog.ui.ControlRenderer);goog.tagUnsealableClass(goog.ui.ControlRenderer);goog.ui.ControlRenderer.getCustomRenderer=function(a,b){a=new a;a.getCssClass=function(){return b};return a};goog.ui.ControlRenderer.CSS_CLASS="goog-control";goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS=[];
goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_=goog.object.create(goog.a11y.aria.Role.BUTTON,goog.a11y.aria.State.PRESSED,goog.a11y.aria.Role.CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.MENU_ITEM_CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM_RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.TAB,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.TREEITEM,
goog.a11y.aria.State.SELECTED);goog.ui.ControlRenderer.prototype.getAriaRole=function(){};goog.ui.ControlRenderer.prototype.createDom=function(a){return a.getDomHelper().createDom("DIV",this.getClassNames(a).join(" "),a.getContent())};goog.ui.ControlRenderer.prototype.getContentElement=function(a){return a};
goog.ui.ControlRenderer.prototype.enableClassName=function(a,b,c){if(a=a.getElement?a.getElement():a){var d=[b];goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&(d=this.getAppliedCombinedClassNames_(goog.dom.classlist.get(a),b),d.push(b));goog.dom.classlist.enableAll(a,d,c)}};goog.ui.ControlRenderer.prototype.enableExtraClassName=function(a,b,c){this.enableClassName(a,b,c)};goog.ui.ControlRenderer.prototype.canDecorate=function(a){return!0};
goog.ui.ControlRenderer.prototype.decorate=function(a,b){b.id&&a.setId(b.id);var c=this.getContentElement(b);c&&c.firstChild?a.setContentInternal(c.firstChild.nextSibling?goog.array.clone(c.childNodes):c.firstChild):a.setContentInternal(null);var d=0,e=this.getCssClass(),f=this.getStructuralCssClass(),h=!1,g=!1,k=!1,p=goog.array.toArray(goog.dom.classlist.get(b));goog.array.forEach(p,function(a){h||a!=e?g||a!=f?d|=this.getStateFromClass(a):g=!0:(h=!0,f==e&&(g=!0));this.getStateFromClass(a)==goog.ui.Component.State.DISABLED&&
(goog.asserts.assertElement(c),goog.dom.isFocusableTabIndex(c)&&goog.dom.setFocusableTabIndex(c,!1))},this);a.setStateInternal(d);h||(p.push(e),f==e&&(g=!0));g||p.push(f);(a=a.getExtraClassNames())&&p.push.apply(p,a);if(goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")){var l=this.getAppliedCombinedClassNames_(p);0<l.length&&(p.push.apply(p,l),k=!0)}h&&g&&!a&&!k||goog.dom.classlist.set(b,p.join(" "));return b};
goog.ui.ControlRenderer.prototype.initializeDom=function(a){a.isRightToLeft()&&this.setRightToLeft(a.getElement(),!0);a.isEnabled()&&this.setFocusable(a,a.isVisible())};goog.ui.ControlRenderer.prototype.setAriaRole=function(a,b){if(b=b||this.getAriaRole()){goog.asserts.assert(a,"The element passed as a first parameter cannot be null.");var c=goog.a11y.aria.getRole(a);b!=c&&goog.a11y.aria.setRole(a,b)}};
goog.ui.ControlRenderer.prototype.setAriaStates=function(a,b){goog.asserts.assert(a);goog.asserts.assert(b);var c=a.getAriaLabel();goog.isDefAndNotNull(c)&&this.setAriaLabel(b,c);a.isVisible()||goog.a11y.aria.setState(b,goog.a11y.aria.State.HIDDEN,!a.isVisible());a.isEnabled()||this.updateAriaState(b,goog.ui.Component.State.DISABLED,!a.isEnabled());a.isSupportedState(goog.ui.Component.State.SELECTED)&&this.updateAriaState(b,goog.ui.Component.State.SELECTED,a.isSelected());a.isSupportedState(goog.ui.Component.State.CHECKED)&&
this.updateAriaState(b,goog.ui.Component.State.CHECKED,a.isChecked());a.isSupportedState(goog.ui.Component.State.OPENED)&&this.updateAriaState(b,goog.ui.Component.State.OPENED,a.isOpen())};goog.ui.ControlRenderer.prototype.setAriaLabel=function(a,b){goog.a11y.aria.setLabel(a,b)};goog.ui.ControlRenderer.prototype.setAllowTextSelection=function(a,b){goog.style.setUnselectable(a,!b,!goog.userAgent.IE&&!goog.userAgent.OPERA)};
goog.ui.ControlRenderer.prototype.setRightToLeft=function(a,b){this.enableClassName(a,this.getStructuralCssClass()+"-rtl",b)};goog.ui.ControlRenderer.prototype.isFocusable=function(a){var b;return a.isSupportedState(goog.ui.Component.State.FOCUSED)&&(b=a.getKeyEventTarget())?goog.dom.isFocusableTabIndex(b):!1};
goog.ui.ControlRenderer.prototype.setFocusable=function(a,b){var c;if(a.isSupportedState(goog.ui.Component.State.FOCUSED)&&(c=a.getKeyEventTarget())){if(!b&&a.isFocused()){try{c.blur()}catch(d){}a.isFocused()&&a.handleBlur(null)}goog.dom.isFocusableTabIndex(c)!=b&&goog.dom.setFocusableTabIndex(c,b)}};goog.ui.ControlRenderer.prototype.setVisible=function(a,b){goog.style.setElementShown(a,b);a&&goog.a11y.aria.setState(a,goog.a11y.aria.State.HIDDEN,!b)};
goog.ui.ControlRenderer.prototype.setState=function(a,b,c){var d=a.getElement();if(d){var e=this.getClassForState(b);e&&this.enableClassName(a,e,c);this.updateAriaState(d,b,c)}};
goog.ui.ControlRenderer.prototype.updateAriaState=function(a,b,c){goog.ui.ControlRenderer.ariaAttributeMap_||(goog.ui.ControlRenderer.ariaAttributeMap_=goog.object.create(goog.ui.Component.State.DISABLED,goog.a11y.aria.State.DISABLED,goog.ui.Component.State.SELECTED,goog.a11y.aria.State.SELECTED,goog.ui.Component.State.CHECKED,goog.a11y.aria.State.CHECKED,goog.ui.Component.State.OPENED,goog.a11y.aria.State.EXPANDED));goog.asserts.assert(a,"The element passed as a first parameter cannot be null.");
(b=goog.ui.ControlRenderer.getAriaStateForAriaRole_(a,goog.ui.ControlRenderer.ariaAttributeMap_[b]))&&goog.a11y.aria.setState(a,b,c)};goog.ui.ControlRenderer.getAriaStateForAriaRole_=function(a,b){a=goog.a11y.aria.getRole(a);if(!a)return b;a=goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_[a]||b;return goog.ui.ControlRenderer.isAriaState_(b)?a:b};goog.ui.ControlRenderer.isAriaState_=function(a){return a==goog.a11y.aria.State.CHECKED||a==goog.a11y.aria.State.SELECTED};
goog.ui.ControlRenderer.prototype.setContent=function(a,b){var c=this.getContentElement(a);c&&(goog.dom.removeChildren(c),b&&(goog.isString(b)?goog.dom.setTextContent(c,b):(a=function(a){if(a){var b=goog.dom.getOwnerDocument(c);c.appendChild(goog.isString(a)?b.createTextNode(a):a)}},goog.isArray(b)?goog.array.forEach(b,a):!goog.isArrayLike(b)||"nodeType"in b?a(b):goog.array.forEach(goog.array.clone(b),a))))};goog.ui.ControlRenderer.prototype.getKeyEventTarget=function(a){return a.getElement()};
goog.ui.ControlRenderer.prototype.getCssClass=function(){return goog.ui.ControlRenderer.CSS_CLASS};goog.ui.ControlRenderer.prototype.getIe6ClassCombinations=function(){return[]};goog.ui.ControlRenderer.prototype.getStructuralCssClass=function(){return this.getCssClass()};
goog.ui.ControlRenderer.prototype.getClassNames=function(a){var b=this.getCssClass(),c=[b],d=this.getStructuralCssClass();d!=b&&c.push(d);b=this.getClassNamesForState(a.getState());c.push.apply(c,b);(a=a.getExtraClassNames())&&c.push.apply(c,a);goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&c.push.apply(c,this.getAppliedCombinedClassNames_(c));return c};
goog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_=function(a,b){var c=[];b&&(a=goog.array.concat(a,[b]));goog.array.forEach(this.getIe6ClassCombinations(),function(d){!goog.array.every(d,goog.partial(goog.array.contains,a))||b&&!goog.array.contains(d,b)||c.push(d.join("_"))});return c};goog.ui.ControlRenderer.prototype.getClassNamesForState=function(a){for(var b=[];a;){var c=a&-a;b.push(this.getClassForState(c));a&=~c}return b};
goog.ui.ControlRenderer.prototype.getClassForState=function(a){this.classByState_||this.createClassByStateMap_();return this.classByState_[a]};goog.ui.ControlRenderer.prototype.getStateFromClass=function(a){this.stateByClass_||this.createStateByClassMap_();a=parseInt(this.stateByClass_[a],10);return isNaN(a)?0:a};
goog.ui.ControlRenderer.prototype.createClassByStateMap_=function(){var a=this.getStructuralCssClass(),b=!goog.string.contains(goog.string.normalizeWhitespace(a)," ");goog.asserts.assert(b,"ControlRenderer has an invalid css class: '"+a+"'");this.classByState_=goog.object.create(goog.ui.Component.State.DISABLED,a+"-disabled",goog.ui.Component.State.HOVER,a+"-hover",goog.ui.Component.State.ACTIVE,a+"-active",goog.ui.Component.State.SELECTED,a+"-selected",goog.ui.Component.State.CHECKED,a+"-checked",
goog.ui.Component.State.FOCUSED,a+"-focused",goog.ui.Component.State.OPENED,a+"-open")};goog.ui.ControlRenderer.prototype.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_();this.stateByClass_=goog.object.transpose(this.classByState_)};goog.ui.Control=function(a,b,c){goog.ui.Component.call(this,c);this.renderer_=b||goog.ui.registry.getDefaultRenderer(this.constructor);this.setContentInternal(goog.isDef(a)?a:null);this.ariaLabel_=null};goog.inherits(goog.ui.Control,goog.ui.Component);goog.tagUnsealableClass(goog.ui.Control);goog.ui.Control.registerDecorator=goog.ui.registry.setDecoratorByClassName;goog.ui.Control.getDecorator=goog.ui.registry.getDecorator;goog.ui.Control.prototype.content_=null;goog.ui.Control.prototype.state_=0;
goog.ui.Control.prototype.supportedStates_=goog.ui.Component.State.DISABLED|goog.ui.Component.State.HOVER|goog.ui.Component.State.ACTIVE|goog.ui.Component.State.FOCUSED;goog.ui.Control.prototype.autoStates_=goog.ui.Component.State.ALL;goog.ui.Control.prototype.statesWithTransitionEvents_=0;goog.ui.Control.prototype.visible_=!0;goog.ui.Control.prototype.extraClassNames_=null;goog.ui.Control.prototype.handleMouseEvents_=!0;goog.ui.Control.prototype.allowTextSelection_=!1;
goog.ui.Control.prototype.preferredAriaRole_=null;goog.ui.Control.prototype.isHandleMouseEvents=function(){return this.handleMouseEvents_};goog.ui.Control.prototype.setHandleMouseEvents=function(a){this.isInDocument()&&a!=this.handleMouseEvents_&&this.enableMouseEventHandling_(a);this.handleMouseEvents_=a};goog.ui.Control.prototype.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)};
goog.ui.Control.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler)};goog.ui.Control.prototype.getRenderer=function(){return this.renderer_};goog.ui.Control.prototype.setRenderer=function(a){if(this.isInDocument())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.getElement()&&this.setElementInternal(null);this.renderer_=a};goog.ui.Control.prototype.getExtraClassNames=function(){return this.extraClassNames_};
goog.ui.Control.prototype.addClassName=function(a){a&&(this.extraClassNames_?goog.array.contains(this.extraClassNames_,a)||this.extraClassNames_.push(a):this.extraClassNames_=[a],this.renderer_.enableExtraClassName(this,a,!0))};goog.ui.Control.prototype.removeClassName=function(a){a&&this.extraClassNames_&&goog.array.remove(this.extraClassNames_,a)&&(0==this.extraClassNames_.length&&(this.extraClassNames_=null),this.renderer_.enableExtraClassName(this,a,!1))};
goog.ui.Control.prototype.enableClassName=function(a,b){b?this.addClassName(a):this.removeClassName(a)};goog.ui.Control.prototype.createDom=function(){var a=this.renderer_.createDom(this);this.setElementInternal(a);this.renderer_.setAriaRole(a,this.getPreferredAriaRole());this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(a,!1);this.isVisible()||this.renderer_.setVisible(a,!1)};goog.ui.Control.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_};
goog.ui.Control.prototype.setPreferredAriaRole=function(a){this.preferredAriaRole_=a};goog.ui.Control.prototype.getAriaLabel=function(){return this.ariaLabel_};goog.ui.Control.prototype.setAriaLabel=function(a){this.ariaLabel_=a;var b=this.getElement();b&&this.renderer_.setAriaLabel(b,a)};goog.ui.Control.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};goog.ui.Control.prototype.canDecorate=function(a){return this.renderer_.canDecorate(a)};
goog.ui.Control.prototype.decorateInternal=function(a){a=this.renderer_.decorate(this,a);this.setElementInternal(a);this.renderer_.setAriaRole(a,this.getPreferredAriaRole());this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(a,!1);this.visible_="none"!=a.style.display};
goog.ui.Control.prototype.enterDocument=function(){goog.ui.Control.superClass_.enterDocument.call(this);this.renderer_.setAriaStates(this,this.getElementStrict());this.renderer_.initializeDom(this);if(this.supportedStates_&~goog.ui.Component.State.DISABLED&&(this.isHandleMouseEvents()&&this.enableMouseEventHandling_(!0),this.isSupportedState(goog.ui.Component.State.FOCUSED))){var a=this.getKeyEventTarget();if(a){var b=this.getKeyHandler();b.attach(a);this.getHandler().listen(b,goog.events.KeyHandler.EventType.KEY,
this.handleKeyEvent).listen(a,goog.events.EventType.FOCUS,this.handleFocus).listen(a,goog.events.EventType.BLUR,this.handleBlur)}}};
goog.ui.Control.prototype.enableMouseEventHandling_=function(a){var b=goog.ui.ComponentUtil.getMouseEventType(this),c=this.getHandler(),d=this.getElement();a?(c.listen(d,b.MOUSEDOWN,this.handleMouseDown).listen(d,[b.MOUSEUP,b.MOUSECANCEL],this.handleMouseUp).listen(d,goog.events.EventType.MOUSEOVER,this.handleMouseOver).listen(d,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.pointerEventsEnabled()&&c.listen(d,goog.events.EventType.GOTPOINTERCAPTURE,this.preventPointerCapture_),this.handleContextMenu!=
goog.nullFunction&&c.listen(d,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||c.listen(d,goog.events.EventType.DBLCLICK,this.handleDblClick),this.ieMouseEventSequenceSimulator_||(this.ieMouseEventSequenceSimulator_=new goog.ui.Control.IeMouseEventSequenceSimulator_(this),this.registerDisposable(this.ieMouseEventSequenceSimulator_)))):(c.unlisten(d,b.MOUSEDOWN,this.handleMouseDown).unlisten(d,[b.MOUSEUP,b.MOUSECANCEL],this.handleMouseUp).unlisten(d,
goog.events.EventType.MOUSEOVER,this.handleMouseOver).unlisten(d,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.pointerEventsEnabled()&&c.unlisten(d,goog.events.EventType.GOTPOINTERCAPTURE,this.preventPointerCapture_),this.handleContextMenu!=goog.nullFunction&&c.unlisten(d,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||c.unlisten(d,goog.events.EventType.DBLCLICK,this.handleDblClick),goog.dispose(this.ieMouseEventSequenceSimulator_),
this.ieMouseEventSequenceSimulator_=null))};goog.ui.Control.prototype.exitDocument=function(){goog.ui.Control.superClass_.exitDocument.call(this);this.keyHandler_&&this.keyHandler_.detach();this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,!1)};
goog.ui.Control.prototype.disposeInternal=function(){goog.ui.Control.superClass_.disposeInternal.call(this);this.keyHandler_&&(this.keyHandler_.dispose(),delete this.keyHandler_);delete this.renderer_;this.ieMouseEventSequenceSimulator_=this.extraClassNames_=this.content_=null};goog.ui.Control.prototype.getContent=function(){return this.content_};goog.ui.Control.prototype.setContent=function(a){this.renderer_.setContent(this.getElement(),a);this.setContentInternal(a)};
goog.ui.Control.prototype.setContentInternal=function(a){this.content_=a};goog.ui.Control.prototype.getCaption=function(){var a=this.getContent();if(!a)return"";a=goog.isString(a)?a:goog.isArray(a)?goog.array.map(a,goog.dom.getRawTextContent).join(""):goog.dom.getTextContent(a);return goog.string.collapseBreakingSpaces(a)};goog.ui.Control.prototype.setCaption=function(a){this.setContent(a)};
goog.ui.Control.prototype.setRightToLeft=function(a){goog.ui.Control.superClass_.setRightToLeft.call(this,a);var b=this.getElement();b&&this.renderer_.setRightToLeft(b,a)};goog.ui.Control.prototype.isAllowTextSelection=function(){return this.allowTextSelection_};goog.ui.Control.prototype.setAllowTextSelection=function(a){this.allowTextSelection_=a;var b=this.getElement();b&&this.renderer_.setAllowTextSelection(b,a)};goog.ui.Control.prototype.isVisible=function(){return this.visible_};
goog.ui.Control.prototype.setVisible=function(a,b){return b||this.visible_!=a&&this.dispatchEvent(a?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)?((b=this.getElement())&&this.renderer_.setVisible(b,a),this.isEnabled()&&this.renderer_.setFocusable(this,a),this.visible_=a,!0):!1};goog.ui.Control.prototype.isEnabled=function(){return!this.hasState(goog.ui.Component.State.DISABLED)};
goog.ui.Control.prototype.isParentDisabled_=function(){var a=this.getParent();return!!a&&"function"==typeof a.isEnabled&&!a.isEnabled()};goog.ui.Control.prototype.setEnabled=function(a){!this.isParentDisabled_()&&this.isTransitionAllowed(goog.ui.Component.State.DISABLED,!a)&&(a||(this.setActive(!1),this.setHighlighted(!1)),this.isVisible()&&this.renderer_.setFocusable(this,a),this.setState(goog.ui.Component.State.DISABLED,!a,!0))};goog.ui.Control.prototype.isHighlighted=function(){return this.hasState(goog.ui.Component.State.HOVER)};
goog.ui.Control.prototype.setHighlighted=function(a){this.isTransitionAllowed(goog.ui.Component.State.HOVER,a)&&this.setState(goog.ui.Component.State.HOVER,a)};goog.ui.Control.prototype.isActive=function(){return this.hasState(goog.ui.Component.State.ACTIVE)};goog.ui.Control.prototype.setActive=function(a){this.isTransitionAllowed(goog.ui.Component.State.ACTIVE,a)&&this.setState(goog.ui.Component.State.ACTIVE,a)};goog.ui.Control.prototype.isSelected=function(){return this.hasState(goog.ui.Component.State.SELECTED)};
goog.ui.Control.prototype.setSelected=function(a){this.isTransitionAllowed(goog.ui.Component.State.SELECTED,a)&&this.setState(goog.ui.Component.State.SELECTED,a)};goog.ui.Control.prototype.isChecked=function(){return this.hasState(goog.ui.Component.State.CHECKED)};goog.ui.Control.prototype.setChecked=function(a){this.isTransitionAllowed(goog.ui.Component.State.CHECKED,a)&&this.setState(goog.ui.Component.State.CHECKED,a)};goog.ui.Control.prototype.isFocused=function(){return this.hasState(goog.ui.Component.State.FOCUSED)};
goog.ui.Control.prototype.setFocused=function(a){this.isTransitionAllowed(goog.ui.Component.State.FOCUSED,a)&&this.setState(goog.ui.Component.State.FOCUSED,a)};goog.ui.Control.prototype.isOpen=function(){return this.hasState(goog.ui.Component.State.OPENED)};goog.ui.Control.prototype.setOpen=function(a){this.isTransitionAllowed(goog.ui.Component.State.OPENED,a)&&this.setState(goog.ui.Component.State.OPENED,a)};goog.ui.Control.prototype.getState=function(){return this.state_};
goog.ui.Control.prototype.hasState=function(a){return!!(this.state_&a)};goog.ui.Control.prototype.setState=function(a,b,c){c||a!=goog.ui.Component.State.DISABLED?this.isSupportedState(a)&&b!=this.hasState(a)&&(this.renderer_.setState(this,a,b),this.state_=b?this.state_|a:this.state_&~a):this.setEnabled(!b)};goog.ui.Control.prototype.setStateInternal=function(a){this.state_=a};goog.ui.Control.prototype.isSupportedState=function(a){return!!(this.supportedStates_&a)};
goog.ui.Control.prototype.setSupportedState=function(a,b){if(this.isInDocument()&&this.hasState(a)&&!b)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);!b&&this.hasState(a)&&this.setState(a,!1);this.supportedStates_=b?this.supportedStates_|a:this.supportedStates_&~a};goog.ui.Control.prototype.isAutoState=function(a){return!!(this.autoStates_&a)&&this.isSupportedState(a)};goog.ui.Control.prototype.setAutoStates=function(a,b){this.autoStates_=b?this.autoStates_|a:this.autoStates_&~a};
goog.ui.Control.prototype.isDispatchTransitionEvents=function(a){return!!(this.statesWithTransitionEvents_&a)&&this.isSupportedState(a)};goog.ui.Control.prototype.setDispatchTransitionEvents=function(a,b){this.statesWithTransitionEvents_=b?this.statesWithTransitionEvents_|a:this.statesWithTransitionEvents_&~a};
goog.ui.Control.prototype.isTransitionAllowed=function(a,b){return this.isSupportedState(a)&&this.hasState(a)!=b&&(!(this.statesWithTransitionEvents_&a)||this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(a,b)))&&!this.isDisposed()};goog.ui.Control.prototype.handleMouseOver=function(a){!goog.ui.Control.isMouseEventWithinElement_(a,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.ENTER)&&this.isEnabled()&&this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0)};
goog.ui.Control.prototype.handleMouseOut=function(a){!goog.ui.Control.isMouseEventWithinElement_(a,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.LEAVE)&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!1))};goog.ui.Control.prototype.preventPointerCapture_=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};
goog.ui.Control.prototype.handleContextMenu=goog.nullFunction;goog.ui.Control.isMouseEventWithinElement_=function(a,b){return!!a.relatedTarget&&goog.dom.contains(b,a.relatedTarget)};
goog.ui.Control.prototype.handleMouseDown=function(a){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),a.isMouseActionButton()&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!0),this.renderer_&&this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus()));!this.isAllowTextSelection()&&a.isMouseActionButton()&&a.preventDefault()};
goog.ui.Control.prototype.handleMouseUp=function(a){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),this.isActive()&&this.performActionInternal(a)&&this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1))};goog.ui.Control.prototype.handleDblClick=function(a){this.isEnabled()&&this.performActionInternal(a)};
goog.ui.Control.prototype.performActionInternal=function(a){this.isAutoState(goog.ui.Component.State.CHECKED)&&this.setChecked(!this.isChecked());this.isAutoState(goog.ui.Component.State.SELECTED)&&this.setSelected(!0);this.isAutoState(goog.ui.Component.State.OPENED)&&this.setOpen(!this.isOpen());var b=new goog.events.Event(goog.ui.Component.EventType.ACTION,this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.platformModifierKey=a.platformModifierKey);return this.dispatchEvent(b)};
goog.ui.Control.prototype.handleFocus=function(a){this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!0)};goog.ui.Control.prototype.handleBlur=function(a){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1);this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!1)};goog.ui.Control.prototype.handleKeyEvent=function(a){return this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
goog.ui.Control.prototype.handleKeyEventInternal=function(a){return a.keyCode==goog.events.KeyCodes.ENTER&&this.performActionInternal(a)};goog.ui.registry.setDefaultRenderer(goog.ui.Control,goog.ui.ControlRenderer);goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS,function(){return new goog.ui.Control(null)});
goog.ui.Control.IeMouseEventSequenceSimulator_=function(a){goog.Disposable.call(this);this.control_=a;this.clickExpected_=!1;this.handler_=new goog.events.EventHandler(this);this.registerDisposable(this.handler_);a=this.control_.getElementStrict();this.handler_.listen(a,goog.events.EventType.MOUSEDOWN,this.handleMouseDown_).listen(a,goog.events.EventType.MOUSEUP,this.handleMouseUp_).listen(a,goog.events.EventType.CLICK,this.handleClick_)};
goog.inherits(goog.ui.Control.IeMouseEventSequenceSimulator_,goog.Disposable);goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_=!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9);goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseDown_=function(){this.clickExpected_=!1};goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseUp_=function(){this.clickExpected_=!0};
goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_=function(a,b){if(!goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_)return a.button=goog.events.BrowserEvent.MouseButton.LEFT,a.type=b,a;var c=document.createEvent("MouseEvents");c.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,goog.events.BrowserEvent.MouseButton.LEFT,a.relatedTarget||null);return c};
goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleClick_=function(a){if(this.clickExpected_)this.clickExpected_=!1;else{var b=a.getBrowserEvent(),c=b.button,d=b.type,e=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(b,goog.events.EventType.MOUSEDOWN);this.control_.handleMouseDown(new goog.events.BrowserEvent(e,a.currentTarget));e=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(b,goog.events.EventType.MOUSEUP);this.control_.handleMouseUp(new goog.events.BrowserEvent(e,
a.currentTarget));goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_||(b.button=c,b.type=d)}};goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.disposeInternal=function(){this.control_=null;goog.ui.Control.IeMouseEventSequenceSimulator_.superClass_.disposeInternal.call(this)};goog.ui.Container=function(a,b,c){goog.ui.Component.call(this,c);this.renderer_=b||goog.ui.ContainerRenderer.getInstance();this.orientation_=a||this.renderer_.getDefaultOrientation()};goog.inherits(goog.ui.Container,goog.ui.Component);goog.tagUnsealableClass(goog.ui.Container);goog.ui.Container.EventType={AFTER_SHOW:"aftershow",AFTER_HIDE:"afterhide"};goog.ui.Container.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"};goog.ui.Container.prototype.keyEventTarget_=null;
goog.ui.Container.prototype.keyHandler_=null;goog.ui.Container.prototype.renderer_=null;goog.ui.Container.prototype.orientation_=null;goog.ui.Container.prototype.visible_=!0;goog.ui.Container.prototype.enabled_=!0;goog.ui.Container.prototype.focusable_=!0;goog.ui.Container.prototype.highlightedIndex_=-1;goog.ui.Container.prototype.openItem_=null;goog.ui.Container.prototype.mouseButtonPressed_=!1;goog.ui.Container.prototype.allowFocusableChildren_=!1;
goog.ui.Container.prototype.openFollowsHighlight_=!0;goog.ui.Container.prototype.childElementIdMap_=null;goog.ui.Container.prototype.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)};
goog.ui.Container.prototype.setKeyEventTarget=function(a){if(this.focusable_){var b=this.getKeyEventTarget(),c=this.isInDocument();this.keyEventTarget_=a;var d=this.getKeyEventTarget();c&&(this.keyEventTarget_=b,this.enableFocusHandling_(!1),this.keyEventTarget_=a,this.getKeyHandler().attach(d),this.enableFocusHandling_(!0))}else throw Error("Can't set key event target for container that doesn't support keyboard focus!");};
goog.ui.Container.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler(this.getKeyEventTarget()))};goog.ui.Container.prototype.getRenderer=function(){return this.renderer_};goog.ui.Container.prototype.setRenderer=function(a){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.renderer_=a};goog.ui.Container.prototype.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))};
goog.ui.Container.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())};goog.ui.Container.prototype.canDecorate=function(a){return this.renderer_.canDecorate(a)};goog.ui.Container.prototype.decorateInternal=function(a){this.setElementInternal(this.renderer_.decorate(this,a));"none"==a.style.display&&(this.visible_=!1)};
goog.ui.Container.prototype.enterDocument=function(){goog.ui.Container.superClass_.enterDocument.call(this);this.forEachChild(function(a){a.isInDocument()&&this.registerChildId_(a)},this);var a=this.getElement();this.renderer_.initializeDom(this);this.setVisible(this.visible_,!0);var b=goog.ui.ComponentUtil.getMouseEventType(this);this.getHandler().listen(this,goog.ui.Component.EventType.ENTER,this.handleEnterItem).listen(this,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem).listen(this,
goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem).listen(this,goog.ui.Component.EventType.OPEN,this.handleOpenItem).listen(this,goog.ui.Component.EventType.CLOSE,this.handleCloseItem).listen(a,b.MOUSEDOWN,this.handleMouseDown).listen(goog.dom.getOwnerDocument(a),[b.MOUSEUP,b.MOUSECANCEL],this.handleDocumentMouseUp).listen(a,[b.MOUSEDOWN,b.MOUSEUP,b.MOUSECANCEL,goog.events.EventType.MOUSEOVER,goog.events.EventType.MOUSEOUT,goog.events.EventType.CONTEXTMENU],this.handleChildMouseEvents);
this.pointerEventsEnabled()&&this.getHandler().listen(a,goog.events.EventType.GOTPOINTERCAPTURE,this.preventPointerCapture_);this.isFocusable()&&this.enableFocusHandling_(!0)};goog.ui.Container.prototype.preventPointerCapture_=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};
goog.ui.Container.prototype.enableFocusHandling_=function(a){var b=this.getHandler(),c=this.getKeyEventTarget();a?b.listen(c,goog.events.EventType.FOCUS,this.handleFocus).listen(c,goog.events.EventType.BLUR,this.handleBlur).listen(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent):b.unlisten(c,goog.events.EventType.FOCUS,this.handleFocus).unlisten(c,goog.events.EventType.BLUR,this.handleBlur).unlisten(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent)};
goog.ui.Container.prototype.exitDocument=function(){this.setHighlightedIndex(-1);this.openItem_&&this.openItem_.setOpen(!1);this.mouseButtonPressed_=!1;goog.ui.Container.superClass_.exitDocument.call(this)};goog.ui.Container.prototype.disposeInternal=function(){goog.ui.Container.superClass_.disposeInternal.call(this);this.keyHandler_&&(this.keyHandler_.dispose(),this.keyHandler_=null);this.renderer_=this.openItem_=this.childElementIdMap_=this.keyEventTarget_=null};
goog.ui.Container.prototype.handleEnterItem=function(a){return!0};
goog.ui.Container.prototype.handleHighlightItem=function(a){var b=this.indexOfChild(a.target);if(-1<b&&b!=this.highlightedIndex_){var c=this.getHighlighted();c&&c.setHighlighted(!1);this.highlightedIndex_=b;c=this.getHighlighted();this.isMouseButtonPressed()&&c.setActive(!0);this.openFollowsHighlight_&&this.openItem_&&c!=this.openItem_&&(c.isSupportedState(goog.ui.Component.State.OPENED)?c.setOpen(!0):this.openItem_.setOpen(!1))}b=this.getElement();goog.asserts.assert(b,"The DOM element for the container cannot be null.");
null!=a.target.getElement()&&goog.a11y.aria.setState(b,goog.a11y.aria.State.ACTIVEDESCENDANT,a.target.getElement().id)};goog.ui.Container.prototype.handleUnHighlightItem=function(a){a.target==this.getHighlighted()&&(this.highlightedIndex_=-1);a=this.getElement();goog.asserts.assert(a,"The DOM element for the container cannot be null.");goog.a11y.aria.removeState(a,goog.a11y.aria.State.ACTIVEDESCENDANT)};
goog.ui.Container.prototype.handleOpenItem=function(a){(a=a.target)&&a!=this.openItem_&&a.getParent()==this&&(this.openItem_&&this.openItem_.setOpen(!1),this.openItem_=a)};goog.ui.Container.prototype.handleCloseItem=function(a){a.target==this.openItem_&&(this.openItem_=null);var b=this.getElement(),c=a.target.getElement();b&&a.target.isHighlighted()&&c&&goog.a11y.aria.setActiveDescendant(b,c)};
goog.ui.Container.prototype.handleMouseDown=function(a){this.enabled_&&this.setMouseButtonPressed(!0);var b=this.getKeyEventTarget();b&&goog.dom.isFocusableTabIndex(b)?b.focus():a.preventDefault()};goog.ui.Container.prototype.handleDocumentMouseUp=function(a){this.setMouseButtonPressed(!1)};
goog.ui.Container.prototype.handleChildMouseEvents=function(a){var b=goog.ui.ComponentUtil.getMouseEventType(this),c=this.getOwnerControl(a.target);if(c)switch(a.type){case b.MOUSEDOWN:c.handleMouseDown(a);break;case b.MOUSEUP:case b.MOUSECANCEL:c.handleMouseUp(a);break;case goog.events.EventType.MOUSEOVER:c.handleMouseOver(a);break;case goog.events.EventType.MOUSEOUT:c.handleMouseOut(a);break;case goog.events.EventType.CONTEXTMENU:c.handleContextMenu(a)}};
goog.ui.Container.prototype.getOwnerControl=function(a){if(this.childElementIdMap_)for(var b=this.getElement();a&&a!==b;){var c=a.id;if(c in this.childElementIdMap_)return this.childElementIdMap_[c];a=a.parentNode}return null};goog.ui.Container.prototype.handleFocus=function(a){};goog.ui.Container.prototype.handleBlur=function(a){this.setHighlightedIndex(-1);this.setMouseButtonPressed(!1);this.openItem_&&this.openItem_.setOpen(!1)};
goog.ui.Container.prototype.handleKeyEvent=function(a){return this.isEnabled()&&this.isVisible()&&(0!=this.getChildCount()||this.keyEventTarget_)&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
goog.ui.Container.prototype.handleKeyEventInternal=function(a){var b=this.getHighlighted();if(b&&"function"==typeof b.handleKeyEvent&&b.handleKeyEvent(a)||this.openItem_&&this.openItem_!=b&&"function"==typeof this.openItem_.handleKeyEvent&&this.openItem_.handleKeyEvent(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case goog.events.KeyCodes.ESC:if(this.isFocusable())this.getKeyEventTarget().blur();else return!1;break;case goog.events.KeyCodes.HOME:this.highlightFirst();
break;case goog.events.KeyCodes.END:this.highlightLast();break;case goog.events.KeyCodes.UP:if(this.orientation_==goog.ui.Container.Orientation.VERTICAL)this.highlightPrevious();else return!1;break;case goog.events.KeyCodes.LEFT:if(this.orientation_==goog.ui.Container.Orientation.HORIZONTAL)this.isRightToLeft()?this.highlightNext():this.highlightPrevious();else return!1;break;case goog.events.KeyCodes.DOWN:if(this.orientation_==goog.ui.Container.Orientation.VERTICAL)this.highlightNext();else return!1;
break;case goog.events.KeyCodes.RIGHT:if(this.orientation_==goog.ui.Container.Orientation.HORIZONTAL)this.isRightToLeft()?this.highlightPrevious():this.highlightNext();else return!1;break;default:return!1}return!0};goog.ui.Container.prototype.registerChildId_=function(a){var b=a.getElement();b=b.id||(b.id=a.getId());this.childElementIdMap_||(this.childElementIdMap_={});this.childElementIdMap_[b]=a};
goog.ui.Container.prototype.addChild=function(a,b){goog.asserts.assertInstanceof(a,goog.ui.Control,"The child of a container must be a control");goog.ui.Container.superClass_.addChild.call(this,a,b)};
goog.ui.Container.prototype.addChildAt=function(a,b,c){goog.asserts.assertInstanceof(a,goog.ui.Control);a.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0);a.setDispatchTransitionEvents(goog.ui.Component.State.OPENED,!0);!this.isFocusable()&&this.isFocusableChildrenAllowed()||a.setSupportedState(goog.ui.Component.State.FOCUSED,!1);a.setHandleMouseEvents(!1);var d=a.getParent()==this?this.indexOfChild(a):-1;goog.ui.Container.superClass_.addChildAt.call(this,a,b,c);a.isInDocument()&&this.isInDocument()&&
this.registerChildId_(a);this.updateHighlightedIndex_(d,b)};goog.ui.Container.prototype.updateHighlightedIndex_=function(a,b){-1==a&&(a=this.getChildCount());a==this.highlightedIndex_?this.highlightedIndex_=Math.min(this.getChildCount()-1,b):a>this.highlightedIndex_&&b<=this.highlightedIndex_?this.highlightedIndex_++:a<this.highlightedIndex_&&b>this.highlightedIndex_&&this.highlightedIndex_--};
goog.ui.Container.prototype.removeChild=function(a,b){a=goog.isString(a)?this.getChild(a):a;goog.asserts.assertInstanceof(a,goog.ui.Control);if(a){var c=this.indexOfChild(a);-1!=c&&(c==this.highlightedIndex_?(a.setHighlighted(!1),this.highlightedIndex_=-1):c<this.highlightedIndex_&&this.highlightedIndex_--);(c=a.getElement())&&c.id&&this.childElementIdMap_&&goog.object.remove(this.childElementIdMap_,c.id)}a=goog.ui.Container.superClass_.removeChild.call(this,a,b);a.setHandleMouseEvents(!0);return a};
goog.ui.Container.prototype.getOrientation=function(){return this.orientation_};goog.ui.Container.prototype.setOrientation=function(a){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.orientation_=a};goog.ui.Container.prototype.isVisible=function(){return this.visible_};
goog.ui.Container.prototype.setVisible=function(a,b){if(b||this.visible_!=a&&this.dispatchEvent(a?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){this.visible_=a;var c=this.getElement();c&&(goog.style.setElementShown(c,a),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_),b||this.dispatchEvent(this.visible_?goog.ui.Container.EventType.AFTER_SHOW:goog.ui.Container.EventType.AFTER_HIDE));return!0}return!1};
goog.ui.Container.prototype.isEnabled=function(){return this.enabled_};
goog.ui.Container.prototype.setEnabled=function(a){this.enabled_!=a&&this.dispatchEvent(a?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE)&&(a?(this.enabled_=!0,this.forEachChild(function(a){a.wasDisabled?delete a.wasDisabled:a.setEnabled(!0)})):(this.forEachChild(function(a){a.isEnabled()?a.setEnabled(!1):a.wasDisabled=!0}),this.enabled_=!1,this.setMouseButtonPressed(!1)),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),a&&this.visible_))};
goog.ui.Container.prototype.isFocusable=function(){return this.focusable_};goog.ui.Container.prototype.setFocusable=function(a){a!=this.focusable_&&this.isInDocument()&&this.enableFocusHandling_(a);this.focusable_=a;this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),a)};goog.ui.Container.prototype.isFocusableChildrenAllowed=function(){return this.allowFocusableChildren_};
goog.ui.Container.prototype.setFocusableChildrenAllowed=function(a){this.allowFocusableChildren_=a};goog.ui.Container.prototype.isOpenFollowsHighlight=function(){return this.openFollowsHighlight_};goog.ui.Container.prototype.setOpenFollowsHighlight=function(a){this.openFollowsHighlight_=a};goog.ui.Container.prototype.getHighlightedIndex=function(){return this.highlightedIndex_};
goog.ui.Container.prototype.setHighlightedIndex=function(a){(a=this.getChildAt(a))?a.setHighlighted(!0):-1<this.highlightedIndex_&&this.getHighlighted().setHighlighted(!1)};goog.ui.Container.prototype.setHighlighted=function(a){this.setHighlightedIndex(this.indexOfChild(a))};goog.ui.Container.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)};
goog.ui.Container.prototype.highlightFirst=function(){this.highlightHelper(function(a,b){return(a+1)%b},this.getChildCount()-1)};goog.ui.Container.prototype.highlightLast=function(){this.highlightHelper(function(a,b){a--;return 0>a?b-1:a},0)};goog.ui.Container.prototype.highlightNext=function(){this.highlightHelper(function(a,b){return(a+1)%b},this.highlightedIndex_)};goog.ui.Container.prototype.highlightPrevious=function(){this.highlightHelper(function(a,b){a--;return 0>a?b-1:a},this.highlightedIndex_)};
goog.ui.Container.prototype.highlightHelper=function(a,b){b=0>b?this.indexOfChild(this.openItem_):b;var c=this.getChildCount();b=a.call(this,b,c);for(var d=0;d<=c;){var e=this.getChildAt(b);if(e&&this.canHighlightItem(e))return this.setHighlightedIndexFromKeyEvent(b),!0;d++;b=a.call(this,b,c)}return!1};goog.ui.Container.prototype.canHighlightItem=function(a){return a.isVisible()&&a.isEnabled()&&a.isSupportedState(goog.ui.Component.State.HOVER)};
goog.ui.Container.prototype.setHighlightedIndexFromKeyEvent=function(a){this.setHighlightedIndex(a)};goog.ui.Container.prototype.getOpenItem=function(){return this.openItem_};goog.ui.Container.prototype.isMouseButtonPressed=function(){return this.mouseButtonPressed_};goog.ui.Container.prototype.setMouseButtonPressed=function(a){this.mouseButtonPressed_=a};goog.ui.MenuHeaderRenderer=function(){goog.ui.ControlRenderer.call(this)};goog.inherits(goog.ui.MenuHeaderRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuHeaderRenderer);goog.ui.MenuHeaderRenderer.CSS_CLASS="goog-menuheader";goog.ui.MenuHeaderRenderer.prototype.getCssClass=function(){return goog.ui.MenuHeaderRenderer.CSS_CLASS};goog.ui.MenuHeader=function(a,b,c){goog.ui.Control.call(this,a,c||goog.ui.MenuHeaderRenderer.getInstance(),b);this.setSupportedState(goog.ui.Component.State.DISABLED,!1);this.setSupportedState(goog.ui.Component.State.HOVER,!1);this.setSupportedState(goog.ui.Component.State.ACTIVE,!1);this.setSupportedState(goog.ui.Component.State.FOCUSED,!1);this.setStateInternal(goog.ui.Component.State.DISABLED)};goog.inherits(goog.ui.MenuHeader,goog.ui.Control);
goog.ui.registry.setDecoratorByClassName(goog.ui.MenuHeaderRenderer.CSS_CLASS,function(){return new goog.ui.MenuHeader(null)});goog.ui.MenuItemRenderer=function(){goog.ui.ControlRenderer.call(this);this.classNameCache_=[]};goog.inherits(goog.ui.MenuItemRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuItemRenderer);goog.ui.MenuItemRenderer.CSS_CLASS="goog-menuitem";goog.ui.MenuItemRenderer.CompositeCssClassIndex_={HOVER:0,CHECKBOX:1,CONTENT:2};
goog.ui.MenuItemRenderer.prototype.getCompositeCssClass_=function(a){var b=this.classNameCache_[a];if(!b){switch(a){case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:b=this.getStructuralCssClass()+"-highlight";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:b=this.getStructuralCssClass()+"-checkbox";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:b=this.getStructuralCssClass()+"-content"}this.classNameCache_[a]=b}return b};
goog.ui.MenuItemRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.MENU_ITEM};goog.ui.MenuItemRenderer.prototype.createDom=function(a){var b=a.getDomHelper().createDom("DIV",this.getClassNames(a).join(" "),this.createContent(a.getContent(),a.getDomHelper()));this.setEnableCheckBoxStructure(a,b,a.isSupportedState(goog.ui.Component.State.SELECTED)||a.isSupportedState(goog.ui.Component.State.CHECKED));return b};
goog.ui.MenuItemRenderer.prototype.getContentElement=function(a){return a&&a.firstChild};goog.ui.MenuItemRenderer.prototype.decorate=function(a,b){goog.asserts.assert(b);this.hasContentStructure(b)||b.appendChild(this.createContent(b.childNodes,a.getDomHelper()));goog.dom.classlist.contains(b,"goog-option")&&(a.setCheckable(!0),this.setCheckable(a,b,!0));return goog.ui.MenuItemRenderer.superClass_.decorate.call(this,a,b)};
goog.ui.MenuItemRenderer.prototype.setContent=function(a,b){var c=this.getContentElement(a),d=this.hasCheckBoxStructure(a)?c.firstChild:null;goog.ui.MenuItemRenderer.superClass_.setContent.call(this,a,b);d&&!this.hasCheckBoxStructure(a)&&c.insertBefore(d,c.firstChild||null)};
goog.ui.MenuItemRenderer.prototype.hasContentStructure=function(a){a=goog.dom.getFirstElementChild(a);var b=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return!!a&&goog.dom.classlist.contains(a,b)};goog.ui.MenuItemRenderer.prototype.createContent=function(a,b){var c=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return b.createDom("DIV",c,a)};
goog.ui.MenuItemRenderer.prototype.setSelectable=function(a,b,c){a&&b&&this.setEnableCheckBoxStructure(a,b,c)};goog.ui.MenuItemRenderer.prototype.setCheckable=function(a,b,c){a&&b&&this.setEnableCheckBoxStructure(a,b,c)};goog.ui.MenuItemRenderer.prototype.hasCheckBoxStructure=function(a){if(a=this.getContentElement(a)){a=a.firstChild;var b=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);return!!a&&goog.dom.isElement(a)&&goog.dom.classlist.contains(a,b)}return!1};
goog.ui.MenuItemRenderer.prototype.setEnableCheckBoxStructure=function(a,b,c){this.setAriaRole(b,a.getPreferredAriaRole());this.setAriaStates(a,b);c!=this.hasCheckBoxStructure(b)&&(goog.dom.classlist.enable(b,"goog-option",c),b=this.getContentElement(b),c?(c=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX),b.insertBefore(a.getDomHelper().createDom("DIV",c),b.firstChild||null)):b.removeChild(b.firstChild))};
goog.ui.MenuItemRenderer.prototype.getClassForState=function(a){switch(a){case goog.ui.Component.State.HOVER:return this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);case goog.ui.Component.State.CHECKED:case goog.ui.Component.State.SELECTED:return"goog-option-selected";default:return goog.ui.MenuItemRenderer.superClass_.getClassForState.call(this,a)}};
goog.ui.MenuItemRenderer.prototype.getStateFromClass=function(a){var b=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);switch(a){case "goog-option-selected":return goog.ui.Component.State.CHECKED;case b:return goog.ui.Component.State.HOVER;default:return goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(this,a)}};goog.ui.MenuItemRenderer.prototype.getCssClass=function(){return goog.ui.MenuItemRenderer.CSS_CLASS};goog.ui.MenuItem=function(a,b,c,d){goog.ui.Control.call(this,a,d||goog.ui.MenuItemRenderer.getInstance(),c);this.setValue(b)};goog.inherits(goog.ui.MenuItem,goog.ui.Control);goog.tagUnsealableClass(goog.ui.MenuItem);goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_="goog-menuitem-mnemonic-separator";goog.ui.MenuItem.ACCELERATOR_CLASS="goog-menuitem-accel";goog.ui.MenuItem.prototype.getValue=function(){var a=this.getModel();return null!=a?a:this.getCaption()};goog.ui.MenuItem.prototype.setValue=function(a){this.setModel(a)};
goog.ui.MenuItem.prototype.setSupportedState=function(a,b){goog.ui.MenuItem.superClass_.setSupportedState.call(this,a,b);switch(a){case goog.ui.Component.State.SELECTED:this.setSelectableInternal_(b);break;case goog.ui.Component.State.CHECKED:this.setCheckableInternal_(b)}};goog.ui.MenuItem.prototype.setSelectable=function(a){this.setSupportedState(goog.ui.Component.State.SELECTED,a)};
goog.ui.MenuItem.prototype.setSelectableInternal_=function(a){this.isChecked()&&!a&&this.setChecked(!1);var b=this.getElement();b&&this.getRenderer().setSelectable(this,b,a)};goog.ui.MenuItem.prototype.setCheckable=function(a){this.setSupportedState(goog.ui.Component.State.CHECKED,a)};goog.ui.MenuItem.prototype.setCheckableInternal_=function(a){var b=this.getElement();b&&this.getRenderer().setCheckable(this,b,a)};
goog.ui.MenuItem.prototype.getCaption=function(){var a=this.getContent();if(goog.isArray(a)){var b=goog.ui.MenuItem.ACCELERATOR_CLASS,c=goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_;a=goog.array.map(a,function(a){return goog.dom.isElement(a)&&(goog.dom.classlist.contains(a,b)||goog.dom.classlist.contains(a,c))?"":goog.dom.getRawTextContent(a)}).join("");return goog.string.collapseBreakingSpaces(a)}return goog.ui.MenuItem.superClass_.getCaption.call(this)};
goog.ui.MenuItem.prototype.getAccelerator=function(){var a=this.getDomHelper(),b=this.getContent();return goog.isArray(b)&&(b=goog.array.find(b,function(a){return goog.dom.classlist.contains(a,goog.ui.MenuItem.ACCELERATOR_CLASS)}))?a.getTextContent(b):null};
goog.ui.MenuItem.prototype.handleMouseUp=function(a){var b=this.getParent();if(b){var c=b.openingCoords;b.openingCoords=null;if(c&&goog.isNumber(a.clientX)&&(b=new goog.math.Coordinate(a.clientX,a.clientY),goog.math.Coordinate.equals(c,b)))return}goog.ui.MenuItem.superClass_.handleMouseUp.call(this,a)};goog.ui.MenuItem.prototype.handleKeyEventInternal=function(a){return a.keyCode==this.getMnemonic()&&this.performActionInternal(a)?!0:goog.ui.MenuItem.superClass_.handleKeyEventInternal.call(this,a)};
goog.ui.MenuItem.prototype.setMnemonic=function(a){this.mnemonicKey_=a};goog.ui.MenuItem.prototype.getMnemonic=function(){return this.mnemonicKey_};goog.ui.registry.setDecoratorByClassName(goog.ui.MenuItemRenderer.CSS_CLASS,function(){return new goog.ui.MenuItem(null)});
goog.ui.MenuItem.prototype.getPreferredAriaRole=function(){return this.isSupportedState(goog.ui.Component.State.CHECKED)?goog.a11y.aria.Role.MENU_ITEM_CHECKBOX:this.isSupportedState(goog.ui.Component.State.SELECTED)?goog.a11y.aria.Role.MENU_ITEM_RADIO:goog.ui.MenuItem.superClass_.getPreferredAriaRole.call(this)};goog.ui.MenuItem.prototype.getParent=function(){return goog.ui.Control.prototype.getParent.call(this)};goog.ui.MenuItem.prototype.getParentEventTarget=function(){return goog.ui.Control.prototype.getParentEventTarget.call(this)};goog.ui.MenuSeparatorRenderer=function(){goog.ui.ControlRenderer.call(this)};goog.inherits(goog.ui.MenuSeparatorRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuSeparatorRenderer);goog.ui.MenuSeparatorRenderer.CSS_CLASS="goog-menuseparator";goog.ui.MenuSeparatorRenderer.prototype.createDom=function(a){return a.getDomHelper().createDom("DIV",this.getCssClass())};
goog.ui.MenuSeparatorRenderer.prototype.decorate=function(a,b){b.id&&a.setId(b.id);if("HR"==b.tagName){var c=b;b=this.createDom(a);goog.dom.insertSiblingBefore(b,c);goog.dom.removeNode(c)}else goog.dom.classlist.add(b,this.getCssClass());return b};goog.ui.MenuSeparatorRenderer.prototype.setContent=function(a,b){};goog.ui.MenuSeparatorRenderer.prototype.getCssClass=function(){return goog.ui.MenuSeparatorRenderer.CSS_CLASS};goog.ui.Separator=function(a,b){goog.ui.Control.call(this,null,a||goog.ui.MenuSeparatorRenderer.getInstance(),b);this.setSupportedState(goog.ui.Component.State.DISABLED,!1);this.setSupportedState(goog.ui.Component.State.HOVER,!1);this.setSupportedState(goog.ui.Component.State.ACTIVE,!1);this.setSupportedState(goog.ui.Component.State.FOCUSED,!1);this.setStateInternal(goog.ui.Component.State.DISABLED)};goog.inherits(goog.ui.Separator,goog.ui.Control);
goog.ui.Separator.prototype.enterDocument=function(){goog.ui.Separator.superClass_.enterDocument.call(this);var a=this.getElement();goog.asserts.assert(a,"The DOM element for the separator cannot be null.");goog.a11y.aria.setRole(a,"separator")};goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator});goog.ui.MenuRenderer=function(a){goog.ui.ContainerRenderer.call(this,a||goog.a11y.aria.Role.MENU)};goog.inherits(goog.ui.MenuRenderer,goog.ui.ContainerRenderer);goog.addSingletonGetter(goog.ui.MenuRenderer);goog.ui.MenuRenderer.CSS_CLASS="goog-menu";goog.ui.MenuRenderer.prototype.canDecorate=function(a){return"UL"==a.tagName||goog.ui.MenuRenderer.superClass_.canDecorate.call(this,a)};
goog.ui.MenuRenderer.prototype.getDecoratorForChild=function(a){return"HR"==a.tagName?new goog.ui.Separator:goog.ui.MenuRenderer.superClass_.getDecoratorForChild.call(this,a)};goog.ui.MenuRenderer.prototype.containsElement=function(a,b){return goog.dom.contains(a.getElement(),b)};goog.ui.MenuRenderer.prototype.getCssClass=function(){return goog.ui.MenuRenderer.CSS_CLASS};
goog.ui.MenuRenderer.prototype.initializeDom=function(a){goog.ui.MenuRenderer.superClass_.initializeDom.call(this,a);a=a.getElement();goog.asserts.assert(a,"The menu DOM element cannot be null.");goog.a11y.aria.setState(a,goog.a11y.aria.State.HASPOPUP,"true")};goog.ui.MenuSeparator=function(a){goog.ui.Separator.call(this,goog.ui.MenuSeparatorRenderer.getInstance(),a)};goog.inherits(goog.ui.MenuSeparator,goog.ui.Separator);goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator});goog.ui.Menu=function(a,b){goog.ui.Container.call(this,goog.ui.Container.Orientation.VERTICAL,b||goog.ui.MenuRenderer.getInstance(),a);this.setFocusable(!1)};goog.inherits(goog.ui.Menu,goog.ui.Container);goog.tagUnsealableClass(goog.ui.Menu);goog.ui.Menu.EventType={BEFORE_SHOW:goog.ui.Component.EventType.BEFORE_SHOW,SHOW:goog.ui.Component.EventType.SHOW,BEFORE_HIDE:goog.ui.Component.EventType.HIDE,HIDE:goog.ui.Component.EventType.HIDE};goog.ui.Menu.CSS_CLASS=goog.ui.MenuRenderer.CSS_CLASS;
goog.ui.Menu.prototype.allowAutoFocus_=!0;goog.ui.Menu.prototype.allowHighlightDisabled_=!1;goog.ui.Menu.prototype.getCssClass=function(){return this.getRenderer().getCssClass()};goog.ui.Menu.prototype.containsElement=function(a){if(this.getRenderer().containsElement(this,a))return!0;for(var b=0,c=this.getChildCount();b<c;b++){var d=this.getChildAt(b);if("function"==typeof d.containsElement&&d.containsElement(a))return!0}return!1};goog.ui.Menu.prototype.addItem=function(a){this.addChild(a,!0)};
goog.ui.Menu.prototype.addItemAt=function(a,b){this.addChildAt(a,b,!0)};goog.ui.Menu.prototype.removeItem=function(a){(a=this.removeChild(a,!0))&&a.dispose()};goog.ui.Menu.prototype.removeItemAt=function(a){(a=this.removeChildAt(a,!0))&&a.dispose()};goog.ui.Menu.prototype.getItemAt=function(a){return this.getChildAt(a)};goog.ui.Menu.prototype.getItemCount=function(){return this.getChildCount()};goog.ui.Menu.prototype.getItems=function(){var a=[];this.forEachChild(function(b){a.push(b)});return a};
goog.ui.Menu.prototype.setPosition=function(a,b){var c=this.isVisible();c||goog.style.setElementShown(this.getElement(),!0);goog.style.setPageOffset(this.getElement(),a,b);c||goog.style.setElementShown(this.getElement(),!1)};goog.ui.Menu.prototype.getPosition=function(){return this.isVisible()?goog.style.getPageOffset(this.getElement()):null};goog.ui.Menu.prototype.setAllowAutoFocus=function(a){(this.allowAutoFocus_=a)&&this.setFocusable(!0)};goog.ui.Menu.prototype.getAllowAutoFocus=function(){return this.allowAutoFocus_};
goog.ui.Menu.prototype.setAllowHighlightDisabled=function(a){this.allowHighlightDisabled_=a};goog.ui.Menu.prototype.getAllowHighlightDisabled=function(){return this.allowHighlightDisabled_};goog.ui.Menu.prototype.setVisible=function(a,b,c){(b=goog.ui.Menu.superClass_.setVisible.call(this,a,b))&&a&&this.isInDocument()&&this.allowAutoFocus_&&this.getKeyEventTarget().focus();a&&c&&goog.isNumber(c.clientX)?this.openingCoords=new goog.math.Coordinate(c.clientX,c.clientY):this.openingCoords=null;return b};
goog.ui.Menu.prototype.handleEnterItem=function(a){this.allowAutoFocus_&&this.getKeyEventTarget().focus();return goog.ui.Menu.superClass_.handleEnterItem.call(this,a)};goog.ui.Menu.prototype.highlightNextPrefix=function(a){var b=new RegExp("^"+goog.string.regExpEscape(a),"i");return this.highlightHelper(function(a,d){var c=0>a?0:a,f=!1;do{++a;a==d&&(a=0,f=!0);var h=this.getChildAt(a).getCaption();if(h&&h.match(b))return a}while(!f||a!=c);return this.getHighlightedIndex()},this.getHighlightedIndex())};
goog.ui.Menu.prototype.canHighlightItem=function(a){return(this.allowHighlightDisabled_||a.isEnabled())&&a.isVisible()&&a.isSupportedState(goog.ui.Component.State.HOVER)};goog.ui.Menu.prototype.decorateInternal=function(a){this.decorateContent(a);goog.ui.Menu.superClass_.decorateInternal.call(this,a)};
goog.ui.Menu.prototype.handleKeyEventInternal=function(a){var b=goog.ui.Menu.superClass_.handleKeyEventInternal.call(this,a);b||this.forEachChild(function(c){!b&&c.getMnemonic&&c.getMnemonic()==a.keyCode&&(this.isEnabled()&&this.setHighlighted(c),b=c.handleKeyEvent(a))},this);return b};goog.ui.Menu.prototype.setHighlightedIndex=function(a){goog.ui.Menu.superClass_.setHighlightedIndex.call(this,a);(a=this.getChildAt(a))&&goog.style.scrollIntoContainerView(a.getElement(),this.getElement())};
goog.ui.Menu.prototype.decorateContent=function(a){var b=this.getRenderer();a=this.getDomHelper().getElementsByTagNameAndClass("DIV",b.getCssClass()+"-content",a);for(var c=a.length,d=0;d<c;d++)b.decorateChildren(this,a[d])};Blockly.ContextMenu={};Blockly.ContextMenu.currentBlock=null;Blockly.ContextMenu.eventWrapper_=null;Blockly.ContextMenu.show=function(a,b,c){Blockly.WidgetDiv.show(Blockly.ContextMenu,c,null);if(b.length){var d=Blockly.ContextMenu.populate_(b,c);goog.events.listen(d,goog.ui.Component.EventType.ACTION,Blockly.ContextMenu.hide);Blockly.ContextMenu.position_(d,a,c);setTimeout(function(){d.getElement().focus()},1);Blockly.ContextMenu.currentBlock=null}else Blockly.ContextMenu.hide()};
Blockly.ContextMenu.populate_=function(a,b){var c=new goog.ui.Menu;c.setRightToLeft(b);for(var d=0,e;e=a[d];d++){var f=new goog.ui.MenuItem(e.text);f.setRightToLeft(b);c.addChild(f,!0);f.setEnabled(e.enabled);e.enabled&&(goog.events.listen(f,goog.ui.Component.EventType.ACTION,e.callback),f.handleContextMenu=function(){goog.events.dispatchEvent(this,goog.ui.Component.EventType.ACTION)})}return c};
Blockly.ContextMenu.position_=function(a,b,c){var d=Blockly.utils.getViewportBBox();b={top:b.clientY+d.top,bottom:b.clientY+d.top,left:b.clientX+d.left,right:b.clientX+d.left};Blockly.ContextMenu.createWidget_(a);var e=Blockly.utils.uiMenu.getSize(a);c&&Blockly.utils.uiMenu.adjustBBoxesForRTL(d,b,e);Blockly.WidgetDiv.positionWithAnchor(d,b,e,c);a.getElement().focus()};
Blockly.ContextMenu.createWidget_=function(a){a.render(Blockly.WidgetDiv.DIV);var b=a.getElement();Blockly.utils.addClass(b,"blocklyContextMenu");Blockly.bindEventWithChecks_(b,"contextmenu",null,Blockly.utils.noEvent);a.setAllowAutoFocus(!0)};Blockly.ContextMenu.hide=function(){Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu);Blockly.ContextMenu.currentBlock=null;Blockly.ContextMenu.eventWrapper_&&Blockly.unbindEvent_(Blockly.ContextMenu.eventWrapper_)};
Blockly.ContextMenu.callbackFactory=function(a,b){return function(){Blockly.Events.disable();try{var c=Blockly.Xml.domToBlock(b,a.workspace),d=a.getRelativeToSurfaceXY();d.x=a.RTL?d.x-Blockly.SNAP_RADIUS:d.x+Blockly.SNAP_RADIUS;d.y+=2*Blockly.SNAP_RADIUS;c.moveBy(d.x,d.y)}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&!c.isShadow()&&Blockly.Events.fire(new Blockly.Events.BlockCreate(c));c.select()}};
Blockly.ContextMenu.blockDeleteOption=function(a){var b=a.getDescendants(!1).length,c=a.getNextBlock();c&&(b-=c.getDescendants(!1).length);return{text:1==b?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,callback:function(){Blockly.Events.setGroup(!0);a.dispose(!0,!0);Blockly.Events.setGroup(!1)}}};Blockly.ContextMenu.blockHelpOption=function(a){return{enabled:!("function"==typeof a.helpUrl?!a.helpUrl():!a.helpUrl),text:Blockly.Msg.HELP,callback:function(){a.showHelp_()}}};
Blockly.ContextMenu.blockDuplicateOption=function(a){var b=!0;a.getDescendants(!1).length>a.workspace.remainingCapacity()&&(b=!1);return{text:Blockly.Msg.DUPLICATE_BLOCK,enabled:b,callback:function(){Blockly.duplicate_(a)}}};Blockly.ContextMenu.blockCommentOption=function(a){var b={enabled:!goog.userAgent.IE};a.comment?(b.text=Blockly.Msg.REMOVE_COMMENT,b.callback=function(){a.setCommentText(null)}):(b.text=Blockly.Msg.ADD_COMMENT,b.callback=function(){a.setCommentText("")});return b};
Blockly.ContextMenu.commentDeleteOption=function(a){return{text:Blockly.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){Blockly.Events.setGroup(!0);a.dispose(!0,!0);Blockly.Events.setGroup(!1)}}};Blockly.ContextMenu.commentDuplicateOption=function(a){return{text:Blockly.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){Blockly.duplicate_(a)}}};
Blockly.ContextMenu.workspaceCommentOption=function(a,b){var c={enabled:!goog.userAgent.IE};c.text=Blockly.Msg.ADD_COMMENT;c.callback=function(){var c=new Blockly.WorkspaceCommentSvg(a,Blockly.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,Blockly.WorkspaceCommentSvg.DEFAULT_SIZE,Blockly.WorkspaceCommentSvg.DEFAULT_SIZE),e=a.getInjectionDiv().getBoundingClientRect();e=new goog.math.Coordinate(b.clientX-e.left,b.clientY-e.top);var f=a.getOriginOffsetInPixels();e=goog.math.Coordinate.difference(e,f).scale(1/a.scale);
c.moveBy(e.x,e.y);a.rendered&&(c.initSvg(),c.render(!1),c.select())};return c};goog.color={};
goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};goog.color.parse=function(a){var b={};a=String(a);var c=goog.color.prependHashIfNecessaryHelper(a);if(goog.color.isValidHexColor_(c))return b.hex=goog.color.normalizeHex(c),b.type="hex",b;c=goog.color.isValidRgbColor_(a);if(c.length)return b.hex=goog.color.rgbArrayToHex(c),b.type="rgb",b;if(goog.color.names&&(c=goog.color.names[a.toLowerCase()]))return b.hex=c,b.type="named",b;throw Error(a+" is not a valid color string");};
goog.color.isValidColor=function(a){var b=goog.color.prependHashIfNecessaryHelper(a);return!!(goog.color.isValidHexColor_(b)||goog.color.isValidRgbColor_(a).length||goog.color.names&&goog.color.names[a.toLowerCase()])};goog.color.parseRgb=function(a){var b=goog.color.isValidRgbColor_(a);if(!b.length)throw Error(a+" is not a valid RGB color");return b};goog.color.hexToRgbStyle=function(a){return goog.color.rgbStyle_(goog.color.hexToRgb(a))};goog.color.hexTripletRe_=/#(.)(.)(.)/;
goog.color.normalizeHex=function(a){if(!goog.color.isValidHexColor_(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3"));return a.toLowerCase()};goog.color.hexToRgb=function(a){a=goog.color.normalizeHex(a);var b=parseInt(a.substr(1,2),16),c=parseInt(a.substr(3,2),16);a=parseInt(a.substr(5,2),16);return[b,c,a]};
goog.color.rgbToHex=function(a,b,c){a=Number(a);b=Number(b);c=Number(c);if(a!=(a&255)||b!=(b&255)||c!=(c&255))throw Error('"('+a+","+b+","+c+'") is not a valid RGB color');a=goog.color.prependZeroIfNecessaryHelper(a.toString(16));b=goog.color.prependZeroIfNecessaryHelper(b.toString(16));c=goog.color.prependZeroIfNecessaryHelper(c.toString(16));return"#"+a+b+c};goog.color.rgbArrayToHex=function(a){return goog.color.rgbToHex(a[0],a[1],a[2])};
goog.color.rgbToHsl=function(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),f=0,h=0,g=.5*(d+e);d!=e&&(d==a?f=60*(b-c)/(d-e):d==b?f=60*(c-a)/(d-e)+120:d==c&&(f=60*(a-b)/(d-e)+240),h=0<g&&.5>=g?(d-e)/(2*g):(d-e)/(2-2*g));return[Math.round(f+360)%360,h,g]};goog.color.rgbArrayToHsl=function(a){return goog.color.rgbToHsl(a[0],a[1],a[2])};goog.color.hueToRgb_=function(a,b,c){0>c?c+=1:1<c&&--c;return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a};
goog.color.hslToRgb=function(a,b,c){a/=360;if(0==b)c=b=a=255*c;else{var d=.5>c?c*(1+b):c+b-b*c;var e=2*c-d;c=255*goog.color.hueToRgb_(e,d,a+1/3);b=255*goog.color.hueToRgb_(e,d,a);a=255*goog.color.hueToRgb_(e,d,a-1/3)}return[Math.round(c),Math.round(b),Math.round(a)]};goog.color.hslArrayToRgb=function(a){return goog.color.hslToRgb(a[0],a[1],a[2])};goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i;goog.color.isValidHexColor_=function(a){return goog.color.validHexColorRe_.test(a)};
goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/;goog.color.isNormalizedHexColor_=function(a){return goog.color.normalizedHexColorRe_.test(a)};goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;goog.color.isValidRgbColor_=function(a){var b=a.match(goog.color.rgbColorRe_);if(b){a=Number(b[1]);var c=Number(b[2]);b=Number(b[3]);if(0<=a&&255>=a&&0<=c&&255>=c&&0<=b&&255>=b)return[a,c,b]}return[]};
goog.color.prependZeroIfNecessaryHelper=function(a){return 1==a.length?"0"+a:a};goog.color.prependHashIfNecessaryHelper=function(a){return"#"==a.charAt(0)?a:"#"+a};goog.color.rgbStyle_=function(a){return"rgb("+a.join(",")+")"};
goog.color.hsvToRgb=function(a,b,c){var d=0,e=0,f=0;if(0==b)f=e=d=c;else{var h=Math.floor(a/60),g=a/60-h;a=c*(1-b);var k=c*(1-b*g);b=c*(1-b*(1-g));switch(h){case 1:d=k;e=c;f=a;break;case 2:d=a;e=c;f=b;break;case 3:d=a;e=k;f=c;break;case 4:d=b;e=a;f=c;break;case 5:d=c;e=a;f=k;break;case 6:case 0:d=c,e=b,f=a}}return[Math.floor(d),Math.floor(e),Math.floor(f)]};
goog.color.rgbToHsv=function(a,b,c){var d=Math.max(Math.max(a,b),c),e=Math.min(Math.min(a,b),c);if(e==d)e=a=0;else{var f=d-e;e=f/d;a=60*(a==d?(b-c)/f:b==d?2+(c-a)/f:4+(a-b)/f);0>a&&(a+=360);360<a&&(a-=360)}return[a,e,d]};goog.color.rgbArrayToHsv=function(a){return goog.color.rgbToHsv(a[0],a[1],a[2])};goog.color.hsvArrayToRgb=function(a){return goog.color.hsvToRgb(a[0],a[1],a[2])};goog.color.hexToHsl=function(a){a=goog.color.hexToRgb(a);return goog.color.rgbToHsl(a[0],a[1],a[2])};
goog.color.hslToHex=function(a,b,c){return goog.color.rgbArrayToHex(goog.color.hslToRgb(a,b,c))};goog.color.hslArrayToHex=function(a){return goog.color.rgbArrayToHex(goog.color.hslToRgb(a[0],a[1],a[2]))};goog.color.hexToHsv=function(a){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(a))};goog.color.hsvToHex=function(a,b,c){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(a,b,c))};goog.color.hsvArrayToHex=function(a){return goog.color.hsvToHex(a[0],a[1],a[2])};
goog.color.hslDistance=function(a,b){var c=.5>=a[2]?a[1]*a[2]:a[1]*(1-a[2]);var d=.5>=b[2]?b[1]*b[2]:b[1]*(1-b[2]);return(a[2]-b[2])*(a[2]-b[2])+c*c+d*d-2*c*d*Math.cos(2*(a[0]/360-b[0]/360)*Math.PI)};goog.color.blend=function(a,b,c){c=goog.math.clamp(c,0,1);return[Math.round(c*a[0]+(1-c)*b[0]),Math.round(c*a[1]+(1-c)*b[1]),Math.round(c*a[2]+(1-c)*b[2])]};goog.color.darken=function(a,b){return goog.color.blend([0,0,0],a,b)};goog.color.lighten=function(a,b){return goog.color.blend([255,255,255],a,b)};
goog.color.highContrast=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push({color:b[d],diff:goog.color.yiqBrightnessDiff_(b[d],a)+goog.color.colorDiff_(b[d],a)});c.sort(function(a,b){return b.diff-a.diff});return c[0].color};goog.color.yiqBrightness_=function(a){return Math.round((299*a[0]+587*a[1]+114*a[2])/1E3)};goog.color.yiqBrightnessDiff_=function(a,b){return Math.abs(goog.color.yiqBrightness_(a)-goog.color.yiqBrightness_(b))};
goog.color.colorDiff_=function(a,b){return Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1])+Math.abs(a[2]-b[2])};Blockly.BlockSvg=function(a,b,c){this.svgGroup_=Blockly.utils.createSvgElement("g",{},null);this.svgGroup_.translate_="";this.svgPathDark_=Blockly.utils.createSvgElement("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.svgGroup_);this.svgPath_=Blockly.utils.createSvgElement("path",{"class":"blocklyPath"},this.svgGroup_);this.svgPathLight_=Blockly.utils.createSvgElement("path",{"class":"blocklyPathLight"},this.svgGroup_);this.svgPath_.tooltip=this;this.rendered=!1;this.useDragSurface_=
Blockly.utils.is3dSupported()&&!!a.blockDragSurface_;Blockly.Tooltip.bindMouseEvents(this.svgPath_);Blockly.BlockSvg.superClass_.constructor.call(this,a,b,c);this.svgGroup_.dataset&&(this.svgGroup_.dataset.id=this.id)};goog.inherits(Blockly.BlockSvg,Blockly.Block);Blockly.BlockSvg.prototype.height=0;Blockly.BlockSvg.prototype.width=0;Blockly.BlockSvg.prototype.dragStartXY_=null;Blockly.BlockSvg.prototype.warningTextDb_=null;Blockly.BlockSvg.INLINE=-1;
Blockly.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.inputList[a];a++)b.init();b=this.getIcons();for(a=0;a<b.length;a++)b[a].createIcon();this.updateColour();this.updateMovable();this.workspace.options.readOnly||this.eventsInit_||Blockly.bindEventWithChecks_(this.getSvgRoot(),"mousedown",this,this.onMouseDown_);this.eventsInit_=!0;this.getSvgRoot().parentNode||this.workspace.getCanvas().appendChild(this.getSvgRoot())};
Blockly.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(Blockly.selected!=this){var a=null;if(Blockly.selected){a=Blockly.selected.id;Blockly.Events.disable();try{Blockly.selected.unselect()}finally{Blockly.Events.enable()}}a=new Blockly.Events.Ui(null,"selected",a,this.id);a.workspaceId=this.workspace.id;Blockly.Events.fire(a);Blockly.selected=this;this.addSelect()}};
Blockly.BlockSvg.prototype.unselect=function(){if(Blockly.selected==this){var a=new Blockly.Events.Ui(null,"selected",this.id,null);a.workspaceId=this.workspace.id;Blockly.Events.fire(a);Blockly.selected=null;this.removeSelect()}};Blockly.BlockSvg.prototype.mutator=null;Blockly.BlockSvg.prototype.comment=null;Blockly.BlockSvg.prototype.warning=null;
Blockly.BlockSvg.prototype.getIcons=function(){var a=[];this.mutator&&a.push(this.mutator);this.comment&&a.push(this.comment);this.warning&&a.push(this.warning);return a};
Blockly.BlockSvg.prototype.setParent=function(a){var b=this.parentBlock_;if(a!=b){Blockly.Field.startCache();Blockly.BlockSvg.superClass_.setParent.call(this,a);Blockly.Field.stopCache();var c=this.getSvgRoot();if(!this.workspace.isClearing&&c){var d=this.getRelativeToSurfaceXY();a?(a.getSvgRoot().appendChild(c),a=this.getRelativeToSurfaceXY(),this.moveConnections_(a.x-d.x,a.y-d.y)):b&&(this.workspace.getCanvas().appendChild(c),this.translate(d.x,d.y))}}};
Blockly.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var a=0,b=0,c=this.useDragSurface_?this.workspace.blockDragSurface_.getGroup():null,d=this.getSvgRoot();if(d){do{var e=Blockly.utils.getRelativeXY(d);a+=e.x;b+=e.y;this.useDragSurface_&&this.workspace.blockDragSurface_.getCurrentBlock()==d&&(e=this.workspace.blockDragSurface_.getSurfaceTranslation(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.workspace.getCanvas()&&d!=c)}return new goog.math.Coordinate(a,b)};
Blockly.BlockSvg.prototype.moveBy=function(a,b){if(this.parentBlock_)throw Error("Block has parent.");var c=Blockly.Events.isEnabled();if(c)var d=new Blockly.Events.BlockMove(this);var e=this.getRelativeToSurfaceXY();this.translate(e.x+a,e.y+b);this.moveConnections_(a,b);c&&(d.recordNew(),Blockly.Events.fire(d));this.workspace.resizeContents()};Blockly.BlockSvg.prototype.translate=function(a,b){this.getSvgRoot().setAttribute("transform","translate("+a+","+b+")")};
Blockly.BlockSvg.prototype.moveToDragSurface_=function(){if(this.useDragSurface_){var a=this.getRelativeToSurfaceXY();this.clearTransformAttributes_();this.workspace.blockDragSurface_.translateSurface(a.x,a.y);this.workspace.blockDragSurface_.setBlocksAndShow(this.getSvgRoot())}};Blockly.BlockSvg.prototype.moveOffDragSurface_=function(a){this.useDragSurface_&&(this.translate(a.x,a.y),this.workspace.blockDragSurface_.clearAndHide(this.workspace.getCanvas()))};
Blockly.BlockSvg.prototype.moveDuringDrag=function(a){this.useDragSurface_?this.workspace.blockDragSurface_.translateSurface(a.x,a.y):(this.svgGroup_.translate_="translate("+a.x+","+a.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))};Blockly.BlockSvg.prototype.clearTransformAttributes_=function(){Blockly.utils.removeAttribute(this.getSvgRoot(),"transform")};
Blockly.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var a=this.workspace.getGrid();if(a&&a.shouldSnap()){var b=a.getSpacing(),c=b/2,d=this.getRelativeToSurfaceXY();a=Math.round((d.x-c)/b)*b+c-d.x;b=Math.round((d.y-c)/b)*b+c-d.y;a=Math.round(a);b=Math.round(b);0==a&&0==b||this.moveBy(a,b)}}};
Blockly.BlockSvg.prototype.getBoundingRectangle=function(){var a=this.getRelativeToSurfaceXY(this),b=this.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,c=this.getHeightWidth();if(this.RTL){var d=new goog.math.Coordinate(a.x-(c.width-b),a.y);a=new goog.math.Coordinate(a.x+b,a.y+c.height)}else d=new goog.math.Coordinate(a.x-b,a.y),a=new goog.math.Coordinate(a.x+c.width-b,a.y+c.height);return{topLeft:d,bottomRight:a}};
Blockly.BlockSvg.prototype.setCollapsed=function(a){if(this.collapsed_!=a){for(var b=[],c=0,d;d=this.inputList[c];c++)b.push.apply(b,d.setVisible(!a));if(a){d=this.getIcons();for(c=0;c<d.length;c++)d[c].setVisible(!1);c=this.toString(Blockly.COLLAPSE_CHARS);this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendField(c).init()}else this.removeInput("_TEMP_COLLAPSED_INPUT"),this.setWarningText(null);Blockly.BlockSvg.superClass_.setCollapsed.call(this,a);b.length||(b[0]=this);if(this.rendered)for(c=0;a=
b[c];c++)a.render()}};Blockly.BlockSvg.prototype.tab=function(a,b){var c=this.createTabList_();a=c.indexOf(a);-1==a&&(a=b?-1:c.length);(c=c[b?a+1:a-1])?c instanceof Blockly.Field?c.showEditor_():c.tab(null,b):(c=this.getParent())&&c.tab(this,b)};Blockly.BlockSvg.prototype.createTabList_=function(){for(var a=[],b=0,c;c=this.inputList[b];b++){for(var d=0,e;e=c.fieldRow[d];d++)e instanceof Blockly.FieldTextInput&&a.push(e);c.connection&&(c=c.connection.targetBlock())&&a.push(c)}return a};
Blockly.BlockSvg.prototype.onMouseDown_=function(a){var b=this.workspace&&this.workspace.getGesture(a);b&&b.handleBlockStart(a,this)};Blockly.BlockSvg.prototype.showHelp_=function(){var a="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;a&&window.open(a)};
Blockly.BlockSvg.prototype.showContextMenu_=function(a){if(!this.workspace.options.readOnly&&this.contextMenu){var b=this,c=[];if(this.isDeletable()&&this.isMovable()&&!b.isInFlyout){c.push(Blockly.ContextMenu.blockDuplicateOption(b));this.isEditable()&&!this.collapsed_&&this.workspace.options.comments&&c.push(Blockly.ContextMenu.blockCommentOption(b));if(!this.collapsed_)for(var d=1;d<this.inputList.length;d++)if(this.inputList[d-1].type!=Blockly.NEXT_STATEMENT&&this.inputList[d].type!=Blockly.NEXT_STATEMENT){d=
{enabled:!0};var e=this.getInputsInline();d.text=e?Blockly.Msg.EXTERNAL_INPUTS:Blockly.Msg.INLINE_INPUTS;d.callback=function(){b.setInputsInline(!e)};c.push(d);break}this.workspace.options.collapse&&(this.collapsed_?(d={enabled:!0},d.text=Blockly.Msg.EXPAND_BLOCK,d.callback=function(){b.setCollapsed(!1)},c.push(d)):(d={enabled:!0},d.text=Blockly.Msg.COLLAPSE_BLOCK,d.callback=function(){b.setCollapsed(!0)},c.push(d)));this.workspace.options.disable&&(d={text:this.disabled?Blockly.Msg.ENABLE_BLOCK:
Blockly.Msg.DISABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){var a=Blockly.Events.getGroup();a||Blockly.Events.setGroup(!0);b.setDisabled(!b.disabled);a||Blockly.Events.setGroup(!1)}},c.push(d));c.push(Blockly.ContextMenu.blockDeleteOption(b))}c.push(Blockly.ContextMenu.blockHelpOption(b));this.customContextMenu&&this.customContextMenu(c);Blockly.ContextMenu.show(a,c,this.RTL);Blockly.ContextMenu.currentBlock=this}};
Blockly.BlockSvg.prototype.moveConnections_=function(a,b){if(this.rendered){for(var c=this.getConnections_(!1),d=0;d<c.length;d++)c[d].moveBy(a,b);c=this.getIcons();for(d=0;d<c.length;d++)c[d].computeIconLocation();for(d=0;d<this.childBlocks_.length;d++)this.childBlocks_[d].moveConnections_(a,b)}};
Blockly.BlockSvg.prototype.setDragging=function(a){if(a){var b=this.getSvgRoot();b.translate_="";b.skew_="";Blockly.draggingConnections_=Blockly.draggingConnections_.concat(this.getConnections_(!0));Blockly.utils.addClass(this.svgGroup_,"blocklyDragging")}else Blockly.draggingConnections_=[],Blockly.utils.removeClass(this.svgGroup_,"blocklyDragging");for(b=0;b<this.childBlocks_.length;b++)this.childBlocks_[b].setDragging(a)};
Blockly.BlockSvg.prototype.updateMovable=function(){this.isMovable()?Blockly.utils.addClass(this.svgGroup_,"blocklyDraggable"):Blockly.utils.removeClass(this.svgGroup_,"blocklyDraggable")};Blockly.BlockSvg.prototype.setMovable=function(a){Blockly.BlockSvg.superClass_.setMovable.call(this,a);this.updateMovable()};Blockly.BlockSvg.prototype.setEditable=function(a){Blockly.BlockSvg.superClass_.setEditable.call(this,a);a=this.getIcons();for(var b=0;b<a.length;b++)a[b].updateEditable()};
Blockly.BlockSvg.prototype.setShadow=function(a){Blockly.BlockSvg.superClass_.setShadow.call(this,a);this.updateColour()};Blockly.BlockSvg.prototype.setInsertionMarker=function(a){this.isInsertionMarker_!=a&&(this.isInsertionMarker_=a)&&(this.setColour(Blockly.INSERTION_MARKER_COLOUR),Blockly.utils.addClass(this.svgGroup_,"blocklyInsertionMarker"))};Blockly.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_};
Blockly.BlockSvg.prototype.dispose=function(a,b){if(this.workspace){Blockly.Tooltip.hide();Blockly.Field.startCache();var c=this.workspace;Blockly.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture());Blockly.ContextMenu.currentBlock==this&&Blockly.ContextMenu.hide();b&&this.rendered&&(this.unplug(a),Blockly.BlockAnimations.disposeUiEffect(this));this.rendered=!1;if(this.warningTextDb_){for(var d in this.warningTextDb_)clearTimeout(this.warningTextDb_[d]);this.warningTextDb_=null}Blockly.Events.disable();
try{var e=this.getIcons();for(b=0;b<e.length;b++)e[b].dispose()}finally{Blockly.Events.enable()}Blockly.BlockSvg.superClass_.dispose.call(this,a);Blockly.utils.removeNode(this.svgGroup_);c.resizeContents();this.svgPathDark_=this.svgPathLight_=this.svgPath_=this.svgGroup_=null;Blockly.Field.stopCache()}};
Blockly.BlockSvg.prototype.updateColour=function(){if(!this.disabled){var a=this.getColour(),b=goog.color.hexToRgb(a);if(this.isShadow())b=goog.color.lighten(b,.6),a=goog.color.rgbArrayToHex(b),this.svgPathLight_.style.display="none",this.svgPathDark_.setAttribute("fill",a);else{this.svgPathLight_.style.display="";var c=goog.color.rgbArrayToHex(goog.color.lighten(b,.3));b=goog.color.rgbArrayToHex(goog.color.darken(b,.2));this.svgPathLight_.setAttribute("stroke",c);this.svgPathDark_.setAttribute("fill",
b)}this.svgPath_.setAttribute("fill",a);a=this.getIcons();for(c=0;c<a.length;c++)a[c].updateColour();for(a=0;c=this.inputList[a];a++){b=0;for(var d;d=c.fieldRow[b];b++)d.forceRerender()}}};
Blockly.BlockSvg.prototype.updateDisabled=function(){this.disabled||this.getInheritedDisabled()?Blockly.utils.addClass(this.svgGroup_,"blocklyDisabled")&&this.svgPath_.setAttribute("fill","url(#"+this.workspace.options.disabledPatternId+")"):Blockly.utils.removeClass(this.svgGroup_,"blocklyDisabled")&&this.updateColour();for(var a=this.getChildren(!1),b=0,c;c=a[b];b++)c.updateDisabled()};
Blockly.BlockSvg.prototype.getCommentText=function(){return this.comment?this.comment.getText().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};Blockly.BlockSvg.prototype.setCommentText=function(a){var b=!1;"string"==typeof a?(this.comment||(this.comment=new Blockly.Comment(this),b=!0),this.comment.setText(a)):this.comment&&(this.comment.dispose(),b=!0);b&&this.rendered&&(this.render(),this.bumpNeighbours_())};
Blockly.BlockSvg.prototype.setWarningText=function(a,b){this.warningTextDb_||(this.warningTextDb_=Object.create(null));var c=b||"";if(c)this.warningTextDb_[c]&&(clearTimeout(this.warningTextDb_[c]),delete this.warningTextDb_[c]);else for(var d in this.warningTextDb_)clearTimeout(this.warningTextDb_[d]),delete this.warningTextDb_[d];if(this.workspace.isDragging()){var e=this;this.warningTextDb_[c]=setTimeout(function(){e.workspace&&(delete e.warningTextDb_[c],e.setWarningText(a,c))},100)}else{this.isInFlyout&&
(a=null);b=this.getSurroundParent();for(d=null;b;)b.isCollapsed()&&(d=b),b=b.getSurroundParent();d&&d.setWarningText(a,"collapsed "+this.id+" "+c);b=!1;"string"==typeof a?(this.warning||(this.warning=new Blockly.Warning(this),b=!0),this.warning.setText(a,c)):this.warning&&!c?(this.warning.dispose(),b=!0):this.warning&&(b=this.warning.getText(),this.warning.setText("",c),(d=this.warning.getText())||this.warning.dispose(),b=b!=d);b&&this.rendered&&(this.render(),this.bumpNeighbours_())}};
Blockly.BlockSvg.prototype.setMutator=function(a){this.mutator&&this.mutator!==a&&this.mutator.dispose();a&&(a.block_=this,this.mutator=a,a.createIcon())};Blockly.BlockSvg.prototype.setDisabled=function(a){this.disabled!=a&&(Blockly.BlockSvg.superClass_.setDisabled.call(this,a),this.rendered&&this.updateDisabled())};
Blockly.BlockSvg.prototype.setHighlighted=function(a){this.rendered&&(a?(this.svgPath_.setAttribute("filter","url(#"+this.workspace.options.embossFilterId+")"),this.svgPathLight_.style.display="none"):(Blockly.utils.removeAttribute(this.svgPath_,"filter"),delete this.svgPathLight_.style.display))};Blockly.BlockSvg.prototype.addSelect=function(){Blockly.utils.addClass(this.svgGroup_,"blocklySelected")};Blockly.BlockSvg.prototype.removeSelect=function(){Blockly.utils.removeClass(this.svgGroup_,"blocklySelected")};
Blockly.BlockSvg.prototype.setDeleteStyle=function(a){a?Blockly.utils.addClass(this.svgGroup_,"blocklyDraggingDelete"):Blockly.utils.removeClass(this.svgGroup_,"blocklyDraggingDelete")};Blockly.BlockSvg.prototype.setColour=function(a){Blockly.BlockSvg.superClass_.setColour.call(this,a);this.rendered&&this.updateColour()};Blockly.BlockSvg.prototype.bringToFront=function(){var a=this;do{var b=a.getSvgRoot();b.parentNode.appendChild(b);a=a.getParent()}while(a)};
Blockly.BlockSvg.prototype.setPreviousStatement=function(a,b){Blockly.BlockSvg.superClass_.setPreviousStatement.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_())};Blockly.BlockSvg.prototype.setNextStatement=function(a,b){Blockly.BlockSvg.superClass_.setNextStatement.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_())};Blockly.BlockSvg.prototype.setOutput=function(a,b){Blockly.BlockSvg.superClass_.setOutput.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_())};
Blockly.BlockSvg.prototype.setInputsInline=function(a){Blockly.BlockSvg.superClass_.setInputsInline.call(this,a);this.rendered&&(this.render(),this.bumpNeighbours_())};Blockly.BlockSvg.prototype.removeInput=function(a,b){Blockly.BlockSvg.superClass_.removeInput.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_())};Blockly.BlockSvg.prototype.moveNumberedInputBefore=function(a,b){Blockly.BlockSvg.superClass_.moveNumberedInputBefore.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_())};
Blockly.BlockSvg.prototype.appendInput_=function(a,b){a=Blockly.BlockSvg.superClass_.appendInput_.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours_());return a};Blockly.BlockSvg.prototype.getConnections_=function(a){var b=[];if(a||this.rendered)if(this.outputConnection&&b.push(this.outputConnection),this.previousConnection&&b.push(this.previousConnection),this.nextConnection&&b.push(this.nextConnection),a||!this.collapsed_){a=0;for(var c;c=this.inputList[a];a++)c.connection&&b.push(c.connection)}return b};
Blockly.BlockSvg.prototype.makeConnection_=function(a){return new Blockly.RenderedConnection(this,a)};
Blockly.BlockSvg.prototype.bumpNeighbours_=function(){if(this.workspace&&!this.workspace.isDragging()){var a=this.getRootBlock();if(!a.isInFlyout)for(var b=this.getConnections_(!1),c=0,d;d=b[c];c++){d.isConnected()&&d.isSuperior()&&d.targetBlock().bumpNeighbours_();for(var e=d.neighbours_(Blockly.SNAP_RADIUS),f=0,h;h=e[f];f++)d.isConnected()&&h.isConnected()||h.getSourceBlock().getRootBlock()!=a&&(d.isSuperior()?h.bumpAwayFrom_(d):d.bumpAwayFrom_(h))}}};
Blockly.BlockSvg.prototype.scheduleSnapAndBump=function(){var a=this,b=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(b);a.snapToGrid();Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY/2);setTimeout(function(){Blockly.Events.setGroup(b);a.bumpNeighbours_();Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY)};Blockly.BlockSvg.render={};Blockly.BlockSvg.PathObject=function(){this.steps=[];this.highlightSteps=[];this.inlineSteps=[];this.highlightInlineSteps=[]};Blockly.BlockSvg.SEP_SPACE_X=10;Blockly.BlockSvg.SEP_SPACE_Y=10;Blockly.BlockSvg.INLINE_PADDING_Y=5;Blockly.BlockSvg.MIN_BLOCK_Y=25;Blockly.BlockSvg.TAB_HEIGHT=20;Blockly.BlockSvg.TAB_WIDTH=8;Blockly.BlockSvg.NOTCH_WIDTH=30;Blockly.BlockSvg.CORNER_RADIUS=8;Blockly.BlockSvg.START_HAT=!1;Blockly.BlockSvg.START_HAT_HEIGHT=15;
Blockly.BlockSvg.START_HAT_PATH="c 30,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 70,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 100,0";Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR="c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5";Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL="m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7";Blockly.BlockSvg.DISTANCE_45_INSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS-.5)+.5;Blockly.BlockSvg.DISTANCE_45_OUTSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS+.5)-.5;
Blockly.BlockSvg.NOTCH_PATH_LEFT="l 6,4 3,0 6,-4";Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT="l 6,4 3,0 6,-4";Blockly.BlockSvg.NOTCH_PATH_RIGHT="l -6,4 -3,0 -6,-4";Blockly.BlockSvg.JAGGED_TEETH="l 8,0 0,4 8,4 -16,8 8,4";Blockly.BlockSvg.JAGGED_TEETH_HEIGHT=20;Blockly.BlockSvg.JAGGED_TEETH_WIDTH=15;Blockly.BlockSvg.TAB_PATH_DOWN="v 5 c 0,10 -"+Blockly.BlockSvg.TAB_WIDTH+",-8 -"+Blockly.BlockSvg.TAB_WIDTH+",7.5 s "+Blockly.BlockSvg.TAB_WIDTH+",-2.5 "+Blockly.BlockSvg.TAB_WIDTH+",7.5";
Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL="v 6.5 m -"+.97*Blockly.BlockSvg.TAB_WIDTH+",3 q -"+.05*Blockly.BlockSvg.TAB_WIDTH+",10 "+.3*Blockly.BlockSvg.TAB_WIDTH+",9.5 m "+.67*Blockly.BlockSvg.TAB_WIDTH+",-1.9 v 1.4";Blockly.BlockSvg.TOP_LEFT_CORNER_START="m 0,"+Blockly.BlockSvg.CORNER_RADIUS;Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL="m "+Blockly.BlockSvg.DISTANCE_45_INSIDE+","+Blockly.BlockSvg.DISTANCE_45_INSIDE;
Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR="m 0.5,"+(Blockly.BlockSvg.CORNER_RADIUS-.5);Blockly.BlockSvg.TOP_LEFT_CORNER="A "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0";Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT="A "+(Blockly.BlockSvg.CORNER_RADIUS-.5)+","+(Blockly.BlockSvg.CORNER_RADIUS-.5)+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0.5";
Blockly.BlockSvg.INNER_TOP_LEFT_CORNER=Blockly.BlockSvg.NOTCH_PATH_RIGHT+" h -"+(Blockly.BlockSvg.NOTCH_WIDTH-15-Blockly.BlockSvg.CORNER_RADIUS)+" a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 -"+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS;Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS;
Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+(-Blockly.BlockSvg.DISTANCE_45_OUTSIDE-.5)+","+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE);Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL="a "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5)+" 0 0,0 "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5);
Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR="a "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5)+" 0 0,0 "+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)+","+(Blockly.BlockSvg.DISTANCE_45_OUTSIDE+.5);Blockly.BlockSvg.prototype.getHeightWidth=function(){var a=this.height,b=this.width,c=this.getNextBlock();c?(c=c.getHeightWidth(),a+=c.height-4,b=Math.max(b,c.width)):this.nextConnection||this.outputConnection||(a+=2);return{height:a,width:b}};
Blockly.BlockSvg.prototype.render=function(a){Blockly.Field.startCache();this.rendered=!0;var b=Blockly.BlockSvg.SEP_SPACE_X;this.RTL&&(b=-b);for(var c=this.getIcons(),d=0;d<c.length;d++)b=c[d].renderIcon(b);b+=this.RTL?Blockly.BlockSvg.SEP_SPACE_X:-Blockly.BlockSvg.SEP_SPACE_X;c=this.renderCompute_(b);this.renderDraw_(b,c);this.renderMoveConnections_();!1!==a&&((a=this.getParent())?a.render(!0):this.workspace.resizeContents());Blockly.Field.stopCache()};
Blockly.BlockSvg.prototype.renderFields_=function(a,b,c){c+=Blockly.BlockSvg.INLINE_PADDING_Y;this.RTL&&(b=-b);for(var d=0,e;e=a[d];d++){var f=e.getSvgRoot();f&&(this.RTL?(b-=e.renderSep+e.renderWidth,f.setAttribute("transform","translate("+b+","+c+")"),e.renderWidth&&(b-=Blockly.BlockSvg.SEP_SPACE_X)):(f.setAttribute("transform","translate("+(b+e.renderSep)+","+c+")"),e.renderWidth&&(b+=e.renderSep+e.renderWidth+Blockly.BlockSvg.SEP_SPACE_X)))}return this.RTL?-b:b};
Blockly.BlockSvg.prototype.renderCompute_=function(a){var b=this.inputList,c=[];c.rightEdge=a+2*Blockly.BlockSvg.SEP_SPACE_X;if(this.previousConnection||this.nextConnection)c.rightEdge=Math.max(c.rightEdge,Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.SEP_SPACE_X);for(var d=0,e=0,f=!1,h=!1,g=!1,k=void 0,p=this.getInputsInline()&&!this.isCollapsed(),l=0,m;m=b[l];l++)if(m.isVisible()){if(p&&k&&k!=Blockly.NEXT_STATEMENT&&m.type!=Blockly.NEXT_STATEMENT)var t=c[c.length-1];else k=m.type,t=[],t.type=p&&
m.type!=Blockly.NEXT_STATEMENT?Blockly.BlockSvg.INLINE:m.type,t.height=0,c.push(t);t.push(m);m.renderHeight=Blockly.BlockSvg.MIN_BLOCK_Y;m.renderWidth=p&&m.type==Blockly.INPUT_VALUE?Blockly.BlockSvg.TAB_WIDTH+1.25*Blockly.BlockSvg.SEP_SPACE_X:0;if(m.connection&&m.connection.isConnected()){var u=m.connection.targetBlock().getHeightWidth();m.renderHeight=Math.max(m.renderHeight,u.height);m.renderWidth=Math.max(m.renderWidth,u.width)}p||l!=b.length-1?!p&&m.type==Blockly.INPUT_VALUE&&b[l+1]&&b[l+1].type==
Blockly.NEXT_STATEMENT&&m.renderHeight--:m.renderHeight--;t.height=Math.max(t.height,m.renderHeight);m.fieldWidth=0;1==c.length&&(m.fieldWidth+=this.RTL?-a:a);u=!1;for(var v=0,n;n=m.fieldRow[v];v++){0!=v&&(m.fieldWidth+=Blockly.BlockSvg.SEP_SPACE_X);var w=n.getSize();n.renderWidth=w.width;n.renderSep=u&&n.EDITABLE?Blockly.BlockSvg.SEP_SPACE_X:0;m.fieldWidth+=n.renderWidth+n.renderSep;t.height=Math.max(t.height,w.height);u=n.EDITABLE}t.type!=Blockly.BlockSvg.INLINE&&(t.type==Blockly.NEXT_STATEMENT?
(h=!0,e=Math.max(e,m.fieldWidth)):(t.type==Blockly.INPUT_VALUE?f=!0:t.type==Blockly.DUMMY_INPUT&&(g=!0),d=Math.max(d,m.fieldWidth)))}for(a=0;t=c[a];a++)if(t.thicker=!1,t.type==Blockly.BlockSvg.INLINE)for(b=0;m=t[b];b++)if(m.type==Blockly.INPUT_VALUE){t.height+=2*Blockly.BlockSvg.INLINE_PADDING_Y;t.thicker=!0;break}c.statementEdge=2*Blockly.BlockSvg.SEP_SPACE_X+e;h&&(c.rightEdge=Math.max(c.rightEdge,c.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH));f?c.rightEdge=Math.max(c.rightEdge,d+2*Blockly.BlockSvg.SEP_SPACE_X+
Blockly.BlockSvg.TAB_WIDTH):g&&(c.rightEdge=Math.max(c.rightEdge,d+2*Blockly.BlockSvg.SEP_SPACE_X));c.hasValue=f;c.hasStatement=h;c.hasDummy=g;return c};
Blockly.BlockSvg.prototype.renderDraw_=function(a,b){this.startHat_=!1;this.height=0;if(this.outputConnection)this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!0;else{this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!1;if(this.previousConnection){var c=this.previousConnection.targetBlock();c&&c.getNextBlock()==this&&(this.squareTopLeftCorner_=!0)}else Blockly.BlockSvg.START_HAT&&(this.startHat_=this.squareTopLeftCorner_=!0,this.height+=Blockly.BlockSvg.START_HAT_HEIGHT,b.rightEdge=Math.max(b.rightEdge,
100));this.getNextBlock()&&(this.squareBottomLeftCorner_=!0)}c=new Blockly.BlockSvg.PathObject;this.renderDrawTop_(c,b.rightEdge);a=this.renderDrawRight_(c,b,a);this.renderDrawBottom_(c,a);this.renderDrawLeft_(c);this.setPaths_(c)};
Blockly.BlockSvg.prototype.setPaths_=function(a){var b=a.steps.join(" ")+"\n"+a.inlineSteps.join(" ");this.svgPath_.setAttribute("d",b);this.svgPathDark_.setAttribute("d",b);b=a.highlightSteps.join(" ")+"\n"+a.highlightInlineSteps.join(" ");this.svgPathLight_.setAttribute("d",b);this.RTL&&(this.svgPath_.setAttribute("transform","scale(-1 1)"),this.svgPathLight_.setAttribute("transform","scale(-1 1)"),this.svgPathDark_.setAttribute("transform","translate(1,1) scale(-1 1)"))};
Blockly.BlockSvg.prototype.renderMoveConnections_=function(){var a=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(a);this.outputConnection&&this.outputConnection.moveToOffset(a);for(var b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;c&&(c.moveToOffset(a),c.isConnected()&&c.tighten_())}this.nextConnection&&(this.nextConnection.moveToOffset(a),this.nextConnection.isConnected()&&this.nextConnection.tighten_())};
Blockly.BlockSvg.prototype.renderDrawTop_=function(a,b){var c=a.steps;a=a.highlightSteps;this.squareTopLeftCorner_?(c.push("m 0,0"),a.push("m 0.5,0.5"),this.startHat_&&(c.push(Blockly.BlockSvg.START_HAT_PATH),a.push(this.RTL?Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL:Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR))):(c.push(Blockly.BlockSvg.TOP_LEFT_CORNER_START),a.push(this.RTL?Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL:Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR),c.push(Blockly.BlockSvg.TOP_LEFT_CORNER),
a.push(Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT));this.previousConnection&&(c.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),a.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),c.push(Blockly.BlockSvg.NOTCH_PATH_LEFT),a.push(Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT),this.previousConnection.setOffsetInBlock(this.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH,0));c.push("H",b);a.push("H",b-.5);this.width=b};
Blockly.BlockSvg.prototype.renderDrawRight_=function(a,b,c){for(var d={x:0,y:0},e={x:0,y:0},f=0,h;h=b[f];f++)d.x=Blockly.BlockSvg.SEP_SPACE_X,0==f&&(d.x+=this.RTL?-c:c),a.highlightSteps.push("M",b.rightEdge-.5+","+(d.y+.5)),this.isCollapsed()?this.renderJaggedEdge_(a,h,d):h.type==Blockly.BlockSvg.INLINE?this.renderInlineRow_(a,h,d,e,b.rightEdge):h.type==Blockly.INPUT_VALUE?this.renderExternalValueInput_(a,h,d,e,b.rightEdge):h.type==Blockly.DUMMY_INPUT?this.renderDummyInput_(a,h,d,b.rightEdge,b.hasValue):
h.type==Blockly.NEXT_STATEMENT&&this.renderStatementInput_(a,h,d,e,b,f),d.y+=h.height;b.length||(d.y=Blockly.BlockSvg.MIN_BLOCK_Y,a.steps.push("V",d.y),this.RTL&&a.highlightSteps.push("V",d.y-1));return d.y};
Blockly.BlockSvg.prototype.renderDrawBottom_=function(a,b){var c=a.steps;a=a.highlightSteps;this.height+=b+1;this.nextConnection&&(c.push("H",Blockly.BlockSvg.NOTCH_WIDTH+(this.RTL?.5:-.5)+" "+Blockly.BlockSvg.NOTCH_PATH_RIGHT),this.nextConnection.setOffsetInBlock(this.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH,b+1),this.height+=4);this.squareBottomLeftCorner_?(c.push("H 0"),this.RTL||a.push("M","0.5,"+(b-.5))):(c.push("H",Blockly.BlockSvg.CORNER_RADIUS),c.push("a",Blockly.BlockSvg.CORNER_RADIUS+
","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 -"+Blockly.BlockSvg.CORNER_RADIUS+",-"+Blockly.BlockSvg.CORNER_RADIUS),this.RTL||(a.push("M",Blockly.BlockSvg.DISTANCE_45_INSIDE+","+(b-Blockly.BlockSvg.DISTANCE_45_INSIDE)),a.push("A",Blockly.BlockSvg.CORNER_RADIUS-.5+","+(Blockly.BlockSvg.CORNER_RADIUS-.5)+" 0 0,1 0.5,"+(b-Blockly.BlockSvg.CORNER_RADIUS))))};
Blockly.BlockSvg.prototype.renderDrawLeft_=function(a){var b=a.steps;a=a.highlightSteps;this.outputConnection?(this.outputConnection.setOffsetInBlock(0,0),b.push("V",Blockly.BlockSvg.TAB_HEIGHT),b.push("c 0,-10 -"+Blockly.BlockSvg.TAB_WIDTH+",8 -"+Blockly.BlockSvg.TAB_WIDTH+",-7.5 s "+Blockly.BlockSvg.TAB_WIDTH+",2.5 "+Blockly.BlockSvg.TAB_WIDTH+",-7.5"),this.RTL?(a.push("M",-.25*Blockly.BlockSvg.TAB_WIDTH+",8.4"),a.push("l",-.45*Blockly.BlockSvg.TAB_WIDTH+",-2.1")):(a.push("V",Blockly.BlockSvg.TAB_HEIGHT-
1.5),a.push("m",-.92*Blockly.BlockSvg.TAB_WIDTH+",-0.5 q "+-.19*Blockly.BlockSvg.TAB_WIDTH+",-5.5 0,-11"),a.push("m",.92*Blockly.BlockSvg.TAB_WIDTH+",1 V 0.5 H 1")),this.width+=Blockly.BlockSvg.TAB_WIDTH):this.RTL||(this.squareTopLeftCorner_?a.push("V",.5):a.push("V",Blockly.BlockSvg.CORNER_RADIUS));b.push("z")};
Blockly.BlockSvg.prototype.renderJaggedEdge_=function(a,b,c){var d=a.steps;a=a.highlightSteps;this.renderFields_(b[0].fieldRow,c.x,c.y);d.push(Blockly.BlockSvg.JAGGED_TEETH);a.push("h 8");b=b.height-Blockly.BlockSvg.JAGGED_TEETH_HEIGHT;d.push("v",b);this.RTL&&(a.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),a.push("v",b-.7));this.width+=Blockly.BlockSvg.JAGGED_TEETH_WIDTH};
Blockly.BlockSvg.prototype.renderInlineRow_=function(a,b,c,d,e){var f=a.inlineSteps,h=a.highlightInlineSteps,g=a.steps;a=a.highlightSteps;for(var k=0,p;p=b[k];k++){var l=c.x,m=c.y;b.thicker&&(m+=Blockly.BlockSvg.INLINE_PADDING_Y);c.x=this.renderFields_(p.fieldRow,l,m);p.type!=Blockly.DUMMY_INPUT&&(c.x+=p.renderWidth+Blockly.BlockSvg.SEP_SPACE_X);p.type==Blockly.INPUT_VALUE&&(f.push("M",c.x-Blockly.BlockSvg.SEP_SPACE_X+","+(c.y+Blockly.BlockSvg.INLINE_PADDING_Y)),f.push("h",Blockly.BlockSvg.TAB_WIDTH-
2-p.renderWidth),f.push(Blockly.BlockSvg.TAB_PATH_DOWN),f.push("v",p.renderHeight+1-Blockly.BlockSvg.TAB_HEIGHT),f.push("h",p.renderWidth+2-Blockly.BlockSvg.TAB_WIDTH),f.push("z"),this.RTL?(h.push("M",c.x-Blockly.BlockSvg.SEP_SPACE_X-2.5+Blockly.BlockSvg.TAB_WIDTH-p.renderWidth+","+(c.y+Blockly.BlockSvg.INLINE_PADDING_Y+.5)),h.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),h.push("v",p.renderHeight-Blockly.BlockSvg.TAB_HEIGHT+2.5),h.push("h",p.renderWidth-Blockly.BlockSvg.TAB_WIDTH+2)):(h.push("M",
c.x-Blockly.BlockSvg.SEP_SPACE_X+.5+","+(c.y+Blockly.BlockSvg.INLINE_PADDING_Y+.5)),h.push("v",p.renderHeight+1),h.push("h",Blockly.BlockSvg.TAB_WIDTH-2-p.renderWidth),h.push("M",c.x-p.renderWidth-Blockly.BlockSvg.SEP_SPACE_X+.9+","+(c.y+Blockly.BlockSvg.INLINE_PADDING_Y+Blockly.BlockSvg.TAB_HEIGHT-.7)),h.push("l",.46*Blockly.BlockSvg.TAB_WIDTH+",-2.1")),d.x=this.RTL?-c.x-Blockly.BlockSvg.TAB_WIDTH+Blockly.BlockSvg.SEP_SPACE_X+p.renderWidth+1:c.x+Blockly.BlockSvg.TAB_WIDTH-Blockly.BlockSvg.SEP_SPACE_X-
p.renderWidth-1,d.y=c.y+Blockly.BlockSvg.INLINE_PADDING_Y+1,p.connection.setOffsetInBlock(d.x,d.y))}c.x=Math.max(c.x,e);this.width=Math.max(this.width,c.x);g.push("H",c.x);a.push("H",c.x-.5);g.push("v",b.height);this.RTL&&a.push("v",b.height-1)};
Blockly.BlockSvg.prototype.renderExternalValueInput_=function(a,b,c,d,e){var f=a.steps;a=a.highlightSteps;var h=b[0],g=c.x,k=c.y;if(h.align!=Blockly.ALIGN_LEFT){var p=e-h.fieldWidth-Blockly.BlockSvg.TAB_WIDTH-2*Blockly.BlockSvg.SEP_SPACE_X;h.align==Blockly.ALIGN_RIGHT?g+=p:h.align==Blockly.ALIGN_CENTRE&&(g+=p/2)}this.renderFields_(h.fieldRow,g,k);f.push(Blockly.BlockSvg.TAB_PATH_DOWN);b=b.height-Blockly.BlockSvg.TAB_HEIGHT;f.push("v",b);this.RTL?(a.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),
a.push("v",b+.5)):(a.push("M",e-5+","+(c.y+Blockly.BlockSvg.TAB_HEIGHT-.7)),a.push("l",.46*Blockly.BlockSvg.TAB_WIDTH+",-2.1"));d.x=this.RTL?-e-1:e+1;h.connection.setOffsetInBlock(d.x,c.y);h.connection.isConnected()&&(this.width=Math.max(this.width,e+h.connection.targetBlock().getHeightWidth().width-Blockly.BlockSvg.TAB_WIDTH+1))};
Blockly.BlockSvg.prototype.renderDummyInput_=function(a,b,c,d,e){var f=a.steps;a=a.highlightSteps;var h=b[0],g=c.x;c=c.y;h.align!=Blockly.ALIGN_LEFT&&(d=d-h.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,e&&(d-=Blockly.BlockSvg.TAB_WIDTH),h.align==Blockly.ALIGN_RIGHT?g+=d:h.align==Blockly.ALIGN_CENTRE&&(g+=d/2));this.renderFields_(h.fieldRow,g,c);f.push("v",b.height);this.RTL&&a.push("v",b.height-1)};
Blockly.BlockSvg.prototype.renderStatementInput_=function(a,b,c,d,e,f){var h=a.steps;a=a.highlightSteps;var g=b[0];0==f&&(h.push("v",Blockly.BlockSvg.SEP_SPACE_Y),this.RTL&&a.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),c.y+=Blockly.BlockSvg.SEP_SPACE_Y);var k=c.x,p=c.y;if(g.align!=Blockly.ALIGN_LEFT){var l=e.statementEdge-g.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X;g.align==Blockly.ALIGN_RIGHT?k+=l:g.align==Blockly.ALIGN_CENTRE&&(k+=l/2)}this.renderFields_(g.fieldRow,k,p);c.x=e.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH;
h.push("H",c.x);h.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER);h.push("v",b.height-2*Blockly.BlockSvg.CORNER_RADIUS);h.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER);h.push("H",e.rightEdge);this.RTL?(a.push("M",c.x-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+","+(c.y+Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),a.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL),a.push("v",b.height-2*Blockly.BlockSvg.CORNER_RADIUS),a.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL)):
(a.push("M",c.x-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+","+(c.y+b.height-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),a.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR));a.push("H",e.rightEdge-.5);d.x=this.RTL?-c.x:c.x+1;g.connection.setOffsetInBlock(d.x,c.y+1);g.connection.isConnected()&&(this.width=Math.max(this.width,e.statementEdge+g.connection.targetBlock().getHeightWidth().width));if(f==e.length-1||e[f+1].type==Blockly.NEXT_STATEMENT)h.push("v",Blockly.BlockSvg.SEP_SPACE_Y),
this.RTL&&a.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),c.y+=Blockly.BlockSvg.SEP_SPACE_Y};Blockly.Msg={};goog.getMsgOrig=goog.getMsg;goog.getMsg=function(a,b){var c=goog.getMsg.blocklyMsgMap[a];c&&(a=Blockly.Msg[c]);return goog.getMsgOrig(a,b)};goog.getMsg.blocklyMsgMap={Today:"TODAY"};Blockly.FieldTextInput=function(a,b){Blockly.FieldTextInput.superClass_.constructor.call(this,a,b)};goog.inherits(Blockly.FieldTextInput,Blockly.Field);Blockly.FieldTextInput.fromJson=function(a){var b=Blockly.utils.replaceMessageReferences(a.text);b=new Blockly.FieldTextInput(b,a["class"]);"boolean"===typeof a.spellcheck&&b.setSpellcheck(a.spellcheck);return b};Blockly.FieldTextInput.FONTSIZE=11;Blockly.FieldTextInput.htmlInput_=null;Blockly.FieldTextInput.prototype.CURSOR="text";
Blockly.FieldTextInput.prototype.spellcheck_=!0;Blockly.FieldTextInput.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this);Blockly.FieldTextInput.superClass_.dispose.call(this)};Blockly.FieldTextInput.prototype.setValue=function(a){if(null!==a){if(this.sourceBlock_){var b=this.callValidator(a);null!==b&&(a=b)}Blockly.Field.prototype.setValue.call(this,a)}};
Blockly.FieldTextInput.prototype.setText=function(a){null!==a&&(a=String(a),a!==this.text_&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,this.text_,a)),Blockly.Field.prototype.setText.call(this,a)))};Blockly.FieldTextInput.prototype.setSpellcheck=function(a){this.spellcheck_=a};
Blockly.FieldTextInput.prototype.showEditor_=function(a){this.workspace_=this.sourceBlock_.workspace;a=a||!1;!a&&(goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(a)};Blockly.FieldTextInput.prototype.showPromptEditor_=function(){var a=this;Blockly.prompt(Blockly.Msg.CHANGE_VALUE_TITLE,this.text_,function(b){a.sourceBlock_&&(b=a.callValidator(b));a.setValue(b)})};
Blockly.FieldTextInput.prototype.showInlineEditor_=function(a){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_());var b=Blockly.WidgetDiv.DIV,c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.spellcheck_);var d=Blockly.FieldTextInput.FONTSIZE*this.workspace_.scale+"pt";b.style.fontSize=d;c.style.fontSize=d;Blockly.FieldTextInput.htmlInput_=c;b.appendChild(c);c.value=c.defaultValue=this.text_;c.oldValue_=null;this.validate_();this.resizeEditor_();
a||(c.focus(),c.select());this.bindEvents_(c)};Blockly.FieldTextInput.prototype.bindEvents_=function(a){a.onKeyDownWrapper_=Blockly.bindEventWithChecks_(a,"keydown",this,this.onHtmlInputKeyDown_);a.onKeyUpWrapper_=Blockly.bindEventWithChecks_(a,"keyup",this,this.onHtmlInputChange_);a.onKeyPressWrapper_=Blockly.bindEventWithChecks_(a,"keypress",this,this.onHtmlInputChange_);a.onWorkspaceChangeWrapper_=this.resizeEditor_.bind(this);this.workspace_.addChangeListener(a.onWorkspaceChangeWrapper_)};
Blockly.FieldTextInput.prototype.unbindEvents_=function(a){Blockly.unbindEvent_(a.onKeyDownWrapper_);Blockly.unbindEvent_(a.onKeyUpWrapper_);Blockly.unbindEvent_(a.onKeyPressWrapper_);this.workspace_.removeChangeListener(a.onWorkspaceChangeWrapper_)};
Blockly.FieldTextInput.prototype.onHtmlInputKeyDown_=function(a){var b=Blockly.FieldTextInput.htmlInput_;13==a.keyCode?Blockly.WidgetDiv.hide():27==a.keyCode?(b.value=b.defaultValue,Blockly.WidgetDiv.hide()):9==a.keyCode&&(Blockly.WidgetDiv.hide(),this.sourceBlock_.tab(this,!a.shiftKey),a.preventDefault())};
Blockly.FieldTextInput.prototype.onHtmlInputChange_=function(a){a=Blockly.FieldTextInput.htmlInput_;var b=a.value;b!==a.oldValue_?(a.oldValue_=b,this.setValue(b),this.validate_()):goog.userAgent.WEBKIT&&this.sourceBlock_.render();this.resizeEditor_();Blockly.svgResize(this.sourceBlock_.workspace)};
Blockly.FieldTextInput.prototype.validate_=function(){var a=!0;if(!Blockly.FieldTextInput.htmlInput_)throw Error("htmlInput not defined");var b=Blockly.FieldTextInput.htmlInput_;this.sourceBlock_&&(a=this.callValidator(b.value));null===a?Blockly.utils.addClass(b,"blocklyInvalidInput"):Blockly.utils.removeClass(b,"blocklyInvalidInput")};
Blockly.FieldTextInput.prototype.resizeEditor_=function(){var a=Blockly.WidgetDiv.DIV,b=this.getScaledBBox_();a.style.width=b.right-b.left+"px";a.style.height=b.bottom-b.top+"px";b=new goog.math.Coordinate(this.sourceBlock_.RTL?b.right-a.offsetWidth:b.left,b.top);b.y+=1;goog.userAgent.GECKO&&Blockly.WidgetDiv.DIV.style.top&&(--b.x,--b.y);goog.userAgent.WEBKIT&&(b.y-=3);a.style.left=b.x+"px";a.style.top=b.y+"px"};
Blockly.FieldTextInput.prototype.widgetDispose_=function(){var a=this;return function(){var b=Blockly.FieldTextInput.htmlInput_;a.maybeSaveEdit_();a.unbindEvents_(b);Blockly.FieldTextInput.htmlInput_=null;Blockly.Events.setGroup(!1);b=Blockly.WidgetDiv.DIV.style;b.width="auto";b.height="auto";b.fontSize=""}};
Blockly.FieldTextInput.prototype.maybeSaveEdit_=function(){var a=Blockly.FieldTextInput.htmlInput_,b=a.value;if(this.sourceBlock_)if(b=this.callValidator(b),null===b)b=a.defaultValue;else if(this.onFinishEditing_)this.onFinishEditing_(b);this.setText(b);this.sourceBlock_.rendered&&this.sourceBlock_.render()};
Blockly.FieldTextInput.numberValidator=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);return isNaN(a)?null:String(a)};Blockly.FieldTextInput.nonnegativeIntegerValidator=function(a){(a=Blockly.FieldTextInput.numberValidator(a))&&(a=String(Math.max(0,Math.floor(a))));return a};Blockly.Field.register("field_input",Blockly.FieldTextInput);Blockly.FieldAngle=function(a,b){this.symbol_=Blockly.utils.createSvgElement("tspan",{},null);this.symbol_.appendChild(document.createTextNode("\u00b0"));a=a&&!isNaN(a)?String(a):"0";Blockly.FieldAngle.superClass_.constructor.call(this,a,b)};goog.inherits(Blockly.FieldAngle,Blockly.FieldTextInput);Blockly.FieldAngle.fromJson=function(a){return new Blockly.FieldAngle(a.angle)};Blockly.FieldAngle.ROUND=15;Blockly.FieldAngle.HALF=50;Blockly.FieldAngle.CLOCKWISE=!1;Blockly.FieldAngle.OFFSET=0;
Blockly.FieldAngle.WRAP=360;Blockly.FieldAngle.RADIUS=Blockly.FieldAngle.HALF-1;Blockly.FieldAngle.prototype.render_=function(){this.visible_?(this.textElement_.textContent=this.getDisplayText_(),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.symbol_,this.textElement_.firstChild):this.textElement_.appendChild(this.symbol_),this.updateWidth()):this.size_.width=0};
Blockly.FieldAngle.prototype.dispose_=function(){var a=this;return function(){Blockly.FieldAngle.superClass_.dispose_.call(a)();a.gauge_=null;a.clickWrapper_&&Blockly.unbindEvent_(a.clickWrapper_);a.moveWrapper1_&&Blockly.unbindEvent_(a.moveWrapper1_);a.moveWrapper2_&&Blockly.unbindEvent_(a.moveWrapper2_)}};
Blockly.FieldAngle.prototype.showEditor_=function(){Blockly.FieldAngle.superClass_.showEditor_.call(this,goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD);var a=Blockly.WidgetDiv.DIV;if(a.firstChild){a=Blockly.utils.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:2*Blockly.FieldAngle.HALF+"px",width:2*Blockly.FieldAngle.HALF+"px"},a);var b=Blockly.utils.createSvgElement("circle",
{cx:Blockly.FieldAngle.HALF,cy:Blockly.FieldAngle.HALF,r:Blockly.FieldAngle.RADIUS,"class":"blocklyAngleCircle"},a);this.gauge_=Blockly.utils.createSvgElement("path",{"class":"blocklyAngleGauge"},a);this.line_=Blockly.utils.createSvgElement("line",{x1:Blockly.FieldAngle.HALF,y1:Blockly.FieldAngle.HALF,"class":"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)Blockly.utils.createSvgElement("line",{x1:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS,y1:Blockly.FieldAngle.HALF,x2:Blockly.FieldAngle.HALF+
Blockly.FieldAngle.RADIUS-(0==c%45?10:5),y2:Blockly.FieldAngle.HALF,"class":"blocklyAngleMarks",transform:"rotate("+c+","+Blockly.FieldAngle.HALF+","+Blockly.FieldAngle.HALF+")"},a);a.style.marginLeft=15-Blockly.FieldAngle.RADIUS+"px";this.clickWrapper_=Blockly.bindEvent_(a,"click",this,Blockly.WidgetDiv.hide);this.moveWrapper1_=Blockly.bindEvent_(b,"mousemove",this,this.onMouseMove);this.moveWrapper2_=Blockly.bindEvent_(this.gauge_,"mousemove",this,this.onMouseMove);this.updateGraph_()}};
Blockly.FieldAngle.prototype.onMouseMove=function(a){var b=this.gauge_.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-Blockly.FieldAngle.HALF;a=a.clientY-b.top-Blockly.FieldAngle.HALF;b=Math.atan(-a/c);isNaN(b)||(b=Blockly.utils.toDegrees(b),0>c?b+=180:0<a&&(b+=360),b=Blockly.FieldAngle.CLOCKWISE?Blockly.FieldAngle.OFFSET+360-b:b-Blockly.FieldAngle.OFFSET,Blockly.FieldAngle.ROUND&&(b=Math.round(b/Blockly.FieldAngle.ROUND)*Blockly.FieldAngle.ROUND),b=this.callValidator(b),Blockly.FieldTextInput.htmlInput_.value=
b,this.setValue(b),this.validate_(),this.resizeEditor_())};Blockly.FieldAngle.prototype.setText=function(a){Blockly.FieldAngle.superClass_.setText.call(this,a);this.textElement_&&(this.updateGraph_(),this.size_.width=0)};
Blockly.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var a=Number(this.getText())+Blockly.FieldAngle.OFFSET,b=Blockly.utils.toRadians(a);a=["M ",Blockly.FieldAngle.HALF,",",Blockly.FieldAngle.HALF];var c=Blockly.FieldAngle.HALF,d=Blockly.FieldAngle.HALF;if(!isNaN(b)){var e=Blockly.utils.toRadians(Blockly.FieldAngle.OFFSET),f=Math.cos(e)*Blockly.FieldAngle.RADIUS,h=Math.sin(e)*-Blockly.FieldAngle.RADIUS;Blockly.FieldAngle.CLOCKWISE&&(b=2*e-b);c+=Math.cos(b)*Blockly.FieldAngle.RADIUS;
d-=Math.sin(b)*Blockly.FieldAngle.RADIUS;b=Math.abs(Math.floor((b-e)/Math.PI)%2);Blockly.FieldAngle.CLOCKWISE&&(b=1-b);a.push(" l ",f,",",h," A ",Blockly.FieldAngle.RADIUS,",",Blockly.FieldAngle.RADIUS," 0 ",b," ",Number(Blockly.FieldAngle.CLOCKWISE)," ",c,",",d," z")}this.gauge_.setAttribute("d",a.join(""));this.line_.setAttribute("x2",c);this.line_.setAttribute("y2",d)}};
Blockly.FieldAngle.prototype.classValidator=function(a){if(null===a)return null;a=parseFloat(a||0);if(isNaN(a))return null;a%=360;0>a&&(a+=360);a>Blockly.FieldAngle.WRAP&&(a-=360);return String(a)};Blockly.Field.register("field_angle",Blockly.FieldAngle);Blockly.FieldCheckbox=function(a,b){Blockly.FieldCheckbox.superClass_.constructor.call(this,"",b);this.setValue(a)};goog.inherits(Blockly.FieldCheckbox,Blockly.Field);Blockly.FieldCheckbox.fromJson=function(a){return new Blockly.FieldCheckbox(a.checked?"TRUE":"FALSE")};Blockly.FieldCheckbox.CHECK_CHAR="\u2713";Blockly.FieldCheckbox.prototype.CURSOR="default";
Blockly.FieldCheckbox.prototype.init=function(){if(!this.fieldGroup_){Blockly.FieldCheckbox.superClass_.init.call(this);this.checkElement_=Blockly.utils.createSvgElement("text",{"class":"blocklyText blocklyCheckbox",x:-3,y:14},this.fieldGroup_);var a=document.createTextNode(Blockly.FieldCheckbox.CHECK_CHAR);this.checkElement_.appendChild(a);this.checkElement_.style.display=this.state_?"block":"none"}};Blockly.FieldCheckbox.prototype.getValue=function(){return String(this.state_).toUpperCase()};
Blockly.FieldCheckbox.prototype.setValue=function(a){a="string"==typeof a?"TRUE"==a.toUpperCase():!!a;this.state_!==a&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,this.state_,a)),this.state_=a,this.checkElement_&&(this.checkElement_.style.display=a?"block":"none"))};Blockly.FieldCheckbox.prototype.showEditor_=function(){var a=!this.state_;this.sourceBlock_&&(a=this.callValidator(a));null!==a&&this.setValue(String(a).toUpperCase())};
Blockly.Field.register("field_checkbox",Blockly.FieldCheckbox);Blockly.FieldColour=function(a,b){Blockly.FieldColour.superClass_.constructor.call(this,a,b);this.setText(Blockly.Field.NBSP+Blockly.Field.NBSP+Blockly.Field.NBSP)};goog.inherits(Blockly.FieldColour,Blockly.Field);Blockly.FieldColour.fromJson=function(a){return new Blockly.FieldColour(a.colour)};Blockly.FieldColour.prototype.colours_=null;Blockly.FieldColour.prototype.titles_=null;Blockly.FieldColour.prototype.columns_=0;
Blockly.FieldColour.prototype.init=function(){Blockly.FieldColour.superClass_.init.call(this);this.borderRect_.style.fillOpacity=1;this.setValue(this.getValue())};Blockly.FieldColour.prototype.CURSOR="default";Blockly.FieldColour.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this);Blockly.FieldColour.superClass_.dispose.call(this)};Blockly.FieldColour.prototype.getValue=function(){return this.colour_};
Blockly.FieldColour.prototype.setValue=function(a){this.sourceBlock_&&Blockly.Events.isEnabled()&&this.colour_!=a&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,this.colour_,a));this.colour_=a;this.borderRect_&&(this.borderRect_.style.fill=a)};Blockly.FieldColour.prototype.getText=function(){var a=this.colour_,b=a.match(/^#(.)\1(.)\2(.)\3$/);b&&(a="#"+b[1]+b[2]+b[3]);return a};Blockly.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");
Blockly.FieldColour.TITLES=[];Blockly.FieldColour.COLUMNS=7;Blockly.FieldColour.prototype.setColours=function(a,b){this.colours_=a;void 0!==b&&(this.titles_=b);return this};Blockly.FieldColour.prototype.setColumns=function(a){this.columns_=a;return this};
Blockly.FieldColour.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,Blockly.FieldColour.widgetDispose_);var a=Blockly.utils.getViewportBBox(),b=this.getScaledBBox_(),c=this.createWidget_();Blockly.WidgetDiv.DIV.appendChild(c);var d=goog.style.getSize(c);Blockly.WidgetDiv.positionWithAnchor(a,b,d,this.sourceBlock_.RTL);Blockly.FieldColour.onUpWrapper_=Blockly.bindEvent_(c,"mouseup",this,this.onClick_)};
Blockly.FieldColour.prototype.onClick_=function(a){(a=a.target)&&!a.label&&(a=a.parentNode);a=a&&a.label;Blockly.WidgetDiv.hide();this.sourceBlock_&&(a=this.callValidator(a));null!==a&&this.setValue(a)};
Blockly.FieldColour.prototype.createWidget_=function(){var a=this.columns_||Blockly.FieldColour.COLUMNS,b=this.colours_||Blockly.FieldColour.COLOURS,c=this.titles_||Blockly.FieldColour.TITLES,d=this.getValue(),e=document.createElement("table");e.className="blocklyColourTable";for(var f,h=0;h<b.length;h++){0==h%a&&(f=document.createElement("tr"),e.appendChild(f));var g=document.createElement("td");f.appendChild(g);var k=document.createElement("div");g.appendChild(k);g.label=b[h];g.title=c[h]||b[h];
k.style.backgroundColor=b[h];b[h]==d&&(k.className="blocklyColourSelected")}return e};Blockly.FieldColour.widgetDispose_=function(){Blockly.FieldColour.onUpWrapper_&&Blockly.unbindEvent_(Blockly.FieldColour.onUpWrapper_);Blockly.Events.setGroup(!1)};Blockly.Field.register("field_colour",Blockly.FieldColour);Blockly.FieldDropdown=function(a,b){"function"!=typeof a&&Blockly.FieldDropdown.validateOptions_(a);this.menuGenerator_=a;this.trimOptions_();a=this.getOptions()[0];Blockly.FieldDropdown.superClass_.constructor.call(this,a[1],b)};goog.inherits(Blockly.FieldDropdown,Blockly.Field);Blockly.FieldDropdown.fromJson=function(a){return new Blockly.FieldDropdown(a.options)};Blockly.FieldDropdown.CHECKMARK_OVERHANG=25;Blockly.FieldDropdown.MAX_MENU_HEIGHT_VH=.45;
Blockly.FieldDropdown.ARROW_CHAR=goog.userAgent.ANDROID?"\u25bc":"\u25be";Blockly.FieldDropdown.prototype.CURSOR="default";Blockly.FieldDropdown.prototype.value_="";Blockly.FieldDropdown.prototype.imageElement_=null;Blockly.FieldDropdown.prototype.imageJson_=null;
Blockly.FieldDropdown.prototype.init=function(){this.fieldGroup_||(this.arrow_=Blockly.utils.createSvgElement("tspan",{},null),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?Blockly.FieldDropdown.ARROW_CHAR+" ":" "+Blockly.FieldDropdown.ARROW_CHAR)),Blockly.FieldDropdown.superClass_.init.call(this))};Blockly.FieldDropdown.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,null);var a=this.createMenu_();this.addActionListener_(a);this.positionMenu_(a)};
Blockly.FieldDropdown.prototype.addActionListener_=function(a){var b=this;goog.events.listen(a,goog.ui.Component.EventType.ACTION,function(a){if(a=a.target)b.onItemSelected(this,a);Blockly.WidgetDiv.hideIfOwner(b);Blockly.Events.setGroup(!1)})};
Blockly.FieldDropdown.prototype.createMenu_=function(){var a=new goog.ui.Menu;a.setRightToLeft(this.sourceBlock_.RTL);for(var b=this.getOptions(),c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if("object"==typeof d){var f=new Image(d.width,d.height);f.src=d.src;f.alt=d.alt||"";d=f}d=new goog.ui.MenuItem(d);d.setRightToLeft(this.sourceBlock_.RTL);d.setValue(e);d.setCheckable(!0);a.addChild(d,!0);d.setChecked(e==this.value_)}return a};
Blockly.FieldDropdown.prototype.positionMenu_=function(a){var b=Blockly.utils.getViewportBBox(),c=this.getAnchorDimensions_();this.createWidget_(a);var d=Blockly.utils.uiMenu.getSize(a),e=Blockly.FieldDropdown.MAX_MENU_HEIGHT_VH*document.documentElement.clientHeight;d.height>e&&(d.height=e);this.sourceBlock_.RTL&&Blockly.utils.uiMenu.adjustBBoxesForRTL(b,c,d);Blockly.WidgetDiv.positionWithAnchor(b,c,d,this.sourceBlock_.RTL);a.getElement().focus()};
Blockly.FieldDropdown.prototype.createWidget_=function(a){a.render(Blockly.WidgetDiv.DIV);Blockly.utils.addClass(a.getElement(),"blocklyDropdownMenu");a.setAllowAutoFocus(!0)};Blockly.FieldDropdown.prototype.getAnchorDimensions_=function(){var a=this.getScaledBBox_();this.sourceBlock_.RTL?a.right+=Blockly.FieldDropdown.CHECKMARK_OVERHANG:a.left-=Blockly.FieldDropdown.CHECKMARK_OVERHANG;return a};
Blockly.FieldDropdown.prototype.onItemSelected=function(a,b){a=b.getValue();this.sourceBlock_&&(a=this.callValidator(a));null!==a&&this.setValue(a)};
Blockly.FieldDropdown.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var a=this.menuGenerator_;if(Array.isArray(a)){for(var b=!1,c=0;c<a.length;c++){var d=a[c][0];"string"==typeof d?a[c][0]=Blockly.utils.replaceMessageReferences(d):(null!=d.alt&&(a[c][0].alt=Blockly.utils.replaceMessageReferences(d.alt)),b=!0)}if(!(b||2>a.length)){b=[];for(c=0;c<a.length;c++)b.push(a[c][0]);c=Blockly.utils.shortestStringLength(b);d=Blockly.utils.commonWordPrefix(b,c);var e=Blockly.utils.commonWordSuffix(b,
c);!d&&!e||c<=d+e||(d&&(this.prefixField=b[0].substring(0,d-1)),e&&(this.suffixField=b[0].substr(1-e)),this.menuGenerator_=Blockly.FieldDropdown.applyTrim_(a,d,e))}}};Blockly.FieldDropdown.applyTrim_=function(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=a[e][0],h=a[e][1];f=f.substring(b,f.length-c);d[e]=[f,h]}return d};Blockly.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_};
Blockly.FieldDropdown.prototype.getOptions=function(){if(this.isOptionListDynamic()){var a=this.menuGenerator_.call(this);Blockly.FieldDropdown.validateOptions_(a);return a}return this.menuGenerator_};Blockly.FieldDropdown.prototype.getValue=function(){return this.value_};
Blockly.FieldDropdown.prototype.setValue=function(a){if(null!==a&&a!==this.value_){this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,this.value_,a));this.value_=a;for(var b=this.getOptions(),c=0;c<b.length;c++)if(b[c][1]==a){a=b[c][0];"object"==typeof a?(this.imageJson_=a,this.text_=a.alt):(this.imageJson_=null,this.text_=a);this.forceRerender();return}this.text_=a;this.forceRerender()}};
Blockly.FieldDropdown.prototype.render_=function(){if(this.visible_){this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill=this.sourceBlock_.getColour());for(var a;a=this.textElement_.firstChild;)this.textElement_.removeChild(a);this.imageElement_&&(Blockly.utils.removeNode(this.imageElement_),this.imageElement_=null);this.imageJson_?this.renderSelectedImage_():this.renderSelectedText_();this.borderRect_.setAttribute("height",this.size_.height-9);this.borderRect_.setAttribute("width",this.size_.width+
Blockly.BlockSvg.SEP_SPACE_X)}else this.size_.width=0};
Blockly.FieldDropdown.prototype.renderSelectedImage_=function(){this.imageElement_=Blockly.utils.createSvgElement("image",{y:5,height:this.imageJson_.height+"px",width:this.imageJson_.width+"px"},this.fieldGroup_);this.imageElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.imageJson_.src);this.textElement_.appendChild(this.arrow_);var a=Blockly.Field.getCachedWidth(this.arrow_);this.size_.height=Number(this.imageJson_.height)+19;this.size_.width=Number(this.imageJson_.width)+
a;this.sourceBlock_.RTL?(this.imageElement_.setAttribute("x",a),this.textElement_.setAttribute("x",-1)):(this.textElement_.setAttribute("text-anchor","end"),this.textElement_.setAttribute("x",this.size_.width+1))};
Blockly.FieldDropdown.prototype.renderSelectedText_=function(){var a=document.createTextNode(this.getDisplayText_());this.textElement_.appendChild(a);this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textElement_.firstChild):this.textElement_.appendChild(this.arrow_);this.textElement_.setAttribute("text-anchor","start");this.textElement_.setAttribute("x",0);this.size_.height=Blockly.BlockSvg.MIN_BLOCK_Y;this.size_.width=Blockly.Field.getCachedWidth(this.textElement_)};
Blockly.FieldDropdown.prototype.updateWidth=function(){if(this.imageJson_&&(goog.userAgent.IE||goog.userAgent.EDGE)){var a=Blockly.Field.getCachedWidth(this.arrow_);a=Number(this.imageJson_.width)+a+Blockly.BlockSvg.SEP_SPACE_X;this.borderRect_&&this.borderRect_.setAttribute("width",a);this.size_.width=a}else Blockly.Field.prototype.updateWidth.call(this)};Blockly.FieldDropdown.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this);Blockly.FieldDropdown.superClass_.dispose.call(this)};
Blockly.FieldDropdown.validateOptions_=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(a)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+
d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");};Blockly.Field.register("field_dropdown",Blockly.FieldDropdown);Blockly.FieldImage=function(a,b,c,d,e){this.sourceBlock_=null;this.height_=Number(c);this.width_=Number(b);this.size_=new goog.math.Size(this.width_,this.height_+2*Blockly.BlockSvg.INLINE_PADDING_Y);this.text_=d||"";this.tooltip_="";this.setValue(a);"function"==typeof e&&(this.clickHandler_=e)};goog.inherits(Blockly.FieldImage,Blockly.Field);
Blockly.FieldImage.fromJson=function(a){var b=Blockly.utils.replaceMessageReferences(a.src),c=Number(Blockly.utils.replaceMessageReferences(a.width)),d=Number(Blockly.utils.replaceMessageReferences(a.height));a=Blockly.utils.replaceMessageReferences(a.alt);return new Blockly.FieldImage(b,c,d,a)};Blockly.FieldImage.prototype.EDITABLE=!1;
Blockly.FieldImage.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.utils.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.imageElement_=Blockly.utils.createSvgElement("image",{height:this.height_+"px",width:this.width_+"px"},this.fieldGroup_),this.setValue(this.src_),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.tooltip_?this.imageElement_.tooltip=this.tooltip_:this.setTooltip(this.sourceBlock_),Blockly.Tooltip.bindMouseEvents(this.imageElement_),
this.maybeAddClickHandler_())};Blockly.FieldImage.prototype.dispose=function(){this.fieldGroup_&&(Blockly.utils.removeNode(this.fieldGroup_),this.fieldGroup_=null);this.imageElement_=null};Blockly.FieldImage.prototype.maybeAddClickHandler_=function(){this.clickHandler_&&(this.mouseDownWrapper_=Blockly.bindEventWithChecks_(this.fieldGroup_,"mousedown",this,this.clickHandler_))};Blockly.FieldImage.prototype.setTooltip=function(a){this.tooltip_=a;this.imageElement_&&(this.imageElement_.tooltip=a)};
Blockly.FieldImage.prototype.getValue=function(){return this.src_};Blockly.FieldImage.prototype.setValue=function(a){null!==a&&(this.src_=a,this.imageElement_&&this.imageElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a||""))};Blockly.FieldImage.prototype.setText=function(a){null!==a&&(this.text_=a)};Blockly.FieldImage.prototype.render_=function(){};Blockly.FieldImage.prototype.forceRerender=function(){};Blockly.FieldImage.prototype.updateWidth=function(){};
Blockly.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)};Blockly.Field.register("field_image",Blockly.FieldImage);Blockly.FieldNumber=function(a,b,c,d,e){a=a&&!isNaN(a)?String(a):"0";Blockly.FieldNumber.superClass_.constructor.call(this,a,e);this.setConstraints(b,c,d)};goog.inherits(Blockly.FieldNumber,Blockly.FieldTextInput);Blockly.FieldNumber.fromJson=function(a){return new Blockly.FieldNumber(a.value,a.min,a.max,a.precision)};
Blockly.FieldNumber.prototype.setConstraints=function(a,b,c){c=parseFloat(c);this.precision_=isNaN(c)?0:c;a=parseFloat(a);this.min_=isNaN(a)?-Infinity:a;b=parseFloat(b);this.max_=isNaN(b)?Infinity:b;this.setValue(this.callValidator(this.getValue()))};
Blockly.FieldNumber.prototype.classValidator=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);if(isNaN(a))return null;this.precision_&&isFinite(a)&&(a=Math.round(a/this.precision_)*this.precision_);a=Math.min(Math.max(a,this.min_),this.max_);return String(a)};Blockly.Field.register("field_number",Blockly.FieldNumber);Blockly.FieldVariable=function(a,b,c,d){this.menuGenerator_=Blockly.FieldVariable.dropdownCreate;this.size_=new goog.math.Size(0,Blockly.BlockSvg.MIN_BLOCK_Y);this.setValidator(b);this.defaultVariableName=a||"";this.setTypes_(c,d);this.value_=null};goog.inherits(Blockly.FieldVariable,Blockly.FieldDropdown);Blockly.FieldVariable.fromJson=function(a){var b=Blockly.utils.replaceMessageReferences(a.variable);return new Blockly.FieldVariable(b,null,a.variableTypes,a.defaultType)};
Blockly.FieldVariable.prototype.init=function(){this.fieldGroup_||(Blockly.FieldVariable.superClass_.init.call(this),this.initModel())};Blockly.FieldVariable.prototype.initModel=function(){if(!this.variable_){this.workspace_=this.sourceBlock_.workspace;var a=Blockly.Variables.getOrCreateVariablePackage(this.workspace_,null,this.defaultVariableName,this.defaultType_);Blockly.Events.disable();try{this.setValue(a.getId())}finally{Blockly.Events.enable()}}};
Blockly.FieldVariable.prototype.dispose=function(){Blockly.FieldVariable.superClass_.dispose.call(this);this.variableMap_=this.workspace_=null};Blockly.FieldVariable.prototype.setSourceBlock=function(a){if(a.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");Blockly.FieldVariable.superClass_.setSourceBlock.call(this,a)};Blockly.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null};
Blockly.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""};Blockly.FieldVariable.prototype.getVariable=function(){return this.variable_};
Blockly.FieldVariable.prototype.setValue=function(a){var b=Blockly.Variables.getVariable(this.sourceBlock_.workspace,a);if(!b)throw Error("Variable id doesn't point to a real variable!  ID was "+a);var c=b.type;if(!this.typeIsAllowed_(c))throw Error("Variable type doesn't match this field!  Type was "+c);this.sourceBlock_&&Blockly.Events.isEnabled()&&(c=this.variable_?this.variable_.getId():null,Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,c,a)));this.variable_=
b;this.value_=a;this.setText(b.name)};Blockly.FieldVariable.prototype.typeIsAllowed_=function(a){var b=this.getVariableTypes_();if(!b)return!0;for(var c=0;c<b.length;c++)if(a==b[c])return!0;return!1};Blockly.FieldVariable.prototype.getVariableTypes_=function(){var a=this.variableTypes;if(null===a&&this.sourceBlock_)return this.sourceBlock_.workspace.getVariableTypes();a=a||[""];if(0==a.length)throw a=this.getText(),Error("'variableTypes' of field variable "+a+" was an empty list");return a};
Blockly.FieldVariable.prototype.setTypes_=function(a,b){b=b||"";if(null==a||void 0==a)a=null;else if(Array.isArray(a)){for(var c=!1,d=0;d<a.length;d++)a[d]==b&&(c=!0);if(!c)throw Error("Invalid default type '"+b+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType_=b;this.variableTypes=a};
Blockly.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.getText(),b=null;this.sourceBlock_&&(b=this.sourceBlock_.workspace);var c=[];if(b)for(var d=this.getVariableTypes_(),e=0;e<d.length;e++){var f=b.getVariablesOfType(d[e]);c=c.concat(f)}c.sort(Blockly.VariableModel.compareByName);b=[];for(e=0;e<c.length;e++)b[e]=[c[e].name,c[e].getId()];b.push([Blockly.Msg.RENAME_VARIABLE,Blockly.RENAME_VARIABLE_ID]);
Blockly.Msg.DELETE_VARIABLE&&b.push([Blockly.Msg.DELETE_VARIABLE.replace("%1",a),Blockly.DELETE_VARIABLE_ID]);return b};Blockly.FieldVariable.prototype.onItemSelected=function(a,b){a=b.getValue();if(this.sourceBlock_&&this.sourceBlock_.workspace){b=this.sourceBlock_.workspace;if(a==Blockly.RENAME_VARIABLE_ID){Blockly.Variables.renameVariable(b,this.variable_);return}if(a==Blockly.DELETE_VARIABLE_ID){b.deleteVariableById(this.variable_.getId());return}}this.setValue(a)};
Blockly.FieldVariable.prototype.referencesVariables=function(){return!0};Blockly.Field.register("field_variable",Blockly.FieldVariable);Blockly.Generator=function(a){this.name_=a;this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")};Blockly.Generator.NAME_TYPE="generated_function";Blockly.Generator.prototype.INFINITE_LOOP_TRAP=null;Blockly.Generator.prototype.STATEMENT_PREFIX=null;Blockly.Generator.prototype.INDENT="  ";Blockly.Generator.prototype.COMMENT_WRAP=60;Blockly.Generator.prototype.ORDER_OVERRIDES=[];
Blockly.Generator.prototype.workspaceToCode=function(a){a||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),a=Blockly.getMainWorkspace());var b=[];this.init(a);a=a.getTopBlocks(!0);for(var c=0,d;d=a[c];c++){var e=this.blockToCode(d);Array.isArray(e)&&(e=e[0]);e&&(d.outputConnection&&(e=this.scrubNakedValue(e)),b.push(e))}b=b.join("\n");b=this.finish(b);b=b.replace(/^\s+\n/,"");b=b.replace(/\n\s+$/,"\n");return b=b.replace(/[ \t]+\n/g,"\n")};
Blockly.Generator.prototype.prefixLines=function(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)};Blockly.Generator.prototype.allNestedComments=function(a){var b=[];a=a.getDescendants(!0);for(var c=0;c<a.length;c++){var d=a[c].getCommentText();d&&b.push(d)}b.length&&b.push("");return b.join("\n")};
Blockly.Generator.prototype.blockToCode=function(a){if(!a)return"";if(a.disabled)return this.blockToCode(a.getNextBlock());var b=this[a.type];if("function"!=typeof b)throw Error('Language "'+this.name_+'" does not know how to generate  code for block type "'+a.type+'".');b=b.call(a,a);if(Array.isArray(b)){if(!a.outputConnection)throw TypeError("Expecting string from statement block: "+a.type);return[this.scrub_(a,b[0]),b[1]]}if("string"==typeof b){var c=a.id.replace(/\$/g,"$$$$");this.STATEMENT_PREFIX&&
(b=this.STATEMENT_PREFIX.replace(/%1/g,"'"+c+"'")+b);return this.scrub_(a,b)}if(null===b)return"";throw SyntaxError("Invalid code generated: "+b);};
Blockly.Generator.prototype.valueToCode=function(a,b,c){if(isNaN(c))throw TypeError("Expecting valid order from block: "+a.type);var d=a.getInputTargetBlock(b);if(!d)return"";b=this.blockToCode(d);if(""===b)return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+d.type);a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+d.type);if(!a)return"";d=!1;var e=Math.floor(c),f=Math.floor(b);if(e<=f&&(e!=f||0!=e&&99!=e))for(d=!0,e=0;e<this.ORDER_OVERRIDES.length;e++)if(this.ORDER_OVERRIDES[e][0]==
c&&this.ORDER_OVERRIDES[e][1]==b){d=!1;break}d&&(a="("+a+")");return a};Blockly.Generator.prototype.statementToCode=function(a,b){a=a.getInputTargetBlock(b);b=this.blockToCode(a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=this.prefixLines(b,this.INDENT));return b};
Blockly.Generator.prototype.addLoopTrap=function(a,b){b=b.replace(/\$/g,"$$$$");this.INFINITE_LOOP_TRAP&&(a=this.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+b+"'")+a);this.STATEMENT_PREFIX&&(a+=this.prefixLines(this.STATEMENT_PREFIX.replace(/%1/g,"'"+b+"'"),this.INDENT));return a};Blockly.Generator.prototype.RESERVED_WORDS_="";Blockly.Generator.prototype.addReservedWords=function(a){this.RESERVED_WORDS_+=a+","};Blockly.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}";
Blockly.Generator.prototype.provideFunction_=function(a,b){if(!this.definitions_[a]){var c=this.variableDB_.getDistinctName(a,Blockly.Procedures.NAME_TYPE);this.functionNames_[a]=c;b=b.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,c);for(var d;d!=b;)d=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,this.INDENT);this.definitions_[a]=b}return this.functionNames_[a]};Blockly.Generator.prototype.init=function(a){};Blockly.Generator.prototype.scrub_=function(a,b){return b};
Blockly.Generator.prototype.finish=function(a){return a};Blockly.Generator.prototype.scrubNakedValue=function(a){return a};Blockly.Names=function(a,b){this.variablePrefix_=b||"";this.reservedDict_=Object.create(null);if(a)for(a=a.split(","),b=0;b<a.length;b++)this.reservedDict_[a[b]]=!0;this.reset()};Blockly.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE";Blockly.Names.prototype.reset=function(){this.db_=Object.create(null);this.dbReverse_=Object.create(null);this.variableMap_=null};Blockly.Names.prototype.setVariableMap=function(a){this.variableMap_=a};
Blockly.Names.prototype.getNameForUserVariable_=function(a){return this.variableMap_?(a=this.variableMap_.getVariableById(a))?a.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)};
Blockly.Names.prototype.getName=function(a,b){if(b==Blockly.Variables.NAME_TYPE){var c=this.getNameForUserVariable_(a);c&&(a=c)}c=a.toLowerCase()+"_"+b;var d=b==Blockly.Variables.NAME_TYPE||b==Blockly.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";if(c in this.db_)return d+this.db_[c];a=this.getDistinctName(a,b);this.db_[c]=a.substr(d.length);return a};
Blockly.Names.prototype.getDistinctName=function(a,b){a=this.safeName_(a);for(var c="";this.dbReverse_[a+c]||a+c in this.reservedDict_;)c=c?c+1:2;a+=c;this.dbReverse_[a]=!0;return(b==Blockly.Variables.NAME_TYPE||b==Blockly.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+a};Blockly.Names.prototype.safeName_=function(a){a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(a[0])&&(a="my_"+a)):a="unnamed";return a};
Blockly.Names.equals=function(a,b){return a.toLowerCase()==b.toLowerCase()};Blockly.Procedures={};Blockly.Procedures.NAME_TYPE=Blockly.PROCEDURE_CATEGORY_NAME;Blockly.Procedures.allProcedures=function(a){a=a.getAllBlocks(!1);for(var b=[],c=[],d=0;d<a.length;d++)if(a[d].getProcedureDef){var e=a[d].getProcedureDef();e&&(e[2]?b.push(e):c.push(e))}c.sort(Blockly.Procedures.procTupleComparator_);b.sort(Blockly.Procedures.procTupleComparator_);return[c,b]};Blockly.Procedures.procTupleComparator_=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};
Blockly.Procedures.findLegalName=function(a,b){if(b.isInFlyout)return a;for(;!Blockly.Procedures.isLegalName_(a,b.workspace,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a};Blockly.Procedures.isLegalName_=function(a,b,c){return!Blockly.Procedures.isNameUsed(a,b,c)};Blockly.Procedures.isNameUsed=function(a,b,c){b=b.getAllBlocks(!1);for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].getProcedureDef){var e=b[d].getProcedureDef();if(Blockly.Names.equals(e[0],a))return!0}return!1};
Blockly.Procedures.rename=function(a){a=a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");var b=Blockly.Procedures.findLegalName(a,this.sourceBlock_),c=this.text_;if(c!=a&&c!=b){a=this.sourceBlock_.workspace.getAllBlocks(!1);for(var d=0;d<a.length;d++)a[d].renameProcedure&&a[d].renameProcedure(c,b)}return b};
Blockly.Procedures.flyoutCategory=function(a){function b(a,b){for(var d=0;d<a.length;d++){var e=a[d][0],f=a[d][1],h=Blockly.Xml.utils.createElement("block");h.setAttribute("type",b);h.setAttribute("gap",16);var m=Blockly.Xml.utils.createElement("mutation");m.setAttribute("name",e);h.appendChild(m);for(e=0;e<f.length;e++){var t=Blockly.Xml.utils.createElement("arg");t.setAttribute("name",f[e]);m.appendChild(t)}c.push(h)}}var c=[];if(Blockly.Blocks.procedures_defnoreturn){var d=Blockly.Xml.utils.createElement("block");
d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var e=Blockly.Xml.utils.createElement("field");e.setAttribute("name","NAME");e.appendChild(Blockly.Xml.utils.createTextNode(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE));d.appendChild(e);c.push(d)}Blockly.Blocks.procedures_defreturn&&(d=Blockly.Xml.utils.createElement("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),e=Blockly.Xml.utils.createElement("field"),e.setAttribute("name","NAME"),e.appendChild(Blockly.Xml.utils.createTextNode(Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),
d.appendChild(e),c.push(d));Blockly.Blocks.procedures_ifreturn&&(d=Blockly.Xml.utils.createElement("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=Blockly.Procedures.allProcedures(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return c};
Blockly.Procedures.getCallers=function(a,b){var c=[];b=b.getAllBlocks(!1);for(var d=0;d<b.length;d++)if(b[d].getProcedureCall){var e=b[d].getProcedureCall();e&&Blockly.Names.equals(e,a)&&c.push(b[d])}return c};
Blockly.Procedures.mutateCallers=function(a){var b=Blockly.Events.recordUndo,c=a.getProcedureDef()[0],d=a.mutationToDom(!0);a=Blockly.Procedures.getCallers(c,a.workspace);c=0;for(var e;e=a[c];c++){var f=e.mutationToDom();f=f&&Blockly.Xml.domToText(f);e.domToMutation(d);var h=e.mutationToDom();h=h&&Blockly.Xml.domToText(h);f!=h&&(Blockly.Events.recordUndo=!1,Blockly.Events.fire(new Blockly.Events.BlockChange(e,"mutation",null,f,h)),Blockly.Events.recordUndo=b)}};
Blockly.Procedures.getDefinition=function(a,b){b=b.getTopBlocks(!1);for(var c=0;c<b.length;c++)if(b[c].getProcedureDef){var d=b[c].getProcedureDef();if(d&&Blockly.Names.equals(d[0],a))return b[c]}return null};Blockly.FlyoutButton=function(a,b,c,d){this.workspace_=a;this.targetWorkspace_=b;this.text_=c.getAttribute("text");this.position_=new goog.math.Coordinate(0,0);this.isLabel_=d;this.callback_=null;a=c.getAttribute("callbackKey");this.isLabel_&&a?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||a&&b.getButtonCallback(a)?this.callback_=b.getButtonCallback(a):console.warn("Buttons should have callbacks. Button text: "+this.text_);this.cssClass_=c.getAttribute("web-class")||
null};Blockly.FlyoutButton.MARGIN=5;Blockly.FlyoutButton.prototype.width=0;Blockly.FlyoutButton.prototype.height=0;Blockly.FlyoutButton.prototype.onMouseUpWrapper_=null;
Blockly.FlyoutButton.prototype.createDom=function(){var a=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass_&&(a+=" "+this.cssClass_);this.svgGroup_=Blockly.utils.createSvgElement("g",{"class":a},this.workspace_.getCanvas());if(!this.isLabel_)var b=Blockly.utils.createSvgElement("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);a=Blockly.utils.createSvgElement("rect",{"class":this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",
rx:4,ry:4},this.svgGroup_);var c=Blockly.utils.createSvgElement("text",{"class":this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_);c.textContent=Blockly.utils.replaceMessageReferences(this.text_);this.width=Blockly.Field.getCachedWidth(c);this.height=20;this.isLabel_||(this.width+=2*Blockly.FlyoutButton.MARGIN,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);
c.setAttribute("x",this.width/2);c.setAttribute("y",this.height-Blockly.FlyoutButton.MARGIN);this.updateTransform_();this.onMouseUpWrapper_=Blockly.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.onMouseUp_);return this.svgGroup_};Blockly.FlyoutButton.prototype.show=function(){this.updateTransform_();this.svgGroup_.setAttribute("display","block")};
Blockly.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")};Blockly.FlyoutButton.prototype.moveTo=function(a,b){this.position_.x=a;this.position_.y=b;this.updateTransform_()};Blockly.FlyoutButton.prototype.getPosition=function(){return this.position_};Blockly.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_};
Blockly.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&Blockly.unbindEvent_(this.onMouseUpWrapper_);this.svgGroup_&&(Blockly.utils.removeNode(this.svgGroup_),this.svgGroup_=null);this.targetWorkspace_=this.workspace_=null};Blockly.FlyoutButton.prototype.onMouseUp_=function(a){(a=this.targetWorkspace_.getGesture(a))&&a.cancel();this.callback_&&this.callback_(this)};Blockly.Flyout=function(a){a.getMetrics=this.getMetrics_.bind(this);a.setMetrics=this.setMetrics_.bind(this);this.workspace_=new Blockly.WorkspaceSvg(a);this.workspace_.isFlyout=!0;this.RTL=!!a.RTL;this.toolboxPosition_=a.toolboxPosition;this.eventWrappers_=[];this.mats_=[];this.buttons_=[];this.listeners_=[];this.permanentlyDisabled_=[]};Blockly.Flyout.prototype.autoClose=!0;Blockly.Flyout.prototype.isVisible_=!1;Blockly.Flyout.prototype.containerVisible_=!0;
Blockly.Flyout.prototype.CORNER_RADIUS=8;Blockly.Flyout.prototype.MARGIN=Blockly.Flyout.prototype.CORNER_RADIUS;Blockly.Flyout.prototype.GAP_X=3*Blockly.Flyout.prototype.MARGIN;Blockly.Flyout.prototype.GAP_Y=3*Blockly.Flyout.prototype.MARGIN;Blockly.Flyout.prototype.SCROLLBAR_PADDING=2;Blockly.Flyout.prototype.width_=0;Blockly.Flyout.prototype.height_=0;Blockly.Flyout.prototype.dragAngleRange_=70;
Blockly.Flyout.prototype.createDom=function(a){this.svgGroup_=Blockly.utils.createSvgElement(a,{"class":"blocklyFlyout",style:"display: none"},null);this.svgBackground_=Blockly.utils.createSvgElement("path",{"class":"blocklyFlyoutBackground"},this.svgGroup_);this.svgGroup_.appendChild(this.workspace_.createDom());return this.svgGroup_};
Blockly.Flyout.prototype.init=function(a){this.targetWorkspace_=a;this.workspace_.targetWorkspace=a;this.scrollbar_=new Blockly.Scrollbar(this.workspace_,this.horizontalLayout_,!1,"blocklyFlyoutScrollbar");this.hide();Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.wheel_));this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace_.addChangeListener(this.filterWrapper_));Array.prototype.push.apply(this.eventWrappers_,
Blockly.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDown_));this.workspace_.getGesture=this.targetWorkspace_.getGesture.bind(this.targetWorkspace_);this.workspace_.variableMap_=this.targetWorkspace_.getVariableMap();this.workspace_.createPotentialVariableMap()};
Blockly.Flyout.prototype.dispose=function(){this.hide();Blockly.unbindEvent_(this.eventWrappers_);this.filterWrapper_&&(this.targetWorkspace_.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null);this.scrollbar_&&(this.scrollbar_.dispose(),this.scrollbar_=null);this.workspace_&&(this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null);this.svgGroup_&&(Blockly.utils.removeNode(this.svgGroup_),this.svgGroup_=null);this.targetWorkspace_=this.svgBackground_=null};
Blockly.Flyout.prototype.getWidth=function(){return this.width_};Blockly.Flyout.prototype.getHeight=function(){return this.height_};Blockly.Flyout.prototype.getWorkspace=function(){return this.workspace_};Blockly.Flyout.prototype.isVisible=function(){return this.isVisible_};Blockly.Flyout.prototype.setVisible=function(a){var b=a!=this.isVisible();this.isVisible_=a;b&&this.updateDisplay_()};
Blockly.Flyout.prototype.setContainerVisible=function(a){var b=a!=this.containerVisible_;this.containerVisible_=a;b&&this.updateDisplay_()};Blockly.Flyout.prototype.updateDisplay_=function(){var a=this.containerVisible_?this.isVisible():!1;this.svgGroup_.style.display=a?"block":"none";this.scrollbar_.setContainerVisible(a)};
Blockly.Flyout.prototype.positionAt_=function(a,b,c,d){this.svgGroup_.setAttribute("width",a);this.svgGroup_.setAttribute("height",b);"svg"==this.svgGroup_.tagName?Blockly.utils.setCssTransform(this.svgGroup_,"translate("+c+"px,"+d+"px)"):this.svgGroup_.setAttribute("transform","translate("+c+","+d+")");this.scrollbar_&&(this.scrollbar_.setOrigin(c,d),this.scrollbar_.resize())};
Blockly.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var a=0,b;b=this.listeners_[a];a++)Blockly.unbindEvent_(b);this.listeners_.length=0;this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}};
Blockly.Flyout.prototype.show=function(a){this.workspace_.setResizesEnabled(!1);this.hide();this.clearOldBlocks_();if("string"==typeof a){a=this.workspace_.targetWorkspace.getToolboxCategoryCallback(a);if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.workspace_.targetWorkspace);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.setVisible(!0);for(var b=[],c=[],d=this.permanentlyDisabled_.length=
0,e;e=a[d];d++)if(e.tagName){var f=e.tagName.toUpperCase(),h=this.horizontalLayout_?this.GAP_X:this.GAP_Y;if("BLOCK"==f)f=Blockly.Xml.domToBlock(e,this.workspace_),f.disabled&&this.permanentlyDisabled_.push(f),b.push({type:"block",block:f}),e=parseInt(e.getAttribute("gap"),10),c.push(isNaN(e)?h:e);else if("SEP"==e.tagName.toUpperCase())e=parseInt(e.getAttribute("gap"),10),!isNaN(e)&&0<c.length?c[c.length-1]=e:c.push(h);else if("BUTTON"==f||"LABEL"==f)e=new Blockly.FlyoutButton(this.workspace_,this.targetWorkspace_,
e,"LABEL"==f),b.push({type:"button",button:e}),c.push(h)}this.layout_(b,c);this.listeners_.push(Blockly.bindEventWithChecks_(this.svgBackground_,"mouseover",this,function(){for(var a=this.workspace_.getTopBlocks(!1),b=0,c;c=a[b];b++)c.removeSelect()}));this.horizontalLayout_?this.height_=0:this.width_=0;this.workspace_.setResizesEnabled(!0);this.reflow();this.filterForCapacity_();this.position();this.reflowWrapper_=this.reflow.bind(this);this.workspace_.addChangeListener(this.reflowWrapper_)};
Blockly.Flyout.prototype.clearOldBlocks_=function(){for(var a=this.workspace_.getTopBlocks(!1),b=0,c;c=a[b];b++)c.workspace==this.workspace_&&c.dispose(!1,!1);for(b=0;b<this.mats_.length;b++)(a=this.mats_[b])&&Blockly.utils.removeNode(a);for(b=this.mats_.length=0;a=this.buttons_[b];b++)a.dispose();this.buttons_.length=0;this.workspace_.getPotentialVariableMap().clear()};
Blockly.Flyout.prototype.addBlockListeners_=function(a,b,c){this.listeners_.push(Blockly.bindEventWithChecks_(a,"mousedown",null,this.blockMouseDown_(b)));this.listeners_.push(Blockly.bindEventWithChecks_(c,"mousedown",null,this.blockMouseDown_(b)));this.listeners_.push(Blockly.bindEvent_(a,"mouseover",b,b.addSelect));this.listeners_.push(Blockly.bindEvent_(a,"mouseout",b,b.removeSelect));this.listeners_.push(Blockly.bindEvent_(c,"mouseover",b,b.addSelect));this.listeners_.push(Blockly.bindEvent_(c,
"mouseout",b,b.removeSelect))};Blockly.Flyout.prototype.blockMouseDown_=function(a){var b=this;return function(c){var d=b.targetWorkspace_.getGesture(c);d&&(d.setStartBlock(a),d.handleFlyoutStart(c,b))}};Blockly.Flyout.prototype.onMouseDown_=function(a){var b=this.targetWorkspace_.getGesture(a);b&&b.handleFlyoutStart(a,this)};
Blockly.Flyout.prototype.createBlock=function(a){var b=null;Blockly.Events.disable();var c=this.targetWorkspace_.getAllVariables();this.targetWorkspace_.setResizesEnabled(!1);try{b=this.placeNewBlock_(a),Blockly.hideChaff()}finally{Blockly.Events.enable()}a=Blockly.Variables.getAddedVariables(this.targetWorkspace_,c);if(Blockly.Events.isEnabled())for(Blockly.Events.setGroup(!0),Blockly.Events.fire(new Blockly.Events.Create(b)),c=0;c<a.length;c++)Blockly.Events.fire(new Blockly.Events.VarCreate(a[c]));
this.autoClose?this.hide():this.filterForCapacity_();return b};Blockly.Flyout.prototype.initFlyoutButton_=function(a,b,c){var d=a.createDom();a.moveTo(b,c);a.show();this.listeners_.push(Blockly.bindEventWithChecks_(d,"mousedown",this,this.onMouseDown_));this.buttons_.push(a)};
Blockly.Flyout.prototype.createRect_=function(a,b,c,d,e){b=Blockly.utils.createSvgElement("rect",{"fill-opacity":0,x:b,y:c,height:d.height,width:d.width},null);b.tooltip=a;Blockly.Tooltip.bindMouseEvents(b);this.workspace_.getCanvas().insertBefore(b,a.getSvgRoot());a.flyoutRect_=b;return this.mats_[e]=b};
Blockly.Flyout.prototype.moveRectToBlock_=function(a,b){var c=b.getHeightWidth();a.setAttribute("width",c.width);a.setAttribute("height",c.height);var d=b.startHat_?Blockly.BlockSvg.START_HAT_HEIGHT:0;d&&b.moveBy(0,d);d=b.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0;b=b.getRelativeToSurfaceXY();a.setAttribute("y",b.y);a.setAttribute("x",this.RTL?b.x-c.width+d:b.x-d)};
Blockly.Flyout.prototype.filterForCapacity_=function(){for(var a=this.targetWorkspace_.remainingCapacity(),b=this.workspace_.getTopBlocks(!1),c=0,d;d=b[c];c++)if(-1==this.permanentlyDisabled_.indexOf(d)){var e=d.getDescendants(!1);d.setDisabled(e.length>a)}};Blockly.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_);this.reflowInternal_();this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)};
Blockly.Flyout.prototype.isScrollable=function(){return this.scrollbar_?this.scrollbar_.isVisible():!1};
Blockly.Flyout.prototype.placeNewBlock_=function(a){var b=this.targetWorkspace_;if(!a.getSvgRoot())throw Error("oldBlock is not rendered.");var c=Blockly.Xml.blockToDom(a);b.setResizesEnabled(!1);c=Blockly.Xml.domToBlock(c,b);if(!c.getSvgRoot())throw Error("block is not rendered.");var d=b.getOriginOffsetInPixels(),e=this.workspace_.getOriginOffsetInPixels();a=a.getRelativeToSurfaceXY().scale(this.workspace_.scale);a=goog.math.Coordinate.sum(e,a);b=goog.math.Coordinate.difference(a,d).scale(1/b.scale);
c.moveBy(b.x,b.y);return c};Blockly.HorizontalFlyout=function(a){a.getMetrics=this.getMetrics_.bind(this);a.setMetrics=this.setMetrics_.bind(this);Blockly.HorizontalFlyout.superClass_.constructor.call(this,a);this.horizontalLayout_=!0};goog.inherits(Blockly.HorizontalFlyout,Blockly.Flyout);
Blockly.HorizontalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var a=this.workspace_.getCanvas().getBBox()}catch(e){a={height:0,y:0,width:0,x:0}}var b=this.SCROLLBAR_PADDING,c=this.SCROLLBAR_PADDING;this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(b=0);var d=this.height_;this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP&&(d-=this.SCROLLBAR_PADDING);return{viewHeight:d,viewWidth:this.width_-2*this.SCROLLBAR_PADDING,contentHeight:(a.height+2*this.MARGIN)*this.workspace_.scale,
contentWidth:(a.width+2*this.MARGIN)*this.workspace_.scale,viewTop:-this.workspace_.scrollY,viewLeft:-this.workspace_.scrollX,contentTop:a.y,contentLeft:a.x,absoluteTop:b,absoluteLeft:c}};Blockly.HorizontalFlyout.prototype.setMetrics_=function(a){var b=this.getMetrics_();b&&("number"==typeof a.x&&(this.workspace_.scrollX=-b.contentWidth*a.x),this.workspace_.translate(this.workspace_.scrollX+b.absoluteLeft,this.workspace_.scrollY+b.absoluteTop))};
Blockly.HorizontalFlyout.prototype.position=function(){if(this.isVisible()){var a=this.targetWorkspace_.getMetrics();if(a){this.width_=a.viewWidth;this.setBackgroundPath_(a.viewWidth-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS);var b=a.absoluteLeft,c=a.absoluteTop;this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(c+=a.viewHeight-this.height_);this.positionAt_(this.width_,this.height_,b,c)}}};
Blockly.HorizontalFlyout.prototype.setBackgroundPath_=function(a,b){var c=this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP,d=["M 0,"+(c?0:this.CORNER_RADIUS)];c?(d.push("h",a+2*this.CORNER_RADIUS),d.push("v",b),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",-1*a),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),
d.push("h",a),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",b),d.push("h",-a-2*this.CORNER_RADIUS));d.push("z");this.svgBackground_.setAttribute("d",d.join(" "))};Blockly.HorizontalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(this.RTL?Infinity:0)};
Blockly.HorizontalFlyout.prototype.wheel_=function(a){var b=a.deltaX;if(b){goog.userAgent.GECKO&&1===a.deltaMode&&(b*=10);var c=this.getMetrics_();b=c.viewLeft+b;b=Math.min(b,c.contentWidth-c.viewWidth);b=Math.max(b,0);this.scrollbar_.set(b);Blockly.WidgetDiv.hide()}a.preventDefault();a.stopPropagation()};
Blockly.HorizontalFlyout.prototype.layout_=function(a,b){this.workspace_.scale=this.targetWorkspace_.scale;var c=this.MARGIN,d=this.RTL?c:c+Blockly.BlockSvg.TAB_WIDTH;this.RTL&&(a=a.reverse());for(var e=0,f;f=a[e];e++)if("block"==f.type){f=f.block;for(var h=f.getDescendants(!1),g=0,k;k=h[g];g++)k.isInFlyout=!0;f.render();h=f.getSvgRoot();g=f.getHeightWidth();k=f.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0;k=this.RTL?d+g.width:d+k;f.moveBy(k,c);k=this.createRect_(f,k,c,g,e);d+=g.width+b[e];this.addBlockListeners_(h,
f,k)}else"button"==f.type&&(this.initFlyoutButton_(f.button,d,c),d+=f.button.width+b[e])};Blockly.HorizontalFlyout.prototype.isDragTowardWorkspace=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.dragAngleRange_;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};
Blockly.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.top;a=a.height;if(this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP)return new goog.math.Rect(-1E9,b-1E9,2E9,1E9+a);if(this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM)return new goog.math.Rect(-1E9,b,2E9,1E9+a)};
Blockly.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var a=0,b=this.workspace_.getTopBlocks(!1),c=0,d;d=b[c];c++)a=Math.max(a,d.getHeightWidth().height);a+=1.5*this.MARGIN;a*=this.workspace_.scale;a+=Blockly.Scrollbar.scrollbarThickness;if(this.height_!=a){for(c=0;d=b[c];c++)d.flyoutRect_&&this.moveRectToBlock_(d.flyoutRect_,d);this.height_=a;this.targetWorkspace_.resize()}};Blockly.VerticalFlyout=function(a){a.getMetrics=this.getMetrics_.bind(this);a.setMetrics=this.setMetrics_.bind(this);Blockly.VerticalFlyout.superClass_.constructor.call(this,a);this.horizontalLayout_=!1};goog.inherits(Blockly.VerticalFlyout,Blockly.Flyout);
Blockly.VerticalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var a=this.workspace_.getCanvas().getBBox()}catch(e){a={height:0,y:0,width:0,x:0}}var b=this.SCROLLBAR_PADDING,c=this.height_-2*this.SCROLLBAR_PADDING,d=this.width_;this.RTL||(d-=this.SCROLLBAR_PADDING);return{viewHeight:c,viewWidth:d,contentHeight:a.height*this.workspace_.scale+2*this.MARGIN,contentWidth:a.width*this.workspace_.scale+2*this.MARGIN,viewTop:-this.workspace_.scrollY+a.y,viewLeft:-this.workspace_.scrollX,
contentTop:a.y,contentLeft:a.x,absoluteTop:b,absoluteLeft:0}};Blockly.VerticalFlyout.prototype.setMetrics_=function(a){var b=this.getMetrics_();b&&("number"==typeof a.y&&(this.workspace_.scrollY=-b.contentHeight*a.y),this.workspace_.translate(this.workspace_.scrollX+b.absoluteLeft,this.workspace_.scrollY+b.absoluteTop))};
Blockly.VerticalFlyout.prototype.position=function(){if(this.isVisible()){var a=this.targetWorkspace_.getMetrics();if(a){this.height_=a.viewHeight;this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,a.viewHeight-2*this.CORNER_RADIUS);var b=a.absoluteTop,c=a.absoluteLeft;this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT&&(this.leftEdge_=c+=a.viewWidth-this.width_);this.positionAt_(this.width_,this.height_,c,b)}}};
Blockly.VerticalFlyout.prototype.setBackgroundPath_=function(a,b){var c=this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT,d=a+this.CORNER_RADIUS;d=["M "+(c?d:0)+",0"];d.push("h",c?-a:a);d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS);d.push("v",Math.max(0,b));d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS);d.push("h",c?a:-a);d.push("z");this.svgBackground_.setAttribute("d",
d.join(" "))};Blockly.VerticalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(0)};Blockly.VerticalFlyout.prototype.wheel_=function(a){var b=a.deltaY;if(b){goog.userAgent.GECKO&&1===a.deltaMode&&(b*=10);var c=this.getMetrics_();b=c.viewTop-c.contentTop+b;b=Math.min(b,c.contentHeight-c.viewHeight);b=Math.max(b,0);this.scrollbar_.set(b);Blockly.WidgetDiv.hide()}a.preventDefault();a.stopPropagation()};
Blockly.VerticalFlyout.prototype.layout_=function(a,b){this.workspace_.scale=this.targetWorkspace_.scale;for(var c=this.MARGIN,d=this.RTL?c:c+Blockly.BlockSvg.TAB_WIDTH,e=0,f;f=a[e];e++)if("block"==f.type){f=f.block;for(var h=f.getDescendants(!1),g=0,k;k=h[g];g++)k.isInFlyout=!0;f.render();h=f.getSvgRoot();g=f.getHeightWidth();f.moveBy(d,c);k=this.createRect_(f,this.RTL?d-g.width:d,c,g,e);this.addBlockListeners_(h,f,k);c+=g.height+b[e]}else"button"==f.type&&(this.initFlyoutButton_(f.button,d,c),c+=
f.button.height+b[e])};Blockly.VerticalFlyout.prototype.isDragTowardWorkspace=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.dragAngleRange_;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
Blockly.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.left;a=a.width;if(this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT)return new goog.math.Rect(b-1E9,-1E9,1E9+a,2E9);if(goog.userAgent.GECKO&&this.targetWorkspace_&&this.targetWorkspace_.isMutator){var c=this.targetWorkspace_.svgGroup_.getBoundingClientRect().x;10>Math.abs(c-b)&&(b+=this.leftEdge_*this.targetWorkspace_.options.parentWorkspace.scale)}return new goog.math.Rect(b,
-1E9,1E9+a,2E9)};
Blockly.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var a=0,b=this.workspace_.getTopBlocks(!1),c=0,d;d=b[c];c++){var e=d.getHeightWidth().width;d.outputConnection&&(e-=Blockly.BlockSvg.TAB_WIDTH);a=Math.max(a,e)}for(c=0;d=this.buttons_[c];c++)a=Math.max(a,d.width);a+=1.5*this.MARGIN+Blockly.BlockSvg.TAB_WIDTH;a*=this.workspace_.scale;a+=Blockly.Scrollbar.scrollbarThickness;if(this.width_!=a){for(c=0;d=b[c];c++)this.RTL&&(e=d.getRelativeToSurfaceXY().x,
d.moveBy(a/this.workspace_.scale-this.MARGIN-Blockly.BlockSvg.TAB_WIDTH-e,0)),d.flyoutRect_&&this.moveRectToBlock_(d.flyoutRect_,d);if(this.RTL)for(c=0;d=this.buttons_[c];c++)b=d.getPosition().y,d.moveTo(a/this.workspace_.scale-d.width-this.MARGIN-Blockly.BlockSvg.TAB_WIDTH,b);this.width_=a;this.targetWorkspace_.resize()}};goog.events.FocusHandler=function(a){goog.events.EventTarget.call(this);this.element_=a;a=goog.userAgent.IE?"focusout":"blur";this.listenKeyIn_=goog.events.listen(this.element_,goog.userAgent.IE?"focusin":"focus",this,!goog.userAgent.IE);this.listenKeyOut_=goog.events.listen(this.element_,a,this,!goog.userAgent.IE)};goog.inherits(goog.events.FocusHandler,goog.events.EventTarget);goog.events.FocusHandler.EventType={FOCUSIN:"focusin",FOCUSOUT:"focusout"};
goog.events.FocusHandler.prototype.handleEvent=function(a){var b=a.getBrowserEvent();b=new goog.events.BrowserEvent(b);b.type="focusin"==a.type||"focus"==a.type?goog.events.FocusHandler.EventType.FOCUSIN:goog.events.FocusHandler.EventType.FOCUSOUT;this.dispatchEvent(b)};goog.events.FocusHandler.prototype.disposeInternal=function(){goog.events.FocusHandler.superClass_.disposeInternal.call(this);goog.events.unlistenByKey(this.listenKeyIn_);goog.events.unlistenByKey(this.listenKeyOut_);delete this.element_};goog.debug.LogRecord=function(a,b,c,d,e){this.reset(a,b,c,d,e)};goog.debug.LogRecord.prototype.sequenceNumber_=0;goog.debug.LogRecord.prototype.exception_=null;goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0;goog.debug.LogRecord.nextSequenceNumber_=0;
goog.debug.LogRecord.prototype.reset=function(a,b,c,d,e){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof e?e:goog.debug.LogRecord.nextSequenceNumber_++);this.time_=d||goog.now();this.level_=a;this.msg_=b;this.loggerName_=c;delete this.exception_};goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_};goog.debug.LogRecord.prototype.getException=function(){return this.exception_};
goog.debug.LogRecord.prototype.setException=function(a){this.exception_=a};goog.debug.LogRecord.prototype.setLoggerName=function(a){this.loggerName_=a};goog.debug.LogRecord.prototype.getLevel=function(){return this.level_};goog.debug.LogRecord.prototype.setLevel=function(a){this.level_=a};goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_};goog.debug.LogRecord.prototype.setMessage=function(a){this.msg_=a};goog.debug.LogRecord.prototype.getMillis=function(){return this.time_};
goog.debug.LogRecord.prototype.setMillis=function(a){this.time_=a};goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_};goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY.");this.clear()};goog.debug.LogBuffer.getInstance=function(){goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer);return goog.debug.LogBuffer.instance_};goog.debug.LogBuffer.CAPACITY=0;
goog.debug.LogBuffer.prototype.addRecord=function(a,b,c){var d=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;this.curIndex_=d;if(this.isFull_)return d=this.buffer_[d],d.reset(a,b,c),d;this.isFull_=d==goog.debug.LogBuffer.CAPACITY-1;return this.buffer_[d]=new goog.debug.LogRecord(a,b,c)};goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY};
goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY);this.curIndex_=-1;this.isFull_=!1};goog.debug.LogBuffer.prototype.forEachRecord=function(a){var b=this.buffer_;if(b[0]){var c=this.curIndex_,d=this.isFull_?c:-1;do d=(d+1)%goog.debug.LogBuffer.CAPACITY,a(b[d]);while(d!=c)}};goog.debug.Logger=function(a){this.name_=a;this.handlers_=this.children_=this.level_=this.parent_=null};goog.debug.Logger.ROOT_LOGGER_NAME="";goog.debug.Logger.ENABLE_HIERARCHY=!0;goog.debug.Logger.ENABLE_PROFILER_LOGGING=!1;goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]);goog.debug.Logger.Level=function(a,b){this.name=a;this.value=b};goog.debug.Logger.Level.prototype.toString=function(){return this.name};goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",Infinity);
goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200);goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1E3);goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900);goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800);goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700);goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500);goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400);
goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300);goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0);goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL];
goog.debug.Logger.Level.predefinedLevelsCache_=null;goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var a=0,b;b=goog.debug.Logger.Level.PREDEFINED_LEVELS[a];a++)goog.debug.Logger.Level.predefinedLevelsCache_[b.value]=b,goog.debug.Logger.Level.predefinedLevelsCache_[b.name]=b};
goog.debug.Logger.Level.getPredefinedLevel=function(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();return goog.debug.Logger.Level.predefinedLevelsCache_[a]||null};
goog.debug.Logger.Level.getPredefinedLevelByValue=function(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();if(a in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[a];for(var b=0;b<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++b){var c=goog.debug.Logger.Level.PREDEFINED_LEVELS[b];if(c.value<=a)return c}return null};goog.debug.Logger.getLogger=function(a){return goog.debug.LogManager.getLogger(a)};
goog.debug.Logger.logToProfilers=function(a){if(goog.debug.Logger.ENABLE_PROFILER_LOGGING){var b=goog.global.msWriteProfilerMark;b?b(a):(b=goog.global.console)&&b.timeStamp&&b.timeStamp(a)}};goog.debug.Logger.prototype.getName=function(){return this.name_};
goog.debug.Logger.prototype.addHandler=function(a){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(a)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(a)))};
goog.debug.Logger.prototype.removeHandler=function(a){if(goog.debug.LOGGING_ENABLED){var b=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!b&&goog.array.remove(b,a)}return!1};goog.debug.Logger.prototype.getParent=function(){return this.parent_};goog.debug.Logger.prototype.getChildren=function(){this.children_||(this.children_={});return this.children_};
goog.debug.Logger.prototype.setLevel=function(a){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=a:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=a))};goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF};
goog.debug.Logger.prototype.getEffectiveLevel=function(){if(!goog.debug.LOGGING_ENABLED)return goog.debug.Logger.Level.OFF;if(!goog.debug.Logger.ENABLE_HIERARCHY)return goog.debug.Logger.rootLevel_;if(this.level_)return this.level_;if(this.parent_)return this.parent_.getEffectiveLevel();goog.asserts.fail("Root logger has no level set.");return null};goog.debug.Logger.prototype.isLoggable=function(a){return goog.debug.LOGGING_ENABLED&&a.value>=this.getEffectiveLevel().value};
goog.debug.Logger.prototype.log=function(a,b,c){goog.debug.LOGGING_ENABLED&&this.isLoggable(a)&&(goog.isFunction(b)&&(b=b()),this.doLogRecord_(this.getLogRecord(a,b,c)))};goog.debug.Logger.prototype.getLogRecord=function(a,b,c){a=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(a,b,this.name_):new goog.debug.LogRecord(a,String(b),this.name_);c&&a.setException(c);return a};
goog.debug.Logger.prototype.shout=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,a,b)};goog.debug.Logger.prototype.severe=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,a,b)};goog.debug.Logger.prototype.warning=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,a,b)};goog.debug.Logger.prototype.info=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,a,b)};
goog.debug.Logger.prototype.config=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,a,b)};goog.debug.Logger.prototype.fine=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,a,b)};goog.debug.Logger.prototype.finer=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,a,b)};goog.debug.Logger.prototype.finest=function(a,b){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,a,b)};
goog.debug.Logger.prototype.logRecord=function(a){goog.debug.LOGGING_ENABLED&&this.isLoggable(a.getLevel())&&this.doLogRecord_(a)};goog.debug.Logger.prototype.doLogRecord_=function(a){goog.debug.Logger.ENABLE_PROFILER_LOGGING&&goog.debug.Logger.logToProfilers("log:"+a.getMessage());if(goog.debug.Logger.ENABLE_HIERARCHY)for(var b=this;b;)b.callPublish_(a),b=b.getParent();else{b=0;for(var c;c=goog.debug.Logger.rootHandlers_[b++];)c(a)}};
goog.debug.Logger.prototype.callPublish_=function(a){if(this.handlers_)for(var b=0,c;c=this.handlers_[b];b++)c(a)};goog.debug.Logger.prototype.setParent_=function(a){this.parent_=a};goog.debug.Logger.prototype.addChild_=function(a,b){this.getChildren()[a]=b};goog.debug.LogManager={};goog.debug.LogManager.loggers_={};goog.debug.LogManager.rootLogger_=null;
goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))};goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_};
goog.debug.LogManager.getRoot=function(){goog.debug.LogManager.initialize();return goog.debug.LogManager.rootLogger_};goog.debug.LogManager.getLogger=function(a){goog.debug.LogManager.initialize();return goog.debug.LogManager.loggers_[a]||goog.debug.LogManager.createLogger_(a)};goog.debug.LogManager.createFunctionForCatchErrors=function(a){return function(b){(a||goog.debug.LogManager.getRoot()).severe("Error: "+b.message+" ("+b.fileName+" @ Line: "+b.line+")")}};
goog.debug.LogManager.createLogger_=function(a){var b=new goog.debug.Logger(a);if(goog.debug.Logger.ENABLE_HIERARCHY){var c=a.lastIndexOf("."),d=a.substr(0,c);c=a.substr(c+1);d=goog.debug.LogManager.getLogger(d);d.addChild_(c,b);b.setParent_(d)}return goog.debug.LogManager.loggers_[a]=b};goog.log={};goog.log.ENABLED=goog.debug.LOGGING_ENABLED;goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME;goog.log.Logger=goog.debug.Logger;goog.log.Level=goog.debug.Logger.Level;goog.log.LogRecord=goog.debug.LogRecord;goog.log.getLogger=function(a,b){return goog.log.ENABLED?(a=goog.debug.LogManager.getLogger(a),b&&a&&a.setLevel(b),a):null};goog.log.addHandler=function(a,b){goog.log.ENABLED&&a&&a.addHandler(b)};
goog.log.removeHandler=function(a,b){return goog.log.ENABLED&&a?a.removeHandler(b):!1};goog.log.log=function(a,b,c,d){goog.log.ENABLED&&a&&a.log(b,c,d)};goog.log.error=function(a,b,c){goog.log.ENABLED&&a&&a.severe(b,c)};goog.log.warning=function(a,b,c){goog.log.ENABLED&&a&&a.warning(b,c)};goog.log.info=function(a,b,c){goog.log.ENABLED&&a&&a.info(b,c)};goog.log.fine=function(a,b,c){goog.log.ENABLED&&a&&a.fine(b,c)};goog.Thenable=function(){};goog.Thenable.prototype.then=function(a,b,c){};goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable";goog.Thenable.addImplementation=function(a){a.prototype.then=a.prototype.then;COMPILED?a.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:a.prototype.$goog_Thenable=!0};goog.Thenable.isImplementedBy=function(a){if(!a)return!1;try{return COMPILED?!!a[goog.Thenable.IMPLEMENTED_BY_PROP]:!!a.$goog_Thenable}catch(b){return!1}};goog.async={};goog.async.FreeList=function(a,b,c){this.limit_=c;this.create_=a;this.reset_=b;this.occupants_=0;this.head_=null};goog.async.FreeList.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var a=this.head_;this.head_=a.next;a.next=null}else a=this.create_();return a};goog.async.FreeList.prototype.put=function(a){this.reset_(a);this.occupants_<this.limit_&&(this.occupants_++,a.next=this.head_,this.head_=a)};goog.async.FreeList.prototype.occupants=function(){return this.occupants_};goog.async.WorkQueue=function(){this.workTail_=this.workHead_=null};goog.async.WorkQueue.DEFAULT_MAX_UNUSED=100;goog.async.WorkQueue.freelist_=new goog.async.FreeList(function(){return new goog.async.WorkItem},function(a){a.reset()},goog.async.WorkQueue.DEFAULT_MAX_UNUSED);goog.async.WorkQueue.prototype.add=function(a,b){var c=this.getUnusedItem_();c.set(a,b);this.workTail_?this.workTail_.next=c:(goog.asserts.assert(!this.workHead_),this.workHead_=c);this.workTail_=c};
goog.async.WorkQueue.prototype.remove=function(){var a=null;this.workHead_&&(a=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),a.next=null);return a};goog.async.WorkQueue.prototype.returnUnused=function(a){goog.async.WorkQueue.freelist_.put(a)};goog.async.WorkQueue.prototype.getUnusedItem_=function(){return goog.async.WorkQueue.freelist_.get()};goog.async.WorkItem=function(){this.next=this.scope=this.fn=null};
goog.async.WorkItem.prototype.set=function(a,b){this.fn=a;this.scope=b;this.next=null};goog.async.WorkItem.prototype.reset=function(){this.next=this.scope=this.fn=null};goog.functions={};goog.functions.constant=function(a){return function(){return a}};goog.functions.FALSE=goog.functions.constant(!1);goog.functions.TRUE=goog.functions.constant(!0);goog.functions.NULL=goog.functions.constant(null);goog.functions.identity=function(a,b){return a};goog.functions.error=function(a){return function(){throw Error(a);}};goog.functions.fail=function(a){return function(){throw a;}};
goog.functions.lock=function(a,b){b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};goog.functions.nth=function(a){return function(){return arguments[a]}};goog.functions.partialRight=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.push.apply(b,c);return a.apply(this,b)}};goog.functions.withReturnValue=function(a,b){return goog.functions.sequence(a,goog.functions.constant(b))};
goog.functions.equalTo=function(a,b){return function(c){return b?a==c:a===c}};goog.functions.compose=function(a,b){var c=arguments,d=c.length;return function(){var a;d&&(a=c[d-1].apply(this,arguments));for(var b=d-2;0<=b;b--)a=c[b].call(this,a);return a}};goog.functions.sequence=function(a){var b=arguments,c=b.length;return function(){for(var a,e=0;e<c;e++)a=b[e].apply(this,arguments);return a}};
goog.functions.and=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};goog.functions.or=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(b[a].apply(this,arguments))return!0;return!1}};goog.functions.not=function(a){return function(){return!a.apply(this,arguments)}};
goog.functions.create=function(a,b){var c=function(){};c.prototype=a.prototype;c=new c;a.apply(c,Array.prototype.slice.call(arguments,1));return c};goog.functions.CACHE_RETURN_VALUE=!0;goog.functions.cacheReturnValue=function(a){var b=!1,c;return function(){if(!goog.functions.CACHE_RETURN_VALUE)return a();b||(c=a(),b=!0);return c}};goog.functions.once=function(a){var b=a;return function(){if(b){var a=b;b=null;a()}}};
goog.functions.debounce=function(a,b,c){var d=0;return function(e){goog.global.clearTimeout(d);var f=arguments;d=goog.global.setTimeout(function(){a.apply(c,f)},b)}};goog.functions.throttle=function(a,b,c){var d=0,e=!1,f=[],h=function(){d=0;e&&(e=!1,g())},g=function(){d=goog.global.setTimeout(h,b);a.apply(c,f)};return function(a){f=arguments;d?e=!0:g()}};goog.functions.rateLimit=function(a,b,c){var d=0,e=function(){d=0};return function(f){d||(d=goog.global.setTimeout(e,b),a.apply(c,arguments))}};goog.async.throwException=function(a){goog.global.setTimeout(function(){throw a;},0)};goog.async.nextTick=function(a,b,c){var d=a;b&&(d=goog.bind(a,b));d=goog.async.nextTick.wrapCallback_(d);goog.isFunction(goog.global.setImmediate)&&(c||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(d):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(d))};
goog.async.nextTick.useSetImmediate_=function(){return goog.global.Window&&goog.global.Window.prototype&&!goog.labs.userAgent.browser.isEdge()&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate?!1:!0};
goog.async.nextTick.getSetImmediateEmulator_=function(){var a=goog.global.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+
"//"+b.location.host;a=goog.bind(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!goog.labs.userAgent.browser.isIE()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(goog.isDef(c.next)){c=c.next;var a=c.cb;c.cb=null;a()}};return function(a){d.next={cb:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in
document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){goog.global.setTimeout(a,0)}};goog.async.nextTick.wrapCallback_=goog.functions.identity;goog.debug.entryPointRegistry.register(function(a){goog.async.nextTick.wrapCallback_=a});goog.async.run=function(a,b){goog.async.run.schedule_||goog.async.run.initializeRunner_();goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0);goog.async.run.workQueue_.add(a,b)};goog.async.run.initializeRunner_=function(){if(goog.global.Promise&&goog.global.Promise.resolve){var a=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){a.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}};
goog.async.run.forceNextTick=function(a){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue);a&&a(goog.async.run.processWorkQueue)}};goog.async.run.workQueueScheduled_=!1;goog.async.run.workQueue_=new goog.async.WorkQueue;goog.DEBUG&&(goog.async.run.resetQueue=function(){goog.async.run.workQueueScheduled_=!1;goog.async.run.workQueue_=new goog.async.WorkQueue});
goog.async.run.processWorkQueue=function(){for(var a;a=goog.async.run.workQueue_.remove();){try{a.fn.call(a.scope)}catch(b){goog.async.throwException(b)}goog.async.run.workQueue_.returnUnused(a)}goog.async.run.workQueueScheduled_=!1};goog.promise={};goog.promise.Resolver=function(){};goog.Promise=function(a,b){this.state_=goog.Promise.State_.PENDING;this.result_=void 0;this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null;this.executing_=!1;0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1);goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0);if(a!=goog.nullFunction)try{var c=this;a.call(b,function(a){c.resolve_(goog.Promise.State_.FULFILLED,
a)},function(a){if(goog.DEBUG&&!(a instanceof goog.Promise.CancellationError))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(e){}c.resolve_(goog.Promise.State_.REJECTED,a)})}catch(d){this.resolve_(goog.Promise.State_.REJECTED,d)}};goog.Promise.LONG_STACK_TRACES=!1;goog.Promise.UNHANDLED_REJECTION_DELAY=0;goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3};
goog.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};goog.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};goog.Promise.DEFAULT_MAX_UNUSED=100;goog.Promise.freelist_=new goog.async.FreeList(function(){return new goog.Promise.CallbackEntry_},function(a){a.reset()},goog.Promise.DEFAULT_MAX_UNUSED);
goog.Promise.getCallbackEntry_=function(a,b,c){var d=goog.Promise.freelist_.get();d.onFulfilled=a;d.onRejected=b;d.context=c;return d};goog.Promise.returnEntry_=function(a){goog.Promise.freelist_.put(a)};goog.Promise.resolve=function(a){if(a instanceof goog.Promise)return a;var b=new goog.Promise(goog.nullFunction);b.resolve_(goog.Promise.State_.FULFILLED,a);return b};goog.Promise.reject=function(a){return new goog.Promise(function(b,c){c(a)})};
goog.Promise.resolveThen_=function(a,b,c){goog.Promise.maybeThen_(a,b,c,null)||goog.async.run(goog.partial(b,a))};goog.Promise.race=function(a){return new goog.Promise(function(b,c){a.length||b(void 0);for(var d=0,e;d<a.length;d++)e=a[d],goog.Promise.resolveThen_(e,b,c)})};
goog.Promise.all=function(a){return new goog.Promise(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},h=function(a){c(a)},g=0,k;g<a.length;g++)k=a[g],goog.Promise.resolveThen_(k,goog.partial(f,g),h);else b(e)})};
goog.Promise.allSettled=function(a){return new goog.Promise(function(b,c){var d=a.length,e=[];if(d){c=function(a,c,f){d--;e[a]=c?{fulfilled:!0,value:f}:{fulfilled:!1,reason:f};0==d&&b(e)};for(var f=0,h;f<a.length;f++)h=a[f],goog.Promise.resolveThen_(h,goog.partial(c,f,!0),goog.partial(c,f,!1))}else b(e)})};
goog.Promise.firstFulfilled=function(a){return new goog.Promise(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a){b(a)},h=function(a,b){d--;e[a]=b;0==d&&c(e)},g=0,k;g<a.length;g++)k=a[g],goog.Promise.resolveThen_(k,f,goog.partial(h,g));else b(void 0)})};goog.Promise.withResolver=function(){var a,b,c=new goog.Promise(function(c,e){a=c;b=e});return new goog.Promise.Resolver_(c,a,b)};
goog.Promise.prototype.then=function(a,b,c){null!=a&&goog.asserts.assertFunction(a,"opt_onFulfilled should be a function.");null!=b&&goog.asserts.assertFunction(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then"));return this.addChildPromise_(goog.isFunction(a)?a:null,goog.isFunction(b)?b:null,c)};goog.Thenable.addImplementation(goog.Promise);
goog.Promise.prototype.thenVoid=function(a,b,c){null!=a&&goog.asserts.assertFunction(a,"opt_onFulfilled should be a function.");null!=b&&goog.asserts.assertFunction(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then"));this.addCallbackEntry_(goog.Promise.getCallbackEntry_(a||goog.nullFunction,b||null,c))};
goog.Promise.prototype.thenAlways=function(a,b){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways"));a=goog.Promise.getCallbackEntry_(a,a,b);a.always=!0;this.addCallbackEntry_(a);return this};goog.Promise.prototype.thenCatch=function(a,b){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch"));return this.addChildPromise_(null,a,b)};
goog.Promise.prototype.cancel=function(a){this.state_==goog.Promise.State_.PENDING&&goog.async.run(function(){var b=new goog.Promise.CancellationError(a);this.cancelInternal_(b)},this)};goog.Promise.prototype.cancelInternal_=function(a){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,a),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,a))};
goog.Promise.prototype.cancelChild_=function(a,b){if(this.callbackEntries_){for(var c=0,d=null,e=null,f=this.callbackEntries_;f&&(f.always||(c++,f.child==a&&(d=f),!(d&&1<c)));f=f.next)d||(e=f);d&&(this.state_==goog.Promise.State_.PENDING&&1==c?this.cancelInternal_(b):(e?this.removeEntryAfter_(e):this.popEntry_(),this.executeCallback_(d,goog.Promise.State_.REJECTED,b)))}};
goog.Promise.prototype.addCallbackEntry_=function(a){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_();this.queueEntry_(a)};
goog.Promise.prototype.addChildPromise_=function(a,b,c){var d=goog.Promise.getCallbackEntry_(null,null,null);d.child=new goog.Promise(function(e,f){d.onFulfilled=a?function(b){try{var d=a.call(c,b);e(d)}catch(k){f(k)}}:e;d.onRejected=b?function(a){try{var d=b.call(c,a);!goog.isDef(d)&&a instanceof goog.Promise.CancellationError?f(a):e(d)}catch(k){f(k)}}:f});d.child.parent_=this;this.addCallbackEntry_(d);return d.child};
goog.Promise.prototype.unblockAndFulfill_=function(a){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED);this.state_=goog.Promise.State_.PENDING;this.resolve_(goog.Promise.State_.FULFILLED,a)};goog.Promise.prototype.unblockAndReject_=function(a){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED);this.state_=goog.Promise.State_.PENDING;this.resolve_(goog.Promise.State_.REJECTED,a)};
goog.Promise.prototype.resolve_=function(a,b){this.state_==goog.Promise.State_.PENDING&&(this===b&&(a=goog.Promise.State_.REJECTED,b=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(b,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=b,this.state_=a,this.parent_=null,this.scheduleCallbacks_(),a!=goog.Promise.State_.REJECTED||b instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,b)))};
goog.Promise.maybeThen_=function(a,b,c,d){if(a instanceof goog.Promise)return a.thenVoid(b,c,d),!0;if(goog.Thenable.isImplementedBy(a))return a.then(b,c,d),!0;if(goog.isObject(a))try{var e=a.then;if(goog.isFunction(e))return goog.Promise.tryThen_(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1};goog.Promise.tryThen_=function(a,b,c,d,e){var f=!1,h=function(a){f||(f=!0,c.call(e,a))},g=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,h,g)}catch(k){g(k)}};
goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))};goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_};goog.Promise.prototype.queueEntry_=function(a){goog.asserts.assert(null!=a.onFulfilled);this.callbackEntriesTail_?this.callbackEntriesTail_.next=a:this.callbackEntries_=a;this.callbackEntriesTail_=a};
goog.Promise.prototype.popEntry_=function(){var a=null;this.callbackEntries_&&(a=this.callbackEntries_,this.callbackEntries_=a.next,a.next=null);this.callbackEntries_||(this.callbackEntriesTail_=null);null!=a&&goog.asserts.assert(null!=a.onFulfilled);return a};goog.Promise.prototype.removeEntryAfter_=function(a){goog.asserts.assert(this.callbackEntries_);goog.asserts.assert(null!=a);a.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=a);a.next=a.next.next};
goog.Promise.prototype.executeCallbacks_=function(){for(var a;a=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(a,this.state_,this.result_);this.executing_=!1};
goog.Promise.prototype.executeCallback_=function(a,b,c){b==goog.Promise.State_.REJECTED&&a.onRejected&&!a.always&&this.removeUnhandledRejection_();if(a.child)a.child.parent_=null,goog.Promise.invokeCallback_(a,b,c);else try{a.always?a.onFulfilled.call(a.context):goog.Promise.invokeCallback_(a,b,c)}catch(d){goog.Promise.handleRejection_.call(null,d)}goog.Promise.returnEntry_(a)};
goog.Promise.invokeCallback_=function(a,b,c){b==goog.Promise.State_.FULFILLED?a.onFulfilled.call(a.context,c):a.onRejected&&a.onRejected.call(a.context,c)};goog.Promise.prototype.addStackTrace_=function(a){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(a.stack)){var b=a.stack.split("\n",4)[3];a=a.message;a+=Array(11-a.length).join(" ");this.stack_.push(a+b)}};
goog.Promise.prototype.appendLongStack_=function(a){if(goog.Promise.LONG_STACK_TRACES&&a&&goog.isString(a.stack)&&this.stack_.length){for(var b=["Promise trace:"],c=this;c;c=c.parent_){for(var d=this.currentStep_;0<=d;d--)b.push(c.stack_[d]);b.push("Value: ["+(c.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(c.result_)+">")}a.stack+="\n\n"+b.join("\n")}};
goog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var a=this;a&&a.unhandledRejectionId_;a=a.parent_)goog.global.clearTimeout(a.unhandledRejectionId_),a.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(a=this;a&&a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!1};
goog.Promise.addUnhandledRejection_=function(a,b){0<goog.Promise.UNHANDLED_REJECTION_DELAY?a.unhandledRejectionId_=goog.global.setTimeout(function(){a.appendLongStack_(b);goog.Promise.handleRejection_.call(null,b)},goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(a.hadUnhandledRejection_=!0,goog.async.run(function(){a.hadUnhandledRejection_&&(a.appendLongStack_(b),goog.Promise.handleRejection_.call(null,b))}))};goog.Promise.handleRejection_=goog.async.throwException;
goog.Promise.setUnhandledRejectionHandler=function(a){goog.Promise.handleRejection_=a};goog.Promise.CancellationError=function(a){goog.debug.Error.call(this,a)};goog.inherits(goog.Promise.CancellationError,goog.debug.Error);goog.Promise.CancellationError.prototype.name="cancel";goog.Promise.Resolver_=function(a,b,c){this.promise=a;this.resolve=b;this.reject=c};goog.Timer=function(a,b){goog.events.EventTarget.call(this);this.interval_=a||1;this.timerObject_=b||goog.Timer.defaultTimerObject;this.boundTick_=goog.bind(this.tick_,this);this.last_=goog.now()};goog.inherits(goog.Timer,goog.events.EventTarget);goog.Timer.MAX_TIMEOUT_=2147483647;goog.Timer.INVALID_TIMEOUT_ID_=-1;goog.Timer.prototype.enabled=!1;goog.Timer.defaultTimerObject=goog.global;goog.Timer.intervalScale=.8;goog.Timer.prototype.timer_=null;goog.Timer.prototype.getInterval=function(){return this.interval_};
goog.Timer.prototype.setInterval=function(a){this.interval_=a;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};goog.Timer.prototype.tick_=function(){if(this.enabled){var a=goog.now()-this.last_;0<a&&a<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.stop(),this.start()))}};
goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)};goog.Timer.prototype.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())};goog.Timer.prototype.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};
goog.Timer.TICK="tick";goog.Timer.callOnce=function(a,b,c){if(goog.isFunction(a))c&&(a=goog.bind(a,c));else if(a&&"function"==typeof a.handleEvent)a=goog.bind(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(b)>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(a,b||0)};goog.Timer.clear=function(a){goog.Timer.defaultTimerObject.clearTimeout(a)};
goog.Timer.promise=function(a,b){var c=null;return(new goog.Promise(function(d,e){c=goog.Timer.callOnce(function(){d(b)},a);c==goog.Timer.INVALID_TIMEOUT_ID_&&e(Error("Failed to schedule timer."))})).thenCatch(function(a){goog.Timer.clear(c);throw a;})};goog.string.StringBuffer=function(a,b){null!=a&&this.append.apply(this,arguments)};goog.string.StringBuffer.prototype.buffer_="";goog.string.StringBuffer.prototype.set=function(a){this.buffer_=""+a};goog.string.StringBuffer.prototype.append=function(a,b,c){this.buffer_+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.buffer_+=arguments[d];return this};goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""};goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length};
goog.string.StringBuffer.prototype.toString=function(){return this.buffer_};goog.ui.tree={};goog.ui.tree.BaseNode=function(a,b,c){goog.ui.Component.call(this,c);this.config_=b||goog.ui.tree.BaseNode.defaultConfig;this.html_=goog.html.SafeHtml.htmlEscapePreservingNewlines(a);this.expanded_=this.selected_=!1;this.toolTip_=null;this.afterLabelHtml_=goog.html.SafeHtml.EMPTY;this.isUserCollapsible_=!0;this.depth_=-1};goog.inherits(goog.ui.tree.BaseNode,goog.ui.Component);
goog.ui.tree.BaseNode.EventType={BEFORE_EXPAND:"beforeexpand",EXPAND:"expand",BEFORE_COLLAPSE:"beforecollapse",COLLAPSE:"collapse"};goog.ui.tree.BaseNode.allNodes={};goog.ui.tree.BaseNode.prototype.disposeInternal=function(){goog.ui.tree.BaseNode.superClass_.disposeInternal.call(this);this.tree&&(this.tree.removeNode(this),this.tree=null);this.setElementInternal(null)};
goog.ui.tree.BaseNode.prototype.initAccessibility=function(){var a=this.getElement();if(a){var b=this.getLabelElement();b&&!b.id&&(b.id=this.getId()+".label");goog.a11y.aria.setRole(a,"treeitem");goog.a11y.aria.setState(a,"selected",!1);goog.a11y.aria.setState(a,"level",this.getDepth());b&&goog.a11y.aria.setState(a,"labelledby",b.id);(b=this.getIconElement())&&goog.a11y.aria.setRole(b,"presentation");(b=this.getExpandIconElement())&&goog.a11y.aria.setRole(b,"presentation");if(b=this.getChildrenElement())if(goog.a11y.aria.setRole(b,
"group"),b.hasChildNodes())for(goog.a11y.aria.setState(a,goog.a11y.aria.State.EXPANDED,!1),a=this.getChildCount(),b=1;b<=a;b++){var c=this.getChildAt(b-1).getElement();goog.asserts.assert(c,"The child element cannot be null");goog.a11y.aria.setState(c,"setsize",a);goog.a11y.aria.setState(c,"posinset",b)}}};goog.ui.tree.BaseNode.prototype.createDom=function(){var a=this.getDomHelper().safeHtmlToNode(this.toSafeHtml());this.setElementInternal(a)};
goog.ui.tree.BaseNode.prototype.enterDocument=function(){goog.ui.tree.BaseNode.superClass_.enterDocument.call(this);goog.ui.tree.BaseNode.allNodes[this.getId()]=this;this.initAccessibility()};goog.ui.tree.BaseNode.prototype.exitDocument=function(){goog.ui.tree.BaseNode.superClass_.exitDocument.call(this);delete goog.ui.tree.BaseNode.allNodes[this.getId()]};
goog.ui.tree.BaseNode.prototype.addChildAt=function(a,b,c){goog.asserts.assert(!a.getParent());goog.asserts.assertInstanceof(a,goog.ui.tree.BaseNode);c=this.getChildAt(b-1);var d=this.getChildAt(b);goog.ui.tree.BaseNode.superClass_.addChildAt.call(this,a,b);a.previousSibling_=c;a.nextSibling_=d;c?c.nextSibling_=a:this.firstChild_=a;d?d.previousSibling_=a:this.lastChild_=a;(b=this.getTree())&&a.setTreeInternal(b);a.setDepth_(this.getDepth()+1);if(b=this.getElement())if(this.updateExpandIcon(),goog.a11y.aria.setState(b,
goog.a11y.aria.State.EXPANDED,this.getExpanded()),this.getExpanded()){b=this.getChildrenElement();a.getElement()||a.createDom();var e=a.getElement(),f=d&&d.getElement();b.insertBefore(e,f);this.isInDocument()&&a.enterDocument();d||(c?c.updateExpandIcon():(goog.style.setElementShown(b,!0),this.setExpanded(this.getExpanded())))}};
goog.ui.tree.BaseNode.prototype.add=function(a,b){goog.asserts.assert(!b||b.getParent()==this,"Can only add nodes before siblings");a.getParent()&&a.getParent().removeChild(a);this.addChildAt(a,b?this.indexOfChild(b):this.getChildCount());return a};
goog.ui.tree.BaseNode.prototype.removeChild=function(a,b){var c=this.getTree();b=c?c.getSelectedItem():null;if(b==a||a.contains(b))c.hasFocus()?(this.select(),goog.Timer.callOnce(this.onTimeoutSelect_,10,this)):this.select();goog.ui.tree.BaseNode.superClass_.removeChild.call(this,a);this.lastChild_==a&&(this.lastChild_=a.previousSibling_);this.firstChild_==a&&(this.firstChild_=a.nextSibling_);a.previousSibling_&&(a.previousSibling_.nextSibling_=a.nextSibling_);a.nextSibling_&&(a.nextSibling_.previousSibling_=
a.previousSibling_);b=a.isLastSibling();a.tree=null;a.depth_=-1;if(c&&(c.removeNode(a),this.isInDocument())){c=this.getChildrenElement();if(a.isInDocument()){var d=a.getElement();c.removeChild(d);a.exitDocument()}b&&(b=this.getLastChild())&&b.updateExpandIcon();this.hasChildren()||(c.style.display="none",this.updateExpandIcon(),this.updateIcon_(),(b=this.getElement())&&goog.a11y.aria.removeState(b,goog.a11y.aria.State.EXPANDED))}return a};goog.ui.tree.BaseNode.prototype.remove=goog.ui.tree.BaseNode.prototype.removeChild;
goog.ui.tree.BaseNode.prototype.onTimeoutSelect_=function(){this.select()};goog.ui.tree.BaseNode.prototype.getTree=goog.abstractMethod;goog.ui.tree.BaseNode.prototype.getDepth=function(){var a=this.depth_;0>a&&(a=this.computeDepth_(),this.setDepth_(a));return a};goog.ui.tree.BaseNode.prototype.computeDepth_=function(){var a=this.getParent();return a?a.getDepth()+1:0};
goog.ui.tree.BaseNode.prototype.setDepth_=function(a){if(a!=this.depth_){this.depth_=a;var b=this.getRowElement();if(b){var c=this.getPixelIndent_()+"px";this.isRightToLeft()?b.style.paddingRight=c:b.style.paddingLeft=c}this.forEachChild(function(b){b.setDepth_(a+1)})}};goog.ui.tree.BaseNode.prototype.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};goog.ui.tree.BaseNode.EMPTY_CHILDREN_=[];
goog.ui.tree.BaseNode.prototype.getChildren=function(){var a=[];this.forEachChild(function(b){a.push(b)});return a};goog.ui.tree.BaseNode.prototype.getFirstChild=function(){return this.getChildAt(0)};goog.ui.tree.BaseNode.prototype.getLastChild=function(){return this.getChildAt(this.getChildCount()-1)};goog.ui.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_};goog.ui.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_};
goog.ui.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_};goog.ui.tree.BaseNode.prototype.isSelected=function(){return this.selected_};goog.ui.tree.BaseNode.prototype.select=function(){var a=this.getTree();a&&a.setSelectedItem(this)};goog.ui.tree.BaseNode.prototype.deselect=goog.nullFunction;
goog.ui.tree.BaseNode.prototype.setSelectedInternal=function(a){if(this.selected_!=a){this.selected_=a;this.updateRow();var b=this.getElement();b&&(goog.a11y.aria.setState(b,"selected",a),a&&(a=this.getTree().getElement(),goog.asserts.assert(a,"The DOM element for the tree cannot be null"),goog.a11y.aria.setState(a,"activedescendant",this.getId())))}};goog.ui.tree.BaseNode.prototype.getExpanded=function(){return this.expanded_};
goog.ui.tree.BaseNode.prototype.setExpandedInternal=function(a){this.expanded_=a};
goog.ui.tree.BaseNode.prototype.setExpanded=function(a){var b=a!=this.expanded_;if(!b||this.dispatchEvent(a?goog.ui.tree.BaseNode.EventType.BEFORE_EXPAND:goog.ui.tree.BaseNode.EventType.BEFORE_COLLAPSE)){this.expanded_=a;var c=this.getTree();var d=this.getElement();if(this.hasChildren()){if(!a&&c&&this.contains(c.getSelectedItem())&&this.select(),d){if(c=this.getChildrenElement())if(goog.style.setElementShown(c,a),goog.a11y.aria.setState(d,goog.a11y.aria.State.EXPANDED,a),a&&this.isInDocument()&&
!c.hasChildNodes()){var e=[];this.forEachChild(function(a){e.push(a.toSafeHtml())});goog.dom.safe.setInnerHtml(c,goog.html.SafeHtml.concat(e));this.forEachChild(function(a){a.enterDocument()})}this.updateExpandIcon()}}else(c=this.getChildrenElement())&&goog.style.setElementShown(c,!1);d&&this.updateIcon_();b&&this.dispatchEvent(a?goog.ui.tree.BaseNode.EventType.EXPAND:goog.ui.tree.BaseNode.EventType.COLLAPSE)}};goog.ui.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.getExpanded())};
goog.ui.tree.BaseNode.prototype.expand=function(){this.setExpanded(!0)};goog.ui.tree.BaseNode.prototype.collapse=function(){this.setExpanded(!1)};goog.ui.tree.BaseNode.prototype.collapseChildren=function(){this.forEachChild(function(a){a.collapseAll()})};goog.ui.tree.BaseNode.prototype.collapseAll=function(){this.collapseChildren();this.collapse()};goog.ui.tree.BaseNode.prototype.expandChildren=function(){this.forEachChild(function(a){a.expandAll()})};
goog.ui.tree.BaseNode.prototype.expandAll=function(){this.expandChildren();this.expand()};goog.ui.tree.BaseNode.prototype.reveal=function(){var a=this.getParent();a&&(a.setExpanded(!0),a.reveal())};goog.ui.tree.BaseNode.prototype.setIsUserCollapsible=function(a){(this.isUserCollapsible_=a)||this.expand();this.getElement()&&this.updateExpandIcon()};goog.ui.tree.BaseNode.prototype.isUserCollapsible=function(){return this.isUserCollapsible_};
goog.ui.tree.BaseNode.prototype.toSafeHtml=function(){var a=this.getTree(),b=!a.getShowLines()||a==this.getParent()&&!a.getShowRootLines()?this.config_.cssChildrenNoLines:this.config_.cssChildren;a=this.getExpanded()&&this.hasChildren();b={"class":b,style:this.getLineStyle()};var c=[];a&&this.forEachChild(function(a){c.push(a.toSafeHtml())});a=goog.html.SafeHtml.create("div",b,c);return goog.html.SafeHtml.create("div",{"class":this.config_.cssItem,id:this.getId()},[this.getRowSafeHtml(),a])};
goog.ui.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)};goog.ui.tree.BaseNode.prototype.getRowSafeHtml=function(){var a={};a["padding-"+(this.isRightToLeft()?"right":"left")]=this.getPixelIndent_()+"px";a={"class":this.getRowClassName(),style:a};var b=[this.getExpandIconSafeHtml(),this.getIconSafeHtml(),this.getLabelSafeHtml()];return goog.html.SafeHtml.create("div",a,b)};
goog.ui.tree.BaseNode.prototype.getRowClassName=function(){var a=this.isSelected()?" "+this.config_.cssSelectedRow:"";return this.config_.cssTreeRow+a};goog.ui.tree.BaseNode.prototype.getLabelSafeHtml=function(){var a=goog.html.SafeHtml.create("span",{"class":this.config_.cssItemLabel,title:this.getToolTip()||null},this.getSafeHtml());return goog.html.SafeHtml.concat(a,goog.html.SafeHtml.create("span",{},this.getAfterLabelSafeHtml()))};goog.ui.tree.BaseNode.prototype.getAfterLabelHtml=function(){return goog.html.SafeHtml.unwrap(this.getAfterLabelSafeHtml())};
goog.ui.tree.BaseNode.prototype.getAfterLabelSafeHtml=function(){return this.afterLabelHtml_};goog.ui.tree.BaseNode.prototype.setAfterLabelSafeHtml=function(a){this.afterLabelHtml_=a;var b=this.getAfterLabelElement();b&&goog.dom.safe.setInnerHtml(b,a)};goog.ui.tree.BaseNode.prototype.getIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{style:{display:"inline-block"},"class":this.getCalculatedIconClass()})};goog.ui.tree.BaseNode.prototype.getCalculatedIconClass=goog.abstractMethod;
goog.ui.tree.BaseNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{type:"expand",style:{display:"inline-block"},"class":this.getExpandIconClass()})};
goog.ui.tree.BaseNode.prototype.getExpandIconClass=function(){var a=this.getTree(),b=!a.getShowLines()||a==this.getParent()&&!a.getShowRootLines(),c=this.config_,d=new goog.string.StringBuffer;d.append(c.cssTreeIcon," ",c.cssExpandTreeIcon," ");if(this.hasChildren()){var e=0;a.getShowExpandIcons()&&this.isUserCollapsible_&&(e=this.getExpanded()?2:1);b||(e=this.isLastSibling()?e+4:e+8);switch(e){case 1:d.append(c.cssExpandTreeIconPlus);break;case 2:d.append(c.cssExpandTreeIconMinus);break;case 4:d.append(c.cssExpandTreeIconL);
break;case 5:d.append(c.cssExpandTreeIconLPlus);break;case 6:d.append(c.cssExpandTreeIconLMinus);break;case 8:d.append(c.cssExpandTreeIconT);break;case 9:d.append(c.cssExpandTreeIconTPlus);break;case 10:d.append(c.cssExpandTreeIconTMinus);break;default:d.append(c.cssExpandTreeIconBlank)}}else b?d.append(c.cssExpandTreeIconBlank):this.isLastSibling()?d.append(c.cssExpandTreeIconL):d.append(c.cssExpandTreeIconT);return d.toString()};
goog.ui.tree.BaseNode.prototype.getLineStyle=function(){var a=this.getExpanded()&&this.hasChildren();return goog.html.SafeStyle.create({"background-position":this.getBackgroundPosition(),display:a?null:"none"})};goog.ui.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"};
goog.ui.tree.BaseNode.prototype.getElement=function(){var a=goog.ui.tree.BaseNode.superClass_.getElement.call(this);a||(a=this.getDomHelper().getElement(this.getId()),this.setElementInternal(a));return a};goog.ui.tree.BaseNode.prototype.getRowElement=function(){var a=this.getElement();return a?a.firstChild:null};goog.ui.tree.BaseNode.prototype.getExpandIconElement=function(){var a=this.getRowElement();return a?a.firstChild:null};
goog.ui.tree.BaseNode.prototype.getIconElement=function(){var a=this.getRowElement();return a?a.childNodes[1]:null};goog.ui.tree.BaseNode.prototype.getLabelElement=function(){var a=this.getRowElement();return a&&a.lastChild?a.lastChild.previousSibling:null};goog.ui.tree.BaseNode.prototype.getAfterLabelElement=function(){var a=this.getRowElement();return a?a.lastChild:null};goog.ui.tree.BaseNode.prototype.getChildrenElement=function(){var a=this.getElement();return a?a.lastChild:null};
goog.ui.tree.BaseNode.prototype.setIconClass=function(a){this.iconClass_=a;this.isInDocument()&&this.updateIcon_()};goog.ui.tree.BaseNode.prototype.getIconClass=function(){return this.iconClass_};goog.ui.tree.BaseNode.prototype.setExpandedIconClass=function(a){this.expandedIconClass_=a;this.isInDocument()&&this.updateIcon_()};goog.ui.tree.BaseNode.prototype.getExpandedIconClass=function(){return this.expandedIconClass_};goog.ui.tree.BaseNode.prototype.setText=function(a){this.setSafeHtml(goog.html.SafeHtml.htmlEscape(a))};
goog.ui.tree.BaseNode.prototype.getText=function(){return goog.string.unescapeEntities(goog.html.SafeHtml.unwrap(this.html_))};goog.ui.tree.BaseNode.prototype.setSafeHtml=function(a){this.html_=a;var b=this.getLabelElement();b&&goog.dom.safe.setInnerHtml(b,a);(a=this.getTree())&&a.setNode(this)};goog.ui.tree.BaseNode.prototype.getHtml=function(){return goog.html.SafeHtml.unwrap(this.getSafeHtml())};goog.ui.tree.BaseNode.prototype.getSafeHtml=function(){return this.html_};
goog.ui.tree.BaseNode.prototype.setToolTip=function(a){this.toolTip_=a;var b=this.getLabelElement();b&&(b.title=a)};goog.ui.tree.BaseNode.prototype.getToolTip=function(){return this.toolTip_};goog.ui.tree.BaseNode.prototype.updateRow=function(){var a=this.getRowElement();a&&(a.className=this.getRowClassName())};
goog.ui.tree.BaseNode.prototype.updateExpandIcon=function(){var a=this.getExpandIconElement();a&&(a.className=this.getExpandIconClass());if(a=this.getChildrenElement())a.style.backgroundPosition=this.getBackgroundPosition()};goog.ui.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()};
goog.ui.tree.BaseNode.prototype.onMouseDown=function(a){"expand"==a.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())};goog.ui.tree.BaseNode.prototype.onClick_=goog.events.Event.preventDefault;goog.ui.tree.BaseNode.prototype.onDoubleClick_=function(a){"expand"==a.target.getAttribute("type")&&this.hasChildren()||this.isUserCollapsible_&&this.toggle()};
goog.ui.tree.BaseNode.prototype.onKeyDown=function(a){var b=!0;switch(a.keyCode){case goog.events.KeyCodes.RIGHT:if(a.altKey)break;this.hasChildren()&&(this.getExpanded()?this.getFirstChild().select():this.setExpanded(!0));break;case goog.events.KeyCodes.LEFT:if(a.altKey)break;if(this.hasChildren()&&this.getExpanded()&&this.isUserCollapsible_)this.setExpanded(!1);else{var c=this.getParent(),d=this.getTree();c&&(d.getShowRootNode()||c!=d)&&c.select()}break;case goog.events.KeyCodes.DOWN:(c=this.getNextShownNode())&&
c.select();break;case goog.events.KeyCodes.UP:(c=this.getPreviousShownNode())&&c.select();break;default:b=!1}b&&(a.preventDefault(),(d=this.getTree())&&d.clearTypeAhead());return b};goog.ui.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.getExpanded()&&this.hasChildren()?this.getLastChild().getLastShownDescendant():this};
goog.ui.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.getExpanded())return this.getFirstChild();for(var a=this,b;a!=this.getTree();){b=a.getNextSibling();if(null!=b)return b;a=a.getParent()}return null};goog.ui.tree.BaseNode.prototype.getPreviousShownNode=function(){var a=this.getPreviousSibling();if(null!=a)return a.getLastShownDescendant();a=this.getParent();var b=this.getTree();return!b.getShowRootNode()&&a==b||this==b?null:a};
goog.ui.tree.BaseNode.prototype.getClientData=goog.ui.tree.BaseNode.prototype.getModel;goog.ui.tree.BaseNode.prototype.setClientData=goog.ui.tree.BaseNode.prototype.setModel;goog.ui.tree.BaseNode.prototype.getConfig=function(){return this.config_};goog.ui.tree.BaseNode.prototype.setTreeInternal=function(a){this.tree!=a&&(this.tree=a,a.setNode(this),this.forEachChild(function(b){b.setTreeInternal(a)}))};
goog.ui.tree.BaseNode.defaultConfig={indentWidth:19,cssRoot:"goog-tree-root goog-tree-item",cssHideRoot:"goog-tree-hide-root",cssItem:"goog-tree-item",cssChildren:"goog-tree-children",cssChildrenNoLines:"goog-tree-children-nolines",cssTreeRow:"goog-tree-row",cssItemLabel:"goog-tree-item-label",cssTreeIcon:"goog-tree-icon",cssExpandTreeIcon:"goog-tree-expand-icon",cssExpandTreeIconPlus:"goog-tree-expand-icon-plus",cssExpandTreeIconMinus:"goog-tree-expand-icon-minus",cssExpandTreeIconTPlus:"goog-tree-expand-icon-tplus",
cssExpandTreeIconTMinus:"goog-tree-expand-icon-tminus",cssExpandTreeIconLPlus:"goog-tree-expand-icon-lplus",cssExpandTreeIconLMinus:"goog-tree-expand-icon-lminus",cssExpandTreeIconT:"goog-tree-expand-icon-t",cssExpandTreeIconL:"goog-tree-expand-icon-l",cssExpandTreeIconBlank:"goog-tree-expand-icon-blank",cssExpandedFolderIcon:"goog-tree-expanded-folder-icon",cssCollapsedFolderIcon:"goog-tree-collapsed-folder-icon",cssFileIcon:"goog-tree-file-icon",cssExpandedRootIcon:"goog-tree-expanded-folder-icon",
cssCollapsedRootIcon:"goog-tree-collapsed-folder-icon",cssSelectedRow:"selected"};goog.ui.tree.TreeNode=function(a,b,c){goog.ui.tree.BaseNode.call(this,a,b,c)};goog.inherits(goog.ui.tree.TreeNode,goog.ui.tree.BaseNode);goog.ui.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var a=this.getParent();return a&&(a=a.getTree())?(this.setTreeInternal(a),a):null};
goog.ui.tree.TreeNode.prototype.getCalculatedIconClass=function(){var a=this.getExpanded(),b=this.getExpandedIconClass();if(a&&b)return b;b=this.getIconClass();if(!a&&b)return b;b=this.getConfig();if(this.hasChildren()){if(a&&b.cssExpandedFolderIcon)return b.cssTreeIcon+" "+b.cssExpandedFolderIcon;if(!a&&b.cssCollapsedFolderIcon)return b.cssTreeIcon+" "+b.cssCollapsedFolderIcon}else if(b.cssFileIcon)return b.cssTreeIcon+" "+b.cssFileIcon;return""};goog.structs={};goog.structs.getCount=function(a){return a.getCount&&"function"==typeof a.getCount?a.getCount():goog.isArrayLike(a)||goog.isString(a)?a.length:goog.object.getCount(a)};goog.structs.getValues=function(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if(goog.isString(a))return a.split("");if(goog.isArrayLike(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return goog.object.getValues(a)};
goog.structs.getKeys=function(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if(goog.isArrayLike(a)||goog.isString(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return goog.object.getKeys(a)}};
goog.structs.contains=function(a,b){return a.contains&&"function"==typeof a.contains?a.contains(b):a.containsValue&&"function"==typeof a.containsValue?a.containsValue(b):goog.isArrayLike(a)||goog.isString(a)?goog.array.contains(a,b):goog.object.containsValue(a,b)};goog.structs.isEmpty=function(a){return a.isEmpty&&"function"==typeof a.isEmpty?a.isEmpty():goog.isArrayLike(a)||goog.isString(a)?goog.array.isEmpty(a):goog.object.isEmpty(a)};
goog.structs.clear=function(a){a.clear&&"function"==typeof a.clear?a.clear():goog.isArrayLike(a)?goog.array.clear(a):goog.object.clear(a)};goog.structs.forEach=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(goog.isArrayLike(a)||goog.isString(a))goog.array.forEach(a,b,c);else for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)};
goog.structs.filter=function(a,b,c){if("function"==typeof a.filter)return a.filter(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.filter(a,b,c);var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length;if(d){var h={};for(var g=0;g<f;g++)b.call(c,e[g],d[g],a)&&(h[d[g]]=e[g])}else for(h=[],g=0;g<f;g++)b.call(c,e[g],void 0,a)&&h.push(e[g]);return h};
goog.structs.map=function(a,b,c){if("function"==typeof a.map)return a.map(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.map(a,b,c);var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length;if(d){var h={};for(var g=0;g<f;g++)h[d[g]]=b.call(c,e[g],d[g],a)}else for(h=[],g=0;g<f;g++)h[g]=b.call(c,e[g],void 0,a);return h};
goog.structs.some=function(a,b,c){if("function"==typeof a.some)return a.some(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.some(a,b,c);for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,h=0;h<f;h++)if(b.call(c,e[h],d&&d[h],a))return!0;return!1};
goog.structs.every=function(a,b,c){if("function"==typeof a.every)return a.every(b,c);if(goog.isArrayLike(a)||goog.isString(a))return goog.array.every(a,b,c);for(var d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,h=0;h<f;h++)if(!b.call(c,e[h],d&&d[h],a))return!1;return!0};goog.structs.Trie=function(a){this.value_=void 0;this.childNodes_={};a&&this.setAll(a)};goog.structs.Trie.prototype.set=function(a,b){this.setOrAdd_(a,b,!1)};goog.structs.Trie.prototype.add=function(a,b){this.setOrAdd_(a,b,!0)};
goog.structs.Trie.prototype.setOrAdd_=function(a,b,c){for(var d=this,e=0;e<a.length;e++){var f=a.charAt(e);d.childNodes_[f]||(d.childNodes_[f]=new goog.structs.Trie);d=d.childNodes_[f]}if(c&&void 0!==d.value_)throw Error('The collection already contains the key "'+a+'"');d.value_=b};goog.structs.Trie.prototype.setAll=function(a){var b=goog.structs.getKeys(a);a=goog.structs.getValues(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])};
goog.structs.Trie.prototype.getChildNode_=function(a){for(var b=this,c=0;c<a.length;c++){var d=a.charAt(c);b=b.childNodes_[d];if(!b)return}return b};goog.structs.Trie.prototype.get=function(a){return(a=this.getChildNode_(a))?a.value_:void 0};goog.structs.Trie.prototype.getKeyAndPrefixes=function(a,b){var c=this,d={};b=b||0;void 0!==c.value_&&(d[b]=c.value_);for(;b<a.length;b++){var e=a.charAt(b);if(!(e in c.childNodes_))break;c=c.childNodes_[e];void 0!==c.value_&&(d[b]=c.value_)}return d};
goog.structs.Trie.prototype.getValues=function(){var a=[];this.getValuesInternal_(a);return a};goog.structs.Trie.prototype.getValuesInternal_=function(a){void 0!==this.value_&&a.push(this.value_);for(var b in this.childNodes_)this.childNodes_[b].getValuesInternal_(a)};goog.structs.Trie.prototype.getKeys=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.childNodes_[e])return[];c=c.childNodes_[e]}c.getKeysInternal_(a,b)}else this.getKeysInternal_("",b);return b};
goog.structs.Trie.prototype.getKeysInternal_=function(a,b){void 0!==this.value_&&b.push(a);for(var c in this.childNodes_)this.childNodes_[c].getKeysInternal_(a+c,b)};goog.structs.Trie.prototype.containsKey=function(a){return void 0!==this.get(a)};goog.structs.Trie.prototype.containsPrefix=function(a){return 0==a.length?!this.isEmpty():!!this.getChildNode_(a)};
goog.structs.Trie.prototype.containsValue=function(a){if(this.value_===a)return!0;for(var b in this.childNodes_)if(this.childNodes_[b].containsValue(a))return!0;return!1};goog.structs.Trie.prototype.clear=function(){this.childNodes_={};this.value_=void 0};
goog.structs.Trie.prototype.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var e=a.charAt(d);if(!b.childNodes_[e])throw Error('The collection does not have the key "'+a+'"');c.push([b,e]);b=b.childNodes_[e]}a=b.value_;for(delete b.value_;0<c.length;)if(e=c.pop(),b=e[0],e=e[1],b.childNodes_[e].isEmpty())delete b.childNodes_[e];else break;return a};goog.structs.Trie.prototype.clone=function(){return new goog.structs.Trie(this)};goog.structs.Trie.prototype.getCount=function(){return goog.structs.getCount(this.getValues())};
goog.structs.Trie.prototype.isEmpty=function(){return void 0===this.value_&&goog.object.isEmpty(this.childNodes_)};goog.ui.tree.TypeAhead=function(){this.nodeMap_=new goog.structs.Trie;this.buffer_="";this.matchingNodes_=this.matchingLabels_=null;this.matchingNodeIndex_=this.matchingLabelIndex_=0};goog.ui.tree.TypeAhead.Offset={DOWN:1,UP:-1};
goog.ui.tree.TypeAhead.prototype.handleNavigation=function(a){var b=!1;switch(a.keyCode){case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.UP:a.ctrlKey&&(this.jumpTo_(a.keyCode==goog.events.KeyCodes.DOWN?goog.ui.tree.TypeAhead.Offset.DOWN:goog.ui.tree.TypeAhead.Offset.UP),b=!0);break;case goog.events.KeyCodes.BACKSPACE:a=this.buffer_.length-1;b=!0;0<a?(this.buffer_=this.buffer_.substring(0,a),this.jumpToLabel_(this.buffer_)):0==a?this.buffer_="":b=!1;break;case goog.events.KeyCodes.ESC:this.buffer_=
"",b=!0}return b};goog.ui.tree.TypeAhead.prototype.handleTypeAheadChar=function(a){var b=!1;a.ctrlKey||a.altKey||(a=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),goog.string.isUnicodeChar(a)&&(" "!=a||this.buffer_)&&(this.buffer_+=a,b=this.jumpToLabel_(this.buffer_)));return b};
goog.ui.tree.TypeAhead.prototype.setNodeInMap=function(a){var b=a.getText();if(b&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))){b=b.toLowerCase();var c=this.nodeMap_.get(b);c?c.push(a):this.nodeMap_.set(b,[a])}};
goog.ui.tree.TypeAhead.prototype.removeNodeFromMap=function(a){var b=a.getText();if(b&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))){b=b.toLowerCase();var c=this.nodeMap_.get(b);if(c){for(var d=a.getChildCount(),e=0;e<d;e++)this.removeNodeFromMap(a.getChildAt(e));goog.array.remove(c,a);c.length||this.nodeMap_.remove(b)}}};
goog.ui.tree.TypeAhead.prototype.jumpToLabel_=function(a){var b=!1;(a=this.nodeMap_.getKeys(a))&&a.length&&(this.matchingLabelIndex_=this.matchingNodeIndex_=0,b=this.nodeMap_.get(a[0]),b=this.selectMatchingNode_(b))&&(this.matchingLabels_=a);return b};
goog.ui.tree.TypeAhead.prototype.jumpTo_=function(a){var b=!1,c=this.matchingLabels_;if(c){b=null;var d=!1;if(this.matchingNodes_){var e=this.matchingNodeIndex_+a;0<=e&&e<this.matchingNodes_.length?(this.matchingNodeIndex_=e,b=this.matchingNodes_):d=!0}b||(e=this.matchingLabelIndex_+a,0<=e&&e<c.length&&(this.matchingLabelIndex_=e),c.length>this.matchingLabelIndex_&&(b=this.nodeMap_.get(c[this.matchingLabelIndex_])),b&&b.length&&d&&(this.matchingNodeIndex_=a==goog.ui.tree.TypeAhead.Offset.UP?b.length-
1:0));if(b=this.selectMatchingNode_(b))this.matchingLabels_=c}return b};goog.ui.tree.TypeAhead.prototype.selectMatchingNode_=function(a){if(a){if(this.matchingNodeIndex_<a.length){var b=a[this.matchingNodeIndex_];this.matchingNodes_=a}b&&(b.reveal(),b.select())}return!!b};goog.ui.tree.TypeAhead.prototype.clear=function(){this.buffer_=""};goog.ui.tree.TreeControl=function(a,b,c){goog.ui.tree.BaseNode.call(this,a,b,c);this.setExpandedInternal(!0);this.setSelectedInternal(!0);this.selectedItem_=this;this.typeAhead_=new goog.ui.tree.TypeAhead;this.focusHandler_=this.keyHandler_=null;this.logger_=goog.log.getLogger("this");this.focused_=!1;this.focusedNode_=null;this.showRootLines_=this.showRootNode_=this.showExpandIcons_=this.showLines_=!0;if(goog.userAgent.IE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){goog.log.warning(this.logger_,
"Failed to enable background image cache")}};goog.inherits(goog.ui.tree.TreeControl,goog.ui.tree.BaseNode);goog.ui.tree.TreeControl.prototype.getTree=function(){return this};goog.ui.tree.TreeControl.prototype.getDepth=function(){return 0};goog.ui.tree.TreeControl.prototype.reveal=function(){};goog.ui.tree.TreeControl.prototype.handleFocus_=function(a){this.focused_=!0;goog.dom.classlist.add(goog.asserts.assert(this.getElement()),"focused");this.selectedItem_&&this.selectedItem_.select()};
goog.ui.tree.TreeControl.prototype.handleBlur_=function(a){this.focused_=!1;goog.dom.classlist.remove(goog.asserts.assert(this.getElement()),"focused")};goog.ui.tree.TreeControl.prototype.hasFocus=function(){return this.focused_};goog.ui.tree.TreeControl.prototype.getExpanded=function(){return!this.showRootNode_||goog.ui.tree.TreeControl.superClass_.getExpanded.call(this)};
goog.ui.tree.TreeControl.prototype.setExpanded=function(a){this.showRootNode_?goog.ui.tree.TreeControl.superClass_.setExpanded.call(this,a):this.setExpandedInternal(a)};goog.ui.tree.TreeControl.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.EMPTY};goog.ui.tree.TreeControl.prototype.getIconElement=function(){var a=this.getRowElement();return a?a.firstChild:null};goog.ui.tree.TreeControl.prototype.getExpandIconElement=function(){return null};
goog.ui.tree.TreeControl.prototype.updateExpandIcon=function(){};goog.ui.tree.TreeControl.prototype.getRowClassName=function(){return goog.ui.tree.TreeControl.superClass_.getRowClassName.call(this)+(this.showRootNode_?"":" "+this.getConfig().cssHideRoot)};
goog.ui.tree.TreeControl.prototype.getCalculatedIconClass=function(){var a=this.getExpanded(),b=this.getExpandedIconClass();if(a&&b)return b;b=this.getIconClass();if(!a&&b)return b;b=this.getConfig();return a&&b.cssExpandedRootIcon?b.cssTreeIcon+" "+b.cssExpandedRootIcon:!a&&b.cssCollapsedRootIcon?b.cssTreeIcon+" "+b.cssCollapsedRootIcon:""};
goog.ui.tree.TreeControl.prototype.setSelectedItem=function(a){if(this.selectedItem_!=a){var b=!1;this.selectedItem_&&(b=this.selectedItem_==this.focusedNode_,this.selectedItem_.setSelectedInternal(!1));if(this.selectedItem_=a)a.setSelectedInternal(!0),b&&a.select();this.dispatchEvent(goog.events.EventType.CHANGE)}};goog.ui.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_};
goog.ui.tree.TreeControl.prototype.setShowLines=function(a){this.showLines_!=a&&(this.showLines_=a,this.isInDocument()&&this.updateLinesAndExpandIcons_())};goog.ui.tree.TreeControl.prototype.getShowLines=function(){return this.showLines_};
goog.ui.tree.TreeControl.prototype.updateLinesAndExpandIcons_=function(){function a(e){var f=e.getChildrenElement();if(f){var h=!c||b==e.getParent()&&!d?e.getConfig().cssChildrenNoLines:e.getConfig().cssChildren;f.className=h;if(f=e.getExpandIconElement())f.className=e.getExpandIconClass()}e.forEachChild(a)}var b=this,c=b.getShowLines(),d=b.getShowRootLines();a(this)};
goog.ui.tree.TreeControl.prototype.setShowRootLines=function(a){this.showRootLines_!=a&&(this.showRootLines_=a,this.isInDocument()&&this.updateLinesAndExpandIcons_())};goog.ui.tree.TreeControl.prototype.getShowRootLines=function(){return this.showRootLines_};goog.ui.tree.TreeControl.prototype.setShowExpandIcons=function(a){this.showExpandIcons_!=a&&(this.showExpandIcons_=a,this.isInDocument()&&this.updateLinesAndExpandIcons_())};goog.ui.tree.TreeControl.prototype.getShowExpandIcons=function(){return this.showExpandIcons_};
goog.ui.tree.TreeControl.prototype.setShowRootNode=function(a){if(this.showRootNode_!=a){this.showRootNode_=a;if(this.isInDocument()){var b=this.getRowElement();b&&(b.className=this.getRowClassName())}!a&&this.getSelectedItem()==this&&this.getFirstChild()&&this.setSelectedItem(this.getFirstChild())}};goog.ui.tree.TreeControl.prototype.getShowRootNode=function(){return this.showRootNode_};
goog.ui.tree.TreeControl.prototype.initAccessibility=function(){goog.ui.tree.TreeControl.superClass_.initAccessibility.call(this);var a=this.getElement();goog.asserts.assert(a,"The DOM element for the tree cannot be null.");goog.a11y.aria.setRole(a,"tree");goog.a11y.aria.setState(a,"labelledby",this.getLabelElement().id)};
goog.ui.tree.TreeControl.prototype.enterDocument=function(){goog.ui.tree.TreeControl.superClass_.enterDocument.call(this);var a=this.getElement();a.className=this.getConfig().cssRoot;a.setAttribute("hideFocus","true");this.attachEvents_();this.initAccessibility()};goog.ui.tree.TreeControl.prototype.exitDocument=function(){goog.ui.tree.TreeControl.superClass_.exitDocument.call(this);this.detachEvents_()};
goog.ui.tree.TreeControl.prototype.attachEvents_=function(){var a=this.getElement();a.tabIndex=0;var b=this.keyHandler_=new goog.events.KeyHandler(a),c=this.focusHandler_=new goog.events.FocusHandler(a);this.getHandler().listen(c,goog.events.FocusHandler.EventType.FOCUSOUT,this.handleBlur_).listen(c,goog.events.FocusHandler.EventType.FOCUSIN,this.handleFocus_).listen(b,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(a,goog.events.EventType.MOUSEDOWN,this.handleMouseEvent_).listen(a,
goog.events.EventType.CLICK,this.handleMouseEvent_).listen(a,goog.events.EventType.DBLCLICK,this.handleMouseEvent_)};goog.ui.tree.TreeControl.prototype.detachEvents_=function(){this.keyHandler_.dispose();this.keyHandler_=null;this.focusHandler_.dispose();this.focusHandler_=null};
goog.ui.tree.TreeControl.prototype.handleMouseEvent_=function(a){goog.log.fine(this.logger_,"Received event "+a.type);var b=this.getNodeFromEvent_(a);if(b)switch(a.type){case goog.events.EventType.MOUSEDOWN:b.onMouseDown(a);break;case goog.events.EventType.CLICK:b.onClick_(a);break;case goog.events.EventType.DBLCLICK:b.onDoubleClick_(a)}};
goog.ui.tree.TreeControl.prototype.handleKeyEvent=function(a){var b;(b=this.typeAhead_.handleNavigation(a)||this.selectedItem_&&this.selectedItem_.onKeyDown(a)||this.typeAhead_.handleTypeAheadChar(a))&&a.preventDefault();return b};goog.ui.tree.TreeControl.prototype.getNodeFromEvent_=function(a){for(var b=a.target;null!=b;){if(a=goog.ui.tree.BaseNode.allNodes[b.id])return a;if(b==this.getElement())break;b=b.parentNode}return null};
goog.ui.tree.TreeControl.prototype.createNode=function(a){return new goog.ui.tree.TreeNode(a||goog.html.SafeHtml.EMPTY,this.getConfig(),this.getDomHelper())};goog.ui.tree.TreeControl.prototype.setNode=function(a){this.typeAhead_.setNodeInMap(a)};goog.ui.tree.TreeControl.prototype.removeNode=function(a){this.typeAhead_.removeNodeFromMap(a)};goog.ui.tree.TreeControl.prototype.clearTypeAhead=function(){this.typeAhead_.clear()};goog.ui.tree.TreeControl.defaultConfig=goog.ui.tree.BaseNode.defaultConfig;Blockly.Toolbox=function(a){this.workspace_=a;this.RTL=a.options.RTL;this.horizontalLayout_=a.options.horizontalLayout;this.toolboxPosition=a.options.toolboxPosition;this.config_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssItem:"",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"};this.treeSeparatorConfig_={cssTreeRow:"blocklyTreeSeparator"};
this.horizontalLayout_&&(this.config_.cssTreeRow+=a.RTL?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.treeSeparatorConfig_.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.RTL?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),this.config_.cssTreeIcon="")};Blockly.Toolbox.prototype.width=0;Blockly.Toolbox.prototype.height=0;Blockly.Toolbox.prototype.selectedOption_=null;Blockly.Toolbox.prototype.lastCategory_=null;
Blockly.Toolbox.prototype.init=function(){var a=this.workspace_,b=this.workspace_.getParentSvg();this.HtmlDiv=document.createElement("div");this.HtmlDiv.className="blocklyToolboxDiv";this.HtmlDiv.setAttribute("dir",a.RTL?"RTL":"LTR");b.parentNode.insertBefore(this.HtmlDiv,b);Blockly.bindEventWithChecks_(this.HtmlDiv,"mousedown",this,function(a){Blockly.utils.isRightButton(a)||a.target==this.HtmlDiv?Blockly.hideChaff(!1):Blockly.hideChaff(!0);Blockly.Touch.clearTouchIdentifier()},!1,!0);b={disabledPatternId:a.options.disabledPatternId,
parentWorkspace:a,RTL:a.RTL,oneBasedIndex:a.options.oneBasedIndex,horizontalLayout:a.horizontalLayout,toolboxPosition:a.options.toolboxPosition};this.flyout_=null;this.flyout_=a.horizontalLayout?new Blockly.HorizontalFlyout(b):new Blockly.VerticalFlyout(b);Blockly.utils.insertAfter(this.flyout_.createDom("svg"),this.workspace_.getParentSvg());this.flyout_.init(a);this.config_.cleardotPath=a.options.pathToMedia+"1x1.gif";this.config_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.RTL?"Rtl":"Ltr");
this.tree_=b=new Blockly.Toolbox.TreeControl(this,this.config_);b.setShowRootNode(!1);b.setShowLines(!1);b.setShowExpandIcons(!1);b.setSelectedItem(null);a=this.populate_(a.options.languageTree);b.render(this.HtmlDiv);a&&b.setSelectedItem(a);this.addColour_();this.position()};Blockly.Toolbox.prototype.dispose=function(){this.flyout_.dispose();this.tree_.dispose();Blockly.utils.removeNode(this.HtmlDiv);this.lastCategory_=this.workspace_=null};Blockly.Toolbox.prototype.getWidth=function(){return this.width};
Blockly.Toolbox.prototype.getHeight=function(){return this.height};
Blockly.Toolbox.prototype.position=function(){var a=this.HtmlDiv;if(a){var b=this.workspace_.getParentSvg();b=Blockly.svgSize(b);this.horizontalLayout_?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?a.style.top="0":a.style.bottom="0"):(this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.flyout_.position()}};
Blockly.Toolbox.prototype.populate_=function(a){this.tree_.removeChildren();this.tree_.blocks=[];this.hasColours_=!1;a=this.syncTrees_(a,this.tree_,this.workspace_.options.pathToMedia);if(this.tree_.blocks.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");this.workspace_.resizeContents();return a};
Blockly.Toolbox.prototype.syncTrees_=function(a,b,c){for(var d=null,e=null,f=0,h;h=a.childNodes[f];f++)if(h.tagName)switch(h.tagName.toUpperCase()){case "CATEGORY":e=Blockly.utils.replaceMessageReferences(h.getAttribute("name"));var g=this.tree_.createNode(e);g.blocks=[];b.add(g);var k=h.getAttribute("custom");k?g.blocks=k:(k=this.syncTrees_(h,g,c))&&(d=k);k=Blockly.utils.replaceMessageReferences(h.getAttribute("colour"));null===k||""===k?g.hexColour="":/^#[0-9a-fA-F]{6}$/.test(k)?(g.hexColour=k,
this.hasColours_=!0):"number"===typeof k||"string"===typeof k&&!isNaN(Number(k))?(g.hexColour=Blockly.hueToRgb(Number(k)),this.hasColours_=!0):(g.hexColour="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+k));"true"==h.getAttribute("expanded")?(g.blocks.length&&(d=g),g.setExpanded(!0)):g.setExpanded(!1);e=h;break;case "SEP":e&&("CATEGORY"==e.tagName.toUpperCase()?b.add(new Blockly.Toolbox.TreeSeparator(this.treeSeparatorConfig_)):(h=parseFloat(h.getAttribute("gap")),
!isNaN(h)&&e&&e.setAttribute("gap",h)));break;case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":b.blocks.push(h),e=h}return d};Blockly.Toolbox.prototype.addColour_=function(a){a=(a||this.tree_).getChildren(!1);for(var b=0,c;c=a[b];b++){var d=c.getRowElement();if(d){var e=this.hasColours_?"8px solid "+(c.hexColour||"#ddd"):"none";this.workspace_.RTL?d.style.borderRight=e:d.style.borderLeft=e}this.addColour_(c)}};Blockly.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)};
Blockly.Toolbox.prototype.addStyle=function(a){Blockly.utils.addClass(this.HtmlDiv,a)};Blockly.Toolbox.prototype.removeStyle=function(a){Blockly.utils.removeClass(this.HtmlDiv,a)};
Blockly.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var a=this.HtmlDiv.getBoundingClientRect(),b=a.left,c=a.top,d=a.width;a=a.height;return this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT?new goog.math.Rect(-1E7,-1E7,1E7+b+d,2E7):this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?new goog.math.Rect(b,-1E7,1E7+d,2E7):this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?new goog.math.Rect(-1E7,-1E7,2E7,1E7+c+a):new goog.math.Rect(0,c,2E7,1E7+d)};
Blockly.Toolbox.prototype.refreshSelection=function(){var a=this.tree_.getSelectedItem();a&&a.blocks&&this.flyout_.show(a.blocks)};Blockly.Toolbox.TreeControl=function(a,b){this.toolbox_=a;goog.ui.tree.TreeControl.call(this,goog.html.SafeHtml.EMPTY,b)};goog.inherits(Blockly.Toolbox.TreeControl,goog.ui.tree.TreeControl);
Blockly.Toolbox.TreeControl.prototype.enterDocument=function(){Blockly.Toolbox.TreeControl.superClass_.enterDocument.call(this);if(goog.events.BrowserFeature.TOUCH_ENABLED){var a=this.getElement();Blockly.bindEventWithChecks_(a,goog.events.EventType.TOUCHEND,this,this.handleTouchEvent_)}};Blockly.Toolbox.TreeControl.prototype.handleTouchEvent_=function(a){var b=this.getNodeFromEvent_(a);b&&a.type===goog.events.EventType.TOUCHEND&&setTimeout(function(){b.onClick_(a)},1)};
Blockly.Toolbox.TreeControl.prototype.createNode=function(a){a=a?goog.html.SafeHtml.htmlEscape(a):goog.html.SafeHtml.EMPTY;return new Blockly.Toolbox.TreeNode(this.toolbox_,a,this.getConfig(),this.getDomHelper())};
Blockly.Toolbox.TreeControl.prototype.setSelectedItem=function(a){var b=this.toolbox_;if(a!=this.selectedItem_&&a!=b.tree_){b.lastCategory_&&(b.lastCategory_.getRowElement().style.backgroundColor="");if(a){var c=a.hexColour||"#57e";a.getRowElement().style.backgroundColor=c;b.addColour_(a)}c=this.getSelectedItem();goog.ui.tree.TreeControl.prototype.setSelectedItem.call(this,a);a&&a.blocks&&a.blocks.length?(b.flyout_.show(a.blocks),b.lastCategory_!=a&&b.flyout_.scrollToStart()):b.flyout_.hide();c!=
a&&c!=this&&(c=new Blockly.Events.Ui(null,"category",c&&c.getHtml(),a&&a.getHtml()),c.workspaceId=b.workspace_.id,Blockly.Events.fire(c));a&&(b.lastCategory_=a)}};Blockly.Toolbox.TreeNode=function(a,b,c,d){goog.ui.tree.TreeNode.call(this,b,c,d);a&&(b=function(){Blockly.svgResize(a.workspace_)},goog.events.listen(a.tree_,goog.ui.tree.BaseNode.EventType.EXPAND,b),goog.events.listen(a.tree_,goog.ui.tree.BaseNode.EventType.COLLAPSE,b))};goog.inherits(Blockly.Toolbox.TreeNode,goog.ui.tree.TreeNode);
Blockly.Toolbox.TreeNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span")};Blockly.Toolbox.TreeNode.prototype.onClick_=function(a){this.hasChildren()&&this.isUserCollapsible_?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select();this.updateRow()};Blockly.Toolbox.TreeNode.prototype.onMouseDown=function(a){};Blockly.Toolbox.TreeNode.prototype.onDoubleClick_=function(a){};
Blockly.Toolbox.TreeNode.prototype.onKeyDown=function(a){if(this.tree.toolbox_.horizontalLayout_){var b={},c=goog.events.KeyCodes.DOWN,d=goog.events.KeyCodes.UP;b[goog.events.KeyCodes.RIGHT]=this.rightToLeft_?d:c;b[goog.events.KeyCodes.LEFT]=this.rightToLeft_?c:d;b[goog.events.KeyCodes.UP]=goog.events.KeyCodes.LEFT;b[goog.events.KeyCodes.DOWN]=goog.events.KeyCodes.RIGHT;a.keyCode=b[a.keyCode]||a.keyCode}return Blockly.Toolbox.TreeNode.superClass_.onKeyDown.call(this,a)};
Blockly.Toolbox.TreeSeparator=function(a){Blockly.Toolbox.TreeNode.call(this,null,goog.html.SafeHtml.EMPTY,a)};goog.inherits(Blockly.Toolbox.TreeSeparator,Blockly.Toolbox.TreeNode);Blockly.Css={};Blockly.Css.Cursor={OPEN:"handopen",CLOSED:"handclosed",DELETE:"handdelete"};Blockly.Css.currentCursor_="";Blockly.Css.styleSheet_=null;Blockly.Css.mediaPath_="";
Blockly.Css.inject=function(a,b){if(!Blockly.Css.styleSheet_){var c=".blocklyDraggable {}\n";a&&(c+=Blockly.Css.CONTENT.join("\n"),Blockly.FieldDate&&(c+=Blockly.FieldDate.CSS.join("\n")));Blockly.Css.mediaPath_=b.replace(/[\\\/]$/,"");c=c.replace(/<<<PATH>>>/g,Blockly.Css.mediaPath_);a=document.createElement("style");document.head.insertBefore(a,document.head.firstChild);c=document.createTextNode(c);a.appendChild(c);Blockly.Css.styleSheet_=a.sheet}};Blockly.Css.setCursor=function(a){console.warn("Deprecated call to Blockly.Css.setCursor.See https://github.com/google/blockly/issues/981 for context")};
Blockly.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;",
"position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;",
"}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {",
"fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {",
"fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",
".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;",
"}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;","stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;",
"}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;","outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {",
"display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",
".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {",
"fill: #bbb;","}",".blocklyZoom>image {","opacity: .4;","}",".blocklyZoom>image:hover {","opacity: .6;","}",".blocklyZoom>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;",
"}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",
".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;",
"margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;",
"}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {",
"border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;","padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;","width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;",
"cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","padding: 4px 7em 4px 28px;","white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 7em;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",
".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem {","padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;",
"filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight,",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 3px;","padding-top: 3px;","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",
".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","}",".blocklyWidgetDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel {",
"left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];Blockly.WidgetDiv={};Blockly.WidgetDiv.DIV=null;Blockly.WidgetDiv.owner_=null;Blockly.WidgetDiv.dispose_=null;Blockly.WidgetDiv.createDom=function(){Blockly.WidgetDiv.DIV||(Blockly.WidgetDiv.DIV=document.createElement("div"),Blockly.WidgetDiv.DIV.className="blocklyWidgetDiv",document.body.appendChild(Blockly.WidgetDiv.DIV))};
Blockly.WidgetDiv.show=function(a,b,c){Blockly.WidgetDiv.hide();Blockly.WidgetDiv.owner_=a;Blockly.WidgetDiv.dispose_=c;a=goog.style.getViewportPageOffset(document);Blockly.WidgetDiv.DIV.style.top=a.y+"px";Blockly.WidgetDiv.DIV.style.direction=b?"rtl":"ltr";Blockly.WidgetDiv.DIV.style.display="block"};
Blockly.WidgetDiv.hide=function(){Blockly.WidgetDiv.owner_&&(Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.DIV.style.display="none",Blockly.WidgetDiv.DIV.style.left="",Blockly.WidgetDiv.DIV.style.top="",Blockly.WidgetDiv.dispose_&&Blockly.WidgetDiv.dispose_(),Blockly.WidgetDiv.dispose_=null,Blockly.WidgetDiv.DIV.innerHTML="")};Blockly.WidgetDiv.isVisible=function(){return!!Blockly.WidgetDiv.owner_};Blockly.WidgetDiv.hideIfOwner=function(a){Blockly.WidgetDiv.owner_==a&&Blockly.WidgetDiv.hide()};
Blockly.WidgetDiv.position=function(a,b,c,d,e){b<d.y&&(b=d.y);e?a>c.width+d.x&&(a=c.width+d.x):a<d.x&&(a=d.x);Blockly.WidgetDiv.positionInternal_(a,b,c.height)};Blockly.WidgetDiv.positionInternal_=function(a,b,c){Blockly.WidgetDiv.DIV.style.left=a+"px";Blockly.WidgetDiv.DIV.style.top=b+"px";Blockly.WidgetDiv.DIV.style.height=c+"px"};
Blockly.WidgetDiv.positionWithAnchor=function(a,b,c,d){var e=Blockly.WidgetDiv.calculateY_(a,b,c);a=Blockly.WidgetDiv.calculateX_(a,b,c,d);Blockly.WidgetDiv.positionInternal_(a,e,c.height)};Blockly.WidgetDiv.calculateX_=function(a,b,c,d){if(d)return b=Math.max(b.right-c.width,a.left),Math.min(b,a.right-c.width);b=Math.min(b.left,a.right-c.width);return Math.max(b,a.left)};Blockly.WidgetDiv.calculateY_=function(a,b,c){return b.bottom+c.height>=a.bottom?b.top-c.height:b.bottom};Blockly.BlockDragSurfaceSvg=function(a){this.container_=a;this.createDom()};Blockly.BlockDragSurfaceSvg.prototype.SVG_=null;Blockly.BlockDragSurfaceSvg.prototype.dragGroup_=null;Blockly.BlockDragSurfaceSvg.prototype.container_=null;Blockly.BlockDragSurfaceSvg.prototype.scale_=1;Blockly.BlockDragSurfaceSvg.prototype.surfaceXY_=null;
Blockly.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=Blockly.utils.createSvgElement("svg",{xmlns:Blockly.SVG_NS,"xmlns:html":Blockly.HTML_NS,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.container_),this.dragGroup_=Blockly.utils.createSvgElement("g",{},this.SVG_))};
Blockly.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(a){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(a);this.SVG_.style.display="block";this.surfaceXY_=new goog.math.Coordinate(0,0)};Blockly.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(a,b,c){this.scale_=c;a=a.toFixed(0);b=b.toFixed(0);this.dragGroup_.setAttribute("transform","translate("+a+","+b+") scale("+c+")")};
Blockly.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var a=this.surfaceXY_.x,b=this.surfaceXY_.y;a=a.toFixed(0);b=b.toFixed(0);this.SVG_.style.display="block";Blockly.utils.setCssTransform(this.SVG_,"translate3d("+a+"px, "+b+"px, 0px)")};Blockly.BlockDragSurfaceSvg.prototype.translateSurface=function(a,b){this.surfaceXY_=new goog.math.Coordinate(a*this.scale_,b*this.scale_);this.translateSurfaceInternal_()};
Blockly.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var a=Blockly.utils.getRelativeXY(this.SVG_);return new goog.math.Coordinate(a.x/this.scale_,a.y/this.scale_)};Blockly.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_};Blockly.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild};
Blockly.BlockDragSurfaceSvg.prototype.clearAndHide=function(a){a?a.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock());this.SVG_.style.display="none";if(this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null};Blockly.inject=function(a,b){Blockly.checkBlockColourConstants();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!Blockly.utils.containsNode(document,a))throw Error("Error: container is not in current document.");b=new Blockly.Options(b||{});var c=document.createElement("div");c.className="injectionDiv";a.appendChild(c);a=Blockly.createDom_(c,b);var d=new Blockly.BlockDragSurfaceSvg(c);c=new Blockly.WorkspaceDragSurfaceSvg(c);b=Blockly.createMainWorkspace_(a,b,d,c);
Blockly.init_(b);Blockly.mainWorkspace=b;Blockly.svgResize(b);return b};
Blockly.createDom_=function(a,b){a.setAttribute("dir","LTR");goog.ui.Component.setDefaultRightToLeft(b.RTL);Blockly.Css.inject(b.hasCss,b.pathToMedia);a=Blockly.utils.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},a);var c=Blockly.utils.createSvgElement("defs",{},a),d=String(Math.random()).substring(2),e=Blockly.utils.createSvgElement("filter",{id:"blocklyEmbossFilter"+
d},c);Blockly.utils.createSvgElement("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},e);var f=Blockly.utils.createSvgElement("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e);Blockly.utils.createSvgElement("fePointLight",{x:-5E3,y:-1E4,z:2E4},f);Blockly.utils.createSvgElement("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e);Blockly.utils.createSvgElement("feComposite",
{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e);b.embossFilterId=e.id;e=Blockly.utils.createSvgElement("pattern",{id:"blocklyDisabledPattern"+d,patternUnits:"userSpaceOnUse",width:10,height:10},c);Blockly.utils.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},e);Blockly.utils.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e);b.disabledPatternId=e.id;b.gridPattern=Blockly.Grid.createDom(d,b.gridOptions,c);return a};
Blockly.createMainWorkspace_=function(a,b,c,d){b.parentWorkspace=null;var e=new Blockly.WorkspaceSvg(b,c,d);e.scale=b.zoomOptions.startScale;a.appendChild(e.createDom("blocklyMainBackground"));!b.hasCategories&&b.languageTree&&(c=e.addFlyout_("svg"),Blockly.utils.insertAfter(c,a));e.translate(0,0);Blockly.mainWorkspace=e;b.readOnly||b.hasScrollbars||e.addChangeListener(function(){if(!e.isDragging()){var a=e.getMetrics(),c=a.viewLeft+a.absoluteLeft,d=a.viewTop+a.absoluteTop;if(a.contentTop<d||a.contentTop+
a.contentHeight>a.viewHeight+d||a.contentLeft<(b.RTL?a.viewLeft:c)||a.contentLeft+a.contentWidth>(b.RTL?a.viewWidth:a.viewWidth+c))for(var k=e.getTopBlocks(!1),p=0,l;l=k[p];p++){var m=l.getRelativeToSurfaceXY(),t=l.getHeightWidth(),u=d+25-t.height-m.y;0<u&&l.moveBy(0,u);u=d+a.viewHeight-25-m.y;0>u&&l.moveBy(0,u);u=25+c-m.x-(b.RTL?0:t.width);0<u&&l.moveBy(u,0);m=c+a.viewWidth-25-m.x+(b.RTL?t.width:0);0>m&&l.moveBy(m,0)}}});Blockly.svgResize(e);Blockly.WidgetDiv.createDom();Blockly.Tooltip.createDom();
return e};
Blockly.init_=function(a){var b=a.options,c=a.getParentSvg();Blockly.bindEventWithChecks_(c.parentNode,"contextmenu",null,function(a){Blockly.utils.isTargetInput(a)||a.preventDefault()});c=Blockly.bindEventWithChecks_(window,"resize",null,function(){Blockly.hideChaff(!0);Blockly.svgResize(a)});a.setResizeHandlerWrapper(c);Blockly.inject.bindDocumentEvents_();b.languageTree&&(a.toolbox_?a.toolbox_.init(a):a.flyout_&&(a.flyout_.init(a),a.flyout_.show(b.languageTree.childNodes),a.flyout_.scrollToStart(),a.scrollX=
a.flyout_.width_,b.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(a.scrollX*=-1),a.translate(a.scrollX,0)));b.hasScrollbars&&(a.scrollbar=new Blockly.ScrollbarPair(a),a.scrollbar.resize());b.hasSounds&&Blockly.inject.loadSounds_(b.pathToMedia,a)};
Blockly.inject.bindDocumentEvents_=function(){Blockly.documentEventsBound_||(Blockly.bindEventWithChecks_(document,"keydown",null,Blockly.onKeyDown_),Blockly.bindEvent_(document,"touchend",null,Blockly.longStop_),Blockly.bindEvent_(document,"touchcancel",null,Blockly.longStop_),goog.userAgent.IPAD&&Blockly.bindEventWithChecks_(window,"orientationchange",document,function(){Blockly.svgResize(Blockly.getMainWorkspace())}));Blockly.documentEventsBound_=!0};
Blockly.inject.loadSounds_=function(a,b){var c=b.getAudioManager();c.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");c.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");c.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var d=[];a=function(){for(;d.length;)Blockly.unbindEvent_(d.pop());c.preload()};d.push(Blockly.bindEventWithChecks_(document,"mousemove",null,a,!0));d.push(Blockly.bindEventWithChecks_(document,"touchstart",null,a,!0))};
Blockly.updateToolbox=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");Blockly.getMainWorkspace().updateToolbox(a)};var CLOSURE_DEFINES={"goog.DEBUG":!1};Blockly.mainWorkspace=null;Blockly.selected=null;Blockly.draggingConnections_=[];Blockly.clipboardXml_=null;Blockly.clipboardSource_=null;Blockly.cache3dSupported_=null;Blockly.hueToRgb=function(a){return goog.color.hsvToHex(a,Blockly.HSV_SATURATION,255*Blockly.HSV_VALUE)};Blockly.svgSize=function(a){return{width:a.cachedWidth_,height:a.cachedHeight_}};Blockly.resizeSvgContents=function(a){a.resizeContents()};
Blockly.svgResize=function(a){for(;a.options.parentWorkspace;)a=a.options.parentWorkspace;var b=a.getParentSvg(),c=b.parentNode;if(c){var d=c.offsetWidth;c=c.offsetHeight;b.cachedWidth_!=d&&(b.setAttribute("width",d+"px"),b.cachedWidth_=d);b.cachedHeight_!=c&&(b.setAttribute("height",c+"px"),b.cachedHeight_=c);a.resize()}};
Blockly.onKeyDown_=function(a){var b=Blockly.mainWorkspace;if(!(b.options.readOnly||Blockly.utils.isTargetInput(a)||b.rendered&&!b.isVisible())){var c=!1;if(27==a.keyCode)Blockly.hideChaff();else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(b.isDragging())return;Blockly.selected&&Blockly.selected.isDeletable()&&(c=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(b.isDragging())return;Blockly.selected&&Blockly.selected.isDeletable()&&Blockly.selected.isMovable()&&(67==a.keyCode?(Blockly.hideChaff(),
Blockly.copy_(Blockly.selected)):88!=a.keyCode||Blockly.selected.workspace.isFlyout||(Blockly.copy_(Blockly.selected),c=!0));86==a.keyCode?Blockly.clipboardXml_&&(Blockly.Events.setGroup(!0),b=Blockly.clipboardSource_,b.isFlyout&&(b=b.targetWorkspace),b.paste(Blockly.clipboardXml_),Blockly.Events.setGroup(!1)):90==a.keyCode&&(Blockly.hideChaff(),b.undo(a.shiftKey))}c&&!Blockly.selected.workspace.isFlyout&&(Blockly.Events.setGroup(!0),Blockly.hideChaff(),Blockly.selected.dispose(!0,!0),Blockly.Events.setGroup(!1))}};
Blockly.copy_=function(a){if(a.isComment)var b=a.toXmlWithXY();else{b=Blockly.Xml.blockToDom(a);Blockly.Xml.deleteNext(b);var c=a.getRelativeToSurfaceXY();b.setAttribute("x",a.RTL?-c.x:c.x);b.setAttribute("y",c.y)}Blockly.clipboardXml_=b;Blockly.clipboardSource_=a.workspace};Blockly.duplicate_=function(a){var b=Blockly.clipboardXml_,c=Blockly.clipboardSource_;Blockly.copy_(a);a.workspace.paste(Blockly.clipboardXml_);Blockly.clipboardXml_=b;Blockly.clipboardSource_=c};
Blockly.onContextMenu_=function(a){Blockly.utils.isTargetInput(a)||a.preventDefault()};Blockly.hideChaff=function(a){Blockly.Tooltip.hide();Blockly.WidgetDiv.hide();a||(a=Blockly.getMainWorkspace(),a.toolbox_&&a.toolbox_.flyout_&&a.toolbox_.flyout_.autoClose&&a.toolbox_.clearSelection())};Blockly.addChangeListener=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return Blockly.getMainWorkspace().addChangeListener(a)};
Blockly.getMainWorkspace=function(){return Blockly.mainWorkspace};Blockly.alert=function(a,b){window.alert(a);b&&b()};Blockly.confirm=function(a,b){b(window.confirm(a))};Blockly.prompt=function(a,b,c){c(window.prompt(a,b))};Blockly.jsonInitFactory_=function(a){return function(){this.jsonInit(a)}};
Blockly.defineBlocksWithJsonArray=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;null==d||""===d?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(Blockly.Blocks[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),Blockly.Blocks[d]={init:Blockly.jsonInitFactory_(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}};
Blockly.bindEventWithChecks_=function(a,b,c,d,e,f){var h=!1,g=function(a){var b=!e;a=Blockly.Touch.splitEventByTouches(a);for(var f=0,g;g=a[f];f++)if(!b||Blockly.Touch.shouldHandleEvent(g))Blockly.Touch.setClientFromTouch(g),c?d.call(c,g):d(g),h=!0},k=[];if(goog.global.PointerEvent&&b in Blockly.Touch.TOUCH_MAP)for(var p=0,l;l=Blockly.Touch.TOUCH_MAP[b][p];p++)a.addEventListener(l,g,!1),k.push([a,l,g]);else if(a.addEventListener(b,g,!1),k.push([a,b,g]),b in Blockly.Touch.TOUCH_MAP){var m=function(a){g(a);
var b=!f;h&&b&&a.preventDefault()};for(p=0;l=Blockly.Touch.TOUCH_MAP[b][p];p++)a.addEventListener(l,m,!1),k.push([a,l,m])}return k};
Blockly.bindEvent_=function(a,b,c,d){var e=function(a){c?d.call(c,a):d(a)},f=[],h=goog.global.window;if(h&&h.PointerEvent&&b in Blockly.Touch.TOUCH_MAP){h=0;for(var g;g=Blockly.Touch.TOUCH_MAP[b][h];h++)a.addEventListener(g,e,!1),f.push([a,g,e])}else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in Blockly.Touch.TOUCH_MAP){var k=function(a){if(a.changedTouches&&1==a.changedTouches.length){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}e(a);a.preventDefault()};for(h=0;g=Blockly.Touch.TOUCH_MAP[b][h];h++)a.addEventListener(g,
k,!1),f.push([a,g,k])}return f};Blockly.unbindEvent_=function(a){for(;a.length;){var b=a.pop(),c=b[2];b[0].removeEventListener(b[1],c,!1)}return c};Blockly.isNumber=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};
Blockly.checkBlockColourConstants=function(){Blockly.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0);Blockly.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210);Blockly.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0);Blockly.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120);Blockly.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0);Blockly.checkBlockColourConstant_("MATH_HUE",["Constants","Math",
"HUE"],230);Blockly.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0);Blockly.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160);Blockly.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0);Blockly.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260);Blockly.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0);Blockly.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20);Blockly.checkBlockColourConstant_("VARIABLES_HUE",
["Blocks","variables","HUE"],void 0);Blockly.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330);Blockly.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);Blockly.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
Blockly.checkBlockColourConstant_=function(a,b,c){for(var d="Blockly",e=Blockly,f=0;f<b.length;++f)d+="."+b[f],e&&(e=e[b[f]]);e&&e!==c&&(a=(void 0===c?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",d).replace("%2",a),console.warn(a))};goog.global.console||(goog.global.console={log:function(){},warn:function(){}});goog.global.Blockly||(goog.global.Blockly={});goog.global.Blockly.getMainWorkspace=Blockly.getMainWorkspace;
goog.global.Blockly.addChangeListener=Blockly.addChangeListener;/*

 Visual Blocks Language

 Copyright 2012 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
Blockly.JavaScript=new Blockly.Generator("JavaScript");Blockly.JavaScript.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
Blockly.JavaScript.ORDER_ATOMIC=0;Blockly.JavaScript.ORDER_NEW=1.1;Blockly.JavaScript.ORDER_MEMBER=1.2;Blockly.JavaScript.ORDER_FUNCTION_CALL=2;Blockly.JavaScript.ORDER_INCREMENT=3;Blockly.JavaScript.ORDER_DECREMENT=3;Blockly.JavaScript.ORDER_BITWISE_NOT=4.1;Blockly.JavaScript.ORDER_UNARY_PLUS=4.2;Blockly.JavaScript.ORDER_UNARY_NEGATION=4.3;Blockly.JavaScript.ORDER_LOGICAL_NOT=4.4;Blockly.JavaScript.ORDER_TYPEOF=4.5;Blockly.JavaScript.ORDER_VOID=4.6;Blockly.JavaScript.ORDER_DELETE=4.7;
Blockly.JavaScript.ORDER_AWAIT=4.8;Blockly.JavaScript.ORDER_EXPONENTIATION=5;Blockly.JavaScript.ORDER_MULTIPLICATION=5.1;Blockly.JavaScript.ORDER_DIVISION=5.2;Blockly.JavaScript.ORDER_MODULUS=5.3;Blockly.JavaScript.ORDER_SUBTRACTION=6.1;Blockly.JavaScript.ORDER_ADDITION=6.2;Blockly.JavaScript.ORDER_BITWISE_SHIFT=7;Blockly.JavaScript.ORDER_RELATIONAL=8;Blockly.JavaScript.ORDER_IN=8;Blockly.JavaScript.ORDER_INSTANCEOF=8;Blockly.JavaScript.ORDER_EQUALITY=9;Blockly.JavaScript.ORDER_BITWISE_AND=10;
Blockly.JavaScript.ORDER_BITWISE_XOR=11;Blockly.JavaScript.ORDER_BITWISE_OR=12;Blockly.JavaScript.ORDER_LOGICAL_AND=13;Blockly.JavaScript.ORDER_LOGICAL_OR=14;Blockly.JavaScript.ORDER_CONDITIONAL=15;Blockly.JavaScript.ORDER_ASSIGNMENT=16;Blockly.JavaScript.ORDER_YIELD=17;Blockly.JavaScript.ORDER_COMMA=18;Blockly.JavaScript.ORDER_NONE=99;
Blockly.JavaScript.ORDER_OVERRIDES=[[Blockly.JavaScript.ORDER_FUNCTION_CALL,Blockly.JavaScript.ORDER_MEMBER],[Blockly.JavaScript.ORDER_FUNCTION_CALL,Blockly.JavaScript.ORDER_FUNCTION_CALL],[Blockly.JavaScript.ORDER_MEMBER,Blockly.JavaScript.ORDER_MEMBER],[Blockly.JavaScript.ORDER_MEMBER,Blockly.JavaScript.ORDER_FUNCTION_CALL],[Blockly.JavaScript.ORDER_LOGICAL_NOT,Blockly.JavaScript.ORDER_LOGICAL_NOT],[Blockly.JavaScript.ORDER_MULTIPLICATION,Blockly.JavaScript.ORDER_MULTIPLICATION],[Blockly.JavaScript.ORDER_ADDITION,
Blockly.JavaScript.ORDER_ADDITION],[Blockly.JavaScript.ORDER_LOGICAL_AND,Blockly.JavaScript.ORDER_LOGICAL_AND],[Blockly.JavaScript.ORDER_LOGICAL_OR,Blockly.JavaScript.ORDER_LOGICAL_OR]];
Blockly.JavaScript.init=function(a){Blockly.JavaScript.definitions_=Object.create(null);Blockly.JavaScript.functionNames_=Object.create(null);Blockly.JavaScript.variableDB_?Blockly.JavaScript.variableDB_.reset():Blockly.JavaScript.variableDB_=new Blockly.Names(Blockly.JavaScript.RESERVED_WORDS_);Blockly.JavaScript.variableDB_.setVariableMap(a.getVariableMap());for(var b=[],c=Blockly.Variables.allDeveloperVariables(a),d=0;d<c.length;d++)b.push(Blockly.JavaScript.variableDB_.getName(c[d],Blockly.Names.DEVELOPER_VARIABLE_TYPE));
a=Blockly.Variables.allUsedVarModels(a);for(d=0;d<a.length;d++)b.push(Blockly.JavaScript.variableDB_.getName(a[d].getId(),Blockly.Variables.NAME_TYPE));b.length&&(Blockly.JavaScript.definitions_.variables="var "+b.join(", ")+";")};
Blockly.JavaScript.finish=function(a){var b=[],c;for(c in Blockly.JavaScript.definitions_)b.push(Blockly.JavaScript.definitions_[c]);delete Blockly.JavaScript.definitions_;delete Blockly.JavaScript.functionNames_;Blockly.JavaScript.variableDB_.reset();return b.join("\n\n")+"\n\n\n"+a};Blockly.JavaScript.scrubNakedValue=function(a){return a+";\n"};Blockly.JavaScript.quote_=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
Blockly.JavaScript.scrub_=function(a,b){var c="";if(!a.outputConnection||!a.outputConnection.targetConnection){var d=a.getCommentText();(d=Blockly.utils.wrap(d,Blockly.JavaScript.COMMENT_WRAP-3))&&(c=a.getProcedureDef?c+("/**\n"+Blockly.JavaScript.prefixLines(d+"\n"," * ")+" */\n"):c+Blockly.JavaScript.prefixLines(d+"\n","// "));for(var e=0;e<a.inputList.length;e++)a.inputList[e].type==Blockly.INPUT_VALUE&&(d=a.inputList[e].connection.targetBlock())&&(d=Blockly.JavaScript.allNestedComments(d))&&(c+=
Blockly.JavaScript.prefixLines(d,"// "))}a=a.nextConnection&&a.nextConnection.targetBlock();a=Blockly.JavaScript.blockToCode(a);return c+b+a};
Blockly.JavaScript.getAdjusted=function(a,b,c,d,e){c=c||0;e=e||Blockly.JavaScript.ORDER_NONE;a.workspace.options.oneBasedIndex&&c--;var f=a.workspace.options.oneBasedIndex?"1":"0";a=0<c?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_ADDITION)||f:0>c?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_SUBTRACTION)||f:d?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_UNARY_NEGATION)||f:Blockly.JavaScript.valueToCode(a,b,e)||f;if(Blockly.isNumber(a))a=parseFloat(a)+c,
d&&(a=-a);else{if(0<c){a=a+" + "+c;var h=Blockly.JavaScript.ORDER_ADDITION}else 0>c&&(a=a+" - "+-c,h=Blockly.JavaScript.ORDER_SUBTRACTION);d&&(a=c?"-("+a+")":"-"+a,h=Blockly.JavaScript.ORDER_UNARY_NEGATION);h=Math.floor(h);e=Math.floor(e);h&&e>=h&&(a="("+a+")")}return a};Blockly.Msg.en={};Blockly.Msg.ADD_COMMENT="Add Comment";Blockly.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";Blockly.Msg.CHANGE_VALUE_TITLE="Change value:";Blockly.Msg.CLEAN_UP="Clean up Blocks";Blockly.Msg.COLLAPSE_ALL="Collapse Blocks";Blockly.Msg.COLLAPSE_BLOCK="Collapse Block";Blockly.Msg.COLOUR_BLEND_COLOUR1="colour 1";Blockly.Msg.COLOUR_BLEND_COLOUR2="colour 2";Blockly.Msg.COLOUR_BLEND_HELPURL="http://meyerweb.com/eric/tools/color-blend/";
Blockly.Msg.COLOUR_BLEND_RATIO="ratio";Blockly.Msg.COLOUR_BLEND_TITLE="blend";Blockly.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";Blockly.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";Blockly.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";Blockly.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com";Blockly.Msg.COLOUR_RANDOM_TITLE="random colour";Blockly.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";
Blockly.Msg.COLOUR_RGB_BLUE="blue";Blockly.Msg.COLOUR_RGB_GREEN="green";Blockly.Msg.COLOUR_RGB_HELPURL="http://www.december.com/html/spec/colorper.html";Blockly.Msg.COLOUR_RGB_RED="red";Blockly.Msg.COLOUR_RGB_TITLE="colour with";Blockly.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";Blockly.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";
Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";Blockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";Blockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";
Blockly.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";Blockly.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";Blockly.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";Blockly.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";Blockly.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";Blockly.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";
Blockly.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";Blockly.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";Blockly.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";Blockly.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";Blockly.Msg.CONTROLS_IF_MSG_ELSE="else";Blockly.Msg.CONTROLS_IF_MSG_ELSEIF="else if";Blockly.Msg.CONTROLS_IF_MSG_IF="if";Blockly.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";
Blockly.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";Blockly.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";Blockly.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";
Blockly.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";Blockly.Msg.CONTROLS_REPEAT_INPUT_DO="do";Blockly.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times";Blockly.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";Blockly.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";
Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";Blockly.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?";Blockly.Msg.DELETE_BLOCK="Delete Block";Blockly.Msg.DELETE_VARIABLE="Delete the '%1' variable";Blockly.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";Blockly.Msg.DELETE_X_BLOCKS="Delete %1 Blocks";Blockly.Msg.DISABLE_BLOCK="Disable Block";
Blockly.Msg.DUPLICATE_BLOCK="Duplicate";Blockly.Msg.DUPLICATE_COMMENT="Duplicate Comment";Blockly.Msg.ENABLE_BLOCK="Enable Block";Blockly.Msg.EXPAND_ALL="Expand Blocks";Blockly.Msg.EXPAND_BLOCK="Expand Block";Blockly.Msg.EXTERNAL_INPUTS="External Inputs";Blockly.Msg.HELP="Help";Blockly.Msg.INLINE_INPUTS="Inline Inputs";Blockly.Msg.IOS_CANCEL="Cancel";Blockly.Msg.IOS_ERROR="Error";Blockly.Msg.IOS_OK="OK";Blockly.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input";
Blockly.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";Blockly.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";Blockly.Msg.IOS_PROCEDURES_INPUTS="INPUTS";Blockly.Msg.IOS_VARIABLES_ADD_BUTTON="Add";Blockly.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";Blockly.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete";Blockly.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";Blockly.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename";
Blockly.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name";Blockly.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";Blockly.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list";Blockly.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";
Blockly.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with";Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";Blockly.Msg.LISTS_GET_INDEX_FIRST="first";Blockly.Msg.LISTS_GET_INDEX_FROM_END="# from end";Blockly.Msg.LISTS_GET_INDEX_FROM_START="#";Blockly.Msg.LISTS_GET_INDEX_GET="get";
Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove";Blockly.Msg.LISTS_GET_INDEX_LAST="last";Blockly.Msg.LISTS_GET_INDEX_RANDOM="random";Blockly.Msg.LISTS_GET_INDEX_REMOVE="remove";Blockly.Msg.LISTS_GET_INDEX_TAIL="";Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";
Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";
Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end";Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #";
Blockly.Msg.LISTS_GET_SUBLIST_END_LAST="to last";Blockly.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";Blockly.Msg.LISTS_GET_SUBLIST_TAIL="";Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";
Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";Blockly.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item";Blockly.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";Blockly.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item";Blockly.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";
Blockly.Msg.LISTS_INLIST="in list";Blockly.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";Blockly.Msg.LISTS_ISEMPTY_TITLE="%1 is empty";Blockly.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";Blockly.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";Blockly.Msg.LISTS_LENGTH_TITLE="length of %1";Blockly.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";Blockly.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";
Blockly.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";Blockly.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";Blockly.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";Blockly.Msg.LISTS_REVERSE_MESSAGE0="reverse %1";Blockly.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";Blockly.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";
Blockly.Msg.LISTS_SET_INDEX_INPUT_TO="as";Blockly.Msg.LISTS_SET_INDEX_INSERT="insert at";Blockly.Msg.LISTS_SET_INDEX_SET="set";Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";
Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";Blockly.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";Blockly.Msg.LISTS_SORT_ORDER_ASCENDING="ascending";
Blockly.Msg.LISTS_SORT_ORDER_DESCENDING="descending";Blockly.Msg.LISTS_SORT_TITLE="sort %1 %2 %3";Blockly.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.";Blockly.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";Blockly.Msg.LISTS_SORT_TYPE_NUMERIC="numeric";Blockly.Msg.LISTS_SORT_TYPE_TEXT="alphabetic";Blockly.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";Blockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";
Blockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";Blockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";Blockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";Blockly.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter";Blockly.Msg.LOGIC_BOOLEAN_FALSE="false";Blockly.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";Blockly.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";
Blockly.Msg.LOGIC_BOOLEAN_TRUE="true";Blockly.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";Blockly.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";
Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";Blockly.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";Blockly.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";Blockly.Msg.LOGIC_NEGATE_TITLE="not %1";Blockly.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";Blockly.Msg.LOGIC_NULL="null";
Blockly.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";Blockly.Msg.LOGIC_NULL_TOOLTIP="Returns null.";Blockly.Msg.LOGIC_OPERATION_AND="and";Blockly.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";Blockly.Msg.LOGIC_OPERATION_OR="or";Blockly.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";Blockly.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";
Blockly.Msg.LOGIC_TERNARY_CONDITION="test";Blockly.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";Blockly.Msg.LOGIC_TERNARY_IF_FALSE="if false";Blockly.Msg.LOGIC_TERNARY_IF_TRUE="if true";Blockly.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";Blockly.Msg.MATH_ADDITION_SYMBOL="+";Blockly.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";
Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";Blockly.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";
Blockly.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";Blockly.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";Blockly.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";Blockly.Msg.MATH_CHANGE_TITLE="change %1 by %2";Blockly.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";Blockly.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";Blockly.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";
Blockly.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";Blockly.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";Blockly.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";Blockly.Msg.MATH_DIVISION_SYMBOL="\u00f7";Blockly.Msg.MATH_IS_DIVISIBLE_BY="is divisible by";Blockly.Msg.MATH_IS_EVEN="is even";Blockly.Msg.MATH_IS_NEGATIVE="is negative";Blockly.Msg.MATH_IS_ODD="is odd";Blockly.Msg.MATH_IS_POSITIVE="is positive";
Blockly.Msg.MATH_IS_PRIME="is prime";Blockly.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";Blockly.Msg.MATH_IS_WHOLE="is whole";Blockly.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";Blockly.Msg.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";Blockly.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";
Blockly.Msg.MATH_MULTIPLICATION_SYMBOL="\u00d7";Blockly.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";Blockly.Msg.MATH_NUMBER_TOOLTIP="A number.";Blockly.Msg.MATH_ONLIST_HELPURL="";Blockly.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list";Blockly.Msg.MATH_ONLIST_OPERATOR_MAX="max of list";Blockly.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list";Blockly.Msg.MATH_ONLIST_OPERATOR_MIN="min of list";Blockly.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list";
Blockly.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list";Blockly.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";Blockly.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list";Blockly.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";Blockly.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";Blockly.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";Blockly.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";
Blockly.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";Blockly.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";Blockly.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";Blockly.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";Blockly.Msg.MATH_POWER_SYMBOL="^";Blockly.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";
Blockly.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";Blockly.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";Blockly.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";Blockly.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";Blockly.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";Blockly.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";
Blockly.Msg.MATH_ROUND_OPERATOR_ROUND="round";Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up";Blockly.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.";Blockly.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";Blockly.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute";Blockly.Msg.MATH_SINGLE_OP_ROOT="square root";Blockly.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";Blockly.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";
Blockly.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";Blockly.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";Blockly.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";Blockly.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";Blockly.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";Blockly.Msg.MATH_SUBTRACTION_SYMBOL="-";Blockly.Msg.MATH_TRIG_ACOS="acos";Blockly.Msg.MATH_TRIG_ASIN="asin";
Blockly.Msg.MATH_TRIG_ATAN="atan";Blockly.Msg.MATH_TRIG_COS="cos";Blockly.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";Blockly.Msg.MATH_TRIG_SIN="sin";Blockly.Msg.MATH_TRIG_TAN="tan";Blockly.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";Blockly.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";Blockly.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";Blockly.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";
Blockly.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";Blockly.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";Blockly.Msg.NEW_COLOUR_VARIABLE="Create colour variable...";Blockly.Msg.NEW_NUMBER_VARIABLE="Create number variable...";Blockly.Msg.NEW_STRING_VARIABLE="Create string variable...";Blockly.Msg.NEW_VARIABLE="Create variable...";Blockly.Msg.NEW_VARIABLE_TITLE="New variable name:";Blockly.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:";
Blockly.Msg.ORDINAL_NUMBER_SUFFIX="";Blockly.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements";Blockly.Msg.PROCEDURES_BEFORE_PARAMS="with:";Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";Blockly.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";
Blockly.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:";Blockly.Msg.PROCEDURES_CREATE_DO="Create '%1'";Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";Blockly.Msg.PROCEDURES_DEFNORETURN_DO="";Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something";Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE="to";Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";
Blockly.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";Blockly.Msg.PROCEDURES_DEFRETURN_RETURN="return";Blockly.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";Blockly.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";Blockly.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";Blockly.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";
Blockly.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";Blockly.Msg.PROCEDURES_MUTATORARG_TITLE="input name:";Blockly.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";Blockly.Msg.REDO="Redo";Blockly.Msg.REMOVE_COMMENT="Remove Comment";Blockly.Msg.RENAME_VARIABLE="Rename variable...";
Blockly.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";Blockly.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";Blockly.Msg.TEXT_APPEND_TITLE="to %1 append text %2";Blockly.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";Blockly.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";Blockly.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";Blockly.Msg.TEXT_CHARAT_FIRST="get first letter";Blockly.Msg.TEXT_CHARAT_FROM_END="get letter # from end";Blockly.Msg.TEXT_CHARAT_FROM_START="get letter #";Blockly.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";Blockly.Msg.TEXT_CHARAT_LAST="get last letter";Blockly.Msg.TEXT_CHARAT_RANDOM="get random letter";
Blockly.Msg.TEXT_CHARAT_TAIL="";Blockly.Msg.TEXT_CHARAT_TITLE="in text %1 %2";Blockly.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";Blockly.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";Blockly.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2";Blockly.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";
Blockly.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join";Blockly.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter";Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";
Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";Blockly.Msg.TEXT_GET_SUBSTRING_TAIL="";Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";Blockly.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";Blockly.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";
Blockly.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";Blockly.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3";Blockly.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";Blockly.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";Blockly.Msg.TEXT_ISEMPTY_TITLE="%1 is empty";Blockly.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";
Blockly.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with";Blockly.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";Blockly.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";Blockly.Msg.TEXT_LENGTH_TITLE="length of %1";Blockly.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";
Blockly.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";Blockly.Msg.TEXT_PRINT_TITLE="print %1";Blockly.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";Blockly.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";
Blockly.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";Blockly.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";Blockly.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";Blockly.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";Blockly.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";Blockly.Msg.TEXT_REVERSE_MESSAGE0="reverse %1";Blockly.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";
Blockly.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";Blockly.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";Blockly.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";Blockly.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";
Blockly.Msg.TODAY="Today";Blockly.Msg.UNDO="Undo";Blockly.Msg.VARIABLES_DEFAULT_NAME="item";Blockly.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'";Blockly.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";Blockly.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";Blockly.Msg.VARIABLES_SET="set %1 to %2";Blockly.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'";Blockly.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
Blockly.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";Blockly.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";Blockly.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";Blockly.Msg.PROCEDURES_DEFRETURN_TITLE=Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE;Blockly.Msg.CONTROLS_IF_IF_TITLE_IF=Blockly.Msg.CONTROLS_IF_MSG_IF;
Blockly.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=Blockly.Msg.CONTROLS_REPEAT_INPUT_DO;Blockly.Msg.CONTROLS_IF_MSG_THEN=Blockly.Msg.CONTROLS_REPEAT_INPUT_DO;Blockly.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=Blockly.Msg.CONTROLS_IF_MSG_ELSE;Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE=Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE;Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=Blockly.Msg.LISTS_INLIST;Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=Blockly.Msg.LISTS_INLIST;Blockly.Msg.MATH_CHANGE_TITLE_ITEM=Blockly.Msg.VARIABLES_DEFAULT_NAME;
Blockly.Msg.PROCEDURES_DEFRETURN_DO=Blockly.Msg.PROCEDURES_DEFNORETURN_DO;Blockly.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=Blockly.Msg.CONTROLS_IF_MSG_ELSEIF;Blockly.Msg.LISTS_GET_INDEX_HELPURL=Blockly.Msg.LISTS_INDEX_OF_HELPURL;Blockly.Msg.CONTROLS_FOREACH_INPUT_DO=Blockly.Msg.CONTROLS_REPEAT_INPUT_DO;Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=Blockly.Msg.LISTS_INLIST;Blockly.Msg.CONTROLS_FOR_INPUT_DO=Blockly.Msg.CONTROLS_REPEAT_INPUT_DO;Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE=Blockly.Msg.VARIABLES_DEFAULT_NAME;
Blockly.Msg.TEXT_APPEND_VARIABLE=Blockly.Msg.VARIABLES_DEFAULT_NAME;Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=Blockly.Msg.VARIABLES_DEFAULT_NAME;Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=Blockly.Msg.LISTS_INLIST;Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT=Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT;Blockly.Msg.MATH_HUE="230";Blockly.Msg.LOOPS_HUE="120";Blockly.Msg.LISTS_HUE="260";Blockly.Msg.LOGIC_HUE="210";Blockly.Msg.VARIABLES_HUE="330";Blockly.Msg.TEXTS_HUE="160";Blockly.Msg.PROCEDURES_HUE="290";
Blockly.Msg.COLOUR_HUE="20";Blockly.Msg.VARIABLES_DYNAMIC_HUE="310";var Sorter={};var blockly_blocks_compressed={};"use strict";Blockly.Blocks.colour={};Blockly.Constants={};Blockly.Constants.Colour={};Blockly.Constants.Colour.HUE=20;
Blockly.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",
args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",
check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);Blockly.Blocks.lists={};Blockly.Constants.Lists={};Blockly.Constants.Lists.HUE=260;
Blockly.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",
message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",
message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
Blockly.Blocks.lists_create_with={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_CREATE_WITH_HELPURL);this.setColour(Blockly.Msg.LISTS_HUE);this.itemCount_=3;this.updateShape_();this.setOutput(!0,"Array");this.setMutator(new Blockly.Mutator(["lists_create_with_item"]));this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("items",this.itemCount_);return a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute("items"),
10);this.updateShape_()},decompose:function(a){var b=a.newBlock("lists_create_with_container");b.initSvg();for(var c=b.getInput("STACK").connection,d=0;d<this.itemCount_;d++){var e=a.newBlock("lists_create_with_item");e.initSvg();c.connect(e.previousConnection);c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock("STACK");for(a=[];b;)a.push(b.valueConnection_),b=b.nextConnection&&b.nextConnection.targetBlock();for(b=0;b<this.itemCount_;b++){var c=this.getInput("ADD"+b).connection.targetConnection;
c&&-1==a.indexOf(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++)Blockly.Mutator.reconnect(a[b],this,"ADD"+b)},saveConnections:function(a){a=a.getInputTargetBlock("STACK");for(var b=0;a;){var c=this.getInput("ADD"+b);a.valueConnection_=c&&c.connection.targetConnection;b++;a=a.nextConnection&&a.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||
this.appendDummyInput("EMPTY").appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.itemCount_;a++)if(!this.getInput("ADD"+a)){var b=this.appendValueInput("ADD"+a);0==a&&b.appendField(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+a);)this.removeInput("ADD"+a),a++}};
Blockly.Blocks.lists_create_with_container={init:function(){this.setColour(Blockly.Msg.LISTS_HUE);this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.appendStatementInput("STACK");this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
Blockly.Blocks.lists_create_with_item={init:function(){this.setColour(Blockly.Msg.LISTS_HUE);this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
Blockly.Blocks.lists_indexOf={init:function(){var a=[[Blockly.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[Blockly.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_INDEX_OF_HELPURL);this.setColour(Blockly.Msg.LISTS_HUE);this.setOutput(!0,"Number");this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST);this.appendValueInput("FIND").appendField(new Blockly.FieldDropdown(a),"END");this.setInputsInline(!0);var b=this;this.setTooltip(function(){return Blockly.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",
b.workspace.options.oneBasedIndex?"0":"-1")})}};
Blockly.Blocks.lists_getIndex={init:function(){var a=[[Blockly.Msg.LISTS_GET_INDEX_GET,"GET"],[Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[Blockly.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.setHelpUrl(Blockly.Msg.LISTS_GET_INDEX_HELPURL);this.setColour(Blockly.Msg.LISTS_HUE);
a=new Blockly.FieldDropdown(a,function(a){this.sourceBlock_.updateStatement_("REMOVE"==a)});this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST);this.appendDummyInput().appendField(a,"MODE").appendField("","SPACE");this.appendDummyInput("AT");Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_INDEX_TAIL);this.setInputsInline(!0);this.setOutput(!0);this.updateAt_(!0);var b=this;this.setTooltip(function(){var a=
b.getFieldValue("MODE"),d=b.getFieldValue("WHERE"),e="";switch(a+" "+d){case "GET FROM_START":case "GET FROM_END":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":e=
Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case "REMOVE LAST":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":e=
Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+("FROM_START"==d?Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP:Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.workspace.options.oneBasedIndex?"#1":"#0");return e})},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("statement",!this.outputConnection);var b=this.getInput("AT").type==Blockly.INPUT_VALUE;a.setAttribute("at",b);return a},domToMutation:function(a){var b="true"==
a.getAttribute("statement");this.updateStatement_(b);a="false"!=a.getAttribute("at");this.updateAt_(a)},updateStatement_:function(a){a!=!this.outputConnection&&(this.unplug(!0,!0),a?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(a){this.removeInput("AT");this.removeInput("ORDINAL",!0);a?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):
this.appendDummyInput("AT");var b=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(b){var c="FROM_START"==b||"FROM_END"==b;if(c!=a){var e=this.sourceBlock_;e.updateAt_(c);e.setFieldValue(b,"WHERE");return null}});this.getInput("AT").appendField(b,"WHERE");Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};
Blockly.Blocks.lists_setIndex={init:function(){var a=[[Blockly.Msg.LISTS_SET_INDEX_SET,"SET"],[Blockly.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.setHelpUrl(Blockly.Msg.LISTS_SET_INDEX_HELPURL);this.setColour(Blockly.Msg.LISTS_HUE);this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST);
this.appendDummyInput().appendField(new Blockly.FieldDropdown(a),"MODE").appendField("","SPACE");this.appendDummyInput("AT");this.appendValueInput("TO").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_TO);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip(Blockly.Msg.LISTS_SET_INDEX_TOOLTIP);this.updateAt_(!0);var b=this;this.setTooltip(function(){var a=b.getFieldValue("MODE"),d=b.getFieldValue("WHERE"),e="";switch(a+" "+d){case "SET FROM_START":case "SET FROM_END":e=
Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case "INSERT FIRST":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;
break;case "INSERT RANDOM":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.workspace.options.oneBasedIndex?"#1":"#0");return e})},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getInput("AT").type==Blockly.INPUT_VALUE;a.setAttribute("at",b);return a},domToMutation:function(a){a="false"!=a.getAttribute("at");this.updateAt_(a)},updateAt_:function(a){this.removeInput("AT");
this.removeInput("ORDINAL",!0);a?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var b=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(b){var c="FROM_START"==b||"FROM_END"==b;if(c!=a){var e=this.sourceBlock_;e.updateAt_(c);e.setFieldValue(b,"WHERE");return null}});this.moveInputBefore("AT","TO");this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL",
"TO");this.getInput("AT").appendField(b,"WHERE")}};
Blockly.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_GET_SUBLIST_HELPURL);this.setColour(Blockly.Msg.LISTS_HUE);
this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);this.appendDummyInput("AT1");this.appendDummyInput("AT2");Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_SUBLIST_TAIL);this.setInputsInline(!0);this.setOutput(!0,"Array");this.updateAt_(1,!0);this.updateAt_(2,!0);this.setTooltip(Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getInput("AT1").type==
Blockly.INPUT_VALUE;a.setAttribute("at1",b);b=this.getInput("AT2").type==Blockly.INPUT_VALUE;a.setAttribute("at2",b);return a},domToMutation:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.updateAt_(1,b);this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput("AT"+a);this.removeInput("ORDINAL"+a,!0);b?(this.appendValueInput("AT"+a).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+a).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):
this.appendDummyInput("AT"+a);var c=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+a],function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=b){var f=this.sourceBlock_;f.updateAt_(a,d);f.setFieldValue(c,"WHERE"+a);return null}});this.getInput("AT"+a).appendField(c,"WHERE"+a);1==a&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"));Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};
Blockly.Blocks.lists_sort={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[Blockly.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[Blockly.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[Blockly.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[Blockly.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[Blockly.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",colour:Blockly.Msg.LISTS_HUE,
tooltip:Blockly.Msg.LISTS_SORT_TOOLTIP,helpUrl:Blockly.Msg.LISTS_SORT_HELPURL})}};
Blockly.Blocks.lists_split={init:function(){var a=this,b=new Blockly.FieldDropdown([[Blockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[Blockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(b){a.updateType_(b)});this.setHelpUrl(Blockly.Msg.LISTS_SPLIT_HELPURL);this.setColour(Blockly.Msg.LISTS_HUE);this.appendValueInput("INPUT").setCheck("String").appendField(b,"MODE");this.appendValueInput("DELIM").setCheck("String").appendField(Blockly.Msg.LISTS_SPLIT_WITH_DELIMITER);this.setInputsInline(!0);this.setOutput(!0,
"Array");this.setTooltip(function(){var b=a.getFieldValue("MODE");if("SPLIT"==b)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==b)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+b);})},updateType_:function(a){"SPLIT"==a?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("mode",
this.getFieldValue("MODE"));return a},domToMutation:function(a){this.updateType_(a.getAttribute("mode"))}};Blockly.Blocks.logic={};Blockly.Constants.Logic={};Blockly.Constants.Logic.HUE=210;
Blockly.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",
name:"DO0"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,
colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare",
"logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",
check:"Boolean"}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],
message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
Blockly.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,
enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);Blockly.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};
Blockly.Extensions.register("logic_op_tooltip",Blockly.Extensions.buildTooltipForDropdown("OP",Blockly.Constants.Logic.TOOLTIPS_BY_OP));
Blockly.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var a=document.createElement("mutation");this.elseifCount_&&a.setAttribute("elseif",this.elseifCount_);this.elseCount_&&a.setAttribute("else",1);return a},domToMutation:function(a){this.elseifCount_=parseInt(a.getAttribute("elseif"),10)||0;this.elseCount_=parseInt(a.getAttribute("else"),10)||0;this.updateShape_()},decompose:function(a){var b=a.newBlock("controls_if_if");
b.initSvg();for(var c=b.nextConnection,d=1;d<=this.elseifCount_;d++){var e=a.newBlock("controls_if_elseif");e.initSvg();c.connect(e.previousConnection);c=e.nextConnection}this.elseCount_&&(a=a.newBlock("controls_if_else"),a.initSvg(),c.connect(a.previousConnection));return b},compose:function(a){var b=a.nextConnection.targetBlock();this.elseCount_=this.elseifCount_=0;a=[null];for(var c=[null],d=null;b;){switch(b.type){case "controls_if_elseif":this.elseifCount_++;a.push(b.valueConnection_);c.push(b.statementConnection_);
break;case "controls_if_else":this.elseCount_++;d=b.statementConnection_;break;default:throw TypeError("Unknown block type: "+b.type);}b=b.nextConnection&&b.nextConnection.targetBlock()}this.updateShape_();for(b=1;b<=this.elseifCount_;b++)Blockly.Mutator.reconnect(a[b],this,"IF"+b),Blockly.Mutator.reconnect(c[b],this,"DO"+b);Blockly.Mutator.reconnect(d,this,"ELSE")},saveConnections:function(a){a=a.nextConnection.targetBlock();for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=this.getInput("IF"+
b),d=this.getInput("DO"+b);a.valueConnection_=c&&c.connection.targetConnection;a.statementConnection_=d&&d.connection.targetConnection;b++;break;case "controls_if_else":d=this.getInput("ELSE");a.statementConnection_=d&&d.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.nextConnection&&a.nextConnection.targetBlock()}},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var a=1;this.getInput("IF"+a);)this.removeInput("IF"+a),this.removeInput("DO"+
a),a++;for(a=1;a<=this.elseifCount_;a++)this.appendValueInput("IF"+a).setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+a).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE)}};Blockly.Extensions.registerMutator("controls_if_mutator",Blockly.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]);
Blockly.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return Blockly.Msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return Blockly.Msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return Blockly.Msg.CONTROLS_IF_TOOLTIP_4}else return Blockly.Msg.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};Blockly.Extensions.register("controls_if_tooltip",Blockly.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION);
Blockly.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(a){this.prevBlocks_||(this.prevBlocks_=[null,null]);var b=this.getInputTargetBlock("A"),c=this.getInputTargetBlock("B");b&&c&&!b.outputConnection.checkType_(c.outputConnection)&&(Blockly.Events.setGroup(a.group),a=this.prevBlocks_[0],a!==b&&(b.unplug(),a&&!a.isShadow()&&this.getInput("A").connection.connect(a.outputConnection)),b=this.prevBlocks_[1],b!==c&&(c.unplug(),b&&!b.isShadow()&&this.getInput("B").connection.connect(b.outputConnection)),
this.bumpNeighbours_(),Blockly.Events.setGroup(!1));this.prevBlocks_[0]=this.getInputTargetBlock("A");this.prevBlocks_[1]=this.getInputTargetBlock("B")}};Blockly.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(Blockly.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)};Blockly.Extensions.register("logic_compare",Blockly.Constants.Logic.LOGIC_COMPARE_EXTENSION);
Blockly.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(a){var b=this.getInputTargetBlock("THEN"),c=this.getInputTargetBlock("ELSE"),d=this.outputConnection.targetConnection;if((b||c)&&d)for(var e=0;2>e;e++){var f=1==e?b:c;f&&!f.outputConnection.checkType_(d)&&(Blockly.Events.setGroup(a.group),d===this.prevParentConnection_?(this.unplug(),d.getSourceBlock().bumpNeighbours_()):(f.unplug(),f.bumpNeighbours_()),Blockly.Events.setGroup(!1))}this.prevParentConnection_=
d}};Blockly.Extensions.registerMixin("logic_ternary",Blockly.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN);Blockly.Blocks.loops={};Blockly.Constants.Loops={};Blockly.Constants.Loops.HUE=120;
Blockly.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",
value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",
check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",
name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,colour:"%{BKY_LOOPS_HUE}",
helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]);Blockly.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};Blockly.Extensions.register("controls_whileUntil_tooltip",Blockly.Extensions.buildTooltipForDropdown("MODE",Blockly.Constants.Loops.WHILE_UNTIL_TOOLTIPS));
Blockly.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};Blockly.Extensions.register("controls_flow_tooltip",Blockly.Extensions.buildTooltipForDropdown("FLOW",Blockly.Constants.Loops.BREAK_CONTINUE_TOOLTIPS));
Blockly.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(a){if(!this.isInFlyout){var b=this.getField("VAR").getVariable(),c=b.name;if(!this.isCollapsed()&&null!=c){var d={enabled:!0};d.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",c);b=Blockly.Variables.generateVariableFieldDom(b);c=document.createElement("block");c.setAttribute("type","variables_get");c.appendChild(b);d.callback=Blockly.ContextMenu.callbackFactory(this,c);a.push(d)}}}};
Blockly.Extensions.registerMixin("contextMenu_newGetVariableBlock",Blockly.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN);Blockly.Extensions.register("controls_for_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR"));Blockly.Extensions.register("controls_forEach_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));
Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],onchange:function(){if(this.workspace.isDragging&&!this.workspace.isDragging()){var a=!1,b=this;do{if(-1!=this.LOOP_TYPES.indexOf(b.type)){a=!0;break}b=b.getSurroundParent()}while(b);a?(this.setWarningText(null),this.isInFlyout||this.setDisabled(!1)):(this.setWarningText(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),this.isInFlyout||
this.getInheritedDisabled()||this.setDisabled(!0))}}};Blockly.Extensions.registerMixin("controls_flow_in_loop_check",Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN);Blockly.Blocks.math={};Blockly.Constants.Math={};Blockly.Constants.Math.HUE=230;
Blockly.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}",
"MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},
{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",
helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},
{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",
name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}",
"STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",
helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},
{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",
name:"Y",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
Blockly.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
Blockly.Extensions.register("math_op_tooltip",Blockly.Extensions.buildTooltipForDropdown("OP",Blockly.Constants.Math.TOOLTIPS_BY_OP));
Blockly.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var a=document.createElement("mutation"),b="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");a.setAttribute("divisor_input",b);return a},domToMutation:function(a){a="true"==a.getAttribute("divisor_input");this.updateShape_(a)},updateShape_:function(a){var b=this.getInput("DIVISOR");a?b||this.appendValueInput("DIVISOR").setCheck("Number"):b&&this.removeInput("DIVISOR")}};
Blockly.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator(function(a){this.sourceBlock_.updateShape_("DIVISIBLE_BY"==a)})};Blockly.Extensions.registerMutator("math_is_divisibleby_mutator",Blockly.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,Blockly.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION);Blockly.Extensions.register("math_change_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));
Blockly.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(a){"MODE"==a?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("op",this.getFieldValue("OP"));return a},domToMutation:function(a){this.updateType_(a.getAttribute("op"))}};Blockly.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(a){this.updateType_(a)}.bind(this))};
Blockly.Extensions.registerMutator("math_modes_of_list_mutator",Blockly.Constants.Math.LIST_MODES_MUTATOR_MIXIN,Blockly.Constants.Math.LIST_MODES_MUTATOR_EXTENSION);Blockly.Blocks.procedures={};
Blockly.Blocks.procedures_defnoreturn={init:function(){var a=new Blockly.FieldTextInput("",Blockly.Procedures.rename);a.setSpellcheck(!1);this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a,"NAME").appendField("","PARAMS");this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"]));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT&&
this.setCommentText(Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT);this.setColour(Blockly.Msg.PROCEDURES_HUE);this.setTooltip(Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP);this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.setStatements_(!0);this.statementConnection_=null},setStatements_:function(a){this.hasStatements_!==a&&(a?(this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK",
"RETURN")):this.removeInput("STACK",!0),this.hasStatements_=a)},updateParams_:function(){for(var a=!1,b={},c=0;c<this.arguments_.length;c++){if(b["arg_"+this.arguments_[c].toLowerCase()]){a=!0;break}b["arg_"+this.arguments_[c].toLowerCase()]=!0}a?this.setWarningText(Blockly.Msg.PROCEDURES_DEF_DUPLICATE_WARNING):this.setWarningText(null);a="";this.arguments_.length&&(a=Blockly.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", "));Blockly.Events.disable();try{this.setFieldValue(a,"PARAMS")}finally{Blockly.Events.enable()}},
mutationToDom:function(a){var b=document.createElement("mutation");a&&b.setAttribute("name",this.getFieldValue("NAME"));for(var c=0;c<this.argumentVarModels_.length;c++){var d=document.createElement("arg"),e=this.argumentVarModels_[c];d.setAttribute("name",e.name);d.setAttribute("varid",e.getId());a&&this.paramIds_&&d.setAttribute("paramId",this.paramIds_[c]);b.appendChild(d)}this.hasStatements_||b.setAttribute("statements","false");return b},domToMutation:function(a){this.arguments_=[];this.argumentVarModels_=
[];for(var b=0,c;c=a.childNodes[b];b++)if("arg"==c.nodeName.toLowerCase()){var d=c.getAttribute("name");c=c.getAttribute("varid")||c.getAttribute("varId");this.arguments_.push(d);d=Blockly.Variables.getOrCreateVariablePackage(this.workspace,c,d,"");this.argumentVarModels_.push(d)}this.updateParams_();Blockly.Procedures.mutateCallers(this);this.setStatements_("false"!==a.getAttribute("statements"))},decompose:function(a){var b=a.newBlock("procedures_mutatorcontainer");b.initSvg();this.getInput("RETURN")?
b.setFieldValue(this.hasStatements_?"TRUE":"FALSE","STATEMENTS"):b.getInput("STATEMENT_INPUT").setVisible(!1);for(var c=b.getInput("STACK").connection,d=0;d<this.arguments_.length;d++){var e=a.newBlock("procedures_mutatorarg");e.initSvg();e.setFieldValue(this.arguments_[d],"NAME");e.oldLocation=d;c.connect(e.previousConnection);c=e.nextConnection}Blockly.Procedures.mutateCallers(this);return b},compose:function(a){this.arguments_=[];this.paramIds_=[];this.argumentVarModels_=[];for(var b=a.getInputTargetBlock("STACK");b;){var c=
b.getFieldValue("NAME");this.arguments_.push(c);c=this.workspace.getVariable(c,"");this.argumentVarModels_.push(c);this.paramIds_.push(b.id);b=b.nextConnection&&b.nextConnection.targetBlock()}this.updateParams_();Blockly.Procedures.mutateCallers(this);a=a.getFieldValue("STATEMENTS");if(null!==a&&(a="TRUE"==a,this.hasStatements_!=a))if(a)this.setStatements_(!0),Blockly.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null;else{a=this.getInput("STACK").connection;
if(this.statementConnection_=a.targetConnection)a=a.targetBlock(),a.unplug(),a.bumpNeighbours_();this.setStatements_(!1)}},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(a,b){var c=this.workspace.getVariableById(a);if(""==c.type){c=c.name;b=this.workspace.getVariableById(b);for(var d=!1,e=0;e<this.argumentVarModels_.length;e++)this.argumentVarModels_[e].getId()==
a&&(this.arguments_[e]=b.name,this.argumentVarModels_[e]=b,d=!0);d&&this.displayRenamedVar_(c,b.name)}},updateVarName:function(a){for(var b=a.name,c=!1,d=0;d<this.argumentVarModels_.length;d++)if(this.argumentVarModels_[d].getId()==a.getId()){var e=this.arguments_[d];this.arguments_[d]=b;c=!0}c&&this.displayRenamedVar_(e,b)},displayRenamedVar_:function(a,b){this.updateParams_();if(this.mutator.isVisible())for(var c=this.mutator.workspace_.getAllBlocks(!1),d=0,e;e=c[d];d++)"procedures_mutatorarg"==
e.type&&Blockly.Names.equals(a,e.getFieldValue("NAME"))&&e.setFieldValue(b,"NAME")},customContextMenu:function(a){if(!this.isInFlyout){var b={enabled:!0},c=this.getFieldValue("NAME");b.text=Blockly.Msg.PROCEDURES_CREATE_DO.replace("%1",c);var d=document.createElement("mutation");d.setAttribute("name",c);for(var e=0;e<this.arguments_.length;e++)c=document.createElement("arg"),c.setAttribute("name",this.arguments_[e]),d.appendChild(c);c=document.createElement("block");c.setAttribute("type",this.callType_);
c.appendChild(d);b.callback=Blockly.ContextMenu.callbackFactory(this,c);a.push(b);if(!this.isCollapsed())for(e=0;e<this.argumentVarModels_.length;e++)b={enabled:!0},d=this.argumentVarModels_[e],c=d.name,b.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",c),d=Blockly.Variables.generateVariableFieldDom(d),c=document.createElement("block"),c.setAttribute("type","variables_get"),c.appendChild(d),b.callback=Blockly.ContextMenu.callbackFactory(this,c),a.push(b)}},callType_:"procedures_callnoreturn"};
Blockly.Blocks.procedures_defreturn={init:function(){var a=new Blockly.FieldTextInput("",Blockly.Procedures.rename);a.setSpellcheck(!1);this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(a,"NAME").appendField("","PARAMS");this.appendValueInput("RETURN").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN);this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"]));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&
this.workspace.options.parentWorkspace.options.comments)&&Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT);this.setColour(Blockly.Msg.PROCEDURES_HUE);this.setTooltip(Blockly.Msg.PROCEDURES_DEFRETURN_TOOLTIP);this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFRETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.setStatements_(!0);this.statementConnection_=null},setStatements_:Blockly.Blocks.procedures_defnoreturn.setStatements_,updateParams_:Blockly.Blocks.procedures_defnoreturn.updateParams_,
mutationToDom:Blockly.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_defnoreturn.domToMutation,decompose:Blockly.Blocks.procedures_defnoreturn.decompose,compose:Blockly.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:Blockly.Blocks.procedures_defnoreturn.getVars,getVarModels:Blockly.Blocks.procedures_defnoreturn.getVarModels,renameVarById:Blockly.Blocks.procedures_defnoreturn.renameVarById,
updateVarName:Blockly.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:Blockly.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:Blockly.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"};
Blockly.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE);this.appendStatementInput("STACK");this.appendDummyInput("STATEMENT_INPUT").appendField(Blockly.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new Blockly.FieldCheckbox("TRUE"),"STATEMENTS");this.setColour(Blockly.Msg.PROCEDURES_HUE);this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
Blockly.Blocks.procedures_mutatorarg={init:function(){var a=new Blockly.FieldTextInput("x",this.validator_);a.oldShowEditorFn_=a.showEditor_;a.showEditor_=function(){this.createdVariables_=[];this.oldShowEditorFn_()};this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(a,"NAME");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setColour(Blockly.Msg.PROCEDURES_HUE);this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.onFinishEditing_=
this.deleteIntermediateVars_;a.createdVariables_=[];a.onFinishEditing_("x")},validator_:function(a){var b=Blockly.Mutator.findParentWs(this.sourceBlock_.workspace);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;var c=b.getVariable(a,"");c&&c.name!=a&&b.renameVarById(c.getId(),a);c||(c=b.createVariable(a,""))&&this.createdVariables_&&this.createdVariables_.push(c);return a},deleteIntermediateVars_:function(a){var b=Blockly.Mutator.findParentWs(this.sourceBlock_.workspace);if(b)for(var c=
0;c<this.createdVariables_.length;c++){var d=this.createdVariables_[c];d.name!=a&&b.deleteVariableById(d.getId())}}};
Blockly.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setColour(Blockly.Msg.PROCEDURES_HUE);this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.quarkConnections_={};this.quarkIds_=null;this.previousDisabledState_=!1},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(a,b){Blockly.Names.equals(a,
this.getProcedureCall())&&(this.setFieldValue(b,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},setProcedureParameters_:function(a,b){var c=Blockly.Procedures.getDefinition(this.getProcedureCall(),this.workspace),d=c&&c.mutator&&c.mutator.isVisible();d||(this.quarkConnections_={},this.quarkIds_=null);if(b)if(a.join("\n")==this.arguments_.join("\n"))this.quarkIds_=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");
this.setCollapsed(!1);this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);c=this.rendered;this.rendered=!1;for(var e=0;e<this.arguments_.length;e++){var f=this.getInput("ARG"+e);f&&(f=f.connection.targetConnection,this.quarkConnections_[this.quarkIds_[e]]=f,d&&f&&-1==b.indexOf(this.quarkIds_[e])&&(f.disconnect(),f.getSourceBlock().bumpNeighbours_()))}this.arguments_=[].concat(a);this.argumentVarModels_=[];for(e=0;e<this.arguments_.length;e++)d=Blockly.Variables.getOrCreateVariablePackage(this.workspace,
null,this.arguments_[e],""),this.argumentVarModels_.push(d);this.updateShape_();if(this.quarkIds_=b)for(e=0;e<this.arguments_.length;e++)d=this.quarkIds_[e],d in this.quarkConnections_&&(f=this.quarkConnections_[d],Blockly.Mutator.reconnect(f,this,"ARG"+e)||delete this.quarkConnections_[d]);(this.rendered=c)&&this.render()}},updateShape_:function(){for(var a=0;a<this.arguments_.length;a++){var b=this.getField("ARGNAME"+a);if(b){Blockly.Events.disable();try{b.setValue(this.arguments_[a])}finally{Blockly.Events.enable()}}else b=
new Blockly.FieldLabel(this.arguments_[a]),this.appendValueInput("ARG"+a).setAlign(Blockly.ALIGN_RIGHT).appendField(b,"ARGNAME"+a).init()}for(;this.getInput("ARG"+a);)this.removeInput("ARG"+a),a++;if(a=this.getInput("TOPROW"))this.arguments_.length?this.getField("WITH")||(a.appendField(Blockly.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),a.init()):this.getField("WITH")&&a.removeField("WITH")},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("name",this.getProcedureCall());
for(var b=0;b<this.arguments_.length;b++){var c=document.createElement("arg");c.setAttribute("name",this.arguments_[b]);a.appendChild(c)}return a},domToMutation:function(a){var b=a.getAttribute("name");this.renameProcedure(this.getProcedureCall(),b);b=[];for(var c=[],d=0,e;e=a.childNodes[d];d++)"arg"==e.nodeName.toLowerCase()&&(b.push(e.getAttribute("name")),c.push(e.getAttribute("paramId")));this.setProcedureParameters_(b,c)},getVarModels:function(){return this.argumentVarModels_},onchange:function(a){if(this.workspace&&
!this.workspace.isFlyout&&a.recordUndo)if(a.type==Blockly.Events.BLOCK_CREATE&&-1!=a.ids.indexOf(this.id)){var b=this.getProcedureCall();b=Blockly.Procedures.getDefinition(b,this.workspace);!b||b.type==this.defType_&&JSON.stringify(b.arguments_)==JSON.stringify(this.arguments_)||(b=null);if(!b){Blockly.Events.setGroup(a.group);a=document.createElement("xml");b=document.createElement("block");b.setAttribute("type",this.defType_);var c=this.getRelativeToSurfaceXY(),d=c.y+2*Blockly.SNAP_RADIUS;b.setAttribute("x",
c.x+Blockly.SNAP_RADIUS*(this.RTL?-1:1));b.setAttribute("y",d);c=this.mutationToDom();b.appendChild(c);c=document.createElement("field");c.setAttribute("name","NAME");c.appendChild(document.createTextNode(this.getProcedureCall()));b.appendChild(c);a.appendChild(b);Blockly.Xml.domToWorkspace(a,this.workspace);Blockly.Events.setGroup(!1)}}else a.type==Blockly.Events.BLOCK_DELETE?(b=this.getProcedureCall(),b=Blockly.Procedures.getDefinition(b,this.workspace),b||(Blockly.Events.setGroup(a.group),this.dispose(!0,
!1),Blockly.Events.setGroup(!1))):a.type==Blockly.Events.CHANGE&&"disabled"==a.element&&(b=this.getProcedureCall(),(b=Blockly.Procedures.getDefinition(b,this.workspace))&&b.id==a.blockId&&((b=Blockly.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),Blockly.Events.setGroup(a.group),a.newValue?(this.previousDisabledState_=this.disabled,this.setDisabled(!0)):this.setDisabled(this.previousDisabledState_),Blockly.Events.setGroup(b)))},customContextMenu:function(a){var b=
{enabled:!0};b.text=Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF;var c=this.getProcedureCall(),d=this.workspace;b.callback=function(){var a=Blockly.Procedures.getDefinition(c,d);a&&(d.centerOnBlock(a.id),a.select())};a.push(b)},defType_:"procedures_defnoreturn"};
Blockly.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME");this.setOutput(!0);this.setColour(Blockly.Msg.PROCEDURES_HUE);this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLRETURN_HELPURL);this.arguments_=[];this.quarkConnections_={};this.quarkIds_=null;this.previousDisabledState_=!1},getProcedureCall:Blockly.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:Blockly.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:Blockly.Blocks.procedures_callnoreturn.setProcedureParameters_,
updateShape_:Blockly.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:Blockly.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_callnoreturn.domToMutation,getVarModels:Blockly.Blocks.procedures_callnoreturn.getVarModels,onchange:Blockly.Blocks.procedures_callnoreturn.onchange,customContextMenu:Blockly.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"};
Blockly.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF);this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setColour(Blockly.Msg.PROCEDURES_HUE);this.setTooltip(Blockly.Msg.PROCEDURES_IFRETURN_TOOLTIP);this.setHelpUrl(Blockly.Msg.PROCEDURES_IFRETURN_HELPURL);this.hasReturnValue_=!0},mutationToDom:function(){var a=
document.createElement("mutation");a.setAttribute("value",Number(this.hasReturnValue_));return a},domToMutation:function(a){(this.hasReturnValue_=1==a.getAttribute("value"))||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(){if(this.workspace.isDragging&&!this.workspace.isDragging()){var a=!1,b=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(b.type)){a=!0;break}b=b.getSurroundParent()}while(b);a?("procedures_defnoreturn"==
b.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=b.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setDisabled(!1)):(this.setWarningText(Blockly.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||
this.setDisabled(!0))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};Blockly.Blocks.texts={};Blockly.Constants.Text={};Blockly.Constants.Text.HUE=160;
Blockly.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",
args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},
{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:"%{BKY_TEXTS_HUE}",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],
output:"Boolean",colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,
extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]);
Blockly.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL);this.setColour(Blockly.Msg.TEXTS_HUE);
this.appendValueInput("STRING").setCheck("String").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);this.appendDummyInput("AT1");this.appendDummyInput("AT2");Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL);this.setInputsInline(!0);this.setOutput(!0,"String");this.updateAt_(1,!0);this.updateAt_(2,!0);this.setTooltip(Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var a=document.createElement("mutation"),
b=this.getInput("AT1").type==Blockly.INPUT_VALUE;a.setAttribute("at1",b);b=this.getInput("AT2").type==Blockly.INPUT_VALUE;a.setAttribute("at2",b);return a},domToMutation:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.updateAt_(1,b);this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput("AT"+a);this.removeInput("ORDINAL"+a,!0);b?(this.appendValueInput("AT"+a).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+a).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):
this.appendDummyInput("AT"+a);2==a&&Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL));var c=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+a],function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=b){var f=this.sourceBlock_;f.updateAt_(a,d);f.setFieldValue(c,"WHERE"+a);return null}});this.getInput("AT"+a).appendField(c,"WHERE"+a);1==a&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1",
"AT2"))}};Blockly.Blocks.text_changeCase={init:function(){var a=[[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(Blockly.Msg.TEXT_CHANGECASE_HELPURL);this.setColour(Blockly.Msg.TEXTS_HUE);this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(a),"CASE");this.setOutput(!0,"String");this.setTooltip(Blockly.Msg.TEXT_CHANGECASE_TOOLTIP)}};
Blockly.Blocks.text_trim={init:function(){var a=[[Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(Blockly.Msg.TEXT_TRIM_HELPURL);this.setColour(Blockly.Msg.TEXTS_HUE);this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(a),"MODE");this.setOutput(!0,"String");this.setTooltip(Blockly.Msg.TEXT_TRIM_TOOLTIP)}};
Blockly.Blocks.text_print={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:Blockly.Msg.TEXTS_HUE,tooltip:Blockly.Msg.TEXT_PRINT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_PRINT_HELPURL})}};
Blockly.Blocks.text_prompt_ext={init:function(){var a=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL);this.setColour(Blockly.Msg.TEXTS_HUE);var b=this;a=new Blockly.FieldDropdown(a,function(a){b.updateType_(a)});this.appendValueInput("TEXT").appendField(a,"TYPE");this.setOutput(!0,"String");this.setTooltip(function(){return"TEXT"==b.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},
updateType_:function(a){this.outputConnection.setCheck("NUMBER"==a?"Number":"String")},mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("type",this.getFieldValue("TYPE"));return a},domToMutation:function(a){this.updateType_(a.getAttribute("type"))}};
Blockly.Blocks.text_prompt={init:function(){this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);var a=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],b=this;this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL);this.setColour(Blockly.Msg.TEXTS_HUE);a=new Blockly.FieldDropdown(a,function(a){b.updateType_(a)});this.appendDummyInput().appendField(a,"TYPE").appendField(this.newQuote_(!0)).appendField(new Blockly.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1));
this.setOutput(!0,"String");this.setTooltip(function(){return"TEXT"==b.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:Blockly.Blocks.text_prompt_ext.updateType_,mutationToDom:Blockly.Blocks.text_prompt_ext.mutationToDom,domToMutation:Blockly.Blocks.text_prompt_ext.domToMutation};
Blockly.Blocks.text_count={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,colour:Blockly.Msg.TEXTS_HUE,tooltip:Blockly.Msg.TEXT_COUNT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_COUNT_HELPURL})}};
Blockly.Blocks.text_replace={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,colour:Blockly.Msg.TEXTS_HUE,tooltip:Blockly.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:Blockly.Msg.TEXT_REPLACE_HELPURL})}};
Blockly.Blocks.text_reverse={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,colour:Blockly.Msg.TEXTS_HUE,tooltip:Blockly.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:Blockly.Msg.TEXT_REVERSE_HELPURL})}};
Blockly.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",
QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(a){for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)if(a==e.name){c.insertFieldAt(d,this.newQuote_(!0));c.insertFieldAt(d+2,this.newQuote_(!1));return}console.warn('field named "'+a+'" not found in '+this.toDevString())},newQuote_:function(a){a=this.RTL?!a:a;return new Blockly.FieldImage(a?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,a?"\u201c":"\u201d")}};
Blockly.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);this.quoteField_("TEXT")};
Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("items",this.itemCount_);return a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute("items"),10);this.updateShape_()},decompose:function(a){var b=a.newBlock("text_create_join_container");b.initSvg();for(var c=b.getInput("STACK").connection,d=0;d<this.itemCount_;d++){var e=a.newBlock("text_create_join_item");e.initSvg();c.connect(e.previousConnection);c=
e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock("STACK");for(a=[];b;)a.push(b.valueConnection_),b=b.nextConnection&&b.nextConnection.targetBlock();for(b=0;b<this.itemCount_;b++){var c=this.getInput("ADD"+b).connection.targetConnection;c&&-1==a.indexOf(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++)Blockly.Mutator.reconnect(a[b],this,"ADD"+b)},saveConnections:function(a){a=a.getInputTargetBlock("STACK");for(var b=0;a;){var c=
this.getInput("ADD"+b);a.valueConnection_=c&&c.connection.targetConnection;b++;a=a.nextConnection&&a.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var a=0;a<this.itemCount_;a++)if(!this.getInput("ADD"+a)){var b=this.appendValueInput("ADD"+a);0==a&&b.appendField(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+
a);)this.removeInput("ADD"+a),a++}};Blockly.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);this.itemCount_=2;this.updateShape_();this.setMutator(new Blockly.Mutator(["text_create_join_item"]))};Blockly.Extensions.register("text_append_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));
Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var a=this;this.setTooltip(function(){return Blockly.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",a.workspace.options.oneBasedIndex?"0":"-1")})};
Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var a=document.createElement("mutation");a.setAttribute("at",!!this.isAt_);return a},domToMutation:function(a){a="false"!=a.getAttribute("at");this.updateAt_(a)},updateAt_:function(a){this.removeInput("AT",!0);this.removeInput("ORDINAL",!0);a&&(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX));Blockly.Msg.TEXT_CHARAT_TAIL&&
(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_CHARAT_TAIL));this.isAt_=a}};
Blockly.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator(function(a){var b="FROM_START"==a||"FROM_END"==a;if(b!=this.isAt_){var d=this.sourceBlock_;d.updateAt_(b);d.setFieldValue(a,"WHERE");return null}});this.updateAt_(!0);var a=this;this.setTooltip(function(){var b=a.getFieldValue("WHERE"),c=Blockly.Msg.TEXT_CHARAT_TOOLTIP;("FROM_START"==b||"FROM_END"==b)&&(b="FROM_START"==b?Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP:Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&
(c+="  "+b.replace("%1",a.workspace.options.oneBasedIndex?"#1":"#0"));return c})};Blockly.Extensions.register("text_indexOf_tooltip",Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION);Blockly.Extensions.register("text_quotes",Blockly.Constants.Text.TEXT_QUOTES_EXTENSION);Blockly.Extensions.registerMutator("text_join_mutator",Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,Blockly.Constants.Text.TEXT_JOIN_EXTENSION);
Blockly.Extensions.registerMutator("text_charAt_mutator",Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,Blockly.Constants.Text.TEXT_CHARAT_EXTENSION);Blockly.Blocks.variables={};Blockly.Constants.Variables={};Blockly.Constants.Variables.HUE=330;
Blockly.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);
Blockly.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(a){if(!this.isInFlyout){if("variables_get"==this.type)var b="variables_set",c=Blockly.Msg.VARIABLES_GET_CREATE_SET;else b="variables_get",c=Blockly.Msg.VARIABLES_SET_CREATE_GET;var d={enabled:0<this.workspace.remainingCapacity()},e=this.getField("VAR").getText();d.text=c.replace("%1",e);c=document.createElement("field");c.setAttribute("name","VAR");c.appendChild(document.createTextNode(e));e=document.createElement("block");
e.setAttribute("type",b);e.appendChild(c);d.callback=Blockly.ContextMenu.callbackFactory(this,e);a.push(d)}}};Blockly.Extensions.registerMixin("contextMenu_variableSetterGetter",Blockly.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);Blockly.Constants.VariablesDynamic={};Blockly.Constants.VariablesDynamic.HUE=310;
Blockly.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_DYNAMIC_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",
name:"VALUE"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_DYNAMIC_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]);
Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(a){if(!this.isInFlyout){var b=this.getFieldValue("VAR"),c=this.workspace.getVariableById(b).type;if("variables_get_dynamic"==this.type){b="variables_set_dynamic";var d=Blockly.Msg.VARIABLES_GET_CREATE_SET}else b="variables_get_dynamic",d=Blockly.Msg.VARIABLES_SET_CREATE_GET;var e={enabled:0<this.workspace.remainingCapacity()},f=this.getField("VAR").getText();e.text=d.replace("%1",f);d=document.createElement("field");
d.setAttribute("name","VAR");d.setAttribute("variabletype",c);d.appendChild(document.createTextNode(f));c=document.createElement("block");c.setAttribute("type",b);c.appendChild(d);e.callback=Blockly.ContextMenu.callbackFactory(this,c);a.push(e)}},onchange:function(){var a=this.getFieldValue("VAR");a=this.workspace.getVariableById(a);"variables_get_dynamic"==this.type?this.outputConnection.setCheck(a.type):this.getInput("VALUE").connection.setCheck(a.type)}};
Blockly.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);Sorter.Blocks={};
Blockly.defineBlocksWithJsonArray([{type:"length",message0:"length",inputsInline:!0,output:"Number",colour:280,tooltip:"Returns the list's length",helpUrl:""},{type:"swap",message0:"Swap %1 %2  with  %3 %4 ",args0:[{type:"input_dummy"},{type:"input_value",name:"index_a",check:"Number"},{type:"input_dummy"},{type:"input_value",name:"index_b",check:"Number"}],previousStatement:null,nextStatement:null,colour:280,tooltip:"Swaps the list's two elements of given indices",helpUrl:""},{type:"getter",message0:"get %1 %2  element",
args0:[{type:"input_dummy"},{type:"input_value",name:"index"}],inputsInline:!0,output:"Number",colour:280,tooltip:"Returns the list's value at given index",helpUrl:""}]);var blockly_generators_compressed={};"use strict";Blockly.JavaScript=new Blockly.Generator("JavaScript");Blockly.JavaScript.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
Blockly.JavaScript.ORDER_ATOMIC=0;Blockly.JavaScript.ORDER_NEW=1.1;Blockly.JavaScript.ORDER_MEMBER=1.2;Blockly.JavaScript.ORDER_FUNCTION_CALL=2;Blockly.JavaScript.ORDER_INCREMENT=3;Blockly.JavaScript.ORDER_DECREMENT=3;Blockly.JavaScript.ORDER_BITWISE_NOT=4.1;Blockly.JavaScript.ORDER_UNARY_PLUS=4.2;Blockly.JavaScript.ORDER_UNARY_NEGATION=4.3;Blockly.JavaScript.ORDER_LOGICAL_NOT=4.4;Blockly.JavaScript.ORDER_TYPEOF=4.5;Blockly.JavaScript.ORDER_VOID=4.6;Blockly.JavaScript.ORDER_DELETE=4.7;
Blockly.JavaScript.ORDER_AWAIT=4.8;Blockly.JavaScript.ORDER_EXPONENTIATION=5;Blockly.JavaScript.ORDER_MULTIPLICATION=5.1;Blockly.JavaScript.ORDER_DIVISION=5.2;Blockly.JavaScript.ORDER_MODULUS=5.3;Blockly.JavaScript.ORDER_SUBTRACTION=6.1;Blockly.JavaScript.ORDER_ADDITION=6.2;Blockly.JavaScript.ORDER_BITWISE_SHIFT=7;Blockly.JavaScript.ORDER_RELATIONAL=8;Blockly.JavaScript.ORDER_IN=8;Blockly.JavaScript.ORDER_INSTANCEOF=8;Blockly.JavaScript.ORDER_EQUALITY=9;Blockly.JavaScript.ORDER_BITWISE_AND=10;
Blockly.JavaScript.ORDER_BITWISE_XOR=11;Blockly.JavaScript.ORDER_BITWISE_OR=12;Blockly.JavaScript.ORDER_LOGICAL_AND=13;Blockly.JavaScript.ORDER_LOGICAL_OR=14;Blockly.JavaScript.ORDER_CONDITIONAL=15;Blockly.JavaScript.ORDER_ASSIGNMENT=16;Blockly.JavaScript.ORDER_YIELD=17;Blockly.JavaScript.ORDER_COMMA=18;Blockly.JavaScript.ORDER_NONE=99;
Blockly.JavaScript.ORDER_OVERRIDES=[[Blockly.JavaScript.ORDER_FUNCTION_CALL,Blockly.JavaScript.ORDER_MEMBER],[Blockly.JavaScript.ORDER_FUNCTION_CALL,Blockly.JavaScript.ORDER_FUNCTION_CALL],[Blockly.JavaScript.ORDER_MEMBER,Blockly.JavaScript.ORDER_MEMBER],[Blockly.JavaScript.ORDER_MEMBER,Blockly.JavaScript.ORDER_FUNCTION_CALL],[Blockly.JavaScript.ORDER_LOGICAL_NOT,Blockly.JavaScript.ORDER_LOGICAL_NOT],[Blockly.JavaScript.ORDER_MULTIPLICATION,Blockly.JavaScript.ORDER_MULTIPLICATION],[Blockly.JavaScript.ORDER_ADDITION,
Blockly.JavaScript.ORDER_ADDITION],[Blockly.JavaScript.ORDER_LOGICAL_AND,Blockly.JavaScript.ORDER_LOGICAL_AND],[Blockly.JavaScript.ORDER_LOGICAL_OR,Blockly.JavaScript.ORDER_LOGICAL_OR]];
Blockly.JavaScript.init=function(a){Blockly.JavaScript.definitions_=Object.create(null);Blockly.JavaScript.functionNames_=Object.create(null);Blockly.JavaScript.variableDB_?Blockly.JavaScript.variableDB_.reset():Blockly.JavaScript.variableDB_=new Blockly.Names(Blockly.JavaScript.RESERVED_WORDS_);Blockly.JavaScript.variableDB_.setVariableMap(a.getVariableMap());for(var b=[],c=Blockly.Variables.allDeveloperVariables(a),d=0;d<c.length;d++)b.push(Blockly.JavaScript.variableDB_.getName(c[d],Blockly.Names.DEVELOPER_VARIABLE_TYPE));
a=Blockly.Variables.allUsedVarModels(a);for(d=0;d<a.length;d++)b.push(Blockly.JavaScript.variableDB_.getName(a[d].getId(),Blockly.Variables.NAME_TYPE));b.length&&(Blockly.JavaScript.definitions_.variables="var "+b.join(", ")+";")};
Blockly.JavaScript.finish=function(a){var b=[],c;for(c in Blockly.JavaScript.definitions_)b.push(Blockly.JavaScript.definitions_[c]);delete Blockly.JavaScript.definitions_;delete Blockly.JavaScript.functionNames_;Blockly.JavaScript.variableDB_.reset();return b.join("\n\n")+"\n\n\n"+a};Blockly.JavaScript.scrubNakedValue=function(a){return a+";\n"};Blockly.JavaScript.quote_=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
Blockly.JavaScript.scrub_=function(a,b){var c="";if(!a.outputConnection||!a.outputConnection.targetConnection){var d=a.getCommentText();(d=Blockly.utils.wrap(d,Blockly.JavaScript.COMMENT_WRAP-3))&&(c=a.getProcedureDef?c+("/**\n"+Blockly.JavaScript.prefixLines(d+"\n"," * ")+" */\n"):c+Blockly.JavaScript.prefixLines(d+"\n","// "));for(var e=0;e<a.inputList.length;e++)a.inputList[e].type==Blockly.INPUT_VALUE&&(d=a.inputList[e].connection.targetBlock())&&(d=Blockly.JavaScript.allNestedComments(d))&&(c+=
Blockly.JavaScript.prefixLines(d,"// "))}e=a.nextConnection&&a.nextConnection.targetBlock();e=Blockly.JavaScript.blockToCode(e);return c+b+e};
Blockly.JavaScript.getAdjusted=function(a,b,c,d,e){c=c||0;e=e||Blockly.JavaScript.ORDER_NONE;a.workspace.options.oneBasedIndex&&c--;var f=a.workspace.options.oneBasedIndex?"1":"0";a=0<c?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_ADDITION)||f:0>c?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_SUBTRACTION)||f:d?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_UNARY_NEGATION)||f:Blockly.JavaScript.valueToCode(a,b,e)||f;if(Blockly.isNumber(a))a=parseFloat(a)+c,
d&&(a=-a);else{if(0<c){a=a+" + "+c;var h=Blockly.JavaScript.ORDER_ADDITION}else 0>c&&(a=a+" - "+-c,h=Blockly.JavaScript.ORDER_SUBTRACTION);d&&(a=c?"-("+a+")":"-"+a,h=Blockly.JavaScript.ORDER_UNARY_NEGATION);h=Math.floor(h);e=Math.floor(e);h&&e>=h&&(a="("+a+")")}return a};Blockly.JavaScript.colour={};Blockly.JavaScript.colour_picker=function(a){return["'"+a.getFieldValue("COLOUR")+"'",Blockly.JavaScript.ORDER_ATOMIC]};
Blockly.JavaScript.colour_random=function(a){return[Blockly.JavaScript.provideFunction_("colourRandom",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.colour_rgb=function(a){var b=Blockly.JavaScript.valueToCode(a,"RED",Blockly.JavaScript.ORDER_COMMA)||0,c=Blockly.JavaScript.valueToCode(a,"GREEN",Blockly.JavaScript.ORDER_COMMA)||0;a=Blockly.JavaScript.valueToCode(a,"BLUE",Blockly.JavaScript.ORDER_COMMA)||0;return[Blockly.JavaScript.provideFunction_("colourRgb",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;",
"  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+b+", "+c+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.colour_blend=function(a){var b=Blockly.JavaScript.valueToCode(a,"COLOUR1",Blockly.JavaScript.ORDER_COMMA)||"'#000000'",c=Blockly.JavaScript.valueToCode(a,"COLOUR2",Blockly.JavaScript.ORDER_COMMA)||"'#000000'";a=Blockly.JavaScript.valueToCode(a,"RATIO",Blockly.JavaScript.ORDER_COMMA)||.5;return[Blockly.JavaScript.provideFunction_("colourBlend",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);",
"  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);",
"  return '#' + r + g + b;","}"])+"("+b+", "+c+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.lists={};Blockly.JavaScript.lists_create_empty=function(a){return["[]",Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.lists_create_with=function(a){for(var b=Array(a.itemCount_),c=0;c<a.itemCount_;c++)b[c]=Blockly.JavaScript.valueToCode(a,"ADD"+c,Blockly.JavaScript.ORDER_COMMA)||"null";return["["+b.join(", ")+"]",Blockly.JavaScript.ORDER_ATOMIC]};
Blockly.JavaScript.lists_repeat=function(a){var b=Blockly.JavaScript.provideFunction_("listsRepeat",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),c=Blockly.JavaScript.valueToCode(a,"ITEM",Blockly.JavaScript.ORDER_COMMA)||"null";a=Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_COMMA)||"0";return[b+"("+c+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.lists_length=function(a){return[(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",Blockly.JavaScript.ORDER_MEMBER]};Blockly.JavaScript.lists_isEmpty=function(a){return["!"+(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",Blockly.JavaScript.ORDER_LOGICAL_NOT]};
Blockly.JavaScript.lists_indexOf=function(a){var b="FIRST"==a.getFieldValue("END")?"indexOf":"lastIndexOf",c=Blockly.JavaScript.valueToCode(a,"FIND",Blockly.JavaScript.ORDER_NONE)||"''";b=(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+"."+b+"("+c+")";return a.workspace.options.oneBasedIndex?[b+" + 1",Blockly.JavaScript.ORDER_ADDITION]:[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.lists_getIndex=function(a){var b=a.getFieldValue("MODE")||"GET",c=a.getFieldValue("WHERE")||"FROM_START",d=Blockly.JavaScript.valueToCode(a,"VALUE","RANDOM"==c?Blockly.JavaScript.ORDER_COMMA:Blockly.JavaScript.ORDER_MEMBER)||"[]";switch(c){case "FIRST":if("GET"==b)return[d+"[0]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==b)return[d+".shift()",Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"==b)return d+".shift();\n";break;case "LAST":if("GET"==b)return[d+".slice(-1)[0]",Blockly.JavaScript.ORDER_MEMBER];
if("GET_REMOVE"==b)return[d+".pop()",Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"==b)return d+".pop();\n";break;case "FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT");if("GET"==b)return[d+"["+a+"]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+".splice("+a+", 1);\n";break;case "FROM_END":a=Blockly.JavaScript.getAdjusted(a,"AT",1,!0);if("GET"==b)return[d+".slice("+a+")[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];
if("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+".splice("+a+", 1);";break;case "RANDOM":d=Blockly.JavaScript.provideFunction_("listsGetRandomItem",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+d+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[d,
Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
Blockly.JavaScript.lists_setIndex=function(a){function b(){if(c.match(/^\w+$/))return"";var a=Blockly.JavaScript.variableDB_.getDistinctName("tmpList",Blockly.Variables.NAME_TYPE),b="var "+a+" = "+c+";\n";c=a;return b}var c=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",d=a.getFieldValue("MODE")||"GET",e=a.getFieldValue("WHERE")||"FROM_START",f=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"null";switch(e){case "FIRST":if("SET"==d)return c+
"[0] = "+f+";\n";if("INSERT"==d)return c+".unshift("+f+");\n";break;case "LAST":if("SET"==d)return a=b(),a+(c+"["+c+".length - 1] = "+f+";\n");if("INSERT"==d)return c+".push("+f+");\n";break;case "FROM_START":e=Blockly.JavaScript.getAdjusted(a,"AT");if("SET"==d)return c+"["+e+"] = "+f+";\n";if("INSERT"==d)return c+".splice("+e+", 0, "+f+");\n";break;case "FROM_END":e=Blockly.JavaScript.getAdjusted(a,"AT",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION);a=b();if("SET"==d)return a+(c+"["+c+".length - "+e+
"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+c+".length - "+e+", 0, "+f+");\n");break;case "RANDOM":a=b();e=Blockly.JavaScript.variableDB_.getDistinctName("tmpX",Blockly.Variables.NAME_TYPE);a+="var "+e+" = Math.floor(Math.random() * "+c+".length);\n";if("SET"==d)return a+(c+"["+e+"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+e+", 0, "+f+");\n")}throw Error("Unhandled combination (lists_setIndex).");};
Blockly.JavaScript.lists.getIndex_=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
Blockly.JavaScript.lists_getSublist=function(a){var b=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",c=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");if("FIRST"==c&&"LAST"==d)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=c&&"FROM_START"==d){switch(c){case "FROM_START":var e=Blockly.JavaScript.getAdjusted(a,"AT1");break;case "FROM_END":e=Blockly.JavaScript.getAdjusted(a,"AT1",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION);e=b+".length - "+e;break;case "FIRST":e=
"0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(d){case "FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT2",1);break;case "FROM_END":a=Blockly.JavaScript.getAdjusted(a,"AT2",0,!1,Blockly.JavaScript.ORDER_SUBTRACTION);a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}b=b+".slice("+e+", "+a+")"}else{e=Blockly.JavaScript.getAdjusted(a,"AT1");a=Blockly.JavaScript.getAdjusted(a,"AT2");var f=Blockly.JavaScript.lists.getIndex_,
h={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=Blockly.JavaScript.provideFunction_("subsequence"+h[c]+h[d],["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+f("sequence",c,"at1")+";","  var end = "+f("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+e:"")+("FROM_END"==d||"FROM_START"==
d?", "+a:"")+")"}return[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.lists_sort=function(a){var b=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]",c="1"===a.getFieldValue("DIRECTION")?1:-1;a=a.getFieldValue("TYPE");var d=Blockly.JavaScript.provideFunction_("listsGetSortCompare",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return parseFloat(a) - parseFloat(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",
'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+d+'("'+a+'", '+c+"))",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.lists_split=function(a){var b=Blockly.JavaScript.valueToCode(a,"INPUT",Blockly.JavaScript.ORDER_MEMBER),c=Blockly.JavaScript.valueToCode(a,"DELIM",Blockly.JavaScript.ORDER_NONE)||"''";a=a.getFieldValue("MODE");if("SPLIT"==a)b||(b="''"),a="split";else if("JOIN"==a)b||(b="[]"),a="join";else throw Error("Unknown mode: "+a);return[b+"."+a+"("+c+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.lists_reverse=function(a){return[(Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.logic={};
Blockly.JavaScript.controls_if=function(a){var b=0,c="";do{var d=Blockly.JavaScript.valueToCode(a,"IF"+b,Blockly.JavaScript.ORDER_NONE)||"false",e=Blockly.JavaScript.statementToCode(a,"DO"+b);c+=(0<b?" else ":"")+"if ("+d+") {\n"+e+"}";++b}while(a.getInput("IF"+b));a.getInput("ELSE")&&(e=Blockly.JavaScript.statementToCode(a,"ELSE"),c+=" else {\n"+e+"}");return c+"\n"};Blockly.JavaScript.controls_ifelse=Blockly.JavaScript.controls_if;
Blockly.JavaScript.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[a.getFieldValue("OP")],c="=="==b||"!="==b?Blockly.JavaScript.ORDER_EQUALITY:Blockly.JavaScript.ORDER_RELATIONAL,d=Blockly.JavaScript.valueToCode(a,"A",c)||"0";a=Blockly.JavaScript.valueToCode(a,"B",c)||"0";return[d+" "+b+" "+a,c]};
Blockly.JavaScript.logic_operation=function(a){var b="AND"==a.getFieldValue("OP")?"&&":"||",c="&&"==b?Blockly.JavaScript.ORDER_LOGICAL_AND:Blockly.JavaScript.ORDER_LOGICAL_OR,d=Blockly.JavaScript.valueToCode(a,"A",c);a=Blockly.JavaScript.valueToCode(a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};
Blockly.JavaScript.logic_negate=function(a){var b=Blockly.JavaScript.ORDER_LOGICAL_NOT;return["!"+(Blockly.JavaScript.valueToCode(a,"BOOL",b)||"true"),b]};Blockly.JavaScript.logic_boolean=function(a){return["TRUE"==a.getFieldValue("BOOL")?"true":"false",Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.logic_null=function(a){return["null",Blockly.JavaScript.ORDER_ATOMIC]};
Blockly.JavaScript.logic_ternary=function(a){var b=Blockly.JavaScript.valueToCode(a,"IF",Blockly.JavaScript.ORDER_CONDITIONAL)||"false",c=Blockly.JavaScript.valueToCode(a,"THEN",Blockly.JavaScript.ORDER_CONDITIONAL)||"null";a=Blockly.JavaScript.valueToCode(a,"ELSE",Blockly.JavaScript.ORDER_CONDITIONAL)||"null";return[b+" ? "+c+" : "+a,Blockly.JavaScript.ORDER_CONDITIONAL]};Blockly.JavaScript.loops={};
Blockly.JavaScript.controls_repeat_ext=function(a){var b=a.getField("TIMES")?String(Number(a.getFieldValue("TIMES"))):Blockly.JavaScript.valueToCode(a,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",c=Blockly.JavaScript.statementToCode(a,"DO");c=Blockly.JavaScript.addLoopTrap(c,a.id);a="";var d=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),e=b;b.match(/^\w+$/)||Blockly.isNumber(b)||(e=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE),
a+="var "+e+" = "+b+";\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};Blockly.JavaScript.controls_repeat=Blockly.JavaScript.controls_repeat_ext;
Blockly.JavaScript.controls_whileUntil=function(a){var b="UNTIL"==a.getFieldValue("MODE"),c=Blockly.JavaScript.valueToCode(a,"BOOL",b?Blockly.JavaScript.ORDER_LOGICAL_NOT:Blockly.JavaScript.ORDER_NONE)||"false",d=Blockly.JavaScript.statementToCode(a,"DO");d=Blockly.JavaScript.addLoopTrap(d,a.id);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
Blockly.JavaScript.controls_for=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),c=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",d=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",e=Blockly.JavaScript.valueToCode(a,"BY",Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",f=Blockly.JavaScript.statementToCode(a,"DO");f=Blockly.JavaScript.addLoopTrap(f,a.id);if(Blockly.isNumber(c)&&Blockly.isNumber(d)&&
Blockly.isNumber(e)){var h=parseFloat(c)<=parseFloat(d);a="for ("+b+" = "+c+"; "+b+(h?" <= ":" >= ")+d+"; "+b;b=Math.abs(parseFloat(e));a=(1==b?a+(h?"++":"--"):a+((h?" += ":" -= ")+b))+(") {\n"+f+"}\n")}else a="",h=c,c.match(/^\w+$/)||Blockly.isNumber(c)||(h=Blockly.JavaScript.variableDB_.getDistinctName(b+"_start",Blockly.Variables.NAME_TYPE),a+="var "+h+" = "+c+";\n"),c=d,d.match(/^\w+$/)||Blockly.isNumber(d)||(c=Blockly.JavaScript.variableDB_.getDistinctName(b+"_end",Blockly.Variables.NAME_TYPE),
a+="var "+c+" = "+d+";\n"),d=Blockly.JavaScript.variableDB_.getDistinctName(b+"_inc",Blockly.Variables.NAME_TYPE),a+="var "+d+" = ",a=Blockly.isNumber(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a=a+("if ("+h+" > "+c+") {\n")+(Blockly.JavaScript.INDENT+d+" = -"+d+";\n"),a=a+"}\n"+("for ("+b+" = "+h+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+f+"}\n");return a};
Blockly.JavaScript.controls_forEach=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),c=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",d=Blockly.JavaScript.statementToCode(a,"DO");d=Blockly.JavaScript.addLoopTrap(d,a.id);a="";var e=c;c.match(/^\w+$/)||(e=Blockly.JavaScript.variableDB_.getDistinctName(b+"_list",Blockly.Variables.NAME_TYPE),a+="var "+e+" = "+c+";\n");c=Blockly.JavaScript.variableDB_.getDistinctName(b+
"_index",Blockly.Variables.NAME_TYPE);d=Blockly.JavaScript.INDENT+b+" = "+e+"["+c+"];\n"+d;return a+("for (var "+c+" in "+e+") {\n"+d+"}\n")};Blockly.JavaScript.controls_flow_statements=function(a){switch(a.getFieldValue("FLOW")){case "BREAK":return"break;\n";case "CONTINUE":return"continue;\n"}throw Error("Unknown flow statement.");};Blockly.JavaScript.math={};Blockly.JavaScript.math_number=function(a){a=parseFloat(a.getFieldValue("NUM"));return[a,0<=a?Blockly.JavaScript.ORDER_ATOMIC:Blockly.JavaScript.ORDER_UNARY_NEGATION]};
Blockly.JavaScript.math_arithmetic=function(a){var b={ADD:[" + ",Blockly.JavaScript.ORDER_ADDITION],MINUS:[" - ",Blockly.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",Blockly.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",Blockly.JavaScript.ORDER_DIVISION],POWER:[null,Blockly.JavaScript.ORDER_COMMA]}[a.getFieldValue("OP")],c=b[0];b=b[1];var d=Blockly.JavaScript.valueToCode(a,"A",b)||"0";a=Blockly.JavaScript.valueToCode(a,"B",b)||"0";return c?[d+c+a,b]:["Math.pow("+d+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.math_single=function(a){var b=a.getFieldValue("OP");if("NEG"==b)return a=Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_UNARY_NEGATION)||"0","-"==a[0]&&(a=" "+a),["-"+a,Blockly.JavaScript.ORDER_UNARY_NEGATION];a="SIN"==b||"COS"==b||"TAN"==b?Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_DIVISION)||"0":Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_NONE)||"0";switch(b){case "ABS":var c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+
a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c="Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(b){case "LOG10":c="Math.log("+a+
") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,Blockly.JavaScript.ORDER_DIVISION]};
Blockly.JavaScript.math_constant=function(a){return{PI:["Math.PI",Blockly.JavaScript.ORDER_MEMBER],E:["Math.E",Blockly.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",Blockly.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",Blockly.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",Blockly.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",Blockly.JavaScript.ORDER_ATOMIC]}[a.getFieldValue("CONSTANT")]};
Blockly.JavaScript.math_number_property=function(a){var b=Blockly.JavaScript.valueToCode(a,"NUMBER_TO_CHECK",Blockly.JavaScript.ORDER_MODULUS)||"0",c=a.getFieldValue("PROPERTY");if("PRIME"==c)return[Blockly.JavaScript.provideFunction_("mathIsPrime",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.",
"  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(c){case "EVEN":var d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=
b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=Blockly.JavaScript.valueToCode(a,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0",d=b+" % "+a+" == 0"}return[d,Blockly.JavaScript.ORDER_EQUALITY]};Blockly.JavaScript.math_change=function(a){var b=Blockly.JavaScript.valueToCode(a,"DELTA",Blockly.JavaScript.ORDER_ADDITION)||"0";a=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};
Blockly.JavaScript.math_round=Blockly.JavaScript.math_single;Blockly.JavaScript.math_trig=Blockly.JavaScript.math_single;
Blockly.JavaScript.math_on_list=function(a){var b=a.getFieldValue("OP");switch(b){case "SUM":a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_COMMA)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_COMMA)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":b=Blockly.JavaScript.provideFunction_("mathMean",
["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "MEDIAN":b=Blockly.JavaScript.provideFunction_("mathMedian",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;",
"  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "MODE":b=Blockly.JavaScript.provideFunction_("mathModes",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];",
"  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {",
"    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "STD_DEV":b=Blockly.JavaScript.provideFunction_("mathStandardDeviation",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;",
"  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "RANDOM":b=Blockly.JavaScript.provideFunction_("mathRandomList",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=Blockly.JavaScript.valueToCode(a,
"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;default:throw Error("Unknown operator: "+b);}return[a,Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.math_modulo=function(a){var b=Blockly.JavaScript.valueToCode(a,"DIVIDEND",Blockly.JavaScript.ORDER_MODULUS)||"0";a=Blockly.JavaScript.valueToCode(a,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0";return[b+" % "+a,Blockly.JavaScript.ORDER_MODULUS]};
Blockly.JavaScript.math_constrain=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_COMMA)||"0",c=Blockly.JavaScript.valueToCode(a,"LOW",Blockly.JavaScript.ORDER_COMMA)||"0";a=Blockly.JavaScript.valueToCode(a,"HIGH",Blockly.JavaScript.ORDER_COMMA)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.math_random_int=function(a){var b=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_COMMA)||"0";a=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_COMMA)||"0";return[Blockly.JavaScript.provideFunction_("mathRandomInt",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);",
"}"])+"("+b+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.math_random_float=function(a){return["Math.random()",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.math_atan2=function(a){var b=Blockly.JavaScript.valueToCode(a,"X",Blockly.JavaScript.ORDER_COMMA)||"0";return["Math.atan2("+(Blockly.JavaScript.valueToCode(a,"Y",Blockly.JavaScript.ORDER_COMMA)||"0")+", "+b+") / Math.PI * 180",Blockly.JavaScript.ORDER_DIVISION]};Blockly.JavaScript.procedures={};
Blockly.JavaScript.procedures_defreturn=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=Blockly.JavaScript.statementToCode(a,"STACK");if(Blockly.JavaScript.STATEMENT_PREFIX){var d=a.id.replace(/\$/g,"$$$$");c=Blockly.JavaScript.prefixLines(Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"'"+d+"'"),Blockly.JavaScript.INDENT)+c}Blockly.JavaScript.INFINITE_LOOP_TRAP&&(c=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+
c);(d=Blockly.JavaScript.valueToCode(a,"RETURN",Blockly.JavaScript.ORDER_NONE)||"")&&(d=Blockly.JavaScript.INDENT+"return "+d+";\n");for(var e=[],f=0;f<a.arguments_.length;f++)e[f]=Blockly.JavaScript.variableDB_.getName(a.arguments_[f],Blockly.Variables.NAME_TYPE);c="function "+b+"("+e.join(", ")+") {\n"+c+d+"}";c=Blockly.JavaScript.scrub_(a,c);Blockly.JavaScript.definitions_["%"+b]=c;return null};Blockly.JavaScript.procedures_defnoreturn=Blockly.JavaScript.procedures_defreturn;
Blockly.JavaScript.procedures_callreturn=function(a){for(var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.JavaScript.valueToCode(a,"ARG"+d,Blockly.JavaScript.ORDER_COMMA)||"null";return[b+"("+c.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.procedures_callnoreturn=function(a){for(var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.JavaScript.valueToCode(a,"ARG"+d,Blockly.JavaScript.ORDER_COMMA)||"null";return b+"("+c.join(", ")+");\n"};
Blockly.JavaScript.procedures_ifreturn=function(a){var b="if ("+(Blockly.JavaScript.valueToCode(a,"CONDITION",Blockly.JavaScript.ORDER_NONE)||"false")+") {\n";a.hasReturnValue_?(a=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_NONE)||"null",b+=Blockly.JavaScript.INDENT+"return "+a+";\n"):b+=Blockly.JavaScript.INDENT+"return;\n";return b+"}\n"};Blockly.JavaScript.texts={};Blockly.JavaScript.text=function(a){return[Blockly.JavaScript.quote_(a.getFieldValue("TEXT")),Blockly.JavaScript.ORDER_ATOMIC]};
Blockly.JavaScript.text.forceString_=function(a){return Blockly.JavaScript.text.forceString_.strRegExp.test(a)?a:"String("+a+")"};Blockly.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/;
Blockly.JavaScript.text_join=function(a){switch(a.itemCount_){case 0:return["''",Blockly.JavaScript.ORDER_ATOMIC];case 1:return a=Blockly.JavaScript.valueToCode(a,"ADD0",Blockly.JavaScript.ORDER_NONE)||"''",a=Blockly.JavaScript.text.forceString_(a),[a,Blockly.JavaScript.ORDER_FUNCTION_CALL];case 2:var b=Blockly.JavaScript.valueToCode(a,"ADD0",Blockly.JavaScript.ORDER_NONE)||"''";a=Blockly.JavaScript.valueToCode(a,"ADD1",Blockly.JavaScript.ORDER_NONE)||"''";a=Blockly.JavaScript.text.forceString_(b)+
" + "+Blockly.JavaScript.text.forceString_(a);return[a,Blockly.JavaScript.ORDER_ADDITION];default:b=Array(a.itemCount_);for(var c=0;c<a.itemCount_;c++)b[c]=Blockly.JavaScript.valueToCode(a,"ADD"+c,Blockly.JavaScript.ORDER_COMMA)||"''";a="["+b.join(",")+"].join('')";return[a,Blockly.JavaScript.ORDER_FUNCTION_CALL]}};
Blockly.JavaScript.text_append=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);a=Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''";return b+" += "+Blockly.JavaScript.text.forceString_(a)+";\n"};Blockly.JavaScript.text_length=function(a){return[(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length",Blockly.JavaScript.ORDER_MEMBER]};
Blockly.JavaScript.text_isEmpty=function(a){return["!"+(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"''")+".length",Blockly.JavaScript.ORDER_LOGICAL_NOT]};
Blockly.JavaScript.text_indexOf=function(a){var b="FIRST"==a.getFieldValue("END")?"indexOf":"lastIndexOf",c=Blockly.JavaScript.valueToCode(a,"FIND",Blockly.JavaScript.ORDER_NONE)||"''";b=(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"''")+"."+b+"("+c+")";return a.workspace.options.oneBasedIndex?[b+" + 1",Blockly.JavaScript.ORDER_ADDITION]:[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.text_charAt=function(a){var b=a.getFieldValue("WHERE")||"FROM_START",c=Blockly.JavaScript.valueToCode(a,"VALUE","RANDOM"==b?Blockly.JavaScript.ORDER_NONE:Blockly.JavaScript.ORDER_MEMBER)||"''";switch(b){case "FIRST":return[c+".charAt(0)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "LAST":return[c+".slice(-1)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "FROM_START":return a=Blockly.JavaScript.getAdjusted(a,"AT"),[c+".charAt("+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "FROM_END":return a=
Blockly.JavaScript.getAdjusted(a,"AT",1,!0),[c+".slice("+a+").charAt(0)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "RANDOM":return[Blockly.JavaScript.provideFunction_("textRandomLetter",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+c+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).");};
Blockly.JavaScript.text.getIndex_=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
Blockly.JavaScript.text_getSubstring=function(a){var b=Blockly.JavaScript.valueToCode(a,"STRING",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"''",c=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");if("FIRST"!=c||"LAST"!=d)if(b.match(/^'?\w+'?$/)||"FROM_END"!=c&&"LAST"!=c&&"FROM_END"!=d&&"LAST"!=d){switch(c){case "FROM_START":var e=Blockly.JavaScript.getAdjusted(a,"AT1");break;case "FROM_END":e=Blockly.JavaScript.getAdjusted(a,"AT1",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION);e=b+".length - "+e;break;
case "FIRST":e="0";break;default:throw Error("Unhandled option (text_getSubstring).");}switch(d){case "FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT2",1);break;case "FROM_END":a=Blockly.JavaScript.getAdjusted(a,"AT2",0,!1,Blockly.JavaScript.ORDER_SUBTRACTION);a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (text_getSubstring).");}b=b+".slice("+e+", "+a+")"}else{e=Blockly.JavaScript.getAdjusted(a,"AT1");a=Blockly.JavaScript.getAdjusted(a,"AT2");var f=
Blockly.JavaScript.text.getIndex_,h={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=Blockly.JavaScript.provideFunction_("subsequence"+h[c]+h[d],["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+f("sequence",c,"at1")+";","  var end = "+f("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==c||"FROM_START"==
c?", "+e:"")+("FROM_END"==d||"FROM_START"==d?", "+a:"")+")"}return[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.text_changeCase=function(a){var b={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[a.getFieldValue("CASE")];a=Blockly.JavaScript.valueToCode(a,"TEXT",b?Blockly.JavaScript.ORDER_MEMBER:Blockly.JavaScript.ORDER_NONE)||"''";return[b?a+b:Blockly.JavaScript.provideFunction_("textToTitleCase",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});",
"}"])+"("+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.text_trim=function(a){var b={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[a.getFieldValue("MODE")];return[(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''")+b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.text_print=function(a){return"window.alert("+(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''")+");\n"};
Blockly.JavaScript.text_prompt_ext=function(a){var b="window.prompt("+(a.getField("TEXT")?Blockly.JavaScript.quote_(a.getFieldValue("TEXT")):Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''")+")";"NUMBER"==a.getFieldValue("TYPE")&&(b="parseFloat("+b+")");return[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.text_prompt=Blockly.JavaScript.text_prompt_ext;
Blockly.JavaScript.text_count=function(a){var b=Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''";a=Blockly.JavaScript.valueToCode(a,"SUB",Blockly.JavaScript.ORDER_NONE)||"''";return[Blockly.JavaScript.provideFunction_("textCount",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+b+", "+a+")",Blockly.JavaScript.ORDER_SUBTRACTION]};
Blockly.JavaScript.text_replace=function(a){var b=Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''",c=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_NONE)||"''";a=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_NONE)||"''";return[Blockly.JavaScript.provideFunction_("textReplace",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")',
'                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+b+", "+c+", "+a+")",Blockly.JavaScript.ORDER_MEMBER]};Blockly.JavaScript.text_reverse=function(a){return[(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",Blockly.JavaScript.ORDER_MEMBER]};Blockly.JavaScript.variables={};
Blockly.JavaScript.variables_get=function(a){return[Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.variables_set=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";return Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+b+";\n"};Blockly.JavaScript.variablesDynamic={};
Blockly.JavaScript.variables_get_dynamic=Blockly.JavaScript.variables_get;Blockly.JavaScript.variables_set_dynamic=Blockly.JavaScript.variables_set;Sorter.Generators={};
Sorter.Generators.init=function(a){var b={array:a.toPlainArray(),swap:function(b,d){if(void 0!=this.array[b]&&void 0!=this.array[d]){var c=$jscomp.makeIterator([this.array[d],this.array[b]]);this.array[b]=c.next().value;this.array[d]=c.next().value}a.swap(b,d)},get_array_value:function(a){if(void 0===this.array[a])throw new RangeError("incorrect index: getElement("+a+"); ");return this.array[a]},highlighted_indices:[],highlight:function(b,d){try{a.highlight([b,d]),this.highlighted_indices=[b,d]}catch(e){}return!0},
unhighlightPrevious:function(){a.highlight(this.highlighted_indices,!1);this.highlighted_indices=[];return!0}};a.listen("onReset",function(){b.array=a.toPlainArray()});a.listen("onAnimationComplete",function(){b.unhighlightPrevious()});Blockly.JavaScript.length=function(b){return[a.length,Blockly.JavaScript.ORDER_ADDITION]};Blockly.JavaScript.swap=function(a){var b=Blockly.JavaScript.valueToCode(a,"index_a",Blockly.JavaScript.ORDER_ADDITION);a=Blockly.JavaScript.valueToCode(a,"index_b",Blockly.JavaScript.ORDER_ADDITION);
return" this.swap("+b+","+a+");\n"};Blockly.JavaScript.getter=function(a){return["this.get_array_value("+Blockly.JavaScript.valueToCode(a,"index",Blockly.JavaScript.ORDER_ADDITION)+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[a.getFieldValue("OP")],c="=="==b||"!="==b?Blockly.JavaScript.ORDER_EQUALITY:Blockly.JavaScript.ORDER_RELATIONAL,f=Blockly.JavaScript.valueToCode(a,"A",c)||"0",h=Blockly.JavaScript.valueToCode(a,
"B",c)||"0";b=f+" "+b+" "+h;f=a.getInputTargetBlock("A");a=a.getInputTargetBlock("B");"getter"===f.type&&"getter"===a.type&&(f=Blockly.JavaScript.valueToCode(f,"index",Blockly.JavaScript.ORDER_ADDITION),a=Blockly.JavaScript.valueToCode(a,"index",Blockly.JavaScript.ORDER_ADDITION),b="( this.unhighlightPrevious() && this.highlight("+f+","+a+") && ("+b+") )");return[b,c]};return b};/*
 VERSION: 2.0.1
 DATE: 2018-05-30
 UPDATES AND DOCS AT: http://greensock.com

 Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin

 @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
 This work is subject to the terms at http://greensock.com/standard-license or for
 Club GreenSock members, the software agreement that was issued with your membership.

 @author: Jack Doyle, jack@greensock.com
*/
var TweenMax={},TimelineMax=TweenMax=void 0,_gsScope="undefined"!==typeof module&&module.exports&&"undefined"!==typeof global?global:this||window;
(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){var b=[],c=a.length,d;for(d=0;d!==c;b.push(a[d++]));return b},e=function(a,b,c){var d=a.cycle,e;for(e in d){var f=d[e];a[e]="function"===typeof f?f(c,b[c]):f[c%f.length]}delete a.cycle},f=function(a,b,d){c.call(this,a,b,d);this._cycle=0;this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase;this._repeat=this.vars.repeat||0;this._repeatDelay=
this.vars.repeatDelay||0;this._repeat&&this._uncache(!0);this.render=f.prototype.render},h=c._internals,g=h.isSelector,k=h.isArray,p=f.prototype=c.to({},.1,{}),l=[];f.version="2.0.1";p.constructor=f;p.kill()._gc=!1;f.killTweensOf=f.killDelayedCallsTo=c.killTweensOf;f.getTweensOf=c.getTweensOf;f.lagSmoothing=c.lagSmoothing;f.ticker=c.ticker;f.render=c.render;p.invalidate=function(){this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase;this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||
0;this._yoyoEase=null;this._uncache(!0);return c.prototype.invalidate.call(this)};p.updateTo=function(a,b){var d=this.ratio,e=this.vars.immediateRender||a.immediateRender,f;b&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(f in a)this.vars[f]=a[f];if(this._initted||e)if(b)this._initted=!1,e&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&
this._firstPT&&c._onPluginEvent("_onDisable",this),.998<this._time/this._duration)a=this._totalTime,this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1);else if(this._initted=!1,this._init(),0<this._time||e)for(a=1/(1-d),b=this._firstPT;b;)d=b.s+b.c,b.c*=a,b.s=d-b.c,b=b._next;return this};p.render=function(a,b,d){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var e=this._dirty?this.totalDuration():this._totalDuration,f=this._time,g=this._totalTime,n=this._cycle,k=this._duration,
m=this._rawPrevTime,p,l;if(a>=e-1E-7&&0<=a){this._totalTime=e;this._cycle=this._repeat;this._yoyo&&0!==(this._cycle&1)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=k,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1);if(!this._reversed){var w=!0;var t="onComplete";d=d||this._timeline.autoRemoveChildren}0!==k||!this._initted&&this.vars.lazy&&!d||(this._startTime===this._timeline._duration&&(a=0),(0>m||0>=a&&-1E-7<=a||1E-10===m&&"isPause"!==this.data)&&m!==
a&&(d=!0,1E-10<m&&(t="onReverseComplete")),this._rawPrevTime=p=!b||a||m===a?a:1E-10)}else if(1E-7>a){this._totalTime=this._time=this._cycle=0;this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(0!==g||0===k&&0<m)t="onReverseComplete",w=this._reversed;0>a&&(this._active=!1,0!==k||!this._initted&&this.vars.lazy&&!d||(0<=m&&(d=!0),this._rawPrevTime=p=!b||a||m===a?a:1E-10));this._initted||(d=!0)}else if(this._totalTime=this._time=a,0!==this._repeat&&(e=k+this._repeatDelay,this._cycle=this._totalTime/
e>>0,0!==this._cycle&&this._cycle===this._totalTime/e&&g<=a&&this._cycle--,this._time=this._totalTime-this._cycle*e,this._yoyo&&0!==(this._cycle&1)&&(this._time=k-this._time,l=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(this._yoyoEase=!0!==l||this._initted?l=!0===l?this._ease:l instanceof Ease?l:Ease.map[l]:l=(l=this.vars.ease)?l instanceof Ease?l:"function"===typeof l?new Ease(l,this.vars.easeParams):Ease.map[l]||c.defaultEase:c.defaultEase),this.ratio=l?1-l.getRatio((k-this._time)/k):
0),this._time>k?this._time=k:0>this._time&&(this._time=0)),this._easeType&&!l){e=this._time/k;var v=this._easeType;var u=this._easePower;if(1===v||3===v&&.5<=e)e=1-e;3===v&&(e*=2);1===u?e*=e:2===u?e*=e*e:3===u?e*=e*e*e:4===u&&(e*=e*e*e*e);this.ratio=1===v?1-e:2===v?e:.5>this._time/k?e/2:1-e/2}else l||(this.ratio=this._ease.getRatio(this._time/k));if(f!==this._time||d||n!==this._cycle){if(!this._initted){this._init();if(!this._initted||this._gc)return;if(!d&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||
this.vars.lazy&&!this._duration)){this._time=f;this._totalTime=g;this._rawPrevTime=m;this._cycle=n;h.lazyTweens.push(this);this._lazy=[a,b];return}!this._time||w||l?w&&this._ease._calcEnd&&!l&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/k)}!1!==this._lazy&&(this._lazy=!1);!this._active&&!this._paused&&this._time!==f&&0<=a&&(this._active=!0);0===g&&(2===this._initted&&0<a&&this._init(),this._startAt&&(0<=a?this._startAt.render(a,!0,d):t||(t="_dummyGS")),
!this.vars.onStart||0===this._totalTime&&0!==k||b||this._callback("onStart"));for(f=this._firstPT;f;){if(f.f)f.t[f.p](f.c*this.ratio+f.s);else f.t[f.p]=f.c*this.ratio+f.s;f=f._next}this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,!0,d),b||(this._totalTime!==g||t)&&this._callback("onUpdate"));this._cycle!==n&&(b||this._gc||this.vars.onRepeat&&this._callback("onRepeat"));!t||this._gc&&!d||(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,!0,d),
w&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[t]&&this._callback(t),0===k&&1E-10===this._rawPrevTime&&1E-10!==p&&(this._rawPrevTime=0))}else g!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate"))};f.to=function(a,b,c){return new f(a,b,c)};f.from=function(a,b,c){c.runBackwards=!0;c.immediateRender=0!=c.immediateRender;return new f(a,b,c)};f.fromTo=function(a,b,c,d){d.startAt=c;d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender;return new f(a,
b,d)};f.staggerTo=f.allTo=function(a,b,h,m,r,p,t){m=m||0;var n=0,w=[],v=function(){h.onComplete&&h.onComplete.apply(h.onCompleteScope||this,arguments);r.apply(t||h.callbackScope||this,p||l)},D=h.cycle,A=h.startAt&&h.startAt.cycle,y,z;k(a)||("string"===typeof a&&(a=c.selector(a)||a),g(a)&&(a=d(a)));a=a||[];0>m&&(a=d(a),a.reverse(),m*=-1);var u=a.length-1;for(y=0;y<=u;y++){var C={};for(z in h)C[z]=h[z];D&&(e(C,a,y),null!=C.duration&&(b=C.duration,delete C.duration));if(A){A=C.startAt={};for(z in h.startAt)A[z]=
h.startAt[z];e(C.startAt,a,y)}C.delay=n+(C.delay||0);y===u&&r&&(C.onComplete=v);w[y]=new f(a[y],b,C);n+=m}return w};f.staggerFrom=f.allFrom=function(a,b,c,d,e,g,h){c.runBackwards=!0;c.immediateRender=0!=c.immediateRender;return f.staggerTo(a,b,c,d,e,g,h)};f.staggerFromTo=f.allFromTo=function(a,b,c,d,e,g,h,k){d.startAt=c;d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender;return f.staggerTo(a,b,d,e,g,h,k)};f.delayedCall=function(a,b,c,d,e){return new f(b,0,{delay:a,onComplete:b,onCompleteParams:c,
callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,useFrames:e,overwrite:0})};f.set=function(a,b){return new f(a,0,b)};f.isTweening=function(a){return 0<c.getTweensOf(a,!0).length};var m=function(a,b){var d=[],e=0;for(a=a._first;a;)a instanceof c?d[e++]=a:(b&&(d[e++]=a),d=d.concat(m(a,b)),e=d.length),a=a._next;return d},t=f.getAllTweens=function(b){return m(a._rootTimeline,b).concat(m(a._rootFramesTimeline,b))};f.killAll=function(a,c,d,e){null==c&&(c=!0);null==d&&(d=
!0);var f=t(0!=e),g=f.length;e=c&&d&&e;var h,n;for(n=0;n<g;n++){var k=f[n];if(e||k instanceof b||(h=k.target===k.vars.onComplete)&&d||c&&!h)a?k.totalTime(k._reversed?0:k.totalDuration()):k._enabled(!1,!1)}};f.killChildTweensOf=function(a,b){if(null!=a){var e=h.tweenLookup,n,r;"string"===typeof a&&(a=c.selector(a)||a);g(a)&&(a=d(a));if(k(a))for(e=a.length;-1<--e;)f.killChildTweensOf(a[e],b);else{var m=[];for(r in e)for(n=e[r].target.parentNode;n;)n===a&&(m=m.concat(e[r].tweens)),n=n.parentNode;a=m.length;
for(e=0;e<a;e++)b&&m[e].totalTime(m[e].totalDuration()),m[e]._enabled(!1,!1)}}};var u=function(a,c,d,e){c=!1!==c;d=!1!==d;e=!1!==e;var f=t(e);e=c&&d&&e;for(var g=f.length,h,n;-1<--g;)n=f[g],(e||n instanceof b||(h=n.target===n.vars.onComplete)&&d||c&&!h)&&n.paused(a)};f.pauseAll=function(a,b,c){u(!0,a,b,c)};f.resumeAll=function(a,b,c){u(!1,a,b,c)};f.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;if(!arguments.length)return d._timeScale;b=b||1E-10;d._startTime=e-(e-d._startTime)*
d._timeScale/b;d=a._rootFramesTimeline;e=c.ticker.frame;d._startTime=e-(e-d._startTime)*d._timeScale/b;return d._timeScale=a._rootTimeline._timeScale=b};p.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(this._cycle&1)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()};p.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()};p.time=function(a,
b){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();a>this._duration&&(a=this._duration);this._yoyo&&0!==(this._cycle&1)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay));return this.totalTime(a,b)};p.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration};p.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*
this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)};p.repeat=function(a){if(!arguments.length)return this._repeat;this._repeat=a;return this._uncache(!0)};p.repeatDelay=function(a){if(!arguments.length)return this._repeatDelay;this._repeatDelay=a;return this._uncache(!0)};p.yoyo=function(a){if(!arguments.length)return this._yoyo;this._yoyo=a;return this};
return f},!0);_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a);this._labels={};this.autoRemoveChildren=!0===this.vars.autoRemoveChildren;this.smoothChildTiming=!0===this.vars.smoothChildTiming;this._sortChildren=!0;this._onUpdate=this.vars.onUpdate;a=this.vars;var c;for(c in a){var d=a[c];g(d)&&-1!==d.join("").indexOf("{self}")&&(a[c]=this._swapSelfInParams(d))}g(a.tweens)&&this.add(a.tweens,0,a.align,a.stagger)},
e=c._internals,f=d._internals={},h=e.isSelector,g=e.isArray,k=e.lazyTweens,p=e.lazyRender,l=_gsScope._gsDefine.globals,m=function(a){var b={},c;for(c in a)b[c]=a[c];return b},t=function(a,b,c){var d=a.cycle,e;for(e in d){var f=d[e];a[e]="function"===typeof f?f(c,b[c]):f[c%f.length]}delete a.cycle},u=f.pauseCallback=function(){},v=function(a){var b=[],c=a.length,d;for(d=0;d!==c;b.push(a[d++]));return b};e=d.prototype=new b;d.version="2.0.1";e.constructor=d;e.kill()._gc=e._forcingPlayhead=e._hasPause=
!1;e.to=function(a,b,d,e){var f=d.repeat&&l.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)};e.from=function(a,b,d,e){return this.add((d.repeat&&l.TweenMax||c).from(a,b,d),e)};e.fromTo=function(a,b,d,e,f){var g=e.repeat&&l.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)};e.staggerTo=function(a,b,e,f,g,k,p,l){k=new d({onComplete:k,onCompleteParams:p,callbackScope:l,smoothChildTiming:this.smoothChildTiming});p=e.cycle;var n;"string"===typeof a&&(a=c.selector(a)||a);
a=a||[];h(a)&&(a=v(a));f=f||0;0>f&&(a=v(a),a.reverse(),f*=-1);for(n=0;n<a.length;n++)l=m(e),l.startAt&&(l.startAt=m(l.startAt),l.startAt.cycle&&t(l.startAt,a,n)),p&&(t(l,a,n),null!=l.duration&&(b=l.duration,delete l.duration)),k.to(a[n],b,l,n*f);return this.add(k,g)};e.staggerFrom=function(a,b,c,d,e,f,g,h){c.immediateRender=0!=c.immediateRender;c.runBackwards=!0;return this.staggerTo(a,b,c,d,e,f,g,h)};e.staggerFromTo=function(a,b,c,d,e,f,g,h,k){d.startAt=c;d.immediateRender=0!=d.immediateRender&&
0!=c.immediateRender;return this.staggerTo(a,b,d,e,f,g,h,k)};e.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)};e.set=function(a,b,d){d=this._parseTimeOrLabel(d,0,!0);null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused);return this.add(new c(a,0,b),d)};d.exportRoot=function(a,b){a=a||{};null==a.smoothChildTiming&&(a.smoothChildTiming=!0);a=new d(a);var e=a._timeline,f,g;null==b&&(b=!0);e._remove(a,!0);a._startTime=0;a._rawPrevTime=a._time=a._totalTime=e._time;
for(g=e._first;g;){var h=g._next;if(!(b&&g instanceof c&&g.target===g.vars.onComplete)){var k=g._startTime-g._delay;0>k&&(f=1);a.add(g,k)}g=h}e.add(a,0);f&&a.totalDuration();return a};e.add=function(e,f,h,k){var n,r;"number"!==typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e));if(!(e instanceof a)){if(e instanceof Array||e&&e.push&&g(e)){h=h||"normal";k=k||0;var m=e.length;for(n=0;n<m;n++)g(r=e[n])&&(r=new d({tweens:r})),this.add(r,f),"string"!==typeof r&&"function"!==typeof r&&("sequence"===h?f=r._startTime+
r.totalDuration()/r._timeScale:"start"===h&&(r._startTime-=r.delay())),f+=k;return this._uncache(!0)}if("string"===typeof e)return this.addLabel(e,f);if("function"===typeof e)e=c.delayedCall(0,e);else throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";}b.prototype.add.call(this,e,f);e._time&&e.render((this.rawTime()-e._startTime)*e._timeScale,!1,!1);if((this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(h=this,e=h.rawTime()>
e._startTime;h._timeline;)e&&h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._gc&&h._enabled(!0,!1),h=h._timeline;return this};e.remove=function(b){if(b instanceof a){this._remove(b,!1);var c=b._timeline=b.vars.useFrames?a._rootFramesTimeline:a._rootTimeline;b._startTime=(b._paused?b._pauseTime:c._time)-(b._reversed?b.totalDuration()-b._totalTime:b._totalTime)/b._timeScale;return this}if(b instanceof Array||b&&b.push&&g(b)){for(c=b.length;-1<--c;)this.remove(b[c]);return this}return"string"===
typeof b?this.removeLabel(b):this.kill(null,b)};e._remove=function(a,c){b.prototype._remove.call(this,a,c);this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0;return this};e.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))};e.insert=e.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)};e.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,
b,!0,a),c,d)};e.addLabel=function(a,b){this._labels[a]=this._parseTimeOrLabel(b);return this};e.addPause=function(a,b,d,e){d=c.delayedCall(0,u,d,e||this);d.vars.onComplete=d.vars.onReverseComplete=b;d.data="isPause";this._hasPause=!0;return this.add(d,a)};e.removeLabel=function(a){delete this._labels[a];return this};e.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1};e._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&
(e instanceof Array||e.push&&g(e)))for(f=e.length;-1<--f;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);e="number"!==typeof b||c?99999999999<this.duration()?this.recent().endTime(!1):this._duration:0;if("string"===typeof c)return this._parseTimeOrLabel(c,d&&"number"===typeof b&&null==this._labels[c]?b-e:0,d);c=c||0;if("string"!==typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=e);else{f=b.indexOf("=");if(-1===f)return null==this._labels[b]?d?this._labels[b]=e+c:c:this._labels[b]+
c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1));b=1<f?this._parseTimeOrLabel(b.substr(0,f-1),0,d):e}return Number(b)+c};e.seek=function(a,b){return this.totalTime("number"===typeof a?a:this._parseTimeOrLabel(a),!1!==b)};e.stop=function(){return this.paused(!0)};e.gotoAndPlay=function(a,b){return this.play(a,b)};e.gotoAndStop=function(a,b){return this.pause(a,b)};e.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d=this._time,e=this._dirty?this.totalDuration():this._totalDuration,
f=this._startTime,g=this._timeScale,h=this._paused,n,m;d!==this._time&&(a+=this._time-d);if(a>=e-1E-7&&0<=a){this._totalTime=this._time=e;if(!this._reversed&&!this._hasPausedChild()){var l=!0;var t="onComplete";var u=!!this._timeline.autoRemoveChildren;0===this._duration&&(0>=a&&-1E-7<=a||0>this._rawPrevTime||1E-10===this._rawPrevTime)&&this._rawPrevTime!==a&&this._first&&(u=!0,1E-10<this._rawPrevTime&&(t="onReverseComplete"))}this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:1E-10;
a=e+1E-4}else if(1E-7>a){this._totalTime=this._time=0;if(0!==d||0===this._duration&&1E-10!==this._rawPrevTime&&(0<this._rawPrevTime||0>a&&0<=this._rawPrevTime))t="onReverseComplete",l=this._reversed;if(0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=l=!0,t="onReverseComplete"):0<=this._rawPrevTime&&this._first&&(u=!0),this._rawPrevTime=a;else{this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:1E-10;if(0===a&&l)for(n=this._first;n&&0===n._startTime;)n._duration||
(l=!1),n=n._next;a=0;this._initted||(u=!0)}}else{if(this._hasPause&&!this._forcingPlayhead&&!b){if(a>=d)for(n=this._first;n&&n._startTime<=a&&!m;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(m=n),n=n._next;else for(n=this._last;n&&n._startTime>=a&&!m;)n._duration||"isPause"===n.data&&0<n._rawPrevTime&&(m=n),n=n._prev;m&&(this._time=a=m._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=
a}if(this._time!==d&&this._first||c||u||m){this._initted||(this._initted=!0);!this._active&&!this._paused&&this._time!==d&&0<a&&(this._active=!0);0===d&&this.vars.onStart&&(0===this._time&&this._duration||b||this._callback("onStart"));var w=this._time;if(w>=d)for(n=this._first;n;){u=n._next;if(w!==this._time||this._paused&&!h)break;else if(n._active||n._startTime<=w&&!n._paused&&!n._gc)m===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(a-n._startTime)*n._timeScale,
b,c):n.render((a-n._startTime)*n._timeScale,b,c);n=u}else for(n=this._last;n;){u=n._prev;if(w!==this._time||this._paused&&!h)break;else if(n._active||n._startTime<=d&&!n._paused&&!n._gc){if(m===n){for(m=n._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(a-m._startTime)*m._timeScale:(a-m._startTime)*m._timeScale,b,c),m=m._prev;m=null;this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(a-n._startTime)*n._timeScale,b,c):n.render((a-n._startTime)*n._timeScale,
b,c)}n=u}this._onUpdate&&!b&&(k.length&&p(),this._callback("onUpdate"));!t||this._gc||f!==this._startTime&&g===this._timeScale||!(0===this._time||e>=this.totalDuration())||(l&&(k.length&&p(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[t]&&this._callback(t))}};e._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1};e.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=
this._first,h=0;g;)g._startTime<e||(g instanceof c?!1!==b&&(f[h++]=g):(!1!==d&&(f[h++]=g),!1!==a&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f};e.getTweensOf=function(a,b){var d=this._gc,e=[],f=0,g;d&&this._enabled(!0,!0);a=c.getTweensOf(a);for(g=a.length;-1<--g;)if(a[g].timeline===this||b&&this._contains(a[g]))e[f++]=a[g];d&&this._enabled(!1,!0);return e};e.recent=function(){return this._recent};e._contains=function(a){for(a=a.timeline;a;){if(a===this)return!0;a=a.timeline}return!1};
e.shiftChildren=function(a,b,c){c=c||0;for(var d=this._first,e=this._labels,f;d;)d._startTime>=c&&(d._startTime+=a),d=d._next;if(b)for(f in e)e[f]>=c&&(e[f]+=a);return this._uncache(!0)};e._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;-1<--d;)c[d]._kill(a,b)&&(e=!0);return e};e.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;-1<--c;)b[c]._enabled(!1,!1);!1!==a&&(this._labels=
{});return this._uncache(!0)};e.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)};e._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)};e.totalTime=function(b,c,d){this._forcingPlayhead=!0;var e=a.prototype.totalTime.apply(this,arguments);this._forcingPlayhead=!1;return e};e.duration=function(a){if(!arguments.length)return this._dirty&&this.totalDuration(),
this._duration;0!==this.duration()&&0!==a&&this.timeScale(this._duration/a);return this};e.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b=0,c=this._last,d=999999999999,e;c;)e=c._prev,c._dirty&&c.totalDuration(),c._startTime>d&&this._sortChildren&&!c._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(c,c._startTime-c._delay),this._calculatingDuration=0):d=c._startTime,0>c._startTime&&!c._paused&&(b-=c._startTime,this._timeline.smoothChildTiming&&(this._startTime+=
c._startTime/this._timeScale,this._time-=c._startTime,this._totalTime-=c._startTime,this._rawPrevTime-=c._startTime),this.shiftChildren(-c._startTime,!1,-9999999999),d=0),c=c._startTime+c._totalDuration/c._timeScale,c>b&&(b=c),c=e;this._duration=this._totalDuration=b;this._dirty=!1}return this._totalDuration}return a&&this.totalDuration()?this.timeScale(this._totalDuration/a):this};e.paused=function(b){if(!b)for(var c=this._first,d=this._time;c;)c._startTime===d&&"isPause"===c.data&&(c._rawPrevTime=
0),c=c._next;return a.prototype.paused.apply(this,arguments)};e.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline};e.rawTime=function(a){return a&&(this._paused||this._repeat&&0<this.time()&&1>this.totalProgress())?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(a)-this._startTime)*this._timeScale};return d},!0);_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],
function(a,b,c){var d=function(b){a.call(this,b);this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._cycle=0;this._yoyo=!0===this.vars.yoyo;this._dirty=!0},e=b._internals,f=e.lazyTweens,h=e.lazyRender,g=_gsScope._gsDefine.globals,k=new c(null,null,1,0);c=d.prototype=new a;c.constructor=d;c.kill()._gc=!1;d.version="2.0.1";c.invalidate=function(){this._yoyo=!0===this.vars.yoyo;this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._uncache(!0);
return a.prototype.invalidate.call(this)};c.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)};c.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else{a=this.getTweensOf(a,!1);var c=a.length;for(b=this._parseTimeOrLabel(b);-1<--c;)a[c]._startTime===b&&a[c]._enabled(!1,!1)}return this};c.removePause=function(b){return this.removeCallback(a._internals.pauseCallback,b)};c.tweenTo=function(a,c){c=c||{};var d={ease:k,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},
e=c.repeat&&g.TweenMax||b,f;for(f in c)d[f]=c[f];d.time=this._parseTimeOrLabel(a);var h=Math.abs(Number(d.time)-this._time)/this._timeScale||.001;var n=new e(this,h,d);d.onStart=function(){n.target.paused(!0);n.vars.time===n.target.time()||h!==n.duration()||n.isFromTo||n.duration(Math.abs(n.vars.time-n.target.time())/n.target._timeScale).render(n.time(),!0,!0);c.onStart&&c.onStart.apply(c.onStartScope||c.callbackScope||n,c.onStartParams||[])};return n};c.tweenFromTo=function(a,b,c){c=c||{};a=this._parseTimeOrLabel(a);
c.startAt={onComplete:this.seek,onCompleteParams:[a],callbackScope:this};c.immediateRender=!1!==c.immediateRender;b=this.tweenTo(b,c);b.isFromTo=1;return b.duration(Math.abs(b.vars.time-a)/this._timeScale||.001)};c.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d=this._time,e=this._dirty?this.totalDuration():this._totalDuration,g=this._duration,k=this._totalTime,m=this._startTime,p=this._timeScale,r=this._rawPrevTime,l=this._paused,z=this._cycle,x,E;d!==this._time&&(a+=this._time-d);if(a>=
e-1E-7&&0<=a){this._locked||(this._totalTime=e,this._cycle=this._repeat);if(!this._reversed&&!this._hasPausedChild()){var K=!0;var I="onComplete";var A=!!this._timeline.autoRemoveChildren;0===this._duration&&(0>=a&&-1E-7<=a||0>r||1E-10===r)&&r!==a&&this._first&&(A=!0,1E-10<r&&(I="onReverseComplete"))}this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:1E-10;this._yoyo&&0!==(this._cycle&1)?this._time=a=0:(this._time=g,a=g+1E-4)}else if(1E-7>a){this._locked||(this._totalTime=this._cycle=
0);this._time=0;if(0!==d||0===g&&1E-10!==r&&(0<r||0>a&&0<=r)&&!this._locked)I="onReverseComplete",K=this._reversed;if(0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(A=K=!0,I="onReverseComplete"):0<=r&&this._first&&(A=!0),this._rawPrevTime=a;else{this._rawPrevTime=g||!b||a||this._rawPrevTime===a?a:1E-10;if(0===a&&K)for(x=this._first;x&&0===x._startTime;)x._duration||(K=!1),x=x._next;a=0;this._initted||(A=!0)}}else if(0===g&&0>r&&(A=!0),this._time=this._rawPrevTime=a,this._locked||
(this._totalTime=a,0!==this._repeat&&(x=g+this._repeatDelay,this._cycle=this._totalTime/x>>0,0!==this._cycle&&this._cycle===this._totalTime/x&&k<=a&&this._cycle--,this._time=this._totalTime-this._cycle*x,this._yoyo&&0!==(this._cycle&1)&&(this._time=g-this._time),this._time>g?(this._time=g,a=g+1E-4):0>this._time?this._time=a=0:a=this._time)),this._hasPause&&!this._forcingPlayhead&&!b){a=this._time;if(a>=d||this._repeat&&z!==this._cycle)for(x=this._first;x&&x._startTime<=a&&!E;)x._duration||"isPause"!==
x.data||x.ratio||0===x._startTime&&0===this._rawPrevTime||(E=x),x=x._next;else for(x=this._last;x&&x._startTime>=a&&!E;)x._duration||"isPause"===x.data&&0<x._rawPrevTime&&(E=x),x=x._prev;E&&E._startTime<g&&(this._time=a=E._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==z&&!this._locked){x=this._yoyo&&0!==(z&1);var y=x===(this._yoyo&&0!==(this._cycle&1)),J=this._totalTime,H=this._cycle,G=this._rawPrevTime,M=this._time;this._totalTime=z*g;this._cycle<
z?x=!x:this._totalTime+=g;this._time=d;this._rawPrevTime=0===g?r-1E-4:r;this._cycle=z;this._locked=!0;d=x?0:g;this.render(d,b,0===g);b||this._gc||!this.vars.onRepeat||(this._cycle=H,this._locked=!1,this._callback("onRepeat"));if(d!==this._time)return;y&&(this._cycle=z,this._locked=!0,d=x?g+1E-4:-1E-4,this.render(d,!0,!1));this._locked=!1;if(this._paused&&!l)return;this._time=M;this._totalTime=J;this._cycle=H;this._rawPrevTime=G}if(this._time!==d&&this._first||c||A||E){this._initted||(this._initted=
!0);!this._active&&!this._paused&&this._totalTime!==k&&0<a&&(this._active=!0);0===k&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||b||this._callback("onStart"));k=this._time;if(k>=d)for(x=this._first;x;){g=x._next;if(k!==this._time||this._paused&&!l)break;else if(x._active||x._startTime<=this._time&&!x._paused&&!x._gc)E===x&&this.pause(),x._reversed?x.render((x._dirty?x.totalDuration():x._totalDuration)-(a-x._startTime)*x._timeScale,b,c):x.render((a-x._startTime)*x._timeScale,b,c);
x=g}else for(x=this._last;x;){g=x._prev;if(k!==this._time||this._paused&&!l)break;else if(x._active||x._startTime<=d&&!x._paused&&!x._gc){if(E===x){for(E=x._prev;E&&E.endTime()>this._time;)E.render(E._reversed?E.totalDuration()-(a-E._startTime)*E._timeScale:(a-E._startTime)*E._timeScale,b,c),E=E._prev;E=null;this.pause()}x._reversed?x.render((x._dirty?x.totalDuration():x._totalDuration)-(a-x._startTime)*x._timeScale,b,c):x.render((a-x._startTime)*x._timeScale,b,c)}x=g}this._onUpdate&&!b&&(f.length&&
h(),this._callback("onUpdate"));!I||this._locked||this._gc||m!==this._startTime&&p===this._timeScale||!(0===this._time||e>=this.totalDuration())||(K&&(f.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[I]&&this._callback(I))}else k!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate"))};c.getActive=function(a,b,c){null==a&&(a=!0);null==b&&(b=!0);null==c&&(c=!1);var d=[];a=this.getChildren(a,b,c);b=0;c=a.length;var e;for(e=0;e<c;e++){var f=
a[e];f.isActive()&&(d[b++]=f)}return d};c.getLabelAfter=function(a){a||0===a||(a=this._time);var b=this.getLabelsArray(),c=b.length,d;for(d=0;d<c;d++)if(b[d].time>a)return b[d].name;return null};c.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;-1<--c;)if(b[c].time<a)return b[c].name;return null};c.getLabelsArray=function(){var a=[],b=0,c;for(c in this._labels)a[b++]={time:this._labels[c],name:c};a.sort(function(a,b){return a.time-b.time});return a};c.invalidate=
function(){this._locked=!1;return a.prototype.invalidate.call(this)};c.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(this._cycle&1)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()||0};c.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()||0};c.totalDuration=function(b){return arguments.length?-1!==this._repeat&&b?this.timeScale(this.totalDuration()/
b):this:(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)};c.time=function(a,b){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();a>this._duration&&(a=this._duration);this._yoyo&&0!==(this._cycle&1)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay));return this.totalTime(a,
b)};c.repeat=function(a){if(!arguments.length)return this._repeat;this._repeat=a;return this._uncache(!0)};c.repeatDelay=function(a){if(!arguments.length)return this._repeatDelay;this._repeatDelay=a;return this._uncache(!0)};c.yoyo=function(a){if(!arguments.length)return this._yoyo;this._yoyo=a;return this};c.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1E-8)};return d},!0);(function(){var a=180/Math.PI,b=[],c=[],d=[],e={},f=_gsScope._gsDefine.globals,
h=function(a,b,c,d){c===d&&(c=d-(d-b)/1E6);a===b&&(b=a+(c-a)/1E6);this.a=a;this.b=b;this.c=c;this.d=d;this.da=d-a;this.ca=c-a;this.ba=b-a},g=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},k=(a+b)/2,m=(b+c)/2;c=(c+d)/2;b=(k+m)/2;m=(m+c)/2;var l=(m-b)/8;e.b=k+(a-k)/4;f.b=b+l;e.c=f.a=(e.b+f.b)/2;f.c=g.a=(b+m)/2;g.b=m-l;h.b=c+(d-c)/4;g.c=h.a=(g.b+h.b)/2;return[e,f,g,h]},k=function(a,f,k,l,n,p){var m={},r=[],t=p||a[0],u,w;n="string"===typeof n?","+n+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,";
null==f&&(f=1);for(I in a[0])r.push(I);if(1<a.length){var v=a[a.length-1];var K=!0;for(u=r.length;-1<--u;){var I=r[u];if(.05<Math.abs(t[I]-v[I])){K=!1;break}}K&&(a=a.concat(),p&&a.unshift(p),a.push(a[1]),p=a[a.length-3])}b.length=c.length=d.length=0;for(u=r.length;-1<--u;){I=r[u];e[I]=-1!==n.indexOf(","+I+",");t=I;var A=a,y=I,J=e[I];var H=p;var G=[];if(H)for(A=[H].concat(A),v=A.length;-1<--v;)"string"===typeof(w=A[v][y])&&"="===w.charAt(1)&&(A[v][y]=H[y]+Number(w.charAt(0)+w.substr(2)));var M=A.length-
2;if(0>M)G[0]=new h(A[0][y],0,0,A[0][y]);else{for(v=0;v<M;v++){var V=A[v][y];var T=A[v+1][y];G[v]=new h(V,0,0,T);J&&(H=A[v+2][y],b[v]=(b[v]||0)+(T-V)*(T-V),c[v]=(c[v]||0)+(H-T)*(H-T))}G[v]=new h(A[v][y],0,0,A[v+1][y])}v=G;m[t]=v}for(u=b.length;-1<--u;)b[u]=Math.sqrt(b[u]),c[u]=Math.sqrt(c[u]);if(!l){for(u=r.length;-1<--u;)if(e[I])for(a=m[r[u]],w=a.length-1,n=0;n<w;n++)p=a[n+1].da/c[n]+a[n].da/b[n]||0,d[n]=(d[n]||0)+p*p;for(u=d.length;-1<--u;)d[u]=Math.sqrt(d[u])}u=r.length;for(n=k?4:1;-1<--u;){I=
r[u];a=m[I];p=a;w=f;t=k;v=l;A=e[I];y=p.length-1;J=0;V=p[0].a;for(I=0;I<y;I++){G=p[J];T=G.a;H=G.d;var U=p[J+1].d;if(A){var X=b[I];var O=c[I];M=(O+X)*w*.25/(v?.5:d[I]||.5);var Q=H-(H-T)*(v?.5*w:0!==X?M/X:0);M=H+(U-H)*(v?.5*w:0!==O?M/O:0);O=H-(Q+((M-Q)*(3*X/(X+O)+.5)/4||0))}else Q=H-(H-T)*w*.5,M=H+(U-H)*w*.5,O=H-(Q+M)/2;Q+=O;M+=O;G.c=Q;G.b=0!==I?V:V=G.a+.6*(G.c-G.a);G.da=H-T;G.ca=Q-T;G.ba=V-T;t?(G=g(T,V,Q,H),p.splice(J,1,G[0],G[1],G[2],G[3]),J+=4):J++;V=M}G=p[J];G.b=V;G.c=V+.4*(G.d-V);G.da=G.d-G.a;G.ca=
G.c-G.a;G.ba=V-G.a;t&&(G=g(G.a,V,G.c,G.d),p.splice(J,1,G[0],G[1],G[2],G[3]));K&&(a.splice(0,n),a.splice(a.length-n,n))}return m},p=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(a,b,c){this._target=a;b instanceof Array&&(b={values:b});this._func={};this._mod={};this._props=[];this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d=b.values||[],e={},f=d[0],g=b.autoRotate||c.vars.orientToBezier,r,m;this._autoRotate=g?g instanceof
Array?g:[["x","y","rotation",!0===g?0:Number(g)||0]]:null;for(l in f)this._props.push(l);for(f=this._props.length;-1<--f;){var l=this._props[f];this._overwriteProps.push(l);g=this._func[l]="function"===typeof a[l];e[l]=g?a[l.indexOf("set")||"function"!==typeof a["get"+l.substr(3)]?l:"get"+l.substr(3)]():parseFloat(a[l]);m||e[l]!==d[0][l]&&(m=e)}if("cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type)e=k(d,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,m);else{f=(f=b.type)||
"soft";b={};g="cubic"===f?3:2;f="soft"===f;m=[];var p,t,u,I;f&&e&&(d=[e].concat(d));if(null==d||d.length<g+1)throw"invalid Bezier data";for(A in d[0])m.push(A);for(u=m.length;-1<--u;){var A=m[u];b[A]=t=[];var y=0;var J=d.length;for(I=0;I<J;I++){var H=null==e?d[I][A]:"string"===typeof(p=d[I][A])&&"="===p.charAt(1)?e[A]+Number(p.charAt(0)+p.substr(2)):Number(p);f&&1<I&&I<J-1&&(t[y++]=(H+t[y-2])/2);t[y++]=H}J=y-g+1;for(I=y=0;I<J;I+=g){H=t[I];A=t[I+1];p=t[I+2];var G=2===g?0:t[I+3];t[y++]=p=3===g?new h(H,
A,p,G):new h(H,(2*A+H)/3,(2*A+p)/3,p)}t.length=y}e=b}this._beziers=e;this._segCount=this._beziers[l].length;if(this._timeRes){m=this._beziers;l=this._timeRes;l=l>>0||6;e=[];A=[];d=p=0;b=l-1;g=[];f=[];for(r in m)for(u=m[r],I=e,J=l,y=1/J,G=u.length;-1<--G;){var M=u[G];var V=M.a;t=M.d-V;H=M.c-V;V=M.b-V;var T=0;for(M=1;M<=J;M++){var U=y*M;var X=1-U;U=T-(T=(U*U*t+3*X*(U*H+X*V))*U);X=G*J+M-1;I[X]=(I[X]||0)+U*U}}m=e.length;for(r=0;r<m;r++)p+=Math.sqrt(e[r]),H=r%l,f[H]=p,H===b&&(d+=p,H=r/l>>0,g[H]=f,A[H]=
d,p=0,f=[]);this._length=d;this._lengths=A;this._segments=g;this._l1=this._li=this._s1=this._si=0;this._l2=this._lengths[0];this._curSeg=this._segments[0];this._s2=this._curSeg[0];this._prec=1/this._curSeg.length}if(g=this._autoRotate)for(this._initialRotations=[],g[0]instanceof Array||(this._autoRotate=g=[g]),f=g.length;-1<--f;){for(r=0;3>r;r++)l=g[f][r],this._func[l]="function"===typeof a[l]?a[l.indexOf("set")||"function"!==typeof a["get"+l.substr(3)]?l:"get"+l.substr(3)]:!1;l=g[f][2];this._initialRotations[f]=
(this._func[l]?this._func[l].call(this._target):this._target[l])||0;this._overwriteProps.push(l)}this._startRatio=c.vars.runBackwards?1:0;return!0},set:function(b){var c=this._segCount,d=this._func,e=this._target,f=b!==this._startRatio;if(this._timeRes){var g=this._lengths;var h=this._curSeg;b*=this._length;var k=this._li;if(b>this._l2&&k<c-1){for(--c;k<c&&(this._l2=g[++k])<=b;);this._l1=g[k-1];this._li=k;this._curSeg=h=this._segments[k];this._s2=h[this._s1=this._si=0]}else if(b<this._l1&&0<k){for(;0<
k&&(this._l1=g[--k])>=b;);0===k&&b<this._l1?this._l1=0:k++;this._l2=g[k];this._li=k;this._curSeg=h=this._segments[k];this._s1=h[(this._si=h.length-1)-1]||0;this._s2=h[this._si]}g=k;b-=this._l1;k=this._si;if(b>this._s2&&k<h.length-1){for(c=h.length-1;k<c&&(this._s2=h[++k])<=b;);this._s1=h[k-1];this._si=k}else if(b<this._s1&&0<k){for(;0<k&&(this._s1=h[--k])>=b;);0===k&&b<this._s1?this._s1=0:k++;this._s2=h[k];this._si=k}h=(k+(b-this._s1)/(this._s2-this._s1))*this._prec||0}else g=0>b?0:1<=b?c-1:c*b>>
0,h=(b-1/c*g)*c;c=1-h;for(k=this._props.length;-1<--k;){b=this._props[k];var l=this._beziers[b][g];var m=(h*h*l.da+3*c*(h*l.ca+c*l.ba))*h+l.a;this._mod[b]&&(m=this._mod[b](m,e));if(d[b])e[b](m);else e[b]=m}if(this._autoRotate)for(c=this._autoRotate,k=c.length;-1<--k;){b=c[k][2];var p=c[k][3]||0;var E=!0===c[k][4]?1:a;l=this._beziers[c[k][0]];m=this._beziers[c[k][1]];if(l&&m){l=l[g];m=m[g];var K=l.a+(l.b-l.a)*h;var I=l.b+(l.c-l.b)*h;K+=(I-K)*h;I+=(l.c+(l.d-l.c)*h-I)*h;l=m.a+(m.b-m.a)*h;var A=m.b+(m.c-
m.b)*h;l+=(A-l)*h;A+=(m.c+(m.d-m.c)*h-A)*h;m=f?Math.atan2(A-l,I-K)*E+p:this._initialRotations[k];this._mod[b]&&(m=this._mod[b](m,e));if(d[b])e[b](m);else e[b]=m}}}}),l=p.prototype;p.bezierThrough=k;p.cubicToQuadratic=g;p._autoCSS=!0;p.quadraticToCubic=function(a,b,c){return new h(a,(2*b+a)/3,(2*b+c)/3,c)};p._cssRegister=function(){var a=f.CSSPlugin;if(a){a=a._internals;var b=a._parseToProxy,c=a._setPluginRatio,d=a.CSSPropTween;a._registerComplexSpecialProp("bezier",{parser:function(a,e,f,g,h,k){e instanceof
Array&&(e={values:e});k=new p;f=e.values;var n=f.length-1,r=[],l={},m,A;if(0>n)return h;for(m=0;m<=n;m++){var y=b(a,f[m],g,h,k,n!==m);r[m]=y.end}for(A in e)l[A]=e[A];l.values=r;h=new d(a,"bezier",0,0,y.pt,2);h.data=y;h.plugin=k;h.setRatio=c;0===l.autoRotate&&(l.autoRotate=!0);!l.autoRotate||l.autoRotate instanceof Array||(m=!0===l.autoRotate?0:Number(l.autoRotate),l.autoRotate=null!=y.end.left?[["left","top","rotation",m,!1]]:null!=y.end.x?[["x","y","rotation",m,!1]]:!1);l.autoRotate&&(g._transform||
g._enableTransforms(!1),y.autoRotate=g._target._gsTransform,y.proxy.rotation=y.autoRotate.rotation||0,g._overwriteProps.push("rotation"));k._onInitTween(y.proxy,l,g._tween);return h}})}};l._mod=function(a){for(var b=this._overwriteProps,c=b.length,d;-1<--c;)(d=a[b[c]])&&"function"===typeof d&&(this._mod[b[c]]=d)};l._kill=function(a){var b=this._props,c,d;for(c in this._beziers)if(c in a)for(delete this._beziers[c],delete this._func[c],d=b.length;-1<--d;)b[d]===c&&b.splice(d,1);if(b=this._autoRotate)for(d=
b.length;-1<--d;)a[b[d][2]]&&b.splice(d,1);return this._super._kill.call(this,a)}})();_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c=function(){a.call(this,"css");this._overwriteProps.length=0;this.setRatio=c.prototype.setRatio},d=_gsScope._gsDefine.globals,e,f,h,g,k={},p=c.prototype=new a("css");p.constructor=c;c.version="1.20.5";c.API=2;c.defaultTransformPerspective=0;c.defaultSkewType="compensated";c.defaultSmoothOrigin=!0;p="px";c.suffixMap={top:p,
right:p,bottom:p,left:p,width:p,height:p,fontSize:p,padding:p,margin:p,perspective:p,lineHeight:""};var l=/(?:\-|\.|\b)(\d|\.|e\-)+/g,m=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,t=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,u=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,v=/(?:\d|\-|\+|=|#|\.)*/g,n=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,D=/alpha\(opacity *=.+?\)/i,r=/^(rgb|hsl)/,C=/([A-Z])/g,z=/-([a-z])/gi,x=/(^(?:url\("|url\())|(?:("\))$|\)$)/gi,E=function(a,b){return b.toUpperCase()},
K=/(?:Left|Right|Width)/i,I=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,A=/progid:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,y=/,(?=[^\)]*(?:\(|$))/gi,J=/[\s,\(]/i,H=Math.PI/180,G=180/Math.PI,M={},V={style:{}},T=_gsScope.document||{createElement:function(){return V}},U=function(a,b){return T.createElementNS?T.createElementNS(b||"http://www.w3.org/1999/xhtml",a):T.createElement(a)},X=U("div"),O=U("img"),Q=c._internals={_specialProps:k},da=(_gsScope.navigator||{}).userAgent||"",N,ea,ba,ya,Ca,fa,Z=function(){var a=
da.indexOf("Android"),b=U("a");Ca=(ba=-1!==da.indexOf("Safari")&&-1===da.indexOf("Chrome")&&(-1===a||3<parseFloat(da.substr(a+8,2))))&&6>parseFloat(da.substr(da.indexOf("Version/")+8,2));ya=-1!==da.indexOf("Firefox");if(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(da)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(da))fa=parseFloat(RegExp.$1);if(!b)return!1;b.style.cssText="top:1px;opacity:.55;";return/^0.55/.test(b.style.opacity)}(),sa=function(a){return n.test("string"===typeof a?a:(a.currentStyle?a.currentStyle.filter:
a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},na,ha,Ea="",Da="",Aa=function(a,b){b=b||X;b=b.style;var c;if(void 0!==b[a])return a;a=a.charAt(0).toUpperCase()+a.substr(1);var d=["O","Moz","ms","Ms","Webkit"];for(c=5;-1<--c&&void 0===b[d[c]+a];);return 0<=c?(Da=3===c?"ms":d[c],Ea="-"+Da.toLowerCase()+"-",Da+a):null},ka=("undefined"!==typeof window?window:T.defaultView||{getComputedStyle:function(){}}).getComputedStyle,R=c.getStyle=function(a,b,c,d,e){var f;if(!Z&&"opacity"===b)return sa(a);!d&&
a.style[b]?f=a.style[b]:(c=c||ka(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(C,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]);return null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e},B=Q.convertToPixels=function(a,d,e,f,g){if("px"===f||!f&&"lineHeight"!==d)return e;if("auto"===f||!e)return 0;var h=K.test(d),k=a,n=X.style,r=0>e,l=1===e;r&&(e=-e);l&&(e*=100);if("lineHeight"!==d||f)if("%"===f&&-1!==d.indexOf("border"))n=e/100*(h?a.clientWidth:a.clientHeight);else{n.cssText=
"border:0 solid red;position:"+R(a,"position")+";line-height:0;";if("%"!==f&&k.appendChild&&"v"!==f.charAt(0)&&"rem"!==f)n[h?"borderLeftWidth":"borderTopWidth"]=e+f;else{k=a.parentNode||T.body;-1!==R(k,"display").indexOf("flex")&&(n.position="absolute");var m=k._gsCache;var p=b.ticker.frame;if(m&&h&&m.time===p)return m.width*e/100;n[h?"width":"height"]=e+f}k.appendChild(X);n=parseFloat(X[h?"offsetWidth":"offsetHeight"]);k.removeChild(X);h&&"%"===f&&!1!==c.cacheWidths&&(m=k._gsCache=k._gsCache||{},
m.time=p,m.width=n/e*100);0!==n||g||(n=B(a,d,e,f,!0))}else m=ka(a).lineHeight,a.style.lineHeight=e,n=parseFloat(ka(a).lineHeight),a.style.lineHeight=m;l&&(n/=100);return r?-n:n},W=Q.calculateOffset=function(a,b,c){if("absolute"!==R(a,"position",c))return 0;var d="left"===b?"Left":"Top";c=R(a,"margin"+d,c);return a["offset"+d]-(B(a,b,parseFloat(c),c.replace(v,""))||0)},L=function(a,b){var c={},d;if(b=b||ka(a,null))if(d=b.length)for(;-1<--d;){var e=b[d];if(-1===e.indexOf("-transform")||Wa===e)c[e.replace(z,
E)]=b.getPropertyValue(e)}else for(d in b){if(-1===d.indexOf("Transform")||ca===d)c[d]=b[d]}else if(b=a.currentStyle||a.style)for(d in b)"string"===typeof d&&void 0===c[d]&&(c[d.replace(z,E)]=b[d]);Z||(c.opacity=sa(a));a=Ia(a,b,!1);c.rotation=a.rotation;c.skewX=a.skewX;c.scaleX=a.scaleX;c.scaleY=a.scaleY;c.x=a.x;c.y=a.y;la&&(c.z=a.z,c.rotationX=a.rotationX,c.rotationY=a.rotationY,c.scaleZ=a.scaleZ);c.filters&&delete c.filters;return c},Qa=function(a,b,c,d,e){var f={},g=a.style,h,k,n;for(k in c)"cssText"!==
k&&"length"!==k&&isNaN(k)&&(b[k]!==(h=c[k])||e&&e[k])&&-1===k.indexOf("Origin")&&("number"===typeof h||"string"===typeof h)&&(f[k]="auto"!==h||"left"!==k&&"top"!==k?""!==h&&"auto"!==h&&"none"!==h||"string"!==typeof b[k]||""===b[k].replace(u,"")?h:0:W(a,k),void 0!==g[k]&&(n=new Ba(g,k,g[k],n)));if(d)for(k in d)"className"!==k&&(f[k]=d[k]);return{difs:f,firstMPT:n}},Xa={width:["Left","Right"],height:["Top","Bottom"]},Ra=["marginLeft","marginRight","marginTop","marginBottom"],za=function(a,b){if("contain"===
a||"auto"===a||"auto auto"===a)return a+" ";if(null==a||""===a)a="0 0";var c=a.split(" "),d=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":c[0],e=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":c[1];if(3<c.length&&!b){c=a.split(", ").join(",").split(",");a=[];for(b=0;b<c.length;b++)a.push(za(c[b]));return a.join(",")}null==e?e="center"===d?"50%":"0":"center"===e&&(e="50%");if("center"===d||isNaN(parseFloat(d))&&-1===(d+"").indexOf("="))d="50%";a=d+" "+e+(2<c.length?" "+c[2]:
"");b&&(b.oxp=-1!==d.indexOf("%"),b.oyp=-1!==e.indexOf("%"),b.oxr="="===d.charAt(1),b.oyr="="===e.charAt(1),b.ox=parseFloat(d.replace(u,"")),b.oy=parseFloat(e.replace(u,"")),b.v=a);return b||a},Ja=function(a,b){"function"===typeof a&&(a=a(ha,na));return"string"===typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)||0},ra=function(a,b){"function"===typeof a&&(a=a(ha,na));return null==a?b:"string"===typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+
"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)||0},Ka=function(a,b,c,d){"function"===typeof a&&(a=a(ha,na));if(null==a)a=b;else if("number"!==typeof a){var e=a.split("_");var f="="===a.charAt(1);f=(f?parseInt(a.charAt(0)+"1",10)*parseFloat(e[0].substr(2)):parseFloat(e[0]))*(-1===a.indexOf("rad")?1:G)-(f?0:b);e.length&&(d&&(d[c]=b+f),-1!==a.indexOf("short")&&(f%=360,f!==f%180&&(f=0>f?f+360:f-360)),-1!==a.indexOf("_cw")&&0>f?f=(f+3599999999640)%360-360*(f/360|0):-1!==a.indexOf("ccw")&&0<f&&(f=(f-3599999999640)%
360-360*(f/360|0)));a=b+f}1E-6>a&&-1E-6<a&&(a=0);return a},Oa={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},Y=function(a,b,c){a=0>a?a+1:1<a?a-1:a;return 255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*
a?b+(c-b)*(2/3-a)*6:b)+.5|0},S=c.parseColor=function(a,b){var c;if(a)if("number"===typeof a)var d=[a>>16,a>>8&255,a&255];else{","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1));if(Oa[a])d=Oa[a];else if("#"===a.charAt(0)){if(4===a.length){var e=a.charAt(1);var f=a.charAt(2);var g=a.charAt(3);a="#"+e+e+f+f+g+g}a=parseInt(a.substr(1),16);d=[a>>16,a>>8&255,a&255]}else if("hsl"===a.substr(0,3))if(d=c=a.match(l),!b){g=Number(d[0])%360/360;var h=Number(d[1])/100;a=Number(d[2])/100;f=.5>=a?a*(h+1):a+
h-a*h;e=2*a-f;3<d.length&&(d[3]=Number(d[3]));d[0]=Y(g+1/3,e,f);d[1]=Y(g,e,f);d[2]=Y(g-1/3,e,f)}else{if(-1!==a.indexOf("="))return a.match(m)}else d=a.match(l)||Oa.transparent;d[0]=Number(d[0]);d[1]=Number(d[1]);d[2]=Number(d[2]);3<d.length&&(d[3]=Number(d[3]))}else d=Oa.black;b&&!c&&(e=d[0]/255,f=d[1]/255,g=d[2]/255,b=Math.max(e,f,g),h=Math.min(e,f,g),a=(b+h)/2,b===h?g=h=0:(c=b-h,h=.5<a?c/(2-b-h):c/(b+h),g=60*(b===e?(f-g)/c+(f<g?6:0):b===f?(g-e)/c+2:(e-f)/c+4)),d[0]=g+.5|0,d[1]=100*h+.5|0,d[2]=100*
a+.5|0);return d},Fa=function(a,b){var c=a.match(wa)||[],d=0,e="",f;if(!c.length)return a;for(f=0;f<c.length;f++){var g=c[f];var h=a.substr(d,a.indexOf(g,d)-d);d+=h.length+g.length;g=S(g,b);3===g.length&&g.push(1);e+=h+(b?"hsla("+g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:"rgba("+g.join(","))+")"}return e+a.substr(d)},wa="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(p in Oa)wa+="|"+p+"\\b";wa=new RegExp(wa+")","gi");c.colorStringFilter=function(a){var b=a[0]+" "+a[1];wa.test(b)&&
(b=-1!==b.indexOf("hsl(")||-1!==b.indexOf("hsla("),a[0]=Fa(a[0],b),a[1]=Fa(a[1],b));wa.lastIndex=0};b.defaultStringFilter||(b.defaultStringFilter=c.colorStringFilter);var q=function(a,b,c,d){if(null==a)return function(a){return a};var e=b?(a.match(wa)||[""])[0]:"",f=a.split(e).join("").match(t)||[],g=a.substr(0,a.indexOf(f[0])),h=")"===a.charAt(a.length-1)?")":"",k=-1!==a.indexOf(" ")?" ":",",n=f.length,r=0<n?f[0].replace(l,""):"",m;return n?b?m=function(a){var b;if("number"===typeof a)a+=r;else if(d&&
y.test(a)){a=a.replace(y,"|").split("|");for(b=0;b<a.length;b++)a[b]=m(a[b]);return a.join(",")}var l=(a.match(wa)||[e])[0];var p=a.split(l).join("").match(t)||[];b=p.length;if(n>b--)for(;++b<n;)p[b]=c?p[(b-1)/2|0]:f[b];return g+p.join(k)+k+l+h+(-1!==a.indexOf("inset")?" inset":"")}:m=function(a){if("number"===typeof a)a+=r;else if(d&&y.test(a)){var b=a.replace(y,"|").split("|");for(a=0;a<b.length;a++)b[a]=m(b[a]);return b.join(",")}b=a.match(t)||[];a=b.length;if(n>a--)for(;++a<n;)b[a]=c?b[(a-1)/
2|0]:f[a];return g+b.join(k)+h}:function(a){return a}},Ya=function(a){a=a.split(",");return function(b,c,d,e,f,g,h){c=(c+"").split(" ");h={};for(d=0;4>d;d++)h[a[d]]=c[d]=c[d]||c[(d-1)/2>>0];return e.parse(b,h,f,g)}};Q._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b=this.data,c=b.proxy,d=b.firstMPT,e;d;)e=c[d.v],d.r?e=d.r(e):1E-6>e&&-1E-6<e&&(e=0),d.t[d.p]=e,d=d._next;b.autoRotate&&(b.autoRotate.rotation=b.mod?b.mod.call(this._tween,c.rotation,this.t,this._tween):c.rotation);if(1===a||
0===a)for(d=b.firstMPT,e=1===a?"e":"b";d;){a=d.t;if(!a.type)a[e]=a.s+a.xs0;else if(1===a.type){c=a.xs0+a.s+a.xs1;for(b=1;b<a.l;b++)c+=a["xn"+b]+a["xs"+(b+1)];a[e]=c}d=d._next}};var Ba=function(a,b,c,d,e){this.t=a;this.p=b;this.v=c;this.r=e;d&&(d._prev=this,this._next=d)};Q._parseToProxy=function(a,b,c,d,e,f){var g=d,h={},k={},n=c._transform,r=M;c._transform=null;M=b;d=a=c.parse(a,b,d,e);M=r;f&&(c._transform=n,g&&(g._prev=null,g._prev&&(g._prev._next=null)));for(;d&&d!==g;){if(1>=d.type){n=d.p;k[n]=
d.s+d.c;h[n]=d.s;if(!f){var l=new Ba(d,"s",n,l,d.r);d.c=0}if(1===d.type)for(c=d.l;0<--c;)r="xn"+c,n=d.p+"_"+r,k[n]=d.data[r],h[n]=d[r],f||(l=new Ba(d,r,n,l,d.rxp[r]))}d=d._next}return{proxy:h,end:k,firstMPT:l,pt:a}};var ia=Q.CSSPropTween=function(a,b,c,d,f,h,k,n,r,l,m){this.t=a;this.p=b;this.s=c;this.c=d;this.n=k||b;a instanceof ia||g.push(this.n);this.r=n?"function"===typeof n?n:Math.round:n;this.type=h||0;r&&(this.pr=r,e=!0);this.b=void 0===l?c:l;this.e=void 0===m?c+d:m;f&&(this._next=f,f._prev=
this)},Pa=function(a,b,c,d,e,f){a=new ia(a,b,c,d-c,e,-1,f);a.b=c;a.e=a.xs0=d;return a},La=c.parseComplex=function(a,b,d,e,f,g,h,k,n,r){d=d||g||"";"function"===typeof e&&(e=e(ha,na));h=new ia(a,b,0,0,h,r?2:1,null,!1,k,d,e);e+="";f&&wa.test(e+d)&&(e=[d,e],c.colorStringFilter(e),d=e[0],e=e[1]);a=d.split(", ").join(",").split(" ");b=e.split(", ").join(",").split(" ");k=a.length;var p=!1!==N,B;if(-1!==e.indexOf(",")||-1!==d.indexOf(","))-1!==(e+d).indexOf("rgb")||-1!==(e+d).indexOf("hsl")?(a=a.join(" ").replace(y,
", ").split(" "),b=b.join(" ").replace(y,", ").split(" ")):(a=a.join(" ").split(",").join(", ").split(" "),b=b.join(" ").split(",").join(", ").split(" ")),k=a.length;k!==b.length&&(a=(g||"").split(" "),k=a.length);h.plugin=n;h.setRatio=r;for(d=wa.lastIndex=0;d<k;d++)if(g=a[d],r=b[d]+"",(n=parseFloat(g))||0===n)h.appendXtra("",n,Ja(r,n),r.replace(m,""),p&&-1!==r.indexOf("px")?Math.round:!1,!0);else if(f&&wa.test(g)){var q=r.indexOf(")")+1;q=")"+(q?r.substr(q):"");var ta=-1!==r.indexOf("hsl")&&Z;n=
r;g=S(g,ta);r=S(r,ta);(B=6<g.length+r.length)&&!Z&&0===r[3]?(h["xs"+h.l]+=h.l?" transparent":"transparent",h.e=h.e.split(b[d]).join("transparent")):(Z||(B=!1),ta?h.appendXtra(n.substr(0,n.indexOf("hsl"))+(B?"hsla(":"hsl("),g[0],Ja(r[0],g[0]),",",!1,!0).appendXtra("",g[1],Ja(r[1],g[1]),"%,",!1).appendXtra("",g[2],Ja(r[2],g[2]),B?"%,":"%"+q,!1):h.appendXtra(n.substr(0,n.indexOf("rgb"))+(B?"rgba(":"rgb("),g[0],r[0]-g[0],",",Math.round,!0).appendXtra("",g[1],r[1]-g[1],",",Math.round).appendXtra("",g[2],
r[2]-g[2],B?",":q,Math.round),B&&(g=4>g.length?1:g[3],h.appendXtra("",g,(4>r.length?1:r[3])-g,q,!1)));wa.lastIndex=0}else if(B=g.match(l)){ta=r.match(m);if(!ta||ta.length!==B.length)return h;for(r=q=0;r<B.length;r++){var A=B[r];n=g.indexOf(A,q);h.appendXtra(g.substr(q,n-q),Number(A),Ja(ta[r],A),"",p&&"px"===g.substr(n+A.length,2)?Math.round:!1,0===r);q=n+A.length}h["xs"+h.l]+=g.substr(q)}else h["xs"+h.l]+=h.l||h["xs"+h.l]?" "+r:r;if(-1!==e.indexOf("=")&&h.data){q=h.xs0+h.data.s;for(d=1;d<h.l;d++)q+=
h["xs"+d]+h.data["xn"+d];h.e=q+h["xs"+d]}h.l||(h.type=-1,h.xs0=h.e);return h.xfirst||h},oa=9;p=ia.prototype;for(p.l=p.pr=0;0<--oa;)p["xn"+oa]=0,p["xs"+oa]="";p.xs0="";p._next=p._prev=p.xfirst=p.data=p.plugin=p.setRatio=p.rxp=null;p.appendXtra=function(a,b,c,d,e,f){var g=this.l;this["xs"+g]+=f&&(g||this["xs"+g])?" "+a:a||"";if(!c&&0!==g&&!this.plugin)return this["xs"+g]+=b+(d||""),this;this.l++;this.type=this.setRatio?2:1;this["xs"+this.l]=d||"";if(0<g)return this.data["xn"+g]=b+c,this.rxp["xn"+g]=
e,this["xn"+g]=b,this.plugin||(this.xfirst=new ia(this,"xn"+g,b,c,this.xfirst||this,0,this.n,e,this.pr),this.xfirst.xs0=0),this;this.data={s:b+c};this.rxp={};this.s=b;this.c=c;this.r=e;return this};var gb=function(a,b){b=b||{};this.p=b.prefix?Aa(a)||a:a;k[a]=k[this.p]=this;this.format=b.formatter||q(b.defaultValue,b.color,b.collapsible,b.multi);b.parser&&(this.parse=b.parser);this.clrs=b.color;this.multi=b.multi;this.keyword=b.keyword;this.dflt=b.defaultValue;this.pr=b.priority||0},ja=Q._registerComplexSpecialProp=
function(a,b,c){"object"!==typeof b&&(b={parser:c});a=a.split(",");var d=b.defaultValue,e;c=c||[d];for(e=0;e<a.length;e++)b.prefix=0===e&&b.prefix,b.defaultValue=c[e]||d,new gb(a[e],b)},mb=Q._registerPluginProp=function(a){if(!k[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";ja(a,{parser:function(a,c,e,f,g,h,n){var r=d.com.greensock.plugins[b];if(!r)return _gsScope.console&&console.log("Error: "+b+" js file not loaded."),g;r._cssRegister();return k[e].parse(a,c,e,f,g,h,n)}})}};p=gb.prototype;
p.parseComplex=function(a,b,c,d,e,f){var g=this.keyword,h;if(this.multi)if(y.test(c)||y.test(b)){var k=b.replace(y,"|").split("|");var n=c.replace(y,"|").split("|")}else g&&(k=[b],n=[c]);if(n){var r=n.length>k.length?n.length:k.length;for(h=0;h<r;h++)b=k[h]=k[h]||this.dflt,c=n[h]=n[h]||this.dflt,g&&(b=b.indexOf(g),c=c.indexOf(g),b!==c&&(-1===c?k[h]=k[h].split(g).join(""):-1===b&&(k[h]+=" "+g)));b=k.join(", ");c=n.join(", ")}return La(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)};p.parse=function(a,
b,c,d,e,f,g){return this.parseComplex(a.style,this.format(R(a,this.p,h,!1,this.dflt)),this.format(b),e,f)};c.registerSpecialProp=function(a,b,c){ja(a,{parser:function(a,d,e,f,g,h,k){g=new ia(a,e,0,0,g,2,e,!1,c);g.plugin=h;g.setRatio=b(a,d,f._tween,e);return g},priority:c})};c.useSVGTransformAttr=!0;var hb="scaleX scaleY scaleZ x y z skewX skewY rotation rotationX rotationY perspective xPercent yPercent".split(" "),ca=Aa("transform"),Wa=Ea+"transform",Ga=Aa("transformOrigin"),la=null!==Aa("perspective"),
Ta=Q.Transform=function(){this.perspective=parseFloat(c.defaultTransformPerspective)||0;this.force3D=!1!==c.defaultForce3D&&la?c.defaultForce3D||"auto":!1},nb=_gsScope.SVGElement,xa,P=function(a,b,c){a=T.createElementNS("http://www.w3.org/2000/svg",a);var d=/([a-z])([A-Z])/g,e;for(e in c)a.setAttributeNS(null,e.replace(d,"$1-$2").toLowerCase(),c[e]);b.appendChild(a);return a},ma=T.documentElement||{},ob=function(){var a=fa||/Android/i.test(da)&&!_gsScope.chrome;if(T.createElementNS&&!a){var b=P("svg",
ma);a=P("rect",b,{width:100,height:50,x:100});var c=a.getBoundingClientRect().width;a.style[Ga]="50% 50%";a.style[ca]="scaleX(0.5)";a=c===a.getBoundingClientRect().width&&!(ya&&la);ma.removeChild(b)}return a}(),Za=function(a,b,d,e,f,g){var h=a._gsTransform,k=Ma(a,!0),n,r,l;if(h){var m=h.xOrigin;var p=h.yOrigin}if(!e||2>(n=e.split(" ")).length){var B=a.getBBox();0===B.x&&0===B.y&&0===B.width+B.height&&(B={x:parseFloat(a.hasAttribute("x")?a.getAttribute("x"):a.hasAttribute("cx")?a.getAttribute("cx"):
0)||0,y:parseFloat(a.hasAttribute("y")?a.getAttribute("y"):a.hasAttribute("cy")?a.getAttribute("cy"):0)||0,width:0,height:0});b=za(b).split(" ");n=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*B.width:parseFloat(b[0]))+B.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*B.height:parseFloat(b[1]))+B.y]}d.xOrigin=r=parseFloat(n[0]);d.yOrigin=b=parseFloat(n[1]);if(e&&k!==va){var q=k[0];B=k[1];e=k[2];var A=k[3];var y=k[4];var ta=k[5];if(l=q*A-B*e)B=-B/l*r+q/l*b-(q*ta-B*y)/l,r=d.xOrigin=n[0]=A/l*r+-e/l*b+
(e*ta-A*y)/l,b=d.yOrigin=n[1]=B}h&&(g&&(d.xOffset=h.xOffset,d.yOffset=h.yOffset,h=d),f||!1!==f&&!1!==c.defaultSmoothOrigin?(d=r-m,B=b-p,h.xOffset+=d*k[0]+B*k[2]-d,h.yOffset+=d*k[1]+B*k[3]-B):h.xOffset=h.yOffset=0);g||a.setAttribute("data-svg-origin",n.join(" "))},$a=function(a){var b=U("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),c=this.parentNode,d=this.nextSibling,e=this.style.cssText;ma.appendChild(b);b.appendChild(this);this.style.display=
"block";if(a)try{var f=this.getBBox();this._originalGetBBox=this.getBBox;this.getBBox=$a}catch(eb){}else this._originalGetBBox&&(f=this._originalGetBBox());d?c.insertBefore(this,d):c.appendChild(this);ma.removeChild(b);this.style.cssText=e;return f},Ha=function(a){var b;if(b=nb&&a.getCTM&&(!a.parentNode||a.ownerSVGElement))try{b=a.getBBox()}catch(vb){b=$a.call(a,!0)}return!!b},va=[1,0,0,1,0,0],Ma=function(a,b){var c=a._gsTransform||new Ta,d=a.style,e;if(ca)var f=R(a,Wa,null,!0);else a.currentStyle&&
(f=(f=a.currentStyle.filter.match(I))&&4===f.length?[f[0].substr(4),Number(f[2].substr(4)),Number(f[1].substr(4)),f[3].substr(4),c.x||0,c.y||0].join():"");var g=!f||"none"===f||"matrix(1, 0, 0, 1, 0, 0)"===f;if(ca&&((e=!ka(a)||"none"===ka(a).display)||!a.parentNode)){if(e){var h=d.display;d.display="block"}if(!a.parentNode){var k=1;ma.appendChild(a)}f=R(a,Wa,null,!0);g=!f||"none"===f||"matrix(1, 0, 0, 1, 0, 0)"===f;h?d.display=h:e&&Na(d,"display");k&&ma.removeChild(a)}if(c.svg||a.getCTM&&Ha(a))g&&
-1!==(d[ca]+"").indexOf("matrix")&&(f=d[ca],g=0),c=a.getAttribute("transform"),g&&c&&(c=a.transform.baseVal.consolidate().matrix,f="matrix("+c.a+","+c.b+","+c.c+","+c.d+","+c.e+","+c.f+")",g=0);if(g)return va;c=(f||"").match(l)||[];for(oa=c.length;-1<--oa;)h=Number(c[oa]),c[oa]=(k=h-(h|=0))?(1E5*k+(0>k?-.5:.5)|0)/1E5+h:h;return b&&6<c.length?[c[0],c[1],c[4],c[5],c[12],c[13]]:c},Ia=Q.getTransform=function(a,d,e,f){if(a._gsTransform&&e&&!f)return a._gsTransform;var g=e?a._gsTransform||new Ta:new Ta,
h=0>g.scaleX,k=la?parseFloat(R(a,Ga,d,!1,"0 0 0").split(" ")[2])||g.zOrigin||0:0,n=parseFloat(c.defaultTransformPerspective)||0,r;g.svg=!(!a.getCTM||!Ha(a));g.svg&&(Za(a,R(a,Ga,d,!1,"50% 50%")+"",g,a.getAttribute("data-svg-origin")),xa=c.useSVGTransformAttr||ob);d=Ma(a);if(d!==va){if(16===d.length){n=d[0];f=d[1];var l=d[2],m=d[3],p=d[4];var B=d[5];var q=d[6];var A=d[7];var y=d[8],t=d[9],u=d[10],ta=d[12],H=d[13],w=d[14],v=d[11],W=Math.atan2(q,u);g.zOrigin&&(w=-g.zOrigin,ta=y*w-d[12],H=t*w-d[13],w=
u*w+g.zOrigin-d[14]);g.rotationX=W*G;if(W){d=Math.cos(-W);var L=Math.sin(-W);W=p*d+y*L;var x=B*d+t*L;var z=q*d+u*L;y=p*-L+y*d;t=B*-L+t*d;u=q*-L+u*d;v=A*-L+v*d;p=W;B=x;q=z}W=Math.atan2(-l,u);g.rotationY=W*G;W&&(d=Math.cos(-W),L=Math.sin(-W),x=f*d-t*L,z=l*d-u*L,t=f*L+t*d,u=l*L+u*d,v=m*L+v*d,n=n*d-y*L,f=x,l=z);W=Math.atan2(f,n);g.rotation=W*G;W&&(d=Math.cos(W),L=Math.sin(W),W=n*d+f*L,x=p*d+B*L,z=y*d+t*L,f=f*d-n*L,B=B*d-p*L,t=t*d-y*L,n=W,p=x,y=z);g.rotationX&&359.9<Math.abs(g.rotationX)+Math.abs(g.rotation)&&
(g.rotationX=g.rotation=0,g.rotationY=180-g.rotationY);W=Math.atan2(p,B);g.scaleX=(1E5*Math.sqrt(n*n+f*f+l*l)+.5|0)/1E5;g.scaleY=(1E5*Math.sqrt(B*B+q*q)+.5|0)/1E5;g.scaleZ=(1E5*Math.sqrt(y*y+t*t+u*u)+.5|0)/1E5;n/=g.scaleX;p/=g.scaleY;f/=g.scaleX;B/=g.scaleY;2E-5<Math.abs(W)?(g.skewX=W*G,p=0,"simple"!==g.skewType&&(g.scaleY*=1/Math.cos(W))):g.skewX=0;g.perspective=v?1/(0>v?-v:v):0;g.x=ta;g.y=H;g.z=w;g.svg&&(g.x-=g.xOrigin-(g.xOrigin*n-g.yOrigin*p),g.y-=g.yOrigin-(g.yOrigin*f-g.xOrigin*B))}else la&&
!f&&d.length&&g.x===d[4]&&g.y===d[5]&&(g.rotationX||g.rotationY)||(f=(p=6<=d.length)?d[0]:1,l=d[1]||0,m=d[2]||0,p=p?d[3]:1,g.x=d[4]||0,g.y=d[5]||0,d=Math.sqrt(f*f+l*l),B=Math.sqrt(p*p+m*m),q=f||l?Math.atan2(l,f)*G:g.rotation||0,A=m||p?Math.atan2(m,p)*G+q:g.skewX||0,g.scaleX=d,g.scaleY=B,g.rotation=q,g.skewX=A,la&&(g.rotationX=g.rotationY=g.z=0,g.perspective=n,g.scaleZ=1),g.svg&&(g.x-=g.xOrigin-(g.xOrigin*f+g.yOrigin*m),g.y-=g.yOrigin-(g.xOrigin*l+g.yOrigin*p)));90<Math.abs(g.skewX)&&270>Math.abs(g.skewX)&&
(h?(g.scaleX*=-1,g.skewX+=0>=g.rotation?180:-180,g.rotation+=0>=g.rotation?180:-180):(g.scaleY*=-1,g.skewX+=0>=g.skewX?180:-180));g.zOrigin=k;for(r in g)2E-5>g[r]&&-2E-5<g[r]&&(g[r]=0)}e&&(a._gsTransform=g,g.svg&&(xa&&a.style[ca]?b.delayedCall(.001,function(){Na(a.style,ca)}):!xa&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")})));return g},jb=function(a){var b=this.data,c=-b.rotation*H,d=c+b.skewX*H,e=(Math.cos(c)*b.scaleX*1E5|0)/1E5,f=(Math.sin(c)*b.scaleX*
1E5|0)/1E5,g=(Math.sin(d)*-b.scaleY*1E5|0)/1E5,h=(Math.cos(d)*b.scaleY*1E5|0)/1E5;d=this.t.style;c=this.t.currentStyle;if(c){var k=f;f=-g;g=-k;var r=c.filter;d.filter="";k=this.t.offsetWidth;var l=this.t.offsetHeight,m="absolute"!==c.position,p="progid:DXImageTransform.Microsoft.Matrix(M11="+e+", M12="+f+", M21="+g+", M22="+h,q=b.x+k*b.xPercent/100,y=b.y+l*b.yPercent/100;if(null!=b.ox){var t=(b.oxp?k*b.ox*.01:b.ox)-k/2;var u=(b.oyp?l*b.oy*.01:b.oy)-l/2;q+=t-(t*e+u*f);y+=u-(t*g+u*h)}m?(t=k/2,u=l/2,
p+=", Dx="+(t-(t*e+u*f)+q)+", Dy="+(u-(t*g+u*h)+y)+")"):p+=", sizingMethod='auto expand')";-1!==r.indexOf("DXImageTransform.Microsoft.Matrix(")?d.filter=r.replace(A,p):d.filter=p+" "+r;0!==a&&1!==a||1!==e||0!==f||0!==g||1!==h||m&&-1===p.indexOf("Dx=0, Dy=0")||n.test(r)&&100!==parseFloat(RegExp.$1)||-1===r.indexOf(r.indexOf("Alpha"))&&d.removeAttribute("filter");if(!m)for(a=8>fa?1:-1,t=b.ieOffsetX||0,u=b.ieOffsetY||0,b.ieOffsetX=Math.round((k-((0>e?-e:e)*k+(0>f?-f:f)*l))/2+q),b.ieOffsetY=Math.round((l-
((0>h?-h:h)*l+(0>g?-g:g)*k))/2+y),oa=0;4>oa;oa++)e=Ra[oa],f=c[e],k=-1!==f.indexOf("px")?parseFloat(f):B(this.t,e,parseFloat(f),f.replace(v,""))||0,f=k!==b[e]?2>oa?-b.ieOffsetX:-b.ieOffsetY:2>oa?t-b.ieOffsetX:u-b.ieOffsetY,d[e]=(b[e]=Math.round(k-f*(0===oa||2===oa?1:a)))+"px"}},kb=Q.set3DTransformRatio=Q.setTransformRatio=function(a){var b=this.data,c=this.t.style,d=b.rotation,e=b.rotationX,f=b.rotationY,g=b.scaleX,h=b.scaleY,k=b.scaleZ,n=b.x,r=b.y,l=b.z,m=b.svg,p=b.perspective,B=b.force3D,q=b.skewY,
A=b.skewX,y,t,u,W,w;q&&(A+=q,d+=q);if(!((1!==a&&0!==a||"auto"!==B||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&B||l||p||f||e)&&1===k||xa&&m||!la)if(d||A||m){d*=H;e=A*H;a=Math.cos(d)*g;B=Math.sin(d)*g;A=Math.sin(d-e)*-h;var v=Math.cos(d-e)*h;e&&"simple"===b.skewType&&(d=Math.tan(e-q*H),d=Math.sqrt(1+d*d),A*=d,v*=d,q&&(d=Math.tan(q*H),d=Math.sqrt(1+d*d),a*=d,B*=d));if(m){n+=b.xOrigin-(b.xOrigin*a+b.yOrigin*A)+b.xOffset;r+=b.yOrigin-(b.xOrigin*B+b.yOrigin*v)+b.yOffset;
if(xa&&(b.xPercent||b.yPercent)){var L=this.t.getBBox();n+=.01*b.xPercent*L.width;r+=.01*b.yPercent*L.height}L=1E-6;n<L&&n>-L&&(n=0);r<L&&r>-L&&(r=0)}g=(1E5*a|0)/1E5+","+(1E5*B|0)/1E5+","+(1E5*A|0)/1E5+","+(1E5*v|0)/1E5+","+n+","+r+")";m&&xa?this.t.setAttribute("transform","matrix("+g):c[ca]=(b.xPercent||b.yPercent?"translate("+b.xPercent+"%,"+b.yPercent+"%) matrix(":"matrix(")+g}else c[ca]=(b.xPercent||b.yPercent?"translate("+b.xPercent+"%,"+b.yPercent+"%) matrix(":"matrix(")+g+",0,0,"+h+","+n+","+
r+")";else{ya&&(L=1E-4,g<L&&g>-L&&(g=k=2E-5),h<L&&h>-L&&(h=k=2E-5),!p||b.z||b.rotationX||b.rotationY||(p=0));if(d||A){d*=H;var x=a=Math.cos(d);var G=B=Math.sin(d);A&&(d-=A*H,x=Math.cos(d),G=Math.sin(d),"simple"===b.skewType&&(d=Math.tan((A-q)*H),d=Math.sqrt(1+d*d),x*=d,G*=d,b.skewY&&(d=Math.tan(q*H),d=Math.sqrt(1+d*d),a*=d,B*=d)));A=-G;v=x}else if(f||e||1!==k||p||m)a=v=1,A=B=0;else{c[ca]=(b.xPercent||b.yPercent?"translate("+b.xPercent+"%,"+b.yPercent+"%) translate3d(":"translate3d(")+n+"px,"+r+"px,"+
l+"px)"+(1!==g||1!==h?" scale("+g+","+h+")":"");return}var z=1;q=y=t=u=W=w=0;var J=p?-1/p:0;var I=b.zOrigin;L=1E-6;if(d=f*H)x=Math.cos(d),G=Math.sin(d),t=-G,W=J*-G,q=a*G,y=B*G,z=x,J*=x,a*=x,B*=x;if(d=e*H){x=Math.cos(d);G=Math.sin(d);d=A*x+q*G;var C=v*x+y*G;u=z*G;w=J*G;q=A*-G+q*x;y=v*-G+y*x;z*=x;J*=x;A=d;v=C}1!==k&&(q*=k,y*=k,z*=k,J*=k);1!==h&&(A*=h,v*=h,u*=h,w*=h);1!==g&&(a*=g,B*=g,t*=g,W*=g);if(I||m)I&&(n+=q*-I,r+=y*-I,l+=z*-I+I),m&&(n+=b.xOrigin-(b.xOrigin*a+b.yOrigin*A)+b.xOffset,r+=b.yOrigin-
(b.xOrigin*B+b.yOrigin*v)+b.yOffset),n<L&&n>-L&&(n="0"),r<L&&r>-L&&(r="0"),l<L&&l>-L&&(l=0);g=b.xPercent||b.yPercent?"translate("+b.xPercent+"%,"+b.yPercent+"%) matrix3d(":"matrix3d(";g=g+((a<L&&a>-L?"0":a)+","+(B<L&&B>-L?"0":B)+","+(t<L&&t>-L?"0":t))+(","+(W<L&&W>-L?"0":W)+","+(A<L&&A>-L?"0":A)+","+(v<L&&v>-L?"0":v));g=e||f||1!==k?g+(","+(u<L&&u>-L?"0":u)+","+(w<L&&w>-L?"0":w)+","+(q<L&&q>-L?"0":q))+(","+(y<L&&y>-L?"0":y)+","+(z<L&&z>-L?"0":z)+","+(J<L&&J>-L?"0":J)+","):g+",0,0,0,0,1,0,";g+=n+","+
r+","+l+","+(p?1+-l/p:1)+")";c[ca]=g}};p=Ta.prototype;p.x=p.y=p.z=p.skewX=p.skewY=p.rotation=p.rotationX=p.rotationY=p.zOrigin=p.xPercent=p.yPercent=p.xOffset=p.yOffset=0;p.scaleX=p.scaleY=p.scaleZ=1;ja("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(a,
b,d,e,f,g,k){if(e._lastParsedTransform===k)return f;e._lastParsedTransform=k;var n=k.scale&&"function"===typeof k.scale?k.scale:0;if("function"===typeof k[d]){var r=k[d];k[d]=b}n&&(k.scale=n(ha,a));b=a._gsTransform;var l=a.style,m=hb.length,p={},B=Ia(a,h,!0,k.parseTransform),q=k.transform&&("function"===typeof k.transform?k.transform(ha,na):k.transform);B.skewType=k.skewType||B.skewType||c.defaultSkewType;e._transform=B;if(q&&"string"===typeof q&&ca){var A=X.style;A[ca]=q;A.display="block";A.position=
"absolute";-1!==q.indexOf("%")&&(A.width=R(a,"width"),A.height=R(a,"height"));T.body.appendChild(X);var y=Ia(X,null,!1);"simple"===B.skewType&&(y.scaleY*=Math.cos(y.skewX*H));if(B.svg){A=B.xOrigin;var t=B.yOrigin;y.x-=B.xOffset;y.y-=B.yOffset;if(k.transformOrigin||k.svgOrigin)q={},Za(a,za(k.transformOrigin),q,k.svgOrigin,k.smoothOrigin,!0),A=q.xOrigin,t=q.yOrigin,y.x-=q.xOffset-B.xOffset,y.y-=q.yOffset-B.yOffset;if(A||t)q=Ma(X,!0),y.x-=A-(A*q[0]+t*q[2]),y.y-=t-(A*q[1]+t*q[3])}T.body.removeChild(X);
y.perspective||(y.perspective=B.perspective);null!=k.xPercent&&(y.xPercent=ra(k.xPercent,B.xPercent));null!=k.yPercent&&(y.yPercent=ra(k.yPercent,B.yPercent))}else if("object"===typeof k){y={scaleX:ra(null!=k.scaleX?k.scaleX:k.scale,B.scaleX),scaleY:ra(null!=k.scaleY?k.scaleY:k.scale,B.scaleY),scaleZ:ra(k.scaleZ,B.scaleZ),x:ra(k.x,B.x),y:ra(k.y,B.y),z:ra(k.z,B.z),xPercent:ra(k.xPercent,B.xPercent),yPercent:ra(k.yPercent,B.yPercent),perspective:ra(k.transformPerspective,B.perspective)};q=k.directionalRotation;
if(null!=q)if("object"===typeof q)for(A in q)k[A]=q[A];else k.rotation=q;"string"===typeof k.x&&-1!==k.x.indexOf("%")&&(y.x=0,y.xPercent=ra(k.x,B.xPercent));"string"===typeof k.y&&-1!==k.y.indexOf("%")&&(y.y=0,y.yPercent=ra(k.y,B.yPercent));y.rotation=Ka("rotation"in k?k.rotation:"shortRotation"in k?k.shortRotation+"_short":"rotationZ"in k?k.rotationZ:B.rotation,B.rotation,"rotation",p);la&&(y.rotationX=Ka("rotationX"in k?k.rotationX:"shortRotationX"in k?k.shortRotationX+"_short":B.rotationX||0,B.rotationX,
"rotationX",p),y.rotationY=Ka("rotationY"in k?k.rotationY:"shortRotationY"in k?k.shortRotationY+"_short":B.rotationY||0,B.rotationY,"rotationY",p));y.skewX=Ka(k.skewX,B.skewX);y.skewY=Ka(k.skewY,B.skewY)}if(la&&null!=k.force3D){B.force3D=k.force3D;var u=!0}var L=B.force3D||B.z||B.rotationX||B.rotationY||y.z||y.rotationX||y.rotationY||y.perspective;L||null==k.scale||(y.scaleZ=1);for(;-1<--m;)if(A=hb[m],q=y[A]-B[A],1E-6<q||-1E-6>q||null!=k[A]||null!=M[A])u=!0,f=new ia(B,A,B[A],q,f),A in p&&(f.e=p[A]),
f.xs0=0,f.plugin=g,e._overwriteProps.push(f.n);q=k.transformOrigin;if(B.svg&&(q||k.svgOrigin)){A=B.xOffset;t=B.yOffset;Za(a,za(q),y,k.svgOrigin,k.smoothOrigin);f=Pa(B,"xOrigin",(b?B:y).xOrigin,y.xOrigin,f,"transformOrigin");f=Pa(B,"yOrigin",(b?B:y).yOrigin,y.yOrigin,f,"transformOrigin");if(A!==B.xOffset||t!==B.yOffset)f=Pa(B,"xOffset",b?A:B.xOffset,B.xOffset,f,"transformOrigin"),f=Pa(B,"yOffset",b?t:B.yOffset,B.yOffset,f,"transformOrigin");q="0px 0px"}if(q||la&&L&&B.zOrigin)ca?(u=!0,A=Ga,q=(q||R(a,
A,h,!1,"50% 50%"))+"",f=new ia(l,A,0,0,f,-1,"transformOrigin"),f.b=l[A],f.plugin=g,la?(A=B.zOrigin,q=q.split(" "),B.zOrigin=(2<q.length&&(0===A||"0px"!==q[2])?parseFloat(q[2]):A)||0,f.xs0=f.e=q[0]+" "+(q[1]||"50%")+" 0px",f=new ia(B,"zOrigin",0,0,f,-1,f.n),f.b=A,f.xs0=f.e=B.zOrigin):f.xs0=f.e=q):za(q+"",B);u&&(e._transformType=B.svg&&xa||!L&&3!==this._transformType?2:3);r&&(k[d]=r);n&&(k.scale=n);return f},prefix:!0});ja("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,
keyword:"inset"});ja("borderRadius",{defaultValue:"0px",parser:function(a,b,c,d,e,g){b=this.format(b);d=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"];g=a.style;var k,n,r,l;var m=parseFloat(a.offsetWidth);var p=parseFloat(a.offsetHeight);b=b.split(" ");for(k=0;k<d.length;k++){this.p.indexOf("border")&&(d[k]=Aa(d[k]));var q=r=R(a,d[k],h,!1,"0px");-1!==q.indexOf(" ")&&(r=q.split(" "),q=r[0],r=r[1]);var A=n=b[k];var y=parseFloat(q);var t=q.substr((y+
"").length);if(l="="===A.charAt(1)){var u=parseInt(A.charAt(0)+"1",10);A=A.substr(2);u*=parseFloat(A);var L=A.substr((u+"").length-(0>u?1:0))||""}else u=parseFloat(A),L=A.substr((u+"").length);""===L&&(L=f[c]||t);L!==t&&(q=B(a,"borderLeft",y,t),y=B(a,"borderTop",y,t),"%"===L?(q=q/m*100+"%",r=y/p*100+"%"):"em"===L?(t=B(a,"borderLeft",1,"em"),q=q/t+"em",r=y/t+"em"):(q+="px",r=y+"px"),l&&(A=parseFloat(q)+u+L,n=parseFloat(r)+u+L));e=La(g,d[k],q+" "+r,A+" "+n,!1,"0px",e)}return e},prefix:!0,formatter:q("0px 0px 0px 0px",
!1,!0)});ja("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(a,b,c,d,e,f){return La(a.style,c,this.format(R(a,c,h,!1,"0px 0px")),this.format(b),!1,"0px",e)},prefix:!0,formatter:q("0px 0px",!1,!0)});ja("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,e,f){c=h||ka(a,null);c=this.format((c?fa?c.getPropertyValue("background-position-x")+" "+c.getPropertyValue("background-position-y"):c.getPropertyValue("background-position"):
a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0");b=this.format(b);var g;if(-1!==c.indexOf("%")!==(-1!==b.indexOf("%"))&&2>b.split(",").length&&(g=R(a,"backgroundImage").replace(x,""))&&"none"!==g){d=c.split(" ");var k=b.split(" ");O.setAttribute("src",g);for(g=2;-1<--g;){c=d[g];var n=-1!==c.indexOf("%");if(n!==(-1!==k[g].indexOf("%"))){var r=0===g?a.offsetWidth-O.width:a.offsetHeight-O.height;d[g]=n?parseFloat(c)/100*r+"px":parseFloat(c)/r*100+"%"}}c=d.join(" ")}return this.parseComplex(a.style,
c,b,e,f)},formatter:za});ja("backgroundSize",{defaultValue:"0 0",formatter:function(a){a+="";return"co"===a.substr(0,2)?a:za(-1===a.indexOf(" ")?a+" "+a:a)}});ja("perspective",{defaultValue:"0px",prefix:!0});ja("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0});ja("transformStyle",{prefix:!0});ja("backfaceVisibility",{prefix:!0});ja("userSelect",{prefix:!0});ja("margin",{parser:Ya("marginTop,marginRight,marginBottom,marginLeft")});ja("padding",{parser:Ya("paddingTop,paddingRight,paddingBottom,paddingLeft")});
ja("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,e,f){9>fa?(d=a.currentStyle,c=8>fa?" ":",",d="rect("+d.clipTop+c+d.clipRight+c+d.clipBottom+c+d.clipLeft+")",b=this.format(b).split(",").join(c)):(d=this.format(R(a,this.p,h,!1,this.dflt)),b=this.format(b));return this.parseComplex(a.style,d,b,e,f)}});ja("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0});ja("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}});ja("border",{defaultValue:"0px solid #000",
parser:function(a,b,c,d,e,f){c=R(a,"borderTopWidth",h,!1,"0px");b=this.format(b).split(" ");d=b[0].replace(v,"");"px"!==d&&(c=parseFloat(c)/B(a,"borderTopWidth",1,d)+d);return this.parseComplex(a.style,this.format(c+" "+R(a,"borderTopStyle",h,!1,"solid")+" "+R(a,"borderTopColor",h,!1,"#000")),b.join(" "),e,f)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(wa)||["#000"])[0]}});ja("borderWidth",{parser:Ya("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")});
ja("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){a=a.style;d="cssFloat"in a?"cssFloat":"styleFloat";return new ia(a,d,0,0,e,-1,c,!1,0,a[d],b)}});var lb=function(a){var b=this.t,c=b.filter||R(this.data,"filter")||"";a=this.s+this.c*a|0;if(100===a)if(-1===c.indexOf("atrix(")&&-1===c.indexOf("radient(")&&-1===c.indexOf("oader(")){b.removeAttribute("filter");var d=!R(this.data,"filter")}else b.filter=c.replace(D,""),d=!0;d||(this.xn1&&(b.filter=c=c||"alpha(opacity="+a+")"),-1===c.indexOf("pacity")?
0===a&&this.xn1||(b.filter=c+" alpha(opacity="+a+")"):b.filter=c.replace(n,"opacity="+a))};ja("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,e,f){var g=parseFloat(R(a,"opacity",h,!1,"1")),k=a.style,n="autoAlpha"===c;"string"===typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+g);n&&1===g&&"hidden"===R(a,"visibility",h)&&0!==b&&(g=0);Z?e=new ia(k,"opacity",g,b-g,e):(e=new ia(k,"opacity",100*g,100*(b-g),e),e.xn1=n?1:0,k.zoom=1,e.type=2,e.b="alpha(opacity="+
e.s+")",e.e="alpha(opacity="+(e.s+e.c)+")",e.data=a,e.plugin=f,e.setRatio=lb);n&&(e=new ia(k,"visibility",0,0,e,-1,null,!1,0,0!==g?"inherit":"hidden",0===b?"hidden":"inherit"),e.xs0="inherit",d._overwriteProps.push(e.n),d._overwriteProps.push(c));return e}});var Na=function(a,b){if(b)if(a.removeProperty){if("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))b="-"+b;a.removeProperty(b.replace(C,"-$1").toLowerCase())}else a.removeAttribute(b)},qa=function(a){this.t._gsClassPT=this;if(1===a||0===a){this.t.setAttribute("class",
0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Na(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ja("className",{parser:function(a,b,c,d,f,g,k){var n=a.getAttribute("class")||"",r=a.style.cssText,l,m;f=d._classNamePT=new ia(a,c,0,0,f,2);f.setRatio=qa;f.pr=-11;e=!0;f.b=n;c=L(a,h);if(l=a._gsClassPT){var B={};for(m=l.data;m;)B[m.p]=1,m=m._next;l.setRatio(1)}a._gsClassPT=
f;f.e="="!==b.charAt(1)?b:n.replace(new RegExp("(?:\\s|^)"+b.substr(2)+"(?![\\w-])"),"")+("+"===b.charAt(0)?" "+b.substr(2):"");a.setAttribute("class",f.e);b=Qa(a,c,L(a),k,B);a.setAttribute("class",n);f.data=b.firstMPT;a.style.cssText=r;return f=f.xfirst=d.parse(a,b.difs,f,g)}});var qb=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){a=this.t.style;var b=k.transform.parse,c;if("all"===this.e){a.cssText="";var d=!0}else{var e=this.e.split(" ").join("").split(",");
for(c=e.length;-1<--c;){var f=e[c];k[f]&&(k[f].parse===b?d=!0:f="transformOrigin"===f?Ga:k[f].p);Na(a,f)}}d&&(Na(a,ca),d=this.t._gsTransform)&&(d.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform)}};ja("clearProps",{parser:function(a,b,c,d,f){f=new ia(a,c,0,0,f,2);f.setRatio=qb;f.e=b;f.pr=-10;f.data=d._tween;e=!0;return f}});p=["bezier","throwProps","physicsProps","physics2D"];for(oa=p.length;oa--;)mb(p[oa]);p=c.prototype;p._firstPT=p._lastParsedTransform=
p._transform=null;p._onInitTween=function(a,b,d,n){if(!a.nodeType)return!1;this._target=na=a;this._tween=d;this._vars=b;ha=n;N=b.autoRound;e=!1;f=b.suffixMap||c.suffixMap;h=ka(a,"");g=this._overwriteProps;n=a.style;var r,l;if(ea&&""===n.zIndex){var m=R(a,"zIndex",h);"auto"!==m&&""!==m||this._addLazySet(n,"zIndex",0)}if("string"===typeof b){var B=n.cssText;m=L(a,h);n.cssText=B+";"+b;m=Qa(a,m,L(a)).difs;!Z&&w.test(b)&&(m.opacity=parseFloat(RegExp.$1));b=m;n.cssText=B}this._firstPT=b.className?r=k.className.parse(a,
b.className,"className",this,null,null,b):r=this.parse(a,b,null);if(this._transformType){m=3===this._transformType;ca?ba&&(ea=!0,""===n.zIndex&&(b=R(a,"zIndex",h),"auto"!==b&&""!==b||this._addLazySet(n,"zIndex",0)),Ca&&this._addLazySet(n,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(m?"visible":"hidden"))):n.zoom=1;for(n=r;n&&n._next;)n=n._next;b=new ia(a,"transform",0,0,null,2);this._linkCSSP(b,null,n);b.setRatio=ca?kb:jb;b.data=this._transform||Ia(a,h,!0);b.tween=d;b.pr=-1;g.pop()}if(e){for(;r;){a=
r._next;for(n=B;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:l)?r._prev._next=r:B=r;(r._next=n)?n._prev=r:l=r;r=a}this._firstPT=B}return!0};p.parse=function(a,b,c,d){var e=a.style,g,n,l;for(g in b){var m=b[g];"function"===typeof m&&(m=m(ha,na));if(n=k[g])c=n.parse(a,m,g,this,c,d,b);else if("--"===g.substr(0,2)){this._tween._propLookup[g]=this._addTween.call(this._tween,a.style,"setProperty",ka(a).getPropertyValue(g)+"",m+"",g,!1,g);continue}else{n=R(a,g,h)+"";var p="string"===typeof m;if("color"===
g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||p&&r.test(m))p||(m=S(m),m=(3<m.length?"rgba(":"rgb(")+m.join(",")+")"),c=La(e,g,n,m,!0,"transparent",c,0,d);else if(p&&J.test(m))c=La(e,g,n,m,!0,null,c,0,d);else{var q=(l=parseFloat(n))||0===l?n.substr((l+"").length):"";if(""===n||"auto"===n)if("width"===g||"height"===g){l=a;var A=g;var y=h;if("svg"===(l.nodeName+"").toLowerCase())l=(y||ka(l))[A]||0;else if(l.getCTM&&Ha(l))l=l.getBBox()[A]||0;else{q=parseFloat("width"===A?l.offsetWidth:l.offsetHeight);
A=Xa[A];var t=A.length;for(y=y||ka(l,null);-1<--t;)q-=parseFloat(R(l,"padding"+A[t],y,!0))||0,q-=parseFloat(R(l,"border"+A[t]+"Width",y,!0))||0;l=q}q="px"}else"left"===g||"top"===g?(l=W(a,g,h),q="px"):(l="opacity"!==g?0:1,q="");(A=p&&"="===m.charAt(1))?(y=parseInt(m.charAt(0)+"1",10),m=m.substr(2),y*=parseFloat(m),p=m.replace(v,"")):(y=parseFloat(m),p=p?m.replace(v,""):"");""===p&&(p=g in f?f[g]:q);m=y||0===y?(A?y+l:y)+p:b[g];q===p||""===p&&"lineHeight"!==g||!y&&0!==y||!l||(l=B(a,g,l,q),"%"===p?(l/=
B(a,g,100,"%")/100,!0!==b.strictUnits&&(n=l+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?l/=B(a,g,1,p):"px"!==p&&(y=B(a,g,y,p),p="px"),A&&(y||0===y)&&(m=y+l+p));A&&(y+=l);!l&&0!==l||!y&&0!==y?void 0!==e[g]&&(m||"NaN"!==m+""&&null!=m)?(c=new ia(e,g,y||l||0,0,c,-1,g,!1,0,n,m),c.xs0="none"!==m||"display"!==g&&-1===g.indexOf("Style")?m:n):_gsScope.console&&console.log("invalid "+g+" tween value: "+b[g]):(c=new ia(e,g,l,y-l,c,0,g,!1!==N&&("px"===p||"zIndex"===g),0,n,m),c.xs0=p)}}d&&c&&!c.plugin&&(c.plugin=
d)}return c};p.setRatio=function(a){var b=this._firstPT;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1E-6===this._tween._rawPrevTime)for(;b;){var c=b.c*a+b.s;b.r?c=b.r(c):1E-6>c&&-1E-6<c&&(c=0);if(b.type)if(1===b.type){var d=b.l;if(2===d)b.t[b.p]=b.xs0+c+b.xs1+b.xn1+b.xs2;else if(3===d)b.t[b.p]=b.xs0+c+b.xs1+b.xn1+b.xs2+b.xn2+b.xs3;else if(4===d)b.t[b.p]=b.xs0+c+b.xs1+b.xn1+b.xs2+b.xn2+b.xs3+b.xn3+
b.xs4;else if(5===d)b.t[b.p]=b.xs0+c+b.xs1+b.xn1+b.xs2+b.xn2+b.xs3+b.xn3+b.xs4+b.xn4+b.xs5;else{c=b.xs0+c+b.xs1;for(d=1;d<b.l;d++)c+=b["xn"+d]+b["xs"+(d+1)];b.t[b.p]=c}}else-1===b.type?b.t[b.p]=b.xs0:b.setRatio&&b.setRatio(a);else b.t[b.p]=c+b.xs0;b=b._next}else for(;b;)2!==b.type?b.t[b.p]=b.b:b.setRatio(a),b=b._next;else for(;b;){if(2!==b.type)if(b.r&&-1!==b.type)if(c=b.r(b.s+b.c),!b.type)b.t[b.p]=c+b.xs0;else{if(1===b.type){c=b.xs0+c+b.xs1;for(d=1;d<b.l;d++)c+=b["xn"+d]+b["xs"+(d+1)];b.t[b.p]=c}}else b.t[b.p]=
b.e;else b.setRatio(a);b=b._next}};p._enableTransforms=function(a){this._transform=this._transform||Ia(this._target,h,!0);this._transformType=this._transform.svg&&xa||!a&&3!==this._transformType?2:3};var Ua=function(a){this.t[this.p]=this.e;this.data._linkCSSP(this,this._next,null,!0)};p._addLazySet=function(a,b,c){a=this._firstPT=new ia(a,b,0,0,this._firstPT,2);a.e=c;a.setRatio=Ua;a.data=this};p._linkCSSP=function(a,b,c,d){a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=
a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c);return a};p._mod=function(a){for(var b=this._firstPT;b;)"function"===typeof a[b.p]&&(b.r=a[b.p]),b=b._next};p._kill=function(b){var c=b,d,e;if(b.autoAlpha||b.alpha){c={};for(f in b)c[f]=b[f];c.opacity=1;c.autoAlpha&&(c.visibility=1)}b.className&&(d=this._classNamePT)&&((e=d.xfirst)&&e._prev?this._linkCSSP(e._prev,d._next,e._prev._prev):e===this._firstPT&&(this._firstPT=
d._next),d._next&&this._linkCSSP(d._next,d._next._next,e._prev),this._classNamePT=null);for(d=this._firstPT;d;){if(d.plugin&&d.plugin!==f&&d.plugin._kill){d.plugin._kill(b);var f=d.plugin}d=d._next}return a.prototype._kill.call(this,c)};var Va=function(a,b,c){var d;if(a.slice)for(d=a.length;-1<--d;)Va(a[d],b,c);else for(a=a.childNodes,d=a.length;-1<--d;){var e=a[d];var f=e.type;e.style&&(b.push(L(e)),c&&c.push(e));1!==f&&9!==f&&11!==f||!e.childNodes.length||Va(e,b,c)}};c.cascadeTo=function(a,c,d){var e=
b.to(a,c,d),f=[e],g=[],h=[],k=[],n=b._internals.reservedProps,r;a=e._targets||e.target;Va(a,g,k);e.render(c,!0,!0);Va(a,h);e.render(0,!0,!0);e._enabled(!0);for(a=k.length;-1<--a;)if(e=Qa(k[a],g[a],h[a]),e.firstMPT){e=e.difs;for(r in d)n[r]&&(e[r]=d[r]);var l={};for(r in e)l[r]=g[a][r];f.push(b.fromTo(k[a],c,l,e))}return f};a.activate([c]);return c},!0);(function(){var a=function(a){var b=1>a?Math.pow(10,(a+"").length-2):1;return function(c){return(Math.round(c/a)*a*b|0)/b}},b=_gsScope._gsDefine.plugin({propName:"roundProps",
version:"1.7.0",priority:-1,API:2,init:function(a,b,e){this._tween=e;return!0}}).prototype;b._onInitAllProps=function(){var b=this._tween,d=b.vars.roundProps,e={},f=b._propLookup.roundProps,h,g;if("object"!==typeof d||d.push)for("string"===typeof d&&(d=d.split(",")),h=d.length;-1<--h;)e[d[h]]=Math.round;else for(g in d)e[g]=a(d[g]);for(g in e)for(h=b._firstPT;h;){d=h._next;if(h.pg)h.t._mod(e);else if(h.n===g)if(2===h.f&&h.t){h=h.t._firstPT;for(var k=e[g];h;)h.f||h.blob||(h.m=k||Math.round),h=h._next}else this._add(h.t,
g,h.s,h.c,e[g]),d&&(d._prev=h._prev),h._prev?h._prev._next=d:b._firstPT===h&&(b._firstPT=d),h._next=h._prev=null,b._propLookup[g]=f;h=d}return!1};b._add=function(a,b,e,f,h){this._addTween(a,b,e,e+f,b,h||Math.round);this._overwriteProps.push(b)}})();(function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(a,b,c,d){var e;if("function"!==typeof a.setAttribute)return!1;for(e in b)c=b[e],"function"===typeof c&&(c=c(d,a)),this._addTween(a,"setAttribute",a.getAttribute(e)+
"",c+"",e,!1,e),this._overwriteProps.push(e);return!0}})})();_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(a,b,c,d){"object"!==typeof b&&(b={rotation:b});this.finals={};c=!0===b.useRadians?2*Math.PI:360;var e;for(e in b)if("useRadians"!==e){var f=b[e];"function"===typeof f&&(f=f(d,a));var h=(f+"").split("_");f=h[0];var g=parseFloat("function"!==typeof a[e]?a[e]:a[e.indexOf("set")||"function"!==typeof a["get"+e.substr(3)]?e:"get"+e.substr(3)]());f=this.finals[e]=
"string"===typeof f&&"="===f.charAt(1)?g+parseInt(f.charAt(0)+"1",10)*Number(f.substr(2)):Number(f)||0;var k=f-g;h.length&&(f=h.join("_"),-1!==f.indexOf("short")&&(k%=c,k!==k%(c/2)&&(k=0>k?k+c:k-c)),-1!==f.indexOf("_cw")&&0>k?k=(k+9999999999*c)%c-(k/c|0)*c:-1!==f.indexOf("ccw")&&0<k&&(k=(k-9999999999*c)%c-(k/c|0)*c));if(1E-6<k||-1E-6>k)this._addTween(a,e,g,g+k,e),this._overwriteProps.push(e)}return!0},set:function(a){if(1!==a)this._super.setRatio.call(this,a);else for(a=this._firstPT;a;){if(a.f)a.t[a.p](this.finals[a.p]);
else a.t[a.p]=this.finals[a.p];a=a._next}}})._autoCSS=!0;_gsScope._gsDefine("easing.Back",["easing.Ease"],function(a){var b=_gsScope.GreenSockGlobals||_gsScope,c=2*Math.PI,d=Math.PI/2,e=b.com.greensock._class,f=function(b,c){b=e("easing."+b,function(){},!0);var d=b.prototype=new a;d.constructor=b;d.getRatio=c;return b},h=a.register||function(){},g=function(a,b,c,d,f){b=e("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);h(b,a);return b},k=function(a,b,c){this.t=a;this.v=b;c&&(this.next=
c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},p=function(b,c){var d=e("easing."+b,function(a){this._p1=a||0===a?a:1.70158;this._p2=1.525*this._p1},!0);b=d.prototype=new a;b.constructor=d;b.getRatio=c;b.config=function(a){return new d(a)};return d};p=g("Back",p("BackOut",function(a){return--a*a*((this._p1+1)*a+this._p1)+1}),p("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),p("BackInOut",function(a){return 1>(a*=2)?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)}));
var l=e("easing.SlowMo",function(a,b,c){null==a?a=.7:1<a&&(a=1);this._p=1!==a?b||0===b?b:.7:0;this._p1=(1-a)/2;this._p2=a;this._p3=this._p1+this._p2;this._calcEnd=!0===c},!0),m=l.prototype=new a;m.constructor=l;m.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1===a?0:1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b};l.ease=new l(.7,.7);m.config=l.config=function(a,
b,c){return new l(a,b,c)};var t=e("easing.SteppedEase",function(a,b){a=a||1;this._p1=1/a;this._p2=a+(b?0:1);this._p3=b?1:0},!0);m=t.prototype=new a;m.constructor=t;m.getRatio=function(a){0>a?a=0:1<=a&&(a=.999999999);return((this._p2*a|0)+this._p3)*this._p1};m.config=t.config=function(a,b){return new t(a,b)};var u=e("easing.ExpoScaleEase",function(a,b,c){this._p1=Math.log(b/a);this._p2=b-a;this._p3=a;this._ease=c},!0);m=u.prototype=new a;m.constructor=u;m.getRatio=function(a){this._ease&&(a=this._ease.getRatio(a));
return(this._p3*Math.exp(this._p1*a)-this._p3)/this._p2};m.config=u.config=function(a,b,c){return new u(a,b,c)};var v=e("easing.RoughEase",function(b){b=b||{};var c=b.taper||"none",d=[],e=0,f=(b.points||20)|0,g=f,h=!1!==b.randomize,n=!0===b.clamp,l=b.template instanceof a?b.template:null;b="number"===typeof b.strength?.4*b.strength:.4;for(var m,p,y;-1<--g;)m=h?Math.random():1/f*g,p=l?l.getRatio(m):m,"none"===c?y=b:"out"===c?(y=1-m,y=y*y*b):"in"===c?y=m*m*b:(y=.5>m?2*m:2*(1-m),y=y*y*.5*b),p=h?p+(Math.random()*
y-.5*y):g%2?p+.5*y:p-.5*y,n&&(1<p?p=1:0>p&&(p=0)),d[e++]={x:m,y:p};d.sort(function(a,b){return a.x-b.x});c=new k(1,1,null);for(g=f;-1<--g;)f=d[g],c=new k(f.x,f.y,c);this._prev=new k(0,0,0!==c.t?c:c.next)},!0);m=v.prototype=new a;m.constructor=v;m.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;this._prev=b;return b.v+(a-b.t)/b.gap*b.c};m.config=function(a){return new v(a)};v.ease=new v;g("Bounce",f("BounceOut",function(a){return a<
1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),f("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:a<2/2.75?1-(7.5625*(a-=1.5/2.75)*a+.75):a<2.5/2.75?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),f("BounceInOut",function(a){var b=.5>a;a=b?1-2*a:2*a-1;a=a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375;return b?
.5*(1-a):.5*a+.5}));g("Circ",f("CircOut",function(a){return Math.sqrt(1- --a*a)}),f("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),f("CircInOut",function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}));m=function(b,d,f){var g=e("easing."+b,function(a,b){this._p1=1<=a?a:1;this._p2=(b||f)/(1>a?a:1);this._p3=this._p2/c*(Math.asin(1/this._p1)||0);this._p2=c/this._p2},!0);b=g.prototype=new a;b.constructor=g;b.getRatio=d;b.config=function(a,b){return new g(a,b)};return g};
g("Elastic",m("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*this._p2)+1},.3),m("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*--a)*Math.sin((a-this._p3)*this._p2))},.3),m("ElasticInOut",function(a){return 1>(a*=2)?-.5*this._p1*Math.pow(2,10*--a)*Math.sin((a-this._p3)*this._p2):this._p1*Math.pow(2,-10*--a)*Math.sin((a-this._p3)*this._p2)*.5+1},.45));g("Expo",f("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),f("ExpoIn",function(a){return Math.pow(2,10*(a-
1))-.001}),f("ExpoInOut",function(a){return 1>(a*=2)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))}));g("Sine",f("SineOut",function(a){return Math.sin(a*d)}),f("SineIn",function(a){return-Math.cos(a*d)+1}),f("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)}));e("easing.EaseLookup",{find:function(b){return a.map[b]}},!0);h(b.SlowMo,"SlowMo","ease,");h(v,"RoughEase","ease,");h(t,"SteppedEase","ease,");return p},!0)});_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
(function(a,b){var c={},d=a.document,e=a.GreenSockGlobals=a.GreenSockGlobals||a,f=e[b];if(f)return"undefined"!==typeof module&&module.exports&&(module.exports=f),f;var h=function(a){a=a.split(".");var b=e,c;for(c=0;c<a.length;c++)b[a[c]]=b=b[a[c]]||{};return b},g=h("com.greensock"),k=function(a){var b=[],c=a.length,d;for(d=0;d!==c;b.push(a[d++]));return b},p=function(){},l=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"===typeof c&&
!!c.push&&a.call(c)===b)}}(),m,t={},u=function(d,f,g,k){this.sc=t[d]?t[d].sc:[];t[d]=this;this.gsClass=null;this.func=g;var r=[];this.check=function(l){for(var m=f.length,n=m,p,B;-1<--m;)(p=t[f[m]]||new u(f[m],[])).gsClass?(r[m]=p.gsClass,n--):l&&p.sc.push(this);if(0===n&&g){l=("com.greensock."+d).split(".");n=l.pop();B=h(l.join("."))[n]=this.gsClass=g.apply(g,r);if(k)if(e[n]=c[n]=B,"undefined"!==typeof module&&module.exports)if(d===b)for(m in module.exports=c[b]=B,c)B[m]=c[m];else c[b]&&(c[b][n]=
B);else"function"===typeof define&&define.amd&&define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+d.split(".").pop(),[],function(){return B});for(m=0;m<this.sc.length;m++)this.sc[m].check()}};this.check(!0)},v=a._gsDefine=function(a,b,c,d){return new u(a,b,c,d)},n=g._class=function(a,b,c){b=b||function(){};v(a,[],function(){return b},c);return b};v.globals=e;var w=[0,0,1,1],D=n("easing.Ease",function(a,b,c,d){this._func=a;this._type=c||0;this._power=d||0;this._params=b?w.concat(b):w},!0),r=D.map=
{},C=D.register=function(a,b,c,d){b=b.split(",");var e=b.length;c=(c||"easeIn,easeOut,easeInOut").split(",");for(var f,h,k,l;-1<--e;)for(h=b[e],f=d?n("easing."+h,null,!0):g.easing[h]||{},k=c.length;-1<--k;)l=c[k],r[h+"."+l]=r[l+h]=f[l]=a.getRatio?a:a[l]||new a};f=D.prototype;f._calcEnd=!1;f.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&
(d*=d*d*d*d);return 1===b?1-d:2===b?d:.5>a?d/2:1-d/2};var z=["Linear","Quad","Cubic","Quart","Quint,Strong"];for(m=z.length;-1<--m;)f=z[m]+",Power"+m,C(new D(null,null,1,m),f,"easeOut",!0),C(new D(null,null,2,m),f,"easeIn"+(0===m?",easeNone":"")),C(new D(null,null,3,m),f,"easeInOut");r.linear=g.easing.Linear.easeIn;r.swing=g.easing.Quad.easeInOut;var x=n("events.EventDispatcher",function(a){this._listeners={};this._eventTarget=a||this});f=x.prototype;f.addEventListener=function(a,b,c,d,e){e=e||0;
var f=this._listeners[a],g=0,h;this!==J||R||J.wake();null==f&&(this._listeners[a]=f=[]);for(h=f.length;-1<--h;)a=f[h],a.c===b&&a.s===c?f.splice(h,1):0===g&&a.pr<e&&(g=h+1);f.splice(g,0,{c:b,s:c,up:d,pr:e})};f.removeEventListener=function(a,b){a=this._listeners[a];var c;if(a)for(c=a.length;-1<--c;)if(a[c].c===b){a.splice(c,1);break}};f.dispatchEvent=function(a){var b=this._listeners[a],c,d;if(b){var e=b.length;1<e&&(b=b.slice(0));for(c=this._eventTarget;-1<--e;)(d=b[e])&&(d.up?d.c.call(d.s||c,{type:a,
target:c}):d.c.call(d.s||c))}};var E=a.requestAnimationFrame,K=a.cancelAnimationFrame,I=Date.now||function(){return(new Date).getTime()},A=I();z=["ms","moz","webkit","o"];for(m=z.length;-1<--m&&!E;)E=a[z[m]+"RequestAnimationFrame"],K=a[z[m]+"CancelAnimationFrame"]||a[z[m]+"CancelRequestAnimationFrame"];n("Ticker",function(a,b){var c=this,e=I(),f=!1!==b&&E?"auto":!1,g=500,h=33,k,r,l,m,n,B=function(a){var b=I()-A;b>g&&(e+=b-h);A+=b;c.time=(A-e)/1E3;b=c.time-n;if(!k||0<b||!0===a){c.frame++;n+=b+(b>=
m?.004:m-b);var d=!0}!0!==a&&(l=r(B));d&&c.dispatchEvent("tick")};x.call(c);c.time=c.frame=0;c.tick=function(){B(!0)};c.lagSmoothing=function(a,b){if(!arguments.length)return 1E10>g;g=a||1E10;h=Math.min(b,g,0)};c.sleep=function(){null!=l&&(f&&K?K(l):clearTimeout(l),r=p,l=null,c===J&&(R=!1))};c.wake=function(a){null!==l?c.sleep():a?e+=-A+(A=I()):10<c.frame&&(A=I()-g+5);r=0===k?p:f&&E?E:function(a){return setTimeout(a,1E3*(n-c.time)+1|0)};c===J&&(R=!0);B(2)};c.fps=function(a){if(!arguments.length)return k;
k=a;m=1/(k||60);n=this.time+m;c.wake()};c.useRAF=function(a){if(!arguments.length)return f;c.sleep();f=a;c.fps(k)};c.fps(a);setTimeout(function(){"auto"===f&&5>c.frame&&"hidden"!==(d||{}).visibilityState&&c.useRAF(!1)},1500)});f=g.Ticker.prototype=new g.events.EventDispatcher;f.constructor=g.Ticker;var y=n("core.Animation",function(a,b){this.vars=b=b||{};this._duration=this._totalDuration=a||0;this._delay=Number(b.delay)||0;this._timeScale=1;this._active=!0===b.immediateRender;this.data=b.data;this._reversed=
!0===b.reversed;Z&&(R||J.wake(),a=this.vars.useFrames?fa:Z,a.add(this,a._time),this.vars.paused&&this.paused(!0))});var J=y.ticker=new g.Ticker;f=y.prototype;f._dirty=f._gc=f._initted=f._paused=!1;f._totalTime=f._time=0;f._rawPrevTime=-1;f._next=f._last=f._onUpdate=f._timeline=f.timeline=null;f._paused=!1;var H=function(){R&&2E3<I()-A&&("hidden"!==(d||{}).visibilityState||!J.lagSmoothing())&&J.wake();var a=setTimeout(H,2E3);a.unref&&a.unref()};H();f.play=function(a,b){null!=a&&this.seek(a,b);return this.reversed(!1).paused(!1)};
f.pause=function(a,b){null!=a&&this.seek(a,b);return this.paused(!0)};f.resume=function(a,b){null!=a&&this.seek(a,b);return this.paused(!1)};f.seek=function(a,b){return this.totalTime(Number(a),!1!==b)};f.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,!1!==b,!0)};f.reverse=function(a,b){null!=a&&this.seek(a||this.totalDuration(),b);return this.reversed(!0).paused(!1)};f.render=function(a,b,c){};f.invalidate=function(){this._time=this._totalTime=0;this._initted=
this._gc=!1;this._rawPrevTime=-1;!this._gc&&this.timeline||this._enabled(!0);return this};f.isActive=function(){var a=this._timeline,b=this._startTime,c;return!a||!this._gc&&!this._paused&&a.isActive()&&(c=a.rawTime(!0))>=b&&c<b+this.totalDuration()/this._timeScale-1E-7};f._enabled=function(a,b){R||J.wake();this._gc=!a;this._active=this.isActive();!0!==b&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0));return!1};f._kill=function(a,
b){return this._enabled(!1,!1)};f.kill=function(a,b){this._kill(a,b);return this};f._uncache=function(a){for(a=a?this:this.timeline;a;)a._dirty=!0,a=a.timeline;return this};f._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();-1<--b;)"{self}"===a[b]&&(c[b]=this);return c};f._callback=function(a){var b=this.vars,c=b[a],d=b[a+"Params"];a=b[a+"Scope"]||b.callbackScope||this;switch(d?d.length:0){case 0:c.call(a);break;case 1:c.call(a,d[0]);break;case 2:c.call(a,d[0],d[1]);break;default:c.apply(a,
d)}};f.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=l(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d);"onUpdate"===a&&(this._onUpdate=b)}return this};f.delay=function(a){if(!arguments.length)return this._delay;this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay);this._delay=a;return this};f.duration=function(a){if(!arguments.length)return this._dirty=
!1,this._duration;this._duration=this._totalDuration=a;this._uncache(!0);this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==a&&this.totalTime(a/this._duration*this._totalTime,!0);return this};f.totalDuration=function(a){this._dirty=!1;return arguments.length?this.duration(a):this._totalDuration};f.time=function(a,b){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();return this.totalTime(a>this._duration?this._duration:a,b)};f.totalTime=function(a,
b,c){R||J.wake();if(!arguments.length)return this._totalTime;if(this._timeline){0>a&&!c&&(a+=this.totalDuration());if(this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;a>d&&!c&&(a=d);this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale;e._dirty||this._uncache(!1);if(e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&
this._enabled(!0,!1);if(this._totalTime!==a||0===this._duration)V.length&&na(),this.render(a,b,!1),V.length&&na()}return this};f.progress=f.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio};f.startTime=function(a){if(!arguments.length)return this._startTime;a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay));return this};f.endTime=function(a){return this._startTime+
(0!=a?this.totalDuration():this.duration())/this._timeScale};f.timeScale=function(a){if(!arguments.length)return this._timeScale;a=a||1E-10;if(this._timeline&&this._timeline.smoothChildTiming){var b=(b=this._pauseTime)||0===b?b:this._timeline.totalTime();this._startTime=b-(b-this._startTime)*this._timeScale/a}this._timeScale=a;for(b=this.timeline;b&&b.timeline;)b._dirty=!0,b.totalDuration(),b=b.timeline;return this};f.reversed=function(a){if(!arguments.length)return this._reversed;a!=this._reversed&&
(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0));return this};f.paused=function(a){if(!arguments.length)return this._paused;var b=this._timeline;if(a!=this._paused&&b){R||a||J.wake();var c=b.rawTime();var d=c-this._pauseTime;!a&&b.smoothChildTiming&&(this._startTime+=d,this._uncache(!1));this._pauseTime=a?c:null;this._paused=a;this._active=this.isActive();!a&&0!==d&&this._initted&&this.duration()&&(c=b.smoothChildTiming?
this._totalTime:(c-this._startTime)/this._timeScale,this.render(c,c===this._totalTime,!0))}this._gc&&!a&&this._enabled(!0,!1);return this};z=n("core.SimpleTimeline",function(a){y.call(this,0,a);this.autoRemoveChildren=this.smoothChildTiming=!0});f=z.prototype=new y;f.constructor=z;f.kill()._gc=!1;f._first=f._last=f._recent=null;f._sortChildren=!1;f.add=f.insert=function(a,b,c,d){a._startTime=Number(b||0)+a._delay;a._paused&&this!==a._timeline&&(a._pauseTime=this.rawTime()-(a._timeline.rawTime()-a._pauseTime));
a.timeline&&a.timeline._remove(a,!0);a.timeline=a._timeline=this;a._gc&&a._enabled(!0,!0);b=this._last;if(this._sortChildren)for(c=a._startTime;b&&b._startTime>c;)b=b._prev;b?(a._next=b._next,b._next=a):(a._next=this._first,this._first=a);a._next?a._next._prev=a:this._last=a;a._prev=b;this._recent=a;this._timeline&&this._uncache(!0);return this};f._remove=function(a,b){a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=
a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0));return this};f.render=function(a,b,c){var d=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;d;){var e=d._next;if(d._active||a>=d._startTime&&!d._paused&&!d._gc)d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c);d=e}};f.rawTime=function(){R||
J.wake();return this._totalTime};var G=n("TweenLite",function(b,c,d){y.call(this,c,d);this.render=G.prototype.render;if(null==b)throw"Cannot tween a null target.";this.target=b="string"!==typeof b?b:G.selector(b)||b;var e=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType);d=this.vars.overwrite;var f;this._overwrite=d=null==d?Ca[G.defaultOverwrite]:"number"===typeof d?d>>0:Ca[d];if((e||b instanceof Array||b.push&&l(b))&&"number"!==typeof b[0])for(this._targets=f=k(b),
this._propLookup=[],this._siblings=[],b=0;b<f.length;b++)(e=f[b])?"string"===typeof e?(e=f[b--]=G.selector(e),"string"===typeof e&&f.splice(b+1,1)):e.length&&e!==a&&e[0]&&(e[0]===a||e[0].nodeType&&e[0].style&&!e.nodeType)?(f.splice(b--,1),this._targets=f=f.concat(k(e))):(this._siblings[b]=ha(e,this,!1),1===d&&1<this._siblings[b].length&&Da(e,this,null,1,this._siblings[b])):f.splice(b--,1);else this._propLookup={},this._siblings=ha(b,this,!1),1===d&&1<this._siblings.length&&Da(b,this,null,1,this._siblings);
if(this.vars.immediateRender||0===c&&0===this._delay&&!1!==this.vars.immediateRender)this._time=-1E-10,this.render(Math.min(0,-this._delay))},!0),M=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)};f=G.prototype=new y;f.constructor=G;f.kill()._gc=!1;f.ratio=0;f._firstPT=f._targets=f._overwrittenProps=f._startAt=null;f._notifyPluginsOfEnabled=f._lazy=!1;G.version="2.0.1";G.defaultEase=f._ease=new D(null,null,1,1);G.defaultOverwrite="auto";G.ticker=J;G.autoSleep=
120;G.lagSmoothing=function(a,b){J.lagSmoothing(a,b)};G.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;if(c)return G.selector=c,c(b);d||(d=a.document);return d?d.querySelectorAll?d.querySelectorAll(b):d.getElementById("#"===b.charAt(0)?b.substr(1):b):b};var V=[],T={},U=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,X=/[\+-]=-?[\.\d]/,O=function(a){for(var b=this._firstPT,c;b;){c=b.blob?1===a&&null!=this.end?this.end:a?this.join(""):this.start:b.c*a+b.s;b.m?c=b.m.call(this._tween,c,this._target||
b.t,this._tween):1E-6>c&&-1E-6<c&&!b.blob&&(c=0);if(b.f)if(b.fp)b.t[b.p](b.fp,c);else b.t[b.p](c);else b.t[b.p]=c;b=b._next}},Q=function(a,b,c,d){var e=[],f=0,g="",h=0;e.start=a;e.end=b;a=e[0]=a+"";b=e[1]=b+"";c&&(c(e),a=e[0],b=e[1]);e.length=0;a=a.match(U)||[];c=b.match(U)||[];d&&(d._next=null,d.blob=1,e._firstPT=e._applyPT=d);var k=c.length;for(d=0;d<k;d++){var r=c[d];var l=b.substr(f,b.indexOf(r,f)-f);g+=l||!d?l:",";f+=l.length;h?h=(h+1)%5:"rgba("===l.substr(-5)&&(h=1);r===a[d]||a.length<=d?g+=
r:(g&&(e.push(g),g=""),l=parseFloat(a[d]),e.push(l),e._firstPT={_next:e._firstPT,t:e,p:e.length-1,s:l,c:("="===r.charAt(1)?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-l)||0,f:0,m:h&&4>h?Math.round:0});f+=r.length}(g+=b.substr(f))&&e.push(g);e.setRatio=O;X.test(b)&&(e.end=null);return e},da=function(a,b,c,d,e,f,g,h,k){"function"===typeof d&&(d=d(k||0,a));k=typeof a[b];var r="function"!==k?"":b.indexOf("set")||"function"!==typeof a["get"+b.substr(3)]?b:"get"+b.substr(3);c="get"!==
c?c:r?g?a[r](g):a[r]():a[b];r="string"===typeof d&&"="===d.charAt(1);a={t:a,p:b,s:c,f:"function"===k,pg:0,n:e||b,m:f?"function"===typeof f?f:Math.round:0,pr:0,c:r?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-c||0};if("number"!==typeof c||"number"!==typeof d&&!r)g||isNaN(c)||!r&&isNaN(d)||"boolean"===typeof c||"boolean"===typeof d?(a.fp=g,d=Q(c,r?parseFloat(a.s)+a.c+(a.s+"").replace(/[0-9\-\.]/g,""):d,h||G.defaultStringFilter,a),a={t:d,p:"setRatio",s:0,c:1,f:2,pg:0,n:e||b,pr:0,
m:0}):(a.s=parseFloat(c),r||(a.c=parseFloat(d)-a.s||0));if(a.c){if(a._next=this._firstPT)a._next._prev=a;return this._firstPT=a}};m=G._internals={isArray:l,isSelector:M,lazyTweens:V,blobDif:Q};var N=G._plugins={},ea=m.tweenLookup={},ba=0,ya=m.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,
onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Ca={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},fa=y._rootFramesTimeline=new z,Z=y._rootTimeline=new z,sa=30,na=m.lazyRender=function(){var a=V.length,b;for(T={};-1<--a;)(b=V[a])&&!1!==b._lazy&&(b.render(b._lazy[0],b._lazy[1],!0),
b._lazy=!1);V.length=0};Z._startTime=J.time;fa._startTime=J.frame;Z._active=fa._active=!0;setTimeout(na,1);y._updateRoot=G.render=function(){var a;V.length&&na();Z.render((J.time-Z._startTime)*Z._timeScale,!1,!1);fa.render((J.frame-fa._startTime)*fa._timeScale,!1,!1);V.length&&na();if(J.frame>=sa){sa=J.frame+(parseInt(G.autoSleep,10)||120);for(c in ea){var b=ea[c].tweens;for(a=b.length;-1<--a;)b[a]._gc&&b.splice(a,1);0===b.length&&delete ea[c]}var c=Z._first;if((!c||c._paused)&&G.autoSleep&&!fa._first&&
1===J._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||J.sleep()}}};J.addEventListener("tick",y._updateRoot);var ha=function(a,b,c){var d=a._gsTweenID,e;ea[d||(a._gsTweenID=d="t"+ba++)]||(ea[d]={target:a,tweens:[]});if(b&&(a=ea[d].tweens,a[e=a.length]=b,c))for(;-1<--e;)a[e]===b&&a.splice(e,1);return ea[d].tweens},Ea=function(a,b,c,d){var e=a.vars.onOverwrite,f,g;e&&(f=e(a,b,c,d));(e=G.onOverwrite)&&(g=e(a,b,c,d));return!1!==f&&!1!==g},Da=function(a,b,c,d,e){var f,g,h;if(1===d||4<=d){c=e.length;
for(f=0;f<c;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var k=b._startTime+1E-10,r=[],l=0,m=0===b._duration;for(f=e.length;-1<--f;)if((h=e[f])!==b&&!h._gc&&!h._paused)if(h._timeline!==b._timeline){var n=n||Aa(b,0,m);0===Aa(h,n,m)&&(r[l++]=h)}else h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale>k&&((m||!h._initted)&&2E-10>=k-h._startTime||(r[l++]=h));for(f=l;-1<--f;)h=r[f],2===d&&h._kill(c,a,b)&&(g=!0),(2!==d||!h._firstPT&&h._initted)&&(2===d||Ea(h,
b))&&h._enabled(!1,!1)&&(g=!0);return g},Aa=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){f+=d._startTime;e*=d._timeScale;if(d._paused)return-100;d=d._timeline}f/=e;return f>b?f-b:c&&f===b||!a._initted&&2E-10>f-b?1E-10:(f+=a.totalDuration()/a._timeScale/e)>b+1E-10?0:f-b-1E-10};f._init=function(){var a=this.vars,b=this._overwrittenProps,c=this._duration,d=!!a.immediateRender,e=a.ease,f,g;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill());
var h={};for(g in a.startAt)h[g]=a.startAt[g];h.data="isStart";h.overwrite=!1;h.immediateRender=!0;h.lazy=d&&!1!==a.lazy;h.startAt=h.delay=null;h.onUpdate=a.onUpdate;h.onUpdateParams=a.onUpdateParams;h.onUpdateScope=a.onUpdateScope||a.callbackScope||this;this._startAt=G.to(this.target||{},0,h);if(d)if(0<this._time)this._startAt=null;else if(0!==c)return}else if(a.runBackwards&&0!==c)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(d=!1);c=
{};for(g in a)ya[g]&&"autoCSS"!==g||(c[g]=a[g]);c.overwrite=0;c.data="isFromStart";c.lazy=d&&!1!==a.lazy;c.immediateRender=d;this._startAt=G.to(this.target,0,c);if(!d)this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null);else if(0===this._time)return}this._ease=e=e?e instanceof D?e:"function"===typeof e?new D(e,a.easeParams):r[e]||G.defaultEase:G.defaultEase;a.easeParams instanceof Array&&e.config&&(this._ease=e.config.apply(e,a.easeParams));this._easeType=
this._ease._type;this._easePower=this._ease._power;this._firstPT=null;if(this._targets)for(e=this._targets.length,d=0;d<e;d++)this._initProps(this._targets[d],this._propLookup[d]={},this._siblings[d],b?b[d]:null,d)&&(f=!0);else f=this._initProps(this.target,this._propLookup,this._siblings,b,0);f&&G._onPluginEvent("_onInitAllProps",this);b&&(this._firstPT||"function"!==typeof this.target&&this._enabled(!1,!1));if(a.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=a.onUpdate;
this._initted=!0};f._initProps=function(b,c,d,e,f){var g,h;if(null==b)return!1;T[b._gsTweenID]&&na();if(!this.vars.css&&b.style&&b!==a&&b.nodeType&&N.css&&!1!==this.vars.autoCSS){var k=this.vars;var r={};for(var m in k)ya[m]||m in b&&"transform"!==m&&"x"!==m&&"y"!==m&&"width"!==m&&"height"!==m&&"className"!==m&&"border"!==m||!(!N[m]||N[m]&&N[m]._autoCSS)||(r[m]=k[m],delete k[m]);k.css=r}for(g in this.vars)if(k=this.vars[g],ya[g])k&&(k instanceof Array||k.push&&l(k))&&-1!==k.join("").indexOf("{self}")&&
(this.vars[g]=this._swapSelfInParams(k,this));else if(N[g]&&(h=new N[g])._onInitTween(b,this.vars[g],this,f)){this._firstPT=r={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:1,n:g,pg:1,pr:h._priority,m:0};for(k=h._overwriteProps.length;-1<--k;)c[h._overwriteProps[k]]=this._firstPT;if(h._priority||h._onInitAllProps)var n=!0;if(h._onDisable||h._onEnable)this._notifyPluginsOfEnabled=!0;r._next&&(r._next._prev=r)}else c[g]=da.call(this,b,g,"get",k,g,0,null,this.vars.stringFilter,f);if(e&&this._kill(e,
b))return this._initProps(b,c,d,e,f);if(1<this._overwrite&&this._firstPT&&1<d.length&&Da(b,this,c,this._overwrite,d))return this._kill(c,b),this._initProps(b,c,d,e,f);this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(T[b._gsTweenID]=!0);return n};f.render=function(a,b,c){var d=this._time,e=this._duration,f=this._rawPrevTime,g;if(a>=e-1E-7&&0<=a){this._totalTime=this._time=e;this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1;if(!this._reversed){var h=!0;var k=
"onComplete";c=c||this._timeline.autoRemoveChildren}0!==e||!this._initted&&this.vars.lazy&&!c||(this._startTime===this._timeline._duration&&(a=0),(0>f||0>=a&&-1E-7<=a||1E-10===f&&"isPause"!==this.data)&&f!==a&&(c=!0,1E-10<f&&(k="onReverseComplete")),this._rawPrevTime=g=!b||a||f===a?a:1E-10)}else if(1E-7>a){this._totalTime=this._time=0;this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(0!==d||0===e&&0<f)k="onReverseComplete",h=this._reversed;0>a&&(this._active=!1,0!==e||!this._initted&&this.vars.lazy&&
!c||(0<=f&&(1E-10!==f||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||f===a?a:1E-10));if(!this._initted||this._startAt&&this._startAt.progress())c=!0}else if(this._totalTime=this._time=a,this._easeType){var r=a/e,l=this._easeType,m=this._easePower;if(1===l||3===l&&.5<=r)r=1-r;3===l&&(r*=2);1===m?r*=r:2===m?r*=r*r:3===m?r*=r*r*r:4===m&&(r*=r*r*r*r);this.ratio=1===l?1-r:2===l?r:.5>a/e?r/2:1-r/2}else this.ratio=this._ease.getRatio(a/e);if(this._time!==d||c){if(!this._initted){this._init();
if(!this._initted||this._gc)return;if(!c&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)){this._time=this._totalTime=d;this._rawPrevTime=f;V.push(this);this._lazy=[a,b];return}this._time&&!h?this.ratio=this._ease.getRatio(this._time/e):h&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}!1!==this._lazy&&(this._lazy=!1);!this._active&&!this._paused&&this._time!==d&&0<=a&&(this._active=!0);0===d&&(this._startAt&&(0<=a?this._startAt.render(a,
!0,c):k||(k="_dummyGS")),!this.vars.onStart||0===this._time&&0!==e||b||this._callback("onStart"));for(f=this._firstPT;f;){if(f.f)f.t[f.p](f.c*this.ratio+f.s);else f.t[f.p]=f.c*this.ratio+f.s;f=f._next}this._onUpdate&&(0>a&&this._startAt&&-1E-4!==a&&this._startAt.render(a,!0,c),b||(this._time!==d||h||c)&&this._callback("onUpdate"));!k||this._gc&&!c||(0>a&&this._startAt&&!this._onUpdate&&-1E-4!==a&&this._startAt.render(a,!0,c),h&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=
!1),!b&&this.vars[k]&&this._callback(k),0===e&&1E-10===this._rawPrevTime&&1E-10!==g&&(this._rawPrevTime=0))}};f._kill=function(a,b,c){"all"===a&&(a=null);if(null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!==typeof b?b||this._targets||this.target:G.selector(b)||b;var d=c&&this._time&&c._startTime===this._startTime&&this._timeline===c._timeline,e,f,g,h;if((l(b)||M(b))&&"number"!==typeof b[0])for(e=b.length;-1<--e;)this._kill(a,b[e],c)&&(g=!0);else{if(this._targets)for(e=
this._targets.length;-1<--e;){if(b===this._targets[e]){var k=this._propLookup[e]||{};this._overwrittenProps=this._overwrittenProps||[];var r=this._overwrittenProps[e]=a?this._overwrittenProps[e]||{}:"all";break}}else{if(b!==this.target)return!1;k=this._propLookup;r=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(k){e=a||k;var m=a!==r&&"all"!==r&&a!==k&&("object"!==typeof a||!a._tempKill);if(c&&(G.onOverwrite||this.vars.onOverwrite)){for(f in e)k[f]&&(h||(h=[]),h.push(f));if((h||!a)&&
!Ea(this,c,b,h))return!1}for(f in e){if(a=k[f]){if(d){if(a.f)a.t[a.p](a.s);else a.t[a.p]=a.s;g=!0}a.pg&&a.t._kill(e)&&(g=!0);a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null);delete k[f]}m&&(r[f]=1)}!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return g};f.invalidate=function(){this._notifyPluginsOfEnabled&&G._onPluginEvent("_onDisable",this);this._firstPT=this._overwrittenProps=
this._startAt=this._onUpdate=null;this._notifyPluginsOfEnabled=this._active=this._lazy=!1;this._propLookup=this._targets?{}:[];y.prototype.invalidate.call(this);this.vars.immediateRender&&(this._time=-1E-10,this.render(Math.min(0,-this._delay)));return this};f._enabled=function(a,b){R||J.wake();if(a&&this._gc){var c=this._targets,d;if(c)for(d=c.length;-1<--d;)this._siblings[d]=ha(c[d],this,!0);else this._siblings=ha(this.target,this,!0)}y.prototype._enabled.call(this,a,b);return this._notifyPluginsOfEnabled&&
this._firstPT?G._onPluginEvent(a?"_onEnable":"_onDisable",this):!1};G.to=function(a,b,c){return new G(a,b,c)};G.from=function(a,b,c){c.runBackwards=!0;c.immediateRender=0!=c.immediateRender;return new G(a,b,c)};G.fromTo=function(a,b,c,d){d.startAt=c;d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender;return new G(a,b,d)};G.delayedCall=function(a,b,c,d,e){return new G(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,
lazy:!1,useFrames:e,overwrite:0})};G.set=function(a,b){return new G(a,0,b)};G.getTweensOf=function(a,b){if(null==a)return[];a="string"!==typeof a?a:G.selector(a)||a;var c;if((l(a)||M(a))&&"number"!==typeof a[0]){var d=a.length;for(c=[];-1<--d;)c=c.concat(G.getTweensOf(a[d],b));for(d=c.length;-1<--d;)for(b=c[d],a=d;-1<--a;)b===c[a]&&c.splice(d,1)}else if(a._gsTweenID)for(c=ha(a).concat(),d=c.length;-1<--d;)(c[d]._gc||b&&!c[d].isActive())&&c.splice(d,1);return c||[]};G.killTweensOf=G.killDelayedCallsTo=
function(a,b,c){"object"===typeof b&&(c=b,b=!1);b=G.getTweensOf(a,b);for(var d=b.length;-1<--d;)b[d]._kill(c,a)};var ka=n("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(",");this._propName=this._overwriteProps[0];this._priority=b||0;this._super=ka.prototype},!0);f=ka.prototype;ka.version="1.19.0";ka.API=2;f._firstPT=null;f._addTween=da;f.setRatio=O;f._kill=function(a){var b=this._overwriteProps,c=this._firstPT,d;if(null!=a[this._propName])this._overwriteProps=[];else for(d=
b.length;-1<--d;)null!=a[b[d]]&&b.splice(d,1);for(;c;)null!=a[c.n]&&(c._next&&(c._next._prev=c._prev),c._prev?(c._prev._next=c._next,c._prev=null):this._firstPT===c&&(this._firstPT=c._next)),c=c._next;return!1};f._mod=f._roundProps=function(a){for(var b=this._firstPT,c;b;)(c=a[this._propName]||null!=b.n&&a[b.n.split(this._propName+"_").join("")])&&"function"===typeof c&&(2===b.f?b.t._applyPT.m=c:b.m=c),b=b._next};G._onPluginEvent=function(a,b){var c=b._firstPT,d,e,f,g;if("_onInitAllProps"===a){for(;c;){var h=
c._next;for(e=f;e&&e.pr>c.pr;)e=e._next;(c._prev=e?e._prev:g)?c._prev._next=c:f=c;(c._next=e)?e._prev=c:g=c;c=h}c=b._firstPT=f}for(;c;)c.pg&&"function"===typeof c.t[a]&&c.t[a]()&&(d=!0),c=c._next;return d};ka.activate=function(a){for(var b=a.length;-1<--b;)a[b].API===ka.API&&(N[(new a[b])._propName]=a[b]);return!0};v.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b=a.propName,c=a.priority||0,d=a.overwriteProps,e={init:"_onInitTween",set:"setRatio",kill:"_kill",
round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},f=n("plugins."+b.charAt(0).toUpperCase()+b.substr(1)+"Plugin",function(){ka.call(this,b,c);this._overwriteProps=d||[]},!0===a.global),g=f.prototype=new ka(b),h;g.constructor=f;f.API=a.API;for(h in e)"function"===typeof a[h]&&(g[e[h]]=a[h]);f.version=a.version;ka.activate([f]);return f};if(z=a._gsQueue){for(m=0;m<z.length;m++)z[m]();for(f in t)t[f].func||a.console.log("GSAP encountered missing dependency: "+f)}var R=!1})("undefined"!==typeof module&&
module.exports&&"undefined"!==typeof global?global:this||window,"TweenMax");var VisualArray$classdecl$var0=function(a){a=void 0===a?{}:a;goog.events.EventTarget.call(this);this._length=a.length||10;this._colors={font:a.font_color||10459812,cell:a.cell_color||2040865,frame:a.frame_color||15152198};this._borders={x:a.x||0,y:a.y||0,width:a.width||0,height:a.height||0};this._TRUE_SIZES=this._determineSizes(a.width,a.height);this._graphics=new PIXI.Graphics;this._font_styles={cell:{fontFamily:'"Lucida Console", Monaco, monospace',fill:this._colors.font,align:"center"},index:{fontFamily:"Helvetica",
fill:this._colors.font,align:"center"}};this._cells=[];this._indices=[];this._animation_composers_queue=[];this._current_animation=null;this._time_scale=1;this._paused=!1;this._init();this.setPosition(this.x,this.y)};$jscomp.inherits(VisualArray$classdecl$var0,goog.events.EventTarget);
VisualArray$classdecl$var0.prototype._reset=function(a){for(var b=0;b<this.length;b++){var c=this._cells[b].getChildByName("value"),d=this._cells[b].getChildByName("frame");c.text=void 0===a[b]?"0":a[b].toString();d.alpha=0}this.dispatchEvent("onReset")};
VisualArray$classdecl$var0.prototype.reset=function(a){var b=this;a=void 0===a?[]:a;this.paused=!1;this._animation_composers_queue=[];if(this._current_animation){var c=this._current_animation.eventCallback("onComplete");this._current_animation.eventCallback("onComplete",function(){c.call();b._reset(a)});this._current_animation.progress(1)}else this._reset(a)};
VisualArray$classdecl$var0.prototype.toPlainArray=function(){var a=[];this._cells.forEach(function(b){b=Number(b.getChildByName("value").text);if(Number.isNaN(b))throw new TypeError("the cell's value has to be numeric");a.push(b)});return a};VisualArray$classdecl$var0.prototype._validateIndex=function(a){return a>=this._length||0>a?!1:!0};
VisualArray$classdecl$var0.prototype.highlight=function(a,b){var c=this;a=void 0===a?[]:a;b=void 0===b?!0:b;a=[].concat(a);if(a.length){b=!!b;for(var d in a)if(!this._validateIndex(a[d]))throw new RangeError("highlight("+a[d]+"); - invalid index");this._pushQueue(function(){var d=new TimelineMax({paused:!0}),f=[],h;for(h in a)f.push(c._cells[a[h]].getChildByName("frame"));d.to(f,.5,{alpha:Number(b)});d.eventCallback("onComplete",function(){c._manageQueue()});return d})}};
VisualArray$classdecl$var0.prototype.swap=function(a,b){var c=this;if(!this._validateIndex(a)||!this._validateIndex(b))throw new RangeError("swap( "+a+" , "+b+" ); - invalid indices");a!==b&&this._pushQueue(function(){var d=new TimelineMax({paused:!0}),e=c._cells[a],f=c._cells[b];d.to(e,1.4,{bezier:{values:[{x:e.x,y:0},{x:f.x,y:0},{x:f.x,y:f.y}],type:"soft"}},0).to(f,1.4,{bezier:{values:[{x:f.x,y:0},{x:e.x,y:0},{x:e.x,y:e.y}],type:"soft"}},0);d.eventCallback("onComplete",function(){var d=$jscomp.makeIterator([c._cells[b],
c._cells[a]]);c._cells[a]=d.next().value;c._cells[b]=d.next().value;c._manageQueue()});return d})};VisualArray$classdecl$var0.prototype._pushQueue=function(a){this._animation_composers_queue.push(a);null===this._current_animation&&this._manageQueue()};
VisualArray$classdecl$var0.prototype._manageQueue=function(){this._animation_composers_queue.length?(this._current_animation=this._animation_composers_queue.shift()(),this._paused||this._current_animation.play(),this._current_animation.timeScale(this._time_scale),this.dispatchEvent("onAnimationStart")):(this._current_animation=null,this.dispatchEvent("onAnimationComplete"))};
VisualArray$classdecl$var0.prototype.setPosition=function(a,b){a=void 0===a?0:a;b=void 0===b?0:b;this._borders.x=a;this._borders.y=b;this._graphics.position.set(a,b)};VisualArray$classdecl$var0.prototype.resize=function(a,b){a=void 0===a?0:a;b=void 0===b?0:b;this._borders.width=a;this._borders.height=b;this._graphics.scale.set(a/this._TRUE_SIZES.width,b/this._TRUE_SIZES.height)};
VisualArray$classdecl$var0.prototype._determineSizes=function(a,b){var c={};c.width=a;c.height=b;c.gap=a/60;c.cell_width=a/this.length-c.gap;c.cell_height=c.cell_width;c.cell_font_size=.9*c.cell_width;c.index_font_size=c.cell_font_size/1.6;c.cell_height+c.index_font_size>b&&(c.cell_height=c.cell_font_size=c.index_font_size=b/2);return c};VisualArray$classdecl$var0.prototype._init=function(){this._initCells();this._initIndices();this._initPositions()};
VisualArray$classdecl$var0.prototype._initPositions=function(){for(var a=0;a<this.length;a++){var b=$jscomp.makeIterator([this._cells[a],this._indices[a]]);var c=b.next().value;b=b.next().value;c.x=a*(this._TRUE_SIZES.gap+this._TRUE_SIZES.cell_width);c.y=this._borders.height-this._TRUE_SIZES.cell_height-this._TRUE_SIZES.index_font_size;b.position.set(c.x,c.y+this._TRUE_SIZES.cell_height)}};
VisualArray$classdecl$var0.prototype._initCells=function(){for(var a=this._TRUE_SIZES.cell_width,b=this._TRUE_SIZES.cell_height,c=0;c<this.length;c++){var d=new PIXI.Graphics,e=new PIXI.Graphics,f=new PIXI.Text(c.toString(),this._font_styles.cell);f.name="value";f.style.fontSize=this._TRUE_SIZES.cell_font_size;d.addChild(f);e.name="frame";e.alpha=0;e.lineStyle(a/9,this._colors.frame);e.drawRoundedRect(0,0,a,b,4);d.addChild(e);d.beginFill(this._colors.cell);d.drawRoundedRect(0,0,a,b,4);this._graphics.addChild(d);
this._cells[c]=d}};VisualArray$classdecl$var0.prototype._initIndices=function(){for(var a=0;a<this.length;a++){var b=new PIXI.Text(a.toString(),this._font_styles.index);b.style.fontSize=this._TRUE_SIZES.index_font_size;b.alpha=.4;this._indices[a]=b;this._graphics.addChild(b)}};VisualArray$classdecl$var0.prototype.render=function(a){a.render(this._graphics)};
$jscomp.global.Object.defineProperties(VisualArray$classdecl$var0.prototype,{x:{configurable:!0,enumerable:!0,get:function(){return this._borders.x}},y:{configurable:!0,enumerable:!0,get:function(){return this._borders.y}},width:{configurable:!0,enumerable:!0,get:function(){return this._borders.width}},height:{configurable:!0,enumerable:!0,get:function(){return this._borders.height}},length:{configurable:!0,enumerable:!0,get:function(){return this._length}},paused:{configurable:!0,enumerable:!0,set:function(a){(this._paused=
a)?(this._current_animation&&this._current_animation.pause(),this.dispatchEvent("onPause")):(this._current_animation&&this._current_animation.resume(),this.dispatchEvent("onResume"))},get:function(){return this._paused}},speed:{configurable:!0,enumerable:!0,set:function(a){this._time_scale=a;this._current_animation&&this._current_animation.timeScale(a)},get:function(){return this._time_scale}}});Sorter.VisualArray=VisualArray$classdecl$var0;Sorter.Algorithms={};Sorter.Algorithms.SelectionSortXmlText='  <variables>\n      <variable type="" >i</variable>\n      <variable type="" >j</variable>\n   </variables>\n   <block type="controls_for" x="-70" y="-30">\n      <field name="VAR"  variabletype="">i</field>\n      <value name="FROM">\n         <block type="math_number">\n            <field name="NUM">0</field>\n         </block>\n      </value>\n      <value name="TO">\n         <block type="math_arithmetic">\n            <field name="OP">MINUS</field>\n            <value name="A">\n               <block type="length" />\n            </value>\n            <value name="B">\n               <block type="math_number">\n                  <field name="NUM">2</field>\n               </block>\n            </value>\n         </block>\n      </value>\n      <value name="BY">\n         <block type="math_number">\n            <field name="NUM">1</field>\n         </block>\n      </value>\n      <statement name="DO">\n         <block type="controls_for">\n            <field name="VAR"  variabletype="">j</field>\n            <value name="FROM">\n               <block type="math_arithmetic">\n                  <field name="OP">ADD</field>\n                  <value name="A">\n                     <block type="variables_get">\n                        <field name="VAR"  variabletype="">i</field>\n                     </block>\n                  </value>\n                  <value name="B">\n                     <block type="math_number">\n                        <field name="NUM">1</field>\n                     </block>\n                  </value>\n               </block>\n            </value>\n            <value name="TO">\n               <block type="math_arithmetic">\n                  <field name="OP">MINUS</field>\n                  <value name="A">\n                     <block type="length" />\n                  </value>\n                  <value name="B">\n                     <block type="math_number">\n                        <field name="NUM">1</field>\n                     </block>\n                  </value>\n               </block>\n            </value>\n            <value name="BY">\n               <block type="math_number">\n                  <field name="NUM">1</field>\n               </block>\n            </value>\n            <statement name="DO">\n               <block type="controls_if">\n                  <value name="IF0">\n                     <block type="logic_compare">\n                        <field name="OP">LT</field>\n                        <value name="A">\n                           <block type="getter">\n                              <value name="index">\n                                 <block type="variables_get">\n                                    <field name="VAR" variabletype="">i</field>\n                                 </block>\n                              </value>\n                           </block>\n                        </value>\n                        <value name="B">\n                           <block type="getter">\n                              <value name="index">\n                                 <block type="variables_get">\n                                    <field name="VAR"  variabletype="">j</field>\n                                 </block>\n                              </value>\n                           </block>\n                        </value>\n                     </block>\n                  </value>\n                  <statement name="DO0">\n                     <block type="swap">\n                        <value name="index_a">\n                           <block type="variables_get">\n                              <field name="VAR"  variabletype="">i</field>\n                           </block>\n                        </value>\n                        <value name="index_b">\n                           <block type="variables_get">\n                              <field name="VAR"  variabletype="">j</field>\n                           </block>\n                        </value>\n                     </block>\n                  </statement>\n               </block>\n            </statement>\n         </block>\n      </statement>\n   </block>';
Sorter.Algorithms.InsertionSortXmlText='  <variables>\n      <variable type="">i</variable>\n      <variable type="">j</variable>\n   </variables>\n   <block type="controls_for" x="-50" y="30">\n      <field name="VAR" variabletype="">i</field>\n      <value name="FROM">\n         <block type="math_number">\n            <field name="NUM">1</field>\n         </block>\n      </value>\n      <value name="TO">\n         <block type="math_arithmetic">\n            <field name="OP">MINUS</field>\n            <value name="A">\n               <block type="length" />\n            </value>\n            <value name="B">\n               <block type="math_number">\n                  <field name="NUM">1</field>\n               </block>\n            </value>\n         </block>\n      </value>\n      <value name="BY">\n         <block type="math_number">\n            <field name="NUM">1</field>\n         </block>\n      </value>\n      <statement name="DO">\n         <block type="variables_set">\n            <field name="VAR" variabletype="">j</field>\n            <value name="VALUE">\n               <block type="math_arithmetic">\n                  <field name="OP">MINUS</field>\n                  <value name="A">\n                     <block type="variables_get">\n                        <field name="VAR"  variabletype="">i</field>\n                     </block>\n                  </value>\n                  <value name="B">\n                     <block type="math_number">\n                        <field name="NUM">1</field>\n                     </block>\n                  </value>\n               </block>\n            </value>\n            <next>\n               <block type="controls_whileUntil">\n                  <field name="MODE">WHILE</field>\n                  <value name="BOOL">\n                     <block type="logic_operation">\n                        <field name="OP">AND</field>\n                        <value name="A">\n                           <block type="logic_compare">\n                              <field name="OP">GTE</field>\n                              <value name="A">\n                                 <block type="variables_get">\n                                    <field name="VAR" variabletype="">j</field>\n                                 </block>\n                              </value>\n                              <value name="B">\n                                 <block type="math_number">\n                                    <field name="NUM">0</field>\n                                 </block>\n                              </value>\n                           </block>\n                        </value>\n                        <value name="B">\n                           <block type="logic_compare">\n                              <field name="OP">LT</field>\n                              <value name="A">\n                                 <block type="getter">\n                                    <value name="index">\n                                       <block type="variables_get">\n                                          <field name="VAR" variabletype="">j</field>\n                                       </block>\n                                    </value>\n                                 </block>\n                              </value>\n                              <value name="B">\n                                 <block type="getter">\n                                    <value name="index">\n                                       <block type="math_arithmetic">\n                                          <field name="OP">ADD</field>\n                                          <value name="A">\n                                             <block type="variables_get">\n                                                <field name="VAR" variabletype="">j</field>\n                                             </block>\n                                          </value>\n                                          <value name="B">\n                                             <block type="math_number">\n                                                <field name="NUM">1</field>\n                                             </block>\n                                          </value>\n                                       </block>\n                                    </value>\n                                 </block>\n                              </value>\n                           </block>\n                        </value>\n                     </block>\n                  </value>\n                  <statement name="DO">\n                     <block type="swap">\n                        <value name="index_a">\n                           <block type="variables_get">\n                              <field name="VAR" variabletype="">j</field>\n                           </block>\n                        </value>\n                        <value name="index_b">\n                           <block type="math_arithmetic">\n                              <field name="OP">ADD</field>\n                              <value name="A">\n                                 <block type="variables_get">\n                                    <field name="VAR"  variabletype="">j</field>\n                                 </block>\n                              </value>\n                              <value name="B">\n                                 <block type="math_number">\n                                    <field name="NUM">1</field>\n                                 </block>\n                              </value>\n                           </block>\n                        </value>\n                        <next>\n                           <block type="math_change">\n                              <field name="VAR" variabletype="">j</field>\n                              <value name="DELTA">\n                                 <shadow type="math_number">\n                                    <field name="NUM">-1</field>\n                                 </shadow>\n                              </value>\n                           </block>\n                        </next>\n                     </block>\n                  </statement>\n               </block>\n            </next>\n         </block>\n      </statement>\n   </block>';
Sorter.Algorithms.BubbleSortXmlText='  <variables>\n      <variable type="" >i</variable>\n      <variable type="" >j</variable>\n   </variables>\n   <block type="controls_for" x="10" y="10">\n      <field name="VAR"  variabletype="">i</field>\n      <value name="FROM">\n         <block type="math_number">\n            <field name="NUM">0</field>\n         </block>\n      </value>\n      <value name="TO">\n         <block type="math_arithmetic">\n            <field name="OP">MINUS</field>\n            <value name="A">\n               <block type="length" />\n            </value>\n            <value name="B">\n               <block type="math_number">\n                  <field name="NUM">2</field>\n               </block>\n            </value>\n         </block>\n      </value>\n      <value name="BY">\n         <block type="math_number">\n            <field name="NUM">1</field>\n         </block>\n      </value>\n      <statement name="DO">\n         <block type="controls_for">\n            <field name="VAR" variabletype="">j</field>\n            <value name="FROM">\n               <block type="math_number">\n                  <field name="NUM">0</field>\n               </block>\n            </value>\n            <value name="TO">\n               <block type="math_arithmetic">\n                  <field name="OP">MINUS</field>\n                  <value name="A">\n                     <block type="math_arithmetic">\n                        <field name="OP">MINUS</field>\n                        <value name="A">\n                           <block type="length" />\n                        </value>\n                        <value name="B">\n                           <block type="math_number">\n                              <field name="NUM">2</field>\n                           </block>\n                        </value>\n                     </block>\n                  </value>\n                  <value name="B">\n                     <block type="variables_get">\n                        <field name="VAR"  variabletype="">i</field>\n                     </block>\n                  </value>\n               </block>\n            </value>\n            <value name="BY">\n               <block type="math_number">\n                  <field name="NUM">1</field>\n               </block>\n            </value>\n            <statement name="DO">\n               <block type="controls_if">\n                  <value name="IF0">\n                     <block type="logic_compare">\n                        <field name="OP">LT</field>\n                        <value name="A">\n                           <block type="getter">\n                              <value name="index">\n                                 <block type="variables_get">\n                                    <field name="VAR" variabletype="">j</field>\n                                 </block>\n                              </value>\n                           </block>\n                        </value>\n                        <value name="B">\n                           <block type="getter">\n                              <value name="index">\n                                 <block type="math_arithmetic">\n                                    <field name="OP">ADD</field>\n                                    <value name="A">\n                                       <block type="variables_get">\n                                          <field name="VAR" variabletype="">j</field>\n                                       </block>\n                                    </value>\n                                    <value name="B">\n                                       <block type="math_number">\n                                          <field name="NUM">1</field>\n                                       </block>\n                                    </value>\n                                 </block>\n                              </value>\n                           </block>\n                        </value>\n                     </block>\n                  </value>\n                  <statement name="DO0">\n                     <block type="swap">\n                        <value name="index_a">\n                           <block type="variables_get">\n                              <field name="VAR" variabletype="">j</field>\n                           </block>\n                        </value>\n                        <value name="index_b">\n                           <block type="math_arithmetic">\n                              <field name="OP">ADD</field>\n                              <value name="A">\n                                 <block type="variables_get">\n                                    <field name="VAR" variabletype="">j</field>\n                                 </block>\n                              </value>\n                              <value name="B">\n                                 <block type="math_number">\n                                    <field name="NUM">1</field>\n                                 </block>\n                              </value>\n                           </block>\n                        </value>\n                     </block>\n                  </statement>\n               </block>\n            </statement>\n         </block>\n      </statement>\n   </block>';Sorter.ToolBox={};
(function(){var a='<xml id = "toolbox" style="display: none">\n\n             <category name="List" colour="280">\n           \t<block type="length"></block>\n           \t<block type="swap"></block>\n           \t<block type="getter"></block>\n             </category>\n\n             <category name="Variables" custom="VARIABLE" colour="330"></category>\n\n             <category name="Loops" colour="120">\n               \t<block type="controls_for"></block>\n             \t<block type="controls_whileUntil"></block>\n             \t<block type="controls_repeat_ext"></block>\n             </category>\n\n             <category name="Math" colour="230">\n              \t<block type="math_number"></block>\n             \t<block type="math_arithmetic"></block>\n             </category>\n\n             <category name="Logic" colour="210">     \t\n             \t<block type="controls_if"></block>\n             \t<block type="logic_compare"></block>\n             \t<block type="logic_operation"></block>\n             </category>\n             <sep></sep>\n             <category name="Algorithms" >     \t\n             \t<category name="Bubble-sort">  '+Sorter.Algorithms.BubbleSortXmlText+
'</category>\n                 <category name="Selection-sort">  '+Sorter.Algorithms.SelectionSortXmlText+'</category>\n                 <category name="Insertion-sort">  '+Sorter.Algorithms.InsertionSortXmlText+"</category>\n             </category>\n\n\n           </xml>",b=new DOMParser;Sorter.ToolBox=b.parseFromString(a,"application/xml").documentElement})();/*
 jQuery JavaScript Library v3.3.1
 https://jquery.com/

 Includes Sizzle.js
 https://sizzlejs.com/

 Copyright JS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2018-01-20T17:24Z
 Sizzle CSS Selector Engine v2.3.3
 https://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2016-08-08
*/
var Jquery={};jquery=void 0;
(function(a,b){"object"===typeof module&&"object"===typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)})("undefined"!==typeof window?window:this,function(a,b){function c(a,b,c){b=b||B;var d,e=b.createElement("script");e.text=a;if(c)for(d in wa)c[d]&&(e[d]=c[d]);b.head.appendChild(e).parentNode.removeChild(e)}function d(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?za[Ja.call(a)]||
"object":typeof a}function e(a){var b=!!a&&"length"in a&&a.length,c=d(a);return S(a)||Fa(a)?!1:"array"===c||0===b||"number"===typeof b&&0<b&&b-1 in a}function f(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function h(a,b,c){return S(b)?q.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?q.grep(a,function(a){return a===b!==c}):"string"!==typeof b?q.grep(a,function(a){return-1<Ra.call(b,a)!==c}):q.filter(b,a,c)}function g(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}
function k(a){var b={};q.each(a.match(ca)||[],function(a,c){b[c]=!0});return b}function p(a){return a}function l(a){throw a;}function m(a,b,c,d){var e;try{a&&S(e=a.promise)?e.call(a).done(b).fail(c):a&&S(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(Db){c.apply(void 0,[Db])}}function t(){B.removeEventListener("DOMContentLoaded",t);a.removeEventListener("load",t);q.ready()}function u(a,b){return b.toUpperCase()}function v(a){return a.replace(Ta,"ms-").replace(nb,u)}function n(){this.expando=
q.expando+n.uid++}function w(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace(Za,"-$&").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{var d=c;c="true"===d?!0:"false"===d?!1:"null"===d?null:d===+d+""?+d:ob.test(d)?JSON.parse(d):d}catch(kc){}ma.set(a,b,c)}else c=void 0;return c}function D(a,b,c,d){var e,f=20,g=d?function(){return d.cur()}:function(){return q.css(a,b,"")},h=g(),k=c&&c[3]||(q.cssNumber[b]?"":"px"),F=(q.cssNumber[b]||"px"!==k&&+h)&&Ha.exec(q.css(a,b));if(F&&F[3]!==
k){h/=2;k=k||F[3];for(F=+h||1;f--;)q.style(a,b,F+k),0>=(1-e)*(1-(e=g()/h||.5))&&(f=0),F/=e;F*=2;q.style(a,b,F+k);c=c||[]}if(c){F=+F||+h||0;var r=c[1]?F+(c[1]+1)*c[2]:+c[2];d&&(d.unit=k,d.start=F,d.end=r)}return r}function r(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)if(d=a[f],d.style)if(c=d.style.display,b){if("none"===c&&(e[f]=P.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&Ma(d)){c=f;var h=d.ownerDocument;d=d.nodeName;var k=jb[d];k||(h=h.body.appendChild(h.createElement(d)),
k=q.css(h,"display"),h.parentNode.removeChild(h),"none"===k&&(k="block"),jb[d]=k);h=k;e[c]=h}}else"none"!==c&&(e[f]="none",P.set(d,"display",c));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function C(a,b){var c="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&f(a,b)?q.merge([a],c):c}function z(a,b){for(var c=0,d=a.length;c<d;c++)P.set(a[c],"globalEval",!b||P.get(b[c],
"globalEval"))}function x(a,b,c,e,f){for(var g,h,k,F=b.createDocumentFragment(),r=[],l=0,m=a.length;l<m;l++)if((g=a[l])||0===g)if("object"===d(g))q.merge(r,g.nodeType?[g]:g);else if(qb.test(g)){h=h||F.appendChild(b.createElement("div"));k=(lb.exec(g)||["",""])[1].toLowerCase();k=qa[k]||qa._default;h.innerHTML=k[1]+q.htmlPrefilter(g)+k[2];for(k=k[0];k--;)h=h.lastChild;q.merge(r,h.childNodes);h=F.firstChild;h.textContent=""}else r.push(b.createTextNode(g));F.textContent="";for(l=0;g=r[l++];)if(e&&-1<
q.inArray(g,e))f&&f.push(g);else if(a=q.contains(g.ownerDocument,g),h=C(F.appendChild(g),"script"),a&&z(h),c)for(k=0;g=h[k++];)Na.test(g.type||"")&&c.push(g);return F}function E(){return!0}function K(){return!1}function I(){try{return B.activeElement}catch(F){}}function A(a,b,c,d,e,f){var g;if("object"===typeof b){"string"!==typeof c&&(d=d||c,c=void 0);for(g in b)A(a,g,c,d,b[g],f);return a}null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"===typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0));if(!1===e)e=
K;else if(!e)return a;if(1===f){var h=e;e=function(a){q().off(a);return h.apply(this,arguments)};e.guid=h.guid||(h.guid=q.guid++)}return a.each(function(){q.event.add(this,b,e,d,c)})}function y(a,b){return f(a,"table")&&f(11!==b.nodeType?b:b.firstChild,"tr")?q(a).children("tbody")[0]||a:a}function J(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function H(a){"true/"===(a.type||"").slice(0,5)?a.type=a.type.slice(5):a.removeAttribute("type");return a}function G(a,b){var c,d;if(1===b.nodeType){if(P.hasData(a)){var e=
P.access(a);var f=P.set(b,e);if(e=e.events)for(d in delete f.handle,f.events={},e)for(f=0,c=e[d].length;f<c;f++)q.event.add(b,d,e[d][f])}ma.hasData(a)&&(a=ma.access(a),a=q.extend({},a),ma.set(b,a))}}function M(a,b,d,e){b=Qa.apply([],b);var f,g=0,h=a.length,k=h-1,F=b[0],r=S(F);if(r||1<h&&"string"===typeof F&&!Y.checkClone&&Lb.test(F))return a.each(function(c){var f=a.eq(c);r&&(b[0]=F.call(this,c,f.html()));M(f,b,d,e)});if(h){var l=x(b,a[0].ownerDocument,!1,a,e);var m=l.firstChild;1===l.childNodes.length&&
(l=m);if(m||e){m=q.map(C(l,"script"),J);for(f=m.length;g<h;g++){var ua=l;g!==k&&(ua=q.clone(ua,!0,!0),f&&q.merge(m,C(ua,"script")));d.call(a[g],ua,g)}if(f)for(l=m[m.length-1].ownerDocument,q.map(m,H),g=0;g<f;g++)ua=m[g],Na.test(ua.type||"")&&!P.access(ua,"globalEval")&&q.contains(l,ua)&&(ua.src&&"module"!==(ua.type||"").toLowerCase()?q._evalUrl&&q._evalUrl(ua.src):c(ua.textContent.replace(Mb,""),l,ua))}}return a}function V(a,b,c){for(var d=b?q.filter(b,a):a,e=0;null!=(b=d[e]);e++)c||1!==b.nodeType||
q.cleanData(C(b)),b.parentNode&&(c&&q.contains(b.ownerDocument,b)&&z(C(b,"script")),b.parentNode.removeChild(b));return a}function T(a,b,c){var d=a.style;if(c=c||fb(a)){var e=c.getPropertyValue(b)||c[b];""!==e||q.contains(a.ownerDocument,a)||(e=q.style(a,b));if(!Y.pixelBoxStyles()&&eb.test(e)&&Nb.test(b)){a=d.width;b=d.minWidth;var f=d.maxWidth;d.minWidth=d.maxWidth=d.width=e;e=c.width;d.width=a;d.minWidth=b;d.maxWidth=f}}return void 0!==e?e+"":e}function U(a,b){return{get:function(){if(a())delete this.get;
else return(this.get=b).apply(this,arguments)}}}function X(a){var b=q.cssProps[a];if(!b){b=q.cssProps;a:{var c=a;if(!(c in zb)){for(var d=c[0].toUpperCase()+c.slice(1),e=yb.length;e--;)if(c=yb[e]+d,c in zb)break a;c=void 0}}b=b[a]=c||a}return b}function O(a,b,c){return(a=Ha.exec(b))?Math.max(0,a[2]-(c||0))+(a[3]||"px"):b}function Q(a,b,c,d,e,f){var g="width"===b?1:0,h=0,k=0;if(c===(d?"border":"content"))return 0;for(;4>g;g+=2)"margin"===c&&(k+=q.css(a,c+va[g],!0,e)),d?("content"===c&&(k-=q.css(a,
"padding"+va[g],!0,e)),"margin"!==c&&(k-=q.css(a,"border"+va[g]+"Width",!0,e))):(k+=q.css(a,"padding"+va[g],!0,e),"padding"!==c?k+=q.css(a,"border"+va[g]+"Width",!0,e):h+=q.css(a,"border"+va[g]+"Width",!0,e));!d&&0<=f&&(k+=Math.max(0,Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-f-k-h-.5)));return k}function da(a,b,c){var d=fb(a),e=T(a,b,d),f="border-box"===q.css(a,"boxSizing",!1,d),g=f;if(eb.test(e)){if(!c)return e;e="auto"}g=g&&(Y.boxSizingReliable()||e===a.style[b]);if("auto"===e||!parseFloat(e)&&
"inline"===q.css(a,"display",!1,d))e=a["offset"+b[0].toUpperCase()+b.slice(1)],g=!0;e=parseFloat(e)||0;return e+Q(a,b,c||(f?"border":"content"),g,d,e)+"px"}function N(a,b,c,d,e){return new N.prototype.init(a,b,c,d,e)}function ea(){ib&&(!1===B.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(ea):a.setTimeout(ea,q.fx.interval),q.fx.tick())}function ba(){a.setTimeout(function(){Sa=void 0});return Sa=Date.now()}function ya(a,b){var c=0,d={height:a};for(b=b?1:0;4>c;c+=2-b){var e=va[c];d["margin"+
e]=d["padding"+e]=a}b&&(d.opacity=d.width=a);return d}function Ca(a,b,c){for(var d,e=(Z.tweeners[b]||[]).concat(Z.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function fa(a,b){var c,d;for(c in a){var e=v(c);var f=b[e];var g=a[c];Array.isArray(g)&&(f=g[1],g=a[c]=g[0]);c!==e&&(a[e]=g,delete a[c]);if((d=q.cssHooks[e])&&"expand"in d)for(c in g=d.expand(g),delete a[e],g)c in a||(a[c]=g[c],b[c]=f);else b[e]=f}}function Z(a,b,c){var d,e=0,f=Z.prefilters.length,g=q.Deferred().always(function(){delete h.elem}),
h=function(){if(d)return!1;var b=Sa||ba();b=Math.max(0,k.startTime+k.duration-b);for(var c=1-(b/k.duration||0),e=0,f=k.tweens.length;e<f;e++)k.tweens[e].run(c);g.notifyWith(a,[k,c,b]);if(1>c&&f)return b;f||g.notifyWith(a,[k,1,0]);g.resolveWith(a,[k]);return!1},k=g.promise({elem:a,props:q.extend({},b),opts:q.extend(!0,{specialEasing:{},easing:q.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||ba(),duration:c.duration,tweens:[],createTween:function(b,c){b=q.Tween(a,k.opts,b,
c,k.opts.specialEasing[b]||k.opts.easing);k.tweens.push(b);return b},stop:function(b){var c=0,e=b?k.tweens.length:0;if(d)return this;for(d=!0;c<e;c++)k.tweens[c].run(1);b?(g.notifyWith(a,[k,1,0]),g.resolveWith(a,[k,b])):g.rejectWith(a,[k,b]);return this}});c=k.props;for(fa(c,k.opts.specialEasing);e<f;e++)if(b=Z.prefilters[e].call(k,a,c,k.opts))return S(b.stop)&&(q._queueHooks(k.elem,k.opts.queue).stop=b.stop.bind(b)),b;q.map(c,Ca,k);S(k.opts.start)&&k.opts.start.call(a,k);k.progress(k.opts.progress).done(k.opts.done,
k.opts.complete).fail(k.opts.fail).always(k.opts.always);q.fx.timer(q.extend(h,{elem:a,anim:k,queue:k.opts.queue}));return k}function sa(a){return(a.match(ca)||[]).join(" ")}function na(a){return a.getAttribute&&a.getAttribute("class")||""}function ha(a){return Array.isArray(a)?a:"string"===typeof a?a.match(ca)||[]:[]}function Ea(a,b,c,e){var f;if(Array.isArray(b))q.each(b,function(b,d){c||Wb.test(a)?e(a,d):Ea(a+"["+("object"===typeof d&&null!=d?b:"")+"]",d,c,e)});else if(c||"object"!==d(b))e(a,b);
else for(f in b)Ea(a+"["+f+"]",b[f],c,e)}function Da(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var d=0,e=b.toLowerCase().match(ca)||[];if(S(c))for(;b=e[d++];)"+"===b[0]?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(c)):(a[b]=a[b]||[]).push(c)}}function Aa(a,b,c,d){function e(h){var k;f[h]=!0;q.each(a[h]||[],function(a,h){a=h(b,c,d);if("string"===typeof a&&!g&&!f[a])return b.dataTypes.unshift(a),e(a),!1;if(g)return!(k=a)});return k}var f={},g=a===rb;return e(b.dataTypes[0])||!f["*"]&&e("*")}
function ka(a,b){var c,d,e=q.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);d&&q.extend(!0,a,d);return a}var R=[],B=a.document,W=Object.getPrototypeOf,L=R.slice,Qa=R.concat,Xa=R.push,Ra=R.indexOf,za={},Ja=za.toString,ra=za.hasOwnProperty,Ka=ra.toString,Oa=Ka.call(Object),Y={},S=function(a){return"function"===typeof a&&"number"!==typeof a.nodeType},Fa=function(a){return null!=a&&a===a.window},wa={type:!0,src:!0,noModule:!0},q=function(a,b){return new q.fn.init(a,
b)},Ya=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;q.fn=q.prototype={jquery:"3.3.1",constructor:q,length:0,toArray:function(){return L.call(this)},get:function(a){return null==a?L.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=q.merge(this.constructor(),a);a.prevObject=this;return a},each:function(a){return q.each(this,a)},map:function(a){return this.pushStack(q.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(L.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Xa,sort:R.sort,splice:R.splice};q.extend=q.fn.extend=function(){var a,b,c,d=arguments[0]||{},e=1,f=arguments.length,g=!1;"boolean"===typeof d&&(g=d,d=arguments[e]||{},e++);"object"===typeof d||S(d)||(d={});e===f&&(d=this,e--);for(;e<f;e++)if(null!=(a=arguments[e]))for(b in a){var h=d[b];var k=a[b];d!==k&&
(g&&k&&(q.isPlainObject(k)||(c=Array.isArray(k)))?(c?(c=!1,h=h&&Array.isArray(h)?h:[]):h=h&&q.isPlainObject(h)?h:{},d[b]=q.extend(g,h,k)):void 0!==k&&(d[b]=k))}return d};q.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isPlainObject:function(a){if(!a||"[object Object]"!==Ja.call(a))return!1;a=W(a);if(!a)return!0;a=ra.call(a,"constructor")&&a.constructor;return"function"===typeof a&&Ka.call(a)===Oa},isEmptyObject:function(a){for(var b in a)return!1;
return!0},globalEval:function(a){c(a)},each:function(a,b){var c,d=0;if(e(a))for(c=a.length;d<c&&!1!==b.call(a[d],d,a[d]);d++);else for(d in a)if(!1===b.call(a[d],d,a[d]))break;return a},trim:function(a){return null==a?"":(a+"").replace(Ya,"")},makeArray:function(a,b){b=b||[];null!=a&&(e(Object(a))?q.merge(b,"string"===typeof a?[a]:a):Xa.call(b,a));return b},inArray:function(a,b,c){return null==b?-1:Ra.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];a.length=
e;return a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)c=!b(a[e],e),c!==g&&d.push(a[e]);return d},map:function(a,b,c){var d,f=0,g=[];if(e(a))for(d=a.length;f<d;f++){var h=b(a[f],f,c);null!=h&&g.push(h)}else for(f in a)h=b(a[f],f,c),null!=h&&g.push(h);return Qa.apply([],g)},guid:1,support:Y});"function"===typeof Symbol&&(q.fn[Symbol.iterator]=R[Symbol.iterator]);q.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){za["[object "+b+
"]"]=b.toLowerCase()});var Ba=function(a){function b(a,b,c,d){var e,f,g,h,k=b&&b.ownerDocument,F=b?b.nodeType:9;c=c||[];if("string"!==typeof a||!a||1!==F&&9!==F&&11!==F)return c;if(!d&&((b?b.ownerDocument||b:D)!==z&&qa(b),b=b||z,w)){if(11!==F&&(h=oa.exec(a)))if(e=h[1])if(9===F)if(f=b.getElementById(e)){if(f.id===e)return c.push(f),c}else return c;else{if(k&&(f=k.getElementById(e))&&B(b,f)&&f.id===e)return c.push(f),c}else{if(h[2])return P.apply(c,b.getElementsByTagName(a)),c;if((e=h[3])&&pa.getElementsByClassName&&
b.getElementsByClassName)return P.apply(c,b.getElementsByClassName(e)),c}if(!(!pa.qsa||N[a+" "]||I&&I.test(a))){if(1!==F){k=b;var r=a}else if("object"!==b.nodeName.toLowerCase()){(g=b.getAttribute("id"))?g=g.replace(ra,sa):b.setAttribute("id",g=E);f=va(a);for(e=f.length;e--;)f[e]="#"+g+" "+n(f[e]);r=f.join(",");k=ma.test(a)&&l(b.parentNode)||b}if(r)try{return P.apply(c,k.querySelectorAll(r)),c}catch(oc){}finally{g===E&&b.removeAttribute("id")}}}return Aa(a.replace(Y,"$1"),b,c,d)}function c(){function a(c,
d){b.push(c+" ")>aa.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function d(a){a[E]=!0;return a}function e(a){var b=z.createElement("fieldset");try{return!!a(b)}catch(mc){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function f(a,b){a=a.split("|");for(var c=a.length;c--;)aa.attrHandle[a[c]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){return"input"===
b.nodeName.toLowerCase()&&b.type===a}}function k(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function F(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&wa(b)===a:b.disabled===a:"label"in b?b.disabled===a:!1}}function r(a){return d(function(b){b=+b;return d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=
f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function m(){}function n(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function p(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=L++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,k){var F,r=[M,h];if(k)for(;b=b[d];){if((1===b.nodeType||g)&&a(b,c,k))return!0}else for(;b=b[d];)if(1===b.nodeType||g){var l=b[E]||(b[E]=
{});l=l[b.uniqueID]||(l[b.uniqueID]={});if(e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((F=l[f])&&F[0]===M&&F[1]===h)return r[2]=F[2];l[f]=r;if(r[2]=a(b,c,k))return!0}}return!1}}function q(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function y(a,b,c,d,e){for(var f,g=[],h=0,k=a.length,F=null!=b;h<k;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),F&&b.push(h);return g}function A(a,c,e,f,g,h){f&&!f[E]&&(f=A(f));g&&!g[E]&&(g=A(g,h));return d(function(d,
h,k,F){var r,l=[],m=[],n=h.length,p;if(!(p=d)){p=c||"*";for(var q=k.nodeType?[k]:k,ua=[],A=0,cb=q.length;A<cb;A++)b(p,q[A],ua);p=ua}p=!a||!d&&c?p:y(p,l,a,k,F);q=e?g||(d?a:n||f)?[]:h:p;e&&e(p,q,k,F);if(f){var t=y(q,m);f(t,[],k,F);for(k=t.length;k--;)if(r=t[k])q[m[k]]=!(p[m[k]]=r)}if(d){if(g||a){if(g){t=[];for(k=q.length;k--;)(r=q[k])&&t.push(p[k]=r);g(null,q=[],t,F)}for(k=q.length;k--;)(r=q[k])&&-1<(t=g?W(d,r):l[k])&&(d[t]=!(h[t]=r))}}else q=y(q===h?q.splice(n,q.length):q),g?g(null,h,q,F):P.apply(h,
q)})}function t(a){var b,c,d=a.length,e=aa.relative[a[0].type];var f=e||aa.relative[" "];for(var g=e?1:0,h=p(function(a){return a===b},f,!0),k=p(function(a){return-1<W(b,a)},f,!0),F=[function(a,c,d){a=!e&&(d||c!==H)||((b=c).nodeType?h(a,c,d):k(a,c,d));b=null;return a}];g<d;g++)if(f=aa.relative[a[g].type])F=[p(q(F),f)];else{f=aa.filter[a[g].type].apply(null,a[g].matches);if(f[E]){for(c=++g;c<d&&!aa.relative[a[c].type];c++);return A(1<g&&q(F),1<g&&n(a.slice(0,g-1).concat({value:" "===a[g-2].type?"*":
""})).replace(Y,"$1"),f,g<c&&t(a.slice(g,c)),c<d&&t(a=a.slice(c)),c<d&&n(a))}F.push(f)}return q(F)}function u(a,c){var e=0<c.length,f=0<a.length,g=function(d,g,h,k,F){var r,l,m=0,n="0",p=d&&[],q=[],ua=H,A=d||f&&aa.find.TAG("*",F),cb=M+=null==ua?1:Math.random()||.1,t=A.length;for(F&&(H=g===z||g||F);n!==t&&null!=(r=A[n]);n++){if(f&&r){var u=0;g||r.ownerDocument===z||(qa(r),h=!w);for(;l=a[u++];)if(l(r,g||z,h)){k.push(r);break}F&&(M=cb)}e&&((r=!l&&r)&&m--,d&&p.push(r))}m+=n;if(e&&n!==m){for(u=0;l=c[u++];)l(p,
q,g,h);if(d){if(0<m)for(;n--;)p[n]||q[n]||(q[n]=R.call(k));q=y(q)}P.apply(k,q);F&&!d&&0<q.length&&1<m+c.length&&b.uniqueSort(k)}F&&(M=cb,H=ua);return p};return e?d(g):g}var v,H,x,G,z,J,w,I,C,K,B,E="sizzle"+1*new Date,D=a.document,M=0,L=0,V=c(),T=c(),N=c(),O=function(a,b){a===b&&(G=!0);return 0},Q={}.hasOwnProperty,U=[],R=U.pop,S=U.push,P=U.push,X=U.slice,W=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Z=/[\x20\t\r\n\f]+/g,Y=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,
ba=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ca=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,da=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ia=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,ja=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ea={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ka=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,la=
/^[^{]+\{\s*\[native \w/,oa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ma=/[+~]/,fa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ha=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},ra=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,sa=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},ta=function(){qa()},wa=p(function(a){return!0===a.disabled&&("form"in
a||"label"in a)},{dir:"parentNode",next:"legend"});try{P.apply(U=X.call(D.childNodes),D.childNodes),U[D.childNodes.length].nodeType}catch(lc){P={apply:U.length?function(a,b){S.apply(a,X.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}var pa=b.support={};var ya=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var qa=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:D;if(a===z||9!==a.nodeType||!a.documentElement)return z;
z=a;J=z.documentElement;w=!ya(z);D!==z&&(b=z.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",ta,!1):b.attachEvent&&b.attachEvent("onunload",ta));pa.attributes=e(function(a){a.className="i";return!a.getAttribute("className")});pa.getElementsByTagName=e(function(a){a.appendChild(z.createComment(""));return!a.getElementsByTagName("*").length});pa.getElementsByClassName=la.test(z.getElementsByClassName);pa.getById=e(function(a){J.appendChild(a).id=E;return!z.getElementsByName||
!z.getElementsByName(E).length});pa.getById?(aa.filter.ID=function(a){var b=a.replace(fa,ha);return function(a){return a.getAttribute("id")===b}},aa.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&w)return(a=b.getElementById(a))?[a]:[]}):(aa.filter.ID=function(a){var b=a.replace(fa,ha);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}},aa.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&w){var c,d=b.getElementById(a);
if(d){if((c=d.getAttributeNode("id"))&&c.value===a)return[d];var e=b.getElementsByName(a);for(b=0;d=e[b++];)if((c=d.getAttributeNode("id"))&&c.value===a)return[d]}return[]}});aa.find.TAG=pa.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(pa.qsa)return b.querySelectorAll(a)}:function(a,b){var c=[],d=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[d++];)1===a.nodeType&&c.push(a);return c}return b};aa.find.CLASS=pa.getElementsByClassName&&
function(a,b){if("undefined"!==typeof b.getElementsByClassName&&w)return b.getElementsByClassName(a)};C=[];I=[];if(pa.qsa=la.test(z.querySelectorAll))e(function(a){J.appendChild(a).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||I.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+E+"-]").length||I.push("~=");a.querySelectorAll(":checked").length||I.push(":checked");a.querySelectorAll("a#"+E+"+*").length||I.push(".#.+[+~]")}),e(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=z.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&I.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&
I.push(":enabled",":disabled");J.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled");a.querySelectorAll("*,:x");I.push(",.*:")});(pa.matchesSelector=la.test(K=J.matches||J.webkitMatchesSelector||J.mozMatchesSelector||J.oMatchesSelector||J.msMatchesSelector))&&e(function(a){pa.disconnectedMatch=K.call(a,"*");K.call(a,"[s!='']:x");C.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
I=I.length&&new RegExp(I.join("|"));C=C.length&&new RegExp(C.join("|"));B=(b=la.test(J.compareDocumentPosition))||la.test(J.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&(c.contains?c.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};O=b?function(a,b){if(a===b)return G=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;if(c)return c;
c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return c&1||!pa.sortDetached&&b.compareDocumentPosition(a)===c?a===z||a.ownerDocument===D&&B(D,a)?-1:b===z||b.ownerDocument===D&&B(D,b)?1:x?W(x,a)-W(x,b):0:c&4?-1:1}:function(a,b){if(a===b)return G=!0,0;var c=0,d=a.parentNode,e=b.parentNode,f=[a],h=[b];if(!d||!e)return a===z?-1:b===z?1:d?-1:e?1:x?W(x,a)-W(x,b):0;if(d===e)return g(a,b);for(;a=a.parentNode;)f.unshift(a);for(a=b;a=a.parentNode;)h.unshift(a);for(;f[c]===h[c];)c++;
return c?g(f[c],h[c]):f[c]===D?-1:h[c]===D?1:0};return z};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==z&&qa(a);c=c.replace(da,"='$1']");if(!(!pa.matchesSelector||!w||N[c+" "]||C&&C.test(c)||I&&I.test(c)))try{var d=K.call(a,c);if(d||pa.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(nc){}return 0<b(c,z,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==z&&qa(a);return B(a,b)};b.attr=function(a,b){(a.ownerDocument||
a)!==z&&qa(a);var c=aa.attrHandle[b.toLowerCase()];c=c&&Q.call(aa.attrHandle,b.toLowerCase())?c(a,b,!w):void 0;return void 0!==c?c:pa.attributes||!w?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.escape=function(a){return(a+"").replace(ra,sa)};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],d=0,e=0;G=!pa.detectDuplicates;x=!pa.sortStable&&a.slice(0);a.sort(O);if(G){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],
1)}x=null;return a};var xa=b.getText=function(a){var b="",c=0;var d=a.nodeType;if(!d)for(;d=a[c++];)b+=xa(d);else if(1===d||9===d||11===d){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=xa(a)}else if(3===d||4===d)return a.nodeValue;return b};var aa=b.selectors={cacheLength:50,createPseudo:d,match:ea,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(a){a[1]=a[1].replace(fa,ha);a[3]=(a[3]||a[4]||a[5]||"").replace(fa,ha);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(ea.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&ia.test(c)&&(b=va(c,!0))&&(b=c.indexOf(")",
c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(fa,ha).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=V[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),V(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,
c,d){return function(e){e=b.attr(e,a);if(null==e)return"!="===c;if(!c)return!0;e+="";return"="===c?e===d:"!="===c?e!==d:"^="===c?d&&0===e.indexOf(d):"*="===c?d&&-1<e.indexOf(d):"$="===c?d&&e.slice(-d.length)===d:"~="===c?-1<(" "+e.replace(Z," ")+" ").indexOf(d):"|="===c?e===d||e.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,k){var F,r;c=f!==g?"nextSibling":
"previousSibling";var l=b.parentNode,m=h&&b.nodeName.toLowerCase();k=!k&&!h;var n=!1;if(l){if(f){for(;c;){for(F=b;F=F[c];)if(h?F.nodeName.toLowerCase()===m:1===F.nodeType)return!1;var p=c="only"===a&&!p&&"nextSibling"}return!0}p=[g?l.firstChild:l.lastChild];if(g&&k){F=l;var q=F[E]||(F[E]={});q=q[F.uniqueID]||(q[F.uniqueID]={});n=q[a]||[];n=(r=n[0]===M&&n[1])&&n[2];for(F=r&&l.childNodes[r];F=++r&&F&&F[c]||(n=r=0)||p.pop();)if(1===F.nodeType&&++n&&F===b){q[a]=[M,r,n];break}}else if(k&&(F=b,q=F[E]||
(F[E]={}),q=q[F.uniqueID]||(q[F.uniqueID]={}),n=q[a]||[],n=r=n[0]===M&&n[1]),!1===n)for(;(F=++r&&F&&F[c]||(n=r=0)||p.pop())&&((h?F.nodeName.toLowerCase()!==m:1!==F.nodeType)||!++n||(k&&(q=F[E]||(F[E]={}),q=q[F.uniqueID]||(q[F.uniqueID]={}),q[a]=[M,n]),F!==b)););n-=e;return n===d||0===n%d&&0<=n/d}}},PSEUDO:function(a,c){var e=aa.pseudos[a]||aa.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);if(e[E])return e(c);if(1<e.length){var f=[a,a,"",c];return aa.setFilters.hasOwnProperty(a.toLowerCase())?
d(function(a,b){for(var d,f=e(a,c),g=f.length;g--;)d=W(a,f[g]),a[d]=!(b[d]=f[g])}):function(a){return e(a,0,f)}}return e}},pseudos:{not:d(function(a){var b=[],c=[],e=za(a.replace(Y,"$1"));return e[E]?d(function(a,b,c,d){d=e(a,null,d,[]);for(var f=a.length;f--;)if(c=d[f])a[f]=!(b[f]=c)}):function(a,d,f){b[0]=a;e(b,null,f,c);b[0]=null;return!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){a=a.replace(fa,ha);return function(b){return-1<(b.textContent||
b.innerText||xa(b)).indexOf(a)}}),lang:d(function(a){ja.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(fa,ha).toLowerCase();return function(b){var c;do if(c=w?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===J},focus:function(a){return a===z.activeElement&&(!z.hasFocus||
z.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:F(!1),disabled:F(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!aa.pseudos.empty(a)},header:function(a){return na.test(a.nodeName)},input:function(a){return ka.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:r(function(){return[0]}),last:r(function(a,b){return[b-1]}),eq:r(function(a,b,c){return[0>c?c+b:c]}),even:r(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:r(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:r(function(a,b,c){for(b=
0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:r(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};aa.pseudos.nth=aa.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})aa.pseudos[v]=h(v);for(v in{submit:!0,reset:!0})aa.pseudos[v]=k(v);m.prototype=aa.filters=aa.pseudos;aa.setFilters=new m;var va=b.tokenize=function(a,c){var d,e,f,g,h;if(g=T[a+" "])return c?0:g.slice(0);g=a;var k=[];for(h=aa.preFilter;g;){if(!F||(d=ba.exec(g)))d&&(g=g.slice(d[0].length)||g),k.push(e=[]);var F=
!1;if(d=ca.exec(g))F=d.shift(),e.push({value:F,type:d[0].replace(Y," ")}),g=g.slice(F.length);for(f in aa.filter)!(d=ea[f].exec(g))||h[f]&&!(d=h[f](d))||(F=d.shift(),e.push({value:F,type:f,matches:d}),g=g.slice(F.length));if(!F)break}return c?g.length:g?b.error(a):T(a,k).slice(0)};var za=b.compile=function(a,b){var c,d=[],e=[],f=N[a+" "];if(!f){b||(b=va(a));for(c=b.length;c--;)f=t(b[c]),f[E]?d.push(f):e.push(f);f=N(a,u(e,d));f.selector=a}return f};var Aa=b.select=function(a,b,c,d){var e,f,g,h="function"===
typeof a&&a,k=!d&&va(a=h.selector||a);c=c||[];if(1===k.length){var F=k[0]=k[0].slice(0);if(2<F.length&&"ID"===(f=F[0]).type&&9===b.nodeType&&w&&aa.relative[F[1].type]){b=(aa.find.ID(f.matches[0].replace(fa,ha),b)||[])[0];if(!b)return c;h&&(b=b.parentNode);a=a.slice(F.shift().value.length)}for(e=ea.needsContext.test(a)?0:F.length;e--;){f=F[e];if(aa.relative[g=f.type])break;if(g=aa.find[g])if(d=g(f.matches[0].replace(fa,ha),ma.test(F[0].type)&&l(b.parentNode)||b)){F.splice(e,1);a=d.length&&n(F);if(!a)return P.apply(c,
d),c;break}}}(h||za(a,k))(d,b,!w,c,!b||ma.test(a)&&l(b.parentNode)||b);return c};pa.sortStable=E.split("").sort(O).join("")===E;pa.detectDuplicates=!!G;qa();pa.sortDetached=e(function(a){return a.compareDocumentPosition(z.createElement("fieldset"))&1});e(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});pa.attributes&&e(function(a){a.innerHTML="<input/>";
a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});e(function(a){return null==a.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null});return b}(a);q.find=Ba;q.expr=
Ba.selectors;q.expr[":"]=q.expr.pseudos;q.uniqueSort=q.unique=Ba.uniqueSort;q.text=Ba.getText;q.isXMLDoc=Ba.isXML;q.contains=Ba.contains;q.escapeSelector=Ba.escape;var ia=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&q(a).is(c))break;d.push(a)}return d},Pa=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},La=q.expr.match.needsContext,oa=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;q.filter=function(a,
b,c){var d=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===d.nodeType?q.find.matchesSelector(d,a)?[d]:[]:q.find.matches(a,q.grep(b,function(a){return 1===a.nodeType}))};q.fn.extend({find:function(a){var b,c=this.length,d=this;if("string"!==typeof a)return this.pushStack(q(a).filter(function(){for(b=0;b<c;b++)if(q.contains(d[b],this))return!0}));var e=this.pushStack([]);for(b=0;b<c;b++)q.find(a,d[b],e);return 1<c?q.uniqueSort(e):e},filter:function(a){return this.pushStack(h(this,a||[],!1))},not:function(a){return this.pushStack(h(this,
a||[],!0))},is:function(a){return!!h(this,"string"===typeof a&&La.test(a)?q(a):a||[],!1).length}});var gb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(q.fn.init=function(a,b,c){if(!a)return this;c=c||ja;if("string"===typeof a){var d="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:gb.exec(a);if(!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof q?b[0]:b,q.merge(this,q.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:B,!0)),oa.test(d[1])&&q.isPlainObject(b))for(d in b)if(S(this[d]))this[d](b[d]);
else this.attr(d,b[d])}else if(a=B.getElementById(d[2]))this[0]=a,this.length=1;return this}return a.nodeType?(this[0]=a,this.length=1,this):S(a)?void 0!==c.ready?c.ready(a):a(q):q.makeArray(a,this)}).prototype=q.fn;var ja=q(B);var mb=/^(?:parents|prev(?:Until|All))/,hb={children:!0,contents:!0,next:!0,prev:!0};q.fn.extend({has:function(a){var b=q(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(q.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,
f=[],g="string"!==typeof a&&q(a);if(!La.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(g?-1<g.index(c):1===c.nodeType&&q.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(1<f.length?q.uniqueSort(f):f)},index:function(a){return a?"string"===typeof a?Ra.call(q(a),this[0]):Ra.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(q.uniqueSort(q.merge(this.get(),q(a,b))))},addBack:function(a){return this.add(null==
a?this.prevObject:this.prevObject.filter(a))}});q.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return ia(a,"parentNode")},parentsUntil:function(a,b,c){return ia(a,"parentNode",c)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,"previousSibling")},nextAll:function(a){return ia(a,"nextSibling")},prevAll:function(a){return ia(a,"previousSibling")},nextUntil:function(a,b,c){return ia(a,"nextSibling",c)},prevUntil:function(a,b,c){return ia(a,
"previousSibling",c)},siblings:function(a){return Pa((a.parentNode||{}).firstChild,a)},children:function(a){return Pa(a.firstChild)},contents:function(a){if(f(a,"iframe"))return a.contentDocument;f(a,"template")&&(a=a.content||a);return q.merge([],a.childNodes)}},function(a,b){q.fn[a]=function(c,d){var e=q.map(this,b,c);"Until"!==a.slice(-5)&&(d=c);d&&"string"===typeof d&&(e=q.filter(d,e));1<this.length&&(hb[a]||q.uniqueSort(e),mb.test(a)&&e.reverse());return this.pushStack(e)}});var ca=/[^\x20\t\r\n\f]+/g;
q.Callbacks=function(a){a="string"===typeof a?k(a):q.extend({},a);var b,c,e,f,g=[],h=[],r=-1,F=function(){f=f||a.once;for(e=b=!0;h.length;r=-1)for(c=h.shift();++r<g.length;)!1===g[r].apply(c[0],c[1])&&a.stopOnFalse&&(r=g.length,c=!1);a.memory||(c=!1);b=!1;f&&(g=c?[]:"")},l={add:function(){g&&(c&&!b&&(r=g.length-1,h.push(c)),function Yb(b){q.each(b,function(b,c){S(c)?a.unique&&l.has(c)||g.push(c):c&&c.length&&"string"!==d(c)&&Yb(c)})}(arguments),c&&!b&&F());return this},remove:function(){q.each(arguments,
function(a,b){for(var c;-1<(c=q.inArray(b,g,c));)g.splice(c,1),c<=r&&r--});return this},has:function(a){return a?-1<q.inArray(a,g):0<g.length},empty:function(){g&&(g=[]);return this},disable:function(){f=h=[];g=c="";return this},disabled:function(){return!g},lock:function(){f=h=[];c||b||(g=c="");return this},locked:function(){return!!f},fireWith:function(a,c){f||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||F());return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!e}};
return l};q.extend({Deferred:function(b){var c=[["notify","progress",q.Callbacks("memory"),q.Callbacks("memory"),2],["resolve","done",q.Callbacks("once memory"),q.Callbacks("once memory"),0,"resolved"],["reject","fail",q.Callbacks("once memory"),q.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){f.done(arguments).fail(arguments);return this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return q.Deferred(function(b){q.each(c,
function(c,d){var e=S(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);if(a&&S(a.promise))a.promise().progress(b.notify).done(b.resolve).fail(b.reject);else b[d[0]+"With"](this,e?[a]:arguments)})});a=null}).promise()},then:function(b,d,e){function f(b,c,d,e){return function(){var h=this,k=arguments,r=function(){if(!(b<g)){var a=d.apply(h,k);if(a===c.promise())throw new TypeError("Thenable self-resolution");var r=a&&("object"===typeof a||"function"===typeof a)&&a.then;S(r)?e?r.call(a,
f(g,c,p,e),f(g,c,l,e)):(g++,r.call(a,f(g,c,p,e),f(g,c,l,e),f(g,c,p,c.notifyWith))):(d!==p&&(h=void 0,k=[a]),(e||c.resolveWith)(h,k))}},F=e?r:function(){try{r()}catch(Eb){q.Deferred.exceptionHook&&q.Deferred.exceptionHook(Eb,F.stackTrace),b+1>=g&&(d!==l&&(h=void 0,k=[Eb]),c.rejectWith(h,k))}};b?F():(q.Deferred.getStackHook&&(F.stackTrace=q.Deferred.getStackHook()),a.setTimeout(F))}}var g=0;return q.Deferred(function(a){c[0][3].add(f(0,a,S(e)?e:p,a.notifyWith));c[1][3].add(f(0,a,S(b)?b:p));c[2][3].add(f(0,
a,S(d)?d:l))}).promise()},promise:function(a){return null!=a?q.extend(a,e):e}},f={};q.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add;h&&g.add(function(){d=h},c[3-a][2].disable,c[3-a][3].disable,c[0][2].lock,c[0][3].lock);g.add(b[3].fire);f[b[0]]=function(){f[b[0]+"With"](this===f?void 0:this,arguments);return this};f[b[0]+"With"]=g.fireWith});e.promise(f);b&&b.call(f,f);return f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=L.call(arguments),f=q.Deferred(),g=function(a){return function(c){d[a]=
this;e[a]=1<arguments.length?L.call(arguments):c;--b||f.resolveWith(d,e)}};if(1>=b&&(m(a,f.done(g(c)).resolve,f.reject,!b),"pending"===f.state()||S(e[c]&&e[c].then)))return f.then();for(;c--;)m(e[c],g(c),f.reject);return f.promise()}});var Wa=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;q.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Wa.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)};q.readyException=function(b){a.setTimeout(function(){throw b;
})};var Ga=q.Deferred();q.fn.ready=function(a){Ga.then(a).catch(function(a){q.readyException(a)});return this};q.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--q.readyWait:q.isReady)||(q.isReady=!0,!0!==a&&0<--q.readyWait||Ga.resolveWith(B,[q]))}});q.ready.then=Ga.then;"complete"===B.readyState||"loading"!==B.readyState&&!B.documentElement.doScroll?a.setTimeout(q.ready):(B.addEventListener("DOMContentLoaded",t),a.addEventListener("load",t));var la=function(a,b,c,e,f,g,h){var k=0,r=a.length,
F=null==c;if("object"===d(c))for(k in f=!0,c)la(a,b,k,c[k],!0,g,h);else if(void 0!==e&&(f=!0,S(e)||(h=!0),F&&(h?(b.call(a,e),b=null):(F=b,b=function(a,b,c){return F.call(q(a),c)})),b))for(;k<r;k++)b(a[k],c,h?e:e.call(a[k],k,b(a[k],c)));return f?a:F?b.call(a):r?b(a[0],c):g},Ta=/^-ms-/,nb=/-([a-z])/g,xa=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};n.uid=1;n.prototype={cache:function(a){var b=a[this.expando];b||(b={},xa(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,
{value:b,configurable:!0})));return b},set:function(a,b,c){var d;a=this.cache(a);if("string"===typeof b)a[v(b)]=c;else for(d in b)a[v(d)]=b[d];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][v(b)]},access:function(a,b,c){if(void 0===b||b&&"string"===typeof b&&void 0===c)return this.get(a,b);this.set(a,b,c);return void 0!==c?c:b},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b)for(Array.isArray(b)?b=b.map(v):(b=v(b),b=b in d?[b]:
b.match(ca)||[]),c=b.length;c--;)delete d[b[c]];if(void 0===b||q.isEmptyObject(d))a.nodeType?a[this.expando]=void 0:delete a[this.expando]}},hasData:function(a){a=a[this.expando];return void 0!==a&&!q.isEmptyObject(a)}};var P=new n,ma=new n,ob=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Za=/[A-Z]/g;q.extend({hasData:function(a){return ma.hasData(a)||P.hasData(a)},data:function(a,b,c){return ma.access(a,b,c)},removeData:function(a,b){ma.remove(a,b)},_data:function(a,b,c){return P.access(a,b,c)},_removeData:function(a,
b){P.remove(a,b)}});q.fn.extend({data:function(a,b){var c,d=this[0],e=d&&d.attributes;if(void 0===a){if(this.length){var f=ma.get(d);if(1===d.nodeType&&!P.get(d,"hasDataAttrs")){for(c=e.length;c--;)if(e[c]){var g=e[c].name;0===g.indexOf("data-")&&(g=v(g.slice(5)),w(d,g,f[g]))}P.set(d,"hasDataAttrs",!0)}}return f}return"object"===typeof a?this.each(function(){ma.set(this,a)}):la(this,function(b){if(d&&void 0===b){var c=ma.get(d,a);if(void 0!==c)return c;c=w(d,a);if(void 0!==c)return c}else this.each(function(){ma.set(this,
a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){ma.remove(this,a)})}});q.extend({queue:function(a,b,c){if(a){b=(b||"fx")+"queue";var d=P.get(a,b);c&&(!d||Array.isArray(c)?d=P.access(a,b,q.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=q.queue(a,b),d=c.length,e=c.shift(),f=q._queueHooks(a,b),g=function(){q.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--);e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f));
!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return P.get(a,c)||P.access(a,c,{empty:q.Callbacks("once memory").add(function(){P.remove(a,[b+"queue",c])})})}});q.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?q.queue(this[0],a):void 0===b?this:this.each(function(){var c=q.queue(this,a,b);q._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&q.dequeue(this,a)})},dequeue:function(a){return this.each(function(){q.dequeue(this,
a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=q.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";g--;)(c=P.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));h();return e.promise(b)}});var $a=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ha=new RegExp("^(?:([+-])=|)("+$a+")([a-z%]*)$","i"),va=["Top","Right","Bottom","Left"],Ma=function(a,b){a=b||a;return"none"===a.style.display||
""===a.style.display&&q.contains(a.ownerDocument,a)&&"none"===q.css(a,"display")},Ia=function(a,b,c,d){var e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];c=c.apply(a,d||[]);for(e in b)a.style[e]=f[e];return c},jb={};q.fn.extend({show:function(){return r(this,!0)},hide:function(){return r(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Ma(this)?q(this).show():q(this).hide()})}});var kb=/^(?:checkbox|radio)$/i,lb=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,
Na=/^$|^module$|\/(?:java|ecma)script/i,qa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qa.optgroup=qa.option;qa.tbody=qa.tfoot=qa.colgroup=qa.caption=qa.thead;qa.th=qa.td;var qb=/<|&#?\w+;/;(function(){var a=B.createDocumentFragment().appendChild(B.createElement("div")),b=B.createElement("input");
b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);Y.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";Y.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();var Ua=B.documentElement,Va=/^key/,Jb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ta=/^([^.]*)(?:\.(.+)|)/;q.event={global:{},add:function(a,b,c,d,e){var f,g,h,k,r;if(h=P.get(a)){if(c.handler){var l=c;c=l.handler;e=l.selector}e&&
q.find.matchesSelector(Ua,e);c.guid||(c.guid=q.guid++);(g=h.events)||(g=h.events={});(f=h.handle)||(f=h.handle=function(b){return"undefined"!==typeof q&&q.event.triggered!==b.type?q.event.dispatch.apply(a,arguments):void 0});b=(b||"").match(ca)||[""];for(h=b.length;h--;){var m=ta.exec(b[h])||[];var F=k=m[1];var n=(m[2]||"").split(".").sort();F&&(m=q.event.special[F]||{},F=(e?m.delegateType:m.bindType)||F,m=q.event.special[F]||{},k=q.extend({type:F,origType:k,data:d,handler:c,guid:c.guid,selector:e,
needsContext:e&&q.expr.match.needsContext.test(e),namespace:n.join(".")},l),(r=g[F])||(r=g[F]=[],r.delegateCount=0,m.setup&&!1!==m.setup.call(a,d,n,f)||a.addEventListener&&a.addEventListener(F,f)),m.add&&(m.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?r.splice(r.delegateCount++,0,k):r.push(k),q.event.global[F]=!0)}}},remove:function(a,b,c,d,e){var f,g,h,k,r,l=P.hasData(a)&&P.get(a);if(l&&(h=l.events)){b=(b||"").match(ca)||[""];for(k=b.length;k--;){var m=ta.exec(b[k])||[];var F=r=m[1];
var n=(m[2]||"").split(".").sort();if(F){var p=q.event.special[F]||{};F=(d?p.delegateType:p.bindType)||F;var A=h[F]||[];m=m[2]&&new RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=f=A.length;f--;){var y=A[f];!e&&r!==y.origType||c&&c.guid!==y.guid||m&&!m.test(y.namespace)||d&&d!==y.selector&&("**"!==d||!y.selector)||(A.splice(f,1),y.selector&&A.delegateCount--,p.remove&&p.remove.call(a,y))}g&&!A.length&&(p.teardown&&!1!==p.teardown.call(a,n,l.handle)||q.removeEvent(a,F,l.handle),delete h[F])}else for(F in h)q.event.remove(a,
F+b[k],c,d,!0)}q.isEmptyObject(h)&&P.remove(a,"handle events")}},dispatch:function(a){var b=q.event.fix(a),c,d,e,f=Array(arguments.length);var g=(P.get(this,"events")||{})[b.type]||[];var h=q.event.special[b.type]||{};f[0]=b;for(c=1;c<arguments.length;c++)f[c]=arguments[c];b.delegateTarget=this;if(!h.preDispatch||!1!==h.preDispatch.call(this,b)){var k=q.event.handlers.call(this,b,g);for(c=0;(e=k[c++])&&!b.isPropagationStopped();)for(b.currentTarget=e.elem,g=0;(d=e.handlers[g++])&&!b.isImmediatePropagationStopped();)if(!b.rnamespace||
b.rnamespace.test(d.namespace))b.handleObj=d,b.data=d.data,d=((q.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,f),void 0!==d&&!1===(b.result=d)&&(b.preventDefault(),b.stopPropagation());h.postDispatch&&h.postDispatch.call(this,b);return b.result}},handlers:function(a,b){var c,d=[],e=b.delegateCount,f=a.target;if(e&&f.nodeType&&!("click"===a.type&&1<=a.button))for(;f!==this;f=f.parentNode||this)if(1===f.nodeType&&("click"!==a.type||!0!==f.disabled)){var g=[];var h={};for(c=0;c<e;c++){var k=
b[c];var r=k.selector+" ";void 0===h[r]&&(h[r]=k.needsContext?-1<q(r,this).index(f):q.find(r,this,null,[f]).length);h[r]&&g.push(k)}g.length&&d.push({elem:f,handlers:g})}e<b.length&&d.push({elem:this,handlers:b.slice(e)});return d},addProp:function(a,b){Object.defineProperty(q.Event.prototype,a,{enumerable:!0,configurable:!0,get:S(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,
a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[q.expando]?a:new q.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==I()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===I()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&f(this,"input"))return this.click(),!1},_default:function(a){return f(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==
a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};q.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};q.Event=function(a,b){if(!(this instanceof q.Event))return new q.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?E:K,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):
this.type=a;b&&q.extend(this,b);this.timeStamp=a&&a.timeStamp||Date.now();this[q.expando]=!0};q.Event.prototype={constructor:q.Event,isDefaultPrevented:K,isPropagationStopped:K,isImmediatePropagationStopped:K,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=E;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=E;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=
this.originalEvent;this.isImmediatePropagationStopped=E;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};q.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;
return null==a.which&&Va.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Jb.test(a.type)?b&1?1:b&2?3:b&4?2:0:a.which}},q.event.addProp);q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){q.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=a.relatedTarget,d=a.handleObj;if(!c||c!==this&&!q.contains(this,c)){a.type=d.origType;var e=d.handler.apply(this,arguments);a.type=b}return e}}});q.fn.extend({on:function(a,
b,c,d){return A(this,a,b,c,d)},one:function(a,b,c,d){return A(this,a,b,c,d,1)},off:function(a,b,c){if(a&&a.preventDefault&&a.handleObj){var d=a.handleObj;q(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if("object"===typeof a){for(d in a)this.off(d,b,a[d]);return this}if(!1===b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=K);return this.each(function(){q.event.remove(this,a,c,b)})}});var vb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
Kb=/<script|<style|<link/i,Lb=/checked\s*(?:[^=]|=\s*.checked.)/i,Mb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;q.extend({htmlPrefilter:function(a){return a.replace(vb,"<$1></$2>")},clone:function(a,b,c){var d,e=a.cloneNode(!0),f=q.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||q.isXMLDoc(a))){var g=C(e);var h=C(a);var k=0;for(d=h.length;k<d;k++){var r=h[k],l=g[k],m=l.nodeName.toLowerCase();if("input"===m&&kb.test(r.type))l.checked=r.checked;else if("input"===
m||"textarea"===m)l.defaultValue=r.defaultValue}}if(b)if(c)for(h=h||C(a),g=g||C(e),k=0,d=h.length;k<d;k++)G(h[k],g[k]);else G(a,e);g=C(e,"script");0<g.length&&z(g,!f&&C(a,"script"));return e},cleanData:function(a){for(var b,c,d,e=q.event.special,f=0;void 0!==(c=a[f]);f++)if(xa(c)){if(b=c[P.expando]){if(b.events)for(d in b.events)e[d]?q.event.remove(c,d):q.removeEvent(c,d,b.handle);c[P.expando]=void 0}c[ma.expando]&&(c[ma.expando]=void 0)}}});q.fn.extend({detach:function(a){return V(this,a,!0)},remove:function(a){return V(this,
a)},text:function(a){return la(this,function(a){return void 0===a?q.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return M(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||y(this,a).appendChild(a)})},prepend:function(){return M(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=y(this,a);b.insertBefore(a,
b.firstChild)}})},before:function(){return M(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return M(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(q.cleanData(C(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return q.clone(this,a,b)})},html:function(a){return la(this,
function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!Kb.test(a)&&!qa[(lb.exec(a)||["",""])[1].toLowerCase()]){a=q.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(q.cleanData(C(b,!1)),b.innerHTML=a);b=0}catch(Db){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return M(this,arguments,function(b){var c=this.parentNode;0>q.inArray(this,a)&&(q.cleanData(C(this)),c&&c.replaceChild(b,
this))},a)}});q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){q.fn[a]=function(a){for(var c=[],d=q(a),e=d.length-1,f=0;f<=e;f++)a=f===e?this:this.clone(!0),q(d[f])[b](a),Xa.apply(c,a.get());return this.pushStack(c)}});var eb=new RegExp("^("+$a+")(?!px)[a-z%]+$","i"),fb=function(b){var c=b.ownerDocument.defaultView;c&&c.opener||(c=a);return c.getComputedStyle(b)},Nb=new RegExp(va.join("|"),"i");(function(){function b(){if(k){h.style.cssText=
"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";k.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";Ua.appendChild(h).appendChild(k);var b=a.getComputedStyle(k);c="1%"!==b.top;g=12===Math.round(parseFloat(b.marginLeft));k.style.right="60%";f=36===Math.round(parseFloat(b.right));d=36===Math.round(parseFloat(b.width));k.style.position="absolute";e=36===k.offsetWidth||"absolute";Ua.removeChild(h);
k=null}}var c,d,e,f,g,h=B.createElement("div"),k=B.createElement("div");k.style&&(k.style.backgroundClip="content-box",k.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===k.style.backgroundClip,q.extend(Y,{boxSizingReliable:function(){b();return d},pixelBoxStyles:function(){b();return f},pixelPosition:function(){b();return c},reliableMarginLeft:function(){b();return g},scrollboxSize:function(){b();return e}}))})();var Ob=/^(none|table(?!-c[ea]).+)/,wb=/^--/,Pb={position:"absolute",
visibility:"hidden",display:"block"},xb={letterSpacing:"0",fontWeight:"400"},yb=["Webkit","Moz","ms"],zb=B.createElement("div").style;q.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=T(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f=v(b),
g=wb.test(b),h=a.style;g||(b=X(f));var k=q.cssHooks[b]||q.cssHooks[f];if(void 0!==c){var r=typeof c;"string"===r&&(e=Ha.exec(c))&&e[1]&&(c=D(a,b,e),r="number");null!=c&&c===c&&("number"===r&&(c+=e&&e[3]||(q.cssNumber[f]?"":"px")),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(h[b]="inherit"),k&&"set"in k&&void 0===(c=k.set(a,c,d))||(g?h.setProperty(b,c):h[b]=c))}else return k&&"get"in k&&void 0!==(e=k.get(a,!1,d))?e:h[b]}},css:function(a,b,c,d){var e;var f=v(b);wb.test(b)||(b=X(f));(f=q.cssHooks[b]||
q.cssHooks[f])&&"get"in f&&(e=f.get(a,!0,c));void 0===e&&(e=T(a,b,d));"normal"===e&&b in xb&&(e=xb[b]);return""===c||c?(a=parseFloat(e),!0===c||isFinite(a)?a||0:e):e}});q.each(["height","width"],function(a,b){q.cssHooks[b]={get:function(a,c,d){if(c)return!Ob.test(q.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?da(a,b,d):Ia(a,Pb,function(){return da(a,b,d)})},set:function(a,c,d){var e,f=fb(a),g="border-box"===q.css(a,"boxSizing",!1,f);d=d&&Q(a,b,d,g,f);g&&Y.scrollboxSize()===
f.position&&(d-=Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(f[b])-Q(a,b,"border",!1,f)-.5));d&&(e=Ha.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=q.css(a,b));return O(a,c,d)}}});q.cssHooks.marginLeft=U(Y.reliableMarginLeft,function(a,b){if(b)return(parseFloat(T(a,"marginLeft"))||a.getBoundingClientRect().left-Ia(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});q.each({margin:"",padding:"",border:"Width"},function(a,b){q.cssHooks[a+b]={expand:function(c){var d=
0,e={};for(c="string"===typeof c?c.split(" "):[c];4>d;d++)e[a+va[d]+b]=c[d]||c[d-2]||c[0];return e}};"margin"!==a&&(q.cssHooks[a+b].set=O)});q.fn.extend({css:function(a,b){return la(this,function(a,b,c){var d,e={},f=0;if(Array.isArray(b)){c=fb(a);for(d=b.length;f<d;f++)e[b[f]]=q.css(a,b[f],!1,c);return e}return void 0!==c?q.style(a,b,c):q.css(a,b)},a,b,1<arguments.length)}});q.Tween=N;N.prototype={constructor:N,init:function(a,b,c,d,e,f){this.elem=a;this.prop=c;this.easing=e||q.easing._default;this.options=
b;this.start=this.now=this.cur();this.end=d;this.unit=f||(q.cssNumber[c]?"":"px")},cur:function(){var a=N.propHooks[this.prop];return a&&a.get?a.get(this):N.propHooks._default.get(this)},run:function(a){var b,c=N.propHooks[this.prop];this.pos=this.options.duration?b=q.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):N.propHooks._default.set(this);
return this}};N.prototype.init.prototype=N.prototype;N.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=q.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(q.fx.step[a.prop])q.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[q.cssProps[a.prop]]&&!q.cssHooks[a.prop]?a.elem[a.prop]=a.now:q.style(a.elem,a.prop,a.now+a.unit)}}};N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&
a.elem.parentNode&&(a.elem[a.prop]=a.now)}};q.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};q.fx=N.prototype.init;q.fx.step={};var Sa,ib,Qb=/^(?:toggle|show|hide)$/,Rb=/queueHooks$/;q.Animation=q.extend(Z,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);D(c.elem,a,Ha.exec(b),c);return c}]},tweener:function(a,b){S(a)?(b=a,a=["*"]):a=a.match(ca);for(var c,d=0,e=a.length;d<e;d++)c=a[d],Z.tweeners[c]=Z.tweeners[c]||[],Z.tweeners[c].unshift(b)},
prefilters:[function(a,b,c){var d;var e="width"in b||"height"in b;var f=this,g={},h=a.style,k=a.nodeType&&Ma(a),l=P.get(a,"fxshow");if(!c.queue){var m=q._queueHooks(a,"fx");if(null==m.unqueued){m.unqueued=0;var n=m.empty.fire;m.empty.fire=function(){m.unqueued||n()}}m.unqueued++;f.always(function(){f.always(function(){m.unqueued--;q.queue(a,"fx").length||m.empty.fire()})})}for(d in b){var p=b[d];if(Qb.test(p)){delete b[d];var F=F||"toggle"===p;if(p===(k?"hide":"show"))if("show"===p&&l&&void 0!==l[d])k=
!0;else continue;g[d]=l&&l[d]||q.style(a,d)}}if((b=!q.isEmptyObject(b))||!q.isEmptyObject(g)){if(e&&1===a.nodeType){c.overflow=[h.overflow,h.overflowX,h.overflowY];var A=l&&l.display;null==A&&(A=P.get(a,"display"));e=q.css(a,"display");"none"===e&&(A?e=A:(r([a],!0),A=a.style.display||A,e=q.css(a,"display"),r([a])));("inline"===e||"inline-block"===e&&null!=A)&&"none"===q.css(a,"float")&&(b||(f.done(function(){h.display=A}),null==A&&(e=h.display,A="none"===e?"":e)),h.display="inline-block")}c.overflow&&
(h.overflow="hidden",f.always(function(){h.overflow=c.overflow[0];h.overflowX=c.overflow[1];h.overflowY=c.overflow[2]}));b=!1;for(d in g)b||(l?"hidden"in l&&(k=l.hidden):l=P.access(a,"fxshow",{display:A}),F&&(l.hidden=!k),k&&r([a],!0),f.done(function(){k||r([a]);P.remove(a,"fxshow");for(d in g)q.style(a,d,g[d])})),b=Ca(k?l[d]:0,d,f),d in l||(l[d]=b.start,k&&(b.end=b.start,b.start=0))}}],prefilter:function(a,b){b?Z.prefilters.unshift(a):Z.prefilters.push(a)}});q.speed=function(a,b,c){var d=a&&"object"===
typeof a?q.extend({},a):{complete:c||!c&&b||S(a)&&a,duration:a,easing:c&&b||b&&!S(b)&&b};q.fx.off?d.duration=0:"number"!==typeof d.duration&&(d.duration=d.duration in q.fx.speeds?q.fx.speeds[d.duration]:q.fx.speeds._default);if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){S(d.old)&&d.old.call(this);d.queue&&q.dequeue(this,d.queue)};return d};q.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ma).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,
b,c,d){var e=q.isEmptyObject(a),f=q.speed(b,c,d);b=function(){var b=Z(this,q.extend({},a),f);(e||P.get(this,"finish"))&&b.stop(!0)};b.finish=b;return e||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=q.timers,g=P.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Rb.test(e)&&
d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||q.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b=P.get(this),c=b[a+"queue"];var d=b[a+"queueHooks"];var e=q.timers,f=c?c.length:0;b.finish=!0;q.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=e.length;d--;)e[d].elem===this&&e[d].queue===a&&(e[d].anim.stop(!0),e.splice(d,1));for(d=0;d<f;d++)c[d]&&c[d].finish&&c[d].finish.call(this);
delete b.finish})}});q.each(["toggle","show","hide"],function(a,b){var c=q.fn[b];q.fn[b]=function(a,d,e){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(ya(b,!0),a,d,e)}});q.each({slideDown:ya("show"),slideUp:ya("hide"),slideToggle:ya("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){q.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});q.timers=[];q.fx.tick=function(){var a=0,b=q.timers;for(Sa=Date.now();a<b.length;a++){var c=
b[a];c()||b[a]!==c||b.splice(a--,1)}b.length||q.fx.stop();Sa=void 0};q.fx.timer=function(a){q.timers.push(a);q.fx.start()};q.fx.interval=13;q.fx.start=function(){ib||(ib=!0,ea())};q.fx.stop=function(){ib=null};q.fx.speeds={slow:600,fast:200,_default:400};q.fn.delay=function(b,c){b=q.fx?q.fx.speeds[b]||b:b;return this.queue(c||"fx",function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})};(function(){var a=B.createElement("input"),b=B.createElement("select").appendChild(B.createElement("option"));
a.type="checkbox";Y.checkOn=""!==a.value;Y.optSelected=b.selected;a=B.createElement("input");a.value="t";a.type="radio";Y.radioValue="t"===a.value})();var ab=q.expr.attrHandle;q.fn.extend({attr:function(a,b){return la(this,q.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){q.removeAttr(this,a)})}});q.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f){if("undefined"===typeof a.getAttribute)return q.prop(a,b,c);1===f&&q.isXMLDoc(a)||(e=q.attrHooks[b.toLowerCase()]||
(q.expr.match.bool.test(b)?Sb:void 0));if(void 0!==c){if(null===c){q.removeAttr(a,b);return}if(e&&"set"in e&&void 0!==(d=e.set(a,c,b)))return d;a.setAttribute(b,c+"");return c}if(e&&"get"in e&&null!==(d=e.get(a,b)))return d;d=q.find.attr(a,b);return null==d?void 0:d}},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&f(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},removeAttr:function(a,b){var c=0,d=b&&b.match(ca);if(d&&1===a.nodeType)for(;b=d[c++];)a.removeAttribute(b)}});
var Sb={set:function(a,b,c){!1===b?q.removeAttr(a,c):a.setAttribute(c,c);return c}};q.each(q.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ab[b]||q.find.attr;ab[b]=function(a,b,d){var e=b.toLowerCase();if(!d){var f=ab[e];ab[e]=g;var g=null!=c(a,b,d)?e:null;ab[e]=f}return g}});var Tb=/^(?:input|select|textarea|button)$/i,Ub=/^(?:a|area)$/i;q.fn.extend({prop:function(a,b){return la(this,q.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[q.propFix[a]||
a]})}});q.extend({prop:function(a,b,c){var d,e=a.nodeType;if(3!==e&&8!==e&&2!==e){if(1!==e||!q.isXMLDoc(a)){b=q.propFix[b]||b;var f=q.propHooks[b]}return void 0!==c?f&&"set"in f&&void 0!==(d=f.set(a,c,b))?d:a[b]=c:f&&"get"in f&&null!==(d=f.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=q.find.attr(a,"tabindex");return b?parseInt(b,10):Tb.test(a.nodeName)||Ub.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Y.optSelected||(q.propHooks.selected={get:function(a){(a=
a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});q.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){q.propFix[this.toLowerCase()]=this});q.fn.extend({addClass:function(a){var b,c,d,e,f=0;if(S(a))return this.each(function(b){q(this).addClass(a.call(this,b,na(this)))});var g=ha(a);if(g.length)for(;b=this[f++];){var h=
na(b);if(c=1===b.nodeType&&" "+sa(h)+" "){for(e=0;d=g[e++];)0>c.indexOf(" "+d+" ")&&(c+=d+" ");c=sa(c);h!==c&&b.setAttribute("class",c)}}return this},removeClass:function(a){var b,c,d,e,f=0;if(S(a))return this.each(function(b){q(this).removeClass(a.call(this,b,na(this)))});if(!arguments.length)return this.attr("class","");var g=ha(a);if(g.length)for(;b=this[f++];){var h=na(b);if(c=1===b.nodeType&&" "+sa(h)+" "){for(e=0;d=g[e++];)for(;-1<c.indexOf(" "+d+" ");)c=c.replace(" "+d+" "," ");c=sa(c);h!==
c&&b.setAttribute("class",c)}}return this},toggleClass:function(a,b){var c=typeof a,d="string"===c||Array.isArray(a);return"boolean"===typeof b&&d?b?this.addClass(a):this.removeClass(a):S(a)?this.each(function(c){q(this).toggleClass(a.call(this,c,na(this),b),b)}):this.each(function(){var b,e;if(d){var f=0;var g=q(this);for(e=ha(a);b=e[f++];)g.hasClass(b)?g.removeClass(b):g.addClass(b)}else if(void 0===a||"boolean"===c)(b=na(this))&&P.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",
b||!1===a?"":P.get(this,"__className__")||"")})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+sa(na(b))+" ").indexOf(a))return!0;return!1}});var Vb=/\r/g;q.fn.extend({val:function(a){var b,c,d=this[0];if(arguments.length){var e=S(a);return this.each(function(c){1===this.nodeType&&(c=e?a.call(this,c,q(this).val()):a,null==c?c="":"number"===typeof c?c+="":Array.isArray(c)&&(c=q.map(c,function(a){return null==a?"":a+""})),b=q.valHooks[this.type]||q.valHooks[this.nodeName.toLowerCase()],
b&&"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))})}if(d){if((b=q.valHooks[d.type]||q.valHooks[d.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(d,"value")))return c;c=d.value;return"string"===typeof c?c.replace(Vb,""):null==c?"":c}}});q.extend({valHooks:{option:{get:function(a){var b=q.find.attr(a,"value");return null!=b?b:sa(q.text(a))}},select:{get:function(a){var b=a.options,c=a.selectedIndex,d="select-one"===a.type,e=d?null:[],g=d?c+1:b.length;for(a=0>c?g:d?c:0;a<g;a++){var h=
b[a];if(!(!h.selected&&a!==c||h.disabled||h.parentNode.disabled&&f(h.parentNode,"optgroup"))){h=q(h).val();if(d)return h;e.push(h)}}return e},set:function(a,b){for(var c,d=a.options,e=q.makeArray(b),f=d.length;f--;)if(b=d[f],b.selected=-1<q.inArray(q.valHooks.option.get(b),e))c=!0;c||(a.selectedIndex=-1);return e}}}});q.each(["radio","checkbox"],function(){q.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=-1<q.inArray(q(a).val(),b)}};Y.checkOn||(q.valHooks[this].get=function(a){return null===
a.getAttribute("value")?"on":a.value})});Y.focusin="onfocusin"in a;var Ab=/^(?:focusinfocus|focusoutblur)$/,Bb=function(a){a.stopPropagation()};q.extend(q.event,{trigger:function(b,c,d,e){var f,g,h,k=[d||B],r=ra.call(b,"type")?b.type:b;var l=ra.call(b,"namespace")?b.namespace.split("."):[];var m=h=f=d=d||B;if(3!==d.nodeType&&8!==d.nodeType&&!Ab.test(r+q.event.triggered)){-1<r.indexOf(".")&&(l=r.split("."),r=l.shift(),l.sort());var n=0>r.indexOf(":")&&"on"+r;b=b[q.expando]?b:new q.Event(r,"object"===
typeof b&&b);b.isTrigger=e?2:3;b.namespace=l.join(".");b.rnamespace=b.namespace?new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b.result=void 0;b.target||(b.target=d);c=null==c?[b]:q.makeArray(c,[b]);l=q.event.special[r]||{};if(e||!l.trigger||!1!==l.trigger.apply(d,c)){if(!e&&!l.noBubble&&!Fa(d)){var p=l.delegateType||r;Ab.test(p+r)||(m=m.parentNode);for(;m;m=m.parentNode)k.push(m),f=m;f===(d.ownerDocument||B)&&k.push(f.defaultView||f.parentWindow||a)}for(f=0;(m=k[f++])&&!b.isPropagationStopped();)h=
m,b.type=1<f?p:l.bindType||r,(g=(P.get(m,"events")||{})[b.type]&&P.get(m,"handle"))&&g.apply(m,c),(g=n&&m[n])&&g.apply&&xa(m)&&(b.result=g.apply(m,c),!1===b.result&&b.preventDefault());b.type=r;e||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(k.pop(),c)||!xa(d)||!n||!S(d[r])||Fa(d)||((f=d[n])&&(d[n]=null),q.event.triggered=r,b.isPropagationStopped()&&h.addEventListener(r,Bb),d[r](),b.isPropagationStopped()&&h.removeEventListener(r,Bb),q.event.triggered=void 0,f&&(d[n]=f));return b.result}}},
simulate:function(a,b,c){a=q.extend(new q.Event,c,{type:a,isSimulated:!0});q.event.trigger(a,null,b)}});q.fn.extend({trigger:function(a,b){return this.each(function(){q.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return q.event.trigger(a,b,c,!0)}});Y.focusin||q.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){q.event.simulate(b,a.target,q.event.fix(a))};q.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=P.access(d,b);e||d.addEventListener(a,
c,!0);P.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=P.access(d,b)-1;e?P.access(d,b,e):(d.removeEventListener(a,c,!0),P.remove(d,b))}}});var bb=a.location,Cb=Date.now(),pb=/\?/;q.parseXML=function(b){if(!b||"string"!==typeof b)return null;try{var c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(cb){c=void 0}c&&!c.getElementsByTagName("parsererror").length||q.error("Invalid XML: "+b);return c};var Wb=/\[\]$/,Fb=/\r?\n/g,$b=/^(?:submit|button|image|reset|file)$/i,
ac=/^(?:input|select|textarea|keygen)/i;q.param=function(a,b){var c,d=[],e=function(a,b){b=S(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==b?"":b)};if(Array.isArray(a)||a.jquery&&!q.isPlainObject(a))q.each(a,function(){e(this.name,this.value)});else for(c in a)Ea(c,a[c],b,e);return d.join("&")};q.fn.extend({serialize:function(){return q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=q.prop(this,"elements");return a?q.makeArray(a):
this}).filter(function(){var a=this.type;return this.name&&!q(this).is(":disabled")&&ac.test(this.nodeName)&&!$b.test(a)&&(this.checked||!kb.test(a))}).map(function(a,b){a=q(this).val();return null==a?null:Array.isArray(a)?q.map(a,function(a){return{name:b.name,value:a.replace(Fb,"\r\n")}}):{name:b.name,value:a.replace(Fb,"\r\n")}}).get()}});var bc=/%20/g,cc=/#.*$/,dc=/([?&])_=[^&]*/,ec=/^(.*?):[ \t]*([^\r\n]*)$/mg,fc=/^(?:GET|HEAD)$/,gc=/^\/\//,Gb={},rb={},Hb="*/".concat("*"),tb=B.createElement("a");
tb.href=bb.href;q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bb.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",
json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ka(ka(a,q.ajaxSettings),b):ka(q.ajaxSettings,a)},ajaxPrefilter:Da(Gb),ajaxTransport:Da(rb),ajax:function(b,c){function d(b,c,d,g){var r=c;if(!F){F=!0;h&&a.clearTimeout(h);e=void 0;f=g||"";H.readyState=0<b?4:0;g=200<=b&&300>b||304===b;if(d){var t=l;for(var u=H,v,G,z,J,w=t.contents,I=t.dataTypes;"*"===I[0];)I.shift(),void 0===
v&&(v=t.mimeType||u.getResponseHeader("Content-Type"));if(v)for(G in w)if(w[G]&&w[G].test(v)){I.unshift(G);break}if(I[0]in d)z=I[0];else{for(G in d){if(!I[0]||t.converters[G+" "+I[0]]){z=G;break}J||(J=G)}z=z||J}z?(z!==I[0]&&I.unshift(z),t=d[z]):t=void 0}a:{d=l;v=t;G=H;z=g;var C;u={};w=d.dataTypes.slice();if(w[1])for(E in d.converters)u[E.toLowerCase()]=d.converters[E];for(J=w.shift();J;){d.responseFields[J]&&(G[d.responseFields[J]]=v);!K&&z&&d.dataFilter&&(v=d.dataFilter(v,d.dataType));var K=J;if(J=
w.shift())if("*"===J)J=K;else if("*"!==K&&K!==J){var E=u[K+" "+J]||u["* "+J];if(!E)for(C in u)if(t=C.split(" "),t[1]===J&&(E=u[K+" "+t[0]]||u["* "+t[0]])){!0===E?E=u[C]:!0!==u[C]&&(J=t[0],w.unshift(t[1]));break}if(!0!==E)if(E&&d.throws)v=E(v);else try{v=E(v)}catch(Zb){t={state:"parsererror",error:E?Zb:"No conversion from "+K+" to "+J};break a}}}t={state:"success",data:v}}if(g)if(l.ifModified&&((r=H.getResponseHeader("Last-Modified"))&&(q.lastModified[x]=r),(r=H.getResponseHeader("etag"))&&(q.etag[x]=
r)),204===b||"HEAD"===l.type)r="nocontent";else if(304===b)r="notmodified";else{r=t.state;var B=t.data;var D=t.error;g=!D}else if(D=r,b||!r)r="error",0>b&&(b=0);H.status=b;H.statusText=(c||r)+"";g?p.resolveWith(m,[B,r,H]):p.rejectWith(m,[H,r,D]);H.statusCode(y);y=void 0;k&&n.trigger(g?"ajaxSuccess":"ajaxError",[H,l,g?B:D]);A.fireWith(m,[H,r]);k&&(n.trigger("ajaxComplete",[H,l]),--q.active||q.event.trigger("ajaxStop"))}}"object"===typeof b&&(c=b,b=void 0);c=c||{};var e,f,g,h,k,r,l=q.ajaxSetup({},c),
m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?q(m):q.event,p=q.Deferred(),A=q.Callbacks("once memory"),y=l.statusCode||{},t={},u={},v="canceled",H={readyState:0,getResponseHeader:function(a){var b;if(F){if(!g)for(g={};b=ec.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return F?f:null},setRequestHeader:function(a,b){null==F&&(a=u[a.toLowerCase()]=u[a.toLowerCase()]||a,t[a]=b);return this},overrideMimeType:function(a){null==F&&
(l.mimeType=a);return this},statusCode:function(a){var b;if(a)if(F)H.always(a[H.status]);else for(b in a)y[b]=[y[b],a[b]];return this},abort:function(a){a=a||v;e&&e.abort(a);d(0,a);return this}};p.promise(H);l.url=((b||l.url||bb.href)+"").replace(gc,bb.protocol+"//");l.type=c.method||c.type||l.method||l.type;l.dataTypes=(l.dataType||"*").toLowerCase().match(ca)||[""];if(null==l.crossDomain){b=B.createElement("a");try{b.href=l.url,b.href=b.href,l.crossDomain=tb.protocol+"//"+tb.host!==b.protocol+"//"+
b.host}catch(sb){l.crossDomain=!0}}l.data&&l.processData&&"string"!==typeof l.data&&(l.data=q.param(l.data,l.traditional));Aa(Gb,l,c,H);if(F)return H;(k=q.event&&l.global)&&0===q.active++&&q.event.trigger("ajaxStart");l.type=l.type.toUpperCase();l.hasContent=!fc.test(l.type);var x=l.url.replace(cc,"");l.hasContent?l.data&&l.processData&&0===(l.contentType||"").indexOf("application/x-www-form-urlencoded")&&(l.data=l.data.replace(bc,"+")):(b=l.url.slice(x.length),l.data&&(l.processData||"string"===
typeof l.data)&&(x+=(pb.test(x)?"&":"?")+l.data,delete l.data),!1===l.cache&&(x=x.replace(dc,"$1"),b=(pb.test(x)?"&":"?")+"_="+Cb++ +b),l.url=x+b);l.ifModified&&(q.lastModified[x]&&H.setRequestHeader("If-Modified-Since",q.lastModified[x]),q.etag[x]&&H.setRequestHeader("If-None-Match",q.etag[x]));(l.data&&l.hasContent&&!1!==l.contentType||c.contentType)&&H.setRequestHeader("Content-Type",l.contentType);H.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+
("*"!==l.dataTypes[0]?", "+Hb+"; q=0.01":""):l.accepts["*"]);for(r in l.headers)H.setRequestHeader(r,l.headers[r]);if(l.beforeSend&&(!1===l.beforeSend.call(m,H,l)||F))return H.abort();v="abort";A.add(l.complete);H.done(l.success);H.fail(l.error);if(e=Aa(rb,l,c,H)){H.readyState=1;k&&n.trigger("ajaxSend",[H,l]);if(F)return H;l.async&&0<l.timeout&&(h=a.setTimeout(function(){H.abort("timeout")},l.timeout));try{var F=!1;e.send(t,d)}catch(sb){if(F)throw sb;d(-1,sb)}}else d(-1,"No Transport");return H},
getJSON:function(a,b,c){return q.get(a,b,c,"json")},getScript:function(a,b){return q.get(a,void 0,b,"script")}});q.each(["get","post"],function(a,b){q[b]=function(a,c,d,e){S(c)&&(e=e||d,d=c,c=void 0);return q.ajax(q.extend({url:a,type:b,dataType:e,data:c,success:d},q.isPlainObject(a)&&a))}});q._evalUrl=function(a){return q.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};q.fn.extend({wrapAll:function(a){this[0]&&(S(a)&&(a=a.call(this[0])),a=q(a,this[0].ownerDocument).eq(0).clone(!0),
this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return S(a)?this.each(function(b){q(this).wrapInner(a.call(this,b))}):this.each(function(){var b=q(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=S(a);return this.each(function(c){q(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){this.parent(a).not("body").each(function(){q(this).replaceWith(this.childNodes)});
return this}});q.expr.pseudos.hidden=function(a){return!q.expr.pseudos.visible(a)};q.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};q.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(F){}};var hc={0:200,1223:204},db=q.ajaxSettings.xhr();Y.cors=!!db&&"withCredentials"in db;Y.ajax=db=!!db;q.ajaxTransport(function(b){var c,d;if(Y.cors||db&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();h.open(b.type,b.url,b.async,b.username,
b.password);if(b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType);b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.ontimeout=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!==typeof h.status?f(0,"error"):f(h.status,h.statusText):f(hc[h.status]||h.status,h.statusText,"text"!==
(h.responseType||"text")||"string"!==typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}};h.onload=c();d=h.onerror=h.ontimeout=c("error");void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})};c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(Xb){if(c)throw Xb;}},abort:function(){c&&c()}}});q.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){q.globalEval(a);return a}}});q.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});q.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=q("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&e("error"===a.type?404:200,a.type)});B.head.appendChild(b[0])},abort:function(){c&&c()}}}});
var Ib=[],ub=/(=)\?(?=&|$)|\?\?/;q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ib.pop()||q.expando+"_"+Cb++;this[a]=!0;return a}});q.ajaxPrefilter("json jsonp",function(b,c,d){var e,f=!1!==b.jsonp&&(ub.test(b.url)?"url":"string"===typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ub.test(b.data)&&"data");if(f||"jsonp"===b.dataTypes[0]){var g=b.jsonpCallback=S(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback;f?b[f]=b[f].replace(ub,"$1"+g):!1!==b.jsonp&&
(b.url+=(pb.test(b.url)?"&":"?")+b.jsonp+"="+g);b.converters["script json"]=function(){e||q.error(g+" was not called");return e[0]};b.dataTypes[0]="json";var h=a[g];a[g]=function(){e=arguments};d.always(function(){void 0===h?q(a).removeProp(g):a[g]=h;b[g]&&(b.jsonpCallback=c.jsonpCallback,Ib.push(g));e&&S(h)&&h(e[0]);e=h=void 0});return"script"}});Y.createHTMLDocument=function(){var a=B.implementation.createHTMLDocument("").body;a.innerHTML="<form></form><form></form>";return 2===a.childNodes.length}();
q.parseHTML=function(a,b,c){if("string"!==typeof a)return[];"boolean"===typeof b&&(c=b,b=!1);if(!b)if(Y.createHTMLDocument){b=B.implementation.createHTMLDocument("");var d=b.createElement("base");d.href=B.location.href;b.head.appendChild(d)}else b=B;d=oa.exec(a);c=!c&&[];if(d)return[b.createElement(d[1])];d=x([a],b,c);c&&c.length&&q(c).remove();return q.merge([],d.childNodes)};q.fn.load=function(a,b,c){var d,e,f=this,g=a.indexOf(" ");if(-1<g){var h=sa(a.slice(g));a=a.slice(0,g)}S(b)?(c=b,b=void 0):
b&&"object"===typeof b&&(d="POST");0<f.length&&q.ajax({url:a,type:d||"GET",dataType:"html",data:b}).done(function(a){e=arguments;f.html(h?q("<div>").append(q.parseHTML(a)).find(h):a)}).always(c&&function(a,b){f.each(function(){c.apply(this,e||[a.responseText,b,a])})});return this};q.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){q.fn[b]=function(a){return this.on(b,a)}});q.expr.pseudos.animated=function(a){return q.grep(q.timers,function(b){return a===
b.elem}).length};q.offset={setOffset:function(a,b,c){var d=q.css(a,"position"),e=q(a),f={};"static"===d&&(a.style.position="relative");var g=e.offset();var h=q.css(a,"top");var k=q.css(a,"left");("absolute"===d||"fixed"===d)&&-1<(h+k).indexOf("auto")?(k=e.position(),h=k.top,k=k.left):(h=parseFloat(h)||0,k=parseFloat(k)||0);S(b)&&(b=b.call(a,c,q.extend({},g)));null!=b.top&&(f.top=b.top-g.top+h);null!=b.left&&(f.left=b.left-g.left+k);"using"in b?b.using.call(a,f):e.css(f)}};q.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(b){q.offset.setOffset(this,a,b)});var b;if(b=this[0]){if(!b.getClientRects().length)return{top:0,left:0};var c=b.getBoundingClientRect();b=b.ownerDocument.defaultView;return{top:c.top+b.pageYOffset,left:c.left+b.pageXOffset}}},position:function(){if(this[0]){var a,b=this[0],c={top:0,left:0};if("fixed"===q.css(b,"position"))var d=b.getBoundingClientRect();else{d=this.offset();var e=b.ownerDocument;for(a=b.offsetParent||e.documentElement;a&&(a===e.body||a===e.documentElement)&&
"static"===q.css(a,"position");)a=a.parentNode;a&&a!==b&&1===a.nodeType&&(c=q(a).offset(),c.top+=q.css(a,"borderTopWidth",!0),c.left+=q.css(a,"borderLeftWidth",!0))}return{top:d.top-c.top-q.css(b,"marginTop",!0),left:d.left-c.left-q.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===q.css(a,"position");)a=a.offsetParent;return a||Ua})}});q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===
b;q.fn[a]=function(d){return la(this,function(a,d,e){if(Fa(a))var f=a;else 9===a.nodeType&&(f=a.defaultView);if(void 0===e)return f?f[b]:a[d];f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e},a,d,arguments.length)}});q.each(["top","left"],function(a,b){q.cssHooks[b]=U(Y.pixelPosition,function(a,c){if(c)return c=T(a,b),eb.test(c)?q(a).position()[b]+"px":c})});q.each({Height:"height",Width:"width"},function(a,b){q.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){q.fn[d]=function(e,
f){var g=arguments.length&&(c||"boolean"!==typeof e),h=c||(!0===e||!0===f?"margin":"border");return la(this,function(b,c,e){return Fa(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===e?q.css(b,c,h):q.style(b,c,e,h)},b,g?e:void 0,g)}})});q.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(a,b){q.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});q.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});q.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});q.proxy=function(a,b){if("string"===typeof b){var c=a[b];b=a;a=
c}if(S(a)){var d=L.call(arguments,2);c=function(){return a.apply(b||this,d.concat(L.call(arguments)))};c.guid=a.guid=a.guid||q.guid++;return c}};q.holdReady=function(a){a?q.readyWait++:q.ready(!0)};q.isArray=Array.isArray;q.parseJSON=JSON.parse;q.nodeName=f;q.isFunction=S;q.isWindow=Fa;q.camelCase=v;q.type=d;q.now=Date.now;q.isNumeric=function(a){var b=q.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))};"function"===typeof define&&define.amd&&define("jquery",[],function(){return q});
var ic=a.jQuery,jc=a.$;q.noConflict=function(b){a.$===q&&(a.$=jc);b&&a.jQuery===q&&(a.jQuery=ic);return q};b||(a.jQuery=a.$=q);return q});/*
 Bootstrap v4.1.3 (https://getbootstrap.com/)
 Copyright 2011-2018 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
*/
var Bootstrap=void 0;
(function(a,b){"object"===typeof exports&&"undefined"!==typeof module?b(exports,require("jquery"),require("popper.js")):"function"===typeof define&&define.amd?define(["exports","jquery","popper.js"],b):b(a.bootstrap={},a.jQuery,a.Popper)})(this,function(a,b,c){function d(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function e(a,b,c){b&&d(a.prototype,b);c&&d(a,c);return a}function f(a){for(var b=
1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})));d.forEach(function(b){var d=c[b];b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d})}return a}function h(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.__proto__=b}b=b&&b.hasOwnProperty("default")?
b["default"]:b;c=c&&c.hasOwnProperty("default")?c["default"]:c;var g=function(a){var b={TRANSITION_END:"bsTransitionEnd",getUID:function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a},getSelectorFromElement:function(a){var b=a.getAttribute("data-target");b&&"#"!==b||(b=a.getAttribute("href")||"");try{return document.querySelector(b)?b:null}catch(E){return null}},getTransitionDurationFromElement:function(b){if(!b)return 0;b=a(b).css("transition-duration");if(!parseFloat(b))return 0;
b=b.split(",")[0];return 1E3*parseFloat(b)},reflow:function(a){return a.offsetHeight},triggerTransitionEnd:function(b){a(b).trigger("transitionend")},supportsTransitionEnd:function(){return!0},isElement:function(a){return(a[0]||a).nodeType},typeCheckConfig:function(a,c,d){for(var e in d)if(Object.prototype.hasOwnProperty.call(d,e)){var f=d[e],g=c[e];g=g&&b.isElement(g)?"element":{}.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase();if(!(new RegExp(f)).test(g))throw Error(a.toUpperCase()+": "+
('Option "'+e+'" provided type "'+g+'" ')+('but expected type "'+f+'".'));}}};a.fn.emulateTransitionEnd=function(c){var d=this,e=!1;a(this).one(b.TRANSITION_END,function(){e=!0});setTimeout(function(){e||b.triggerTransitionEnd(d)},c);return this};a.event.special[b.TRANSITION_END]=function(){return{bindType:"transitionend",delegateType:"transitionend",handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}}}();return b}(b),k=function(a){var b=a.fn.alert,c=function(){function b(a){this._element=
a}var c=b.prototype;c.close=function(a){var b=this._element;a&&(b=this._getRootElement(a));this._triggerCloseEvent(b).isDefaultPrevented()||this._removeElement(b)};c.dispose=function(){a.removeData(this._element,"bs.alert");this._element=null};c._getRootElement=function(b){var c=g.getSelectorFromElement(b),d=!1;c&&(d=document.querySelector(c));d||(d=a(b).closest(".alert")[0]);return d};c._triggerCloseEvent=function(b){var c=a.Event("close.bs.alert");a(b).trigger(c);return c};c._removeElement=function(b){var c=
this;a(b).removeClass("show");if(a(b).hasClass("fade")){var d=g.getTransitionDurationFromElement(b);a(b).one(g.TRANSITION_END,function(a){return c._destroyElement(b,a)}).emulateTransitionEnd(d)}else this._destroyElement(b)};c._destroyElement=function(b){a(b).detach().trigger("closed.bs.alert").remove()};b._jQueryInterface=function(c){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||(e=new b(this),d.data("bs.alert",e));if("close"===c)e[c](this)})};b._handleDismiss=function(a){return function(b){b&&
b.preventDefault();a.close(this)}};e(b,null,[{key:"VERSION",get:function(){return"4.1.3"}}]);return b}();a(document).on("click.bs.alert.data-api",{DISMISS:'[data-dismiss="alert"]'}.DISMISS,c._handleDismiss(new c));a.fn.alert=c._jQueryInterface;a.fn.alert.Constructor=c;a.fn.alert.noConflict=function(){a.fn.alert=b;return c._jQueryInterface};return c}(b),p=function(a){var b=a.fn.button,c=function(){function b(a){this._element=a}var c=b.prototype;c.toggle=function(){var b=!0,c=!0,d=a(this._element).closest('[data-toggle="buttons"]')[0];
if(d){var e=this._element.querySelector("input");if(e){"radio"===e.type&&(e.checked&&this._element.classList.contains("active")?b=!1:(c=d.querySelector(".active"))&&a(c).removeClass("active"));if(b){if(e.hasAttribute("disabled")||d.hasAttribute("disabled")||e.classList.contains("disabled")||d.classList.contains("disabled"))return;e.checked=!this._element.classList.contains("active");a(e).trigger("change")}e.focus();c=!1}}c&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active"));
b&&a(this._element).toggleClass("active")};c.dispose=function(){a.removeData(this._element,"bs.button");this._element=null};b._jQueryInterface=function(c){return this.each(function(){var d=a(this).data("bs.button");d||(d=new b(this),a(this).data("bs.button",d));if("toggle"===c)d[c]()})};e(b,null,[{key:"VERSION",get:function(){return"4.1.3"}}]);return b}();a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(b){b.preventDefault();b=b.target;a(b).hasClass("btn")||(b=a(b).closest(".btn"));
c._jQueryInterface.call(a(b),"toggle")}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){var c=a(b.target).closest(".btn")[0];a(c).toggleClass("focus",/^focus(in)?$/.test(b.type))});a.fn.button=c._jQueryInterface;a.fn.button.Constructor=c;a.fn.button.noConflict=function(){a.fn.button=b;return c._jQueryInterface};return c}(b),l=function(a){var b=a.fn.carousel,c={interval:5E3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},d={interval:"(number|boolean)",keyboard:"boolean",
slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},h=function(){function b(b,c){this._activeElement=this._interval=this._items=null;this._isSliding=this._isPaused=!1;this.touchTimeout=null;this._config=this._getConfig(c);this._element=a(b)[0];this._indicatorsElement=this._element.querySelector(".carousel-indicators");this._addEventListeners()}var h=b.prototype;h.next=function(){this._isSliding||this._slide("next")};h.nextWhenVisible=function(){!document.hidden&&a(this._element).is(":visible")&&
"hidden"!==a(this._element).css("visibility")&&this.next()};h.prev=function(){this._isSliding||this._slide("prev")};h.pause=function(a){a||(this._isPaused=!0);this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(g.triggerTransitionEnd(this._element),this.cycle(!0));clearInterval(this._interval);this._interval=null};h.cycle=function(a){a||(this._isPaused=!1);this._interval&&(clearInterval(this._interval),this._interval=null);this._config.interval&&!this._isPaused&&(this._interval=
setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))};h.to=function(b){var c=this;this._activeElement=this._element.querySelector(".active.carousel-item");var d=this._getItemIndex(this._activeElement);if(!(b>this._items.length-1||0>b))if(this._isSliding)a(this._element).one("slid.bs.carousel",function(){return c.to(b)});else d===b?(this.pause(),this.cycle()):this._slide(b>d?"next":"prev",this._items[b])};h.dispose=function(){a(this._element).off(".bs.carousel");
a.removeData(this._element,"bs.carousel");this._indicatorsElement=this._activeElement=this._isSliding=this._isPaused=this._interval=this._element=this._config=this._items=null};h._getConfig=function(a){a=f({},c,a);g.typeCheckConfig("carousel",a,d);return a};h._addEventListeners=function(){var b=this;if(this._config.keyboard)a(this._element).on("keydown.bs.carousel",function(a){return b._keydown(a)});if("hover"===this._config.pause&&(a(this._element).on("mouseenter.bs.carousel",function(a){return b.pause(a)}).on("mouseleave.bs.carousel",
function(a){return b.cycle(a)}),"ontouchstart"in document.documentElement))a(this._element).on("touchend.bs.carousel",function(){b.pause();b.touchTimeout&&clearTimeout(b.touchTimeout);b.touchTimeout=setTimeout(function(a){return b.cycle(a)},500+b._config.interval)})};h._keydown=function(a){if(!/input|textarea/i.test(a.target.tagName))switch(a.which){case 37:a.preventDefault();this.prev();break;case 39:a.preventDefault(),this.next()}};h._getItemIndex=function(a){this._items=a&&a.parentNode?[].slice.call(a.parentNode.querySelectorAll(".carousel-item")):
[];return this._items.indexOf(a)};h._getItemByDirection=function(a,b){var c="next"===a,d="prev"===a,e=this._getItemIndex(b),f=this._items.length-1;if((d&&0===e||c&&e===f)&&!this._config.wrap)return b;a=(e+("prev"===a?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]};h._triggerSlideEvent=function(b,c){var d=this._getItemIndex(b),e=this._getItemIndex(this._element.querySelector(".active.carousel-item"));b=a.Event("slide.bs.carousel",{relatedTarget:b,direction:c,
from:e,to:d});a(this._element).trigger(b);return b};h._setActiveIndicatorElement=function(b){if(this._indicatorsElement){var c=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));a(c).removeClass("active");(b=this._indicatorsElement.children[this._getItemIndex(b)])&&a(b).addClass("active")}};h._slide=function(b,c){var d=this,e=this._element.querySelector(".active.carousel-item"),f=this._getItemIndex(e),h=c||e&&this._getItemByDirection(b,e),k=this._getItemIndex(h);c=!!this._interval;
if("next"===b){var l="carousel-item-left";var r="carousel-item-next";b="left"}else l="carousel-item-right",r="carousel-item-prev",b="right";if(h&&a(h).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(h,b).isDefaultPrevented()&&e&&h){this._isSliding=!0;c&&this.pause();this._setActiveIndicatorElement(h);var m=a.Event("slid.bs.carousel",{relatedTarget:h,direction:b,from:f,to:k});a(this._element).hasClass("slide")?(a(h).addClass(r),g.reflow(h),a(e).addClass(l),a(h).addClass(l),f=
g.getTransitionDurationFromElement(e),a(e).one(g.TRANSITION_END,function(){a(h).removeClass(l+" "+r).addClass("active");a(e).removeClass("active "+r+" "+l);d._isSliding=!1;setTimeout(function(){return a(d._element).trigger(m)},0)}).emulateTransitionEnd(f)):(a(e).removeClass("active"),a(h).addClass("active"),this._isSliding=!1,a(this._element).trigger(m));c&&this.cycle()}};b._jQueryInterface=function(d){return this.each(function(){var e=a(this).data("bs.carousel"),g=f({},c,a(this).data());"object"===
typeof d&&(g=f({},g,d));var h="string"===typeof d?d:g.slide;e||(e=new b(this,g),a(this).data("bs.carousel",e));if("number"===typeof d)e.to(d);else if("string"===typeof h){if("undefined"===typeof e[h])throw new TypeError('No method named "'+h+'"');e[h]()}else g.interval&&(e.pause(),e.cycle())})};b._dataApiClickHandler=function(c){var d=g.getSelectorFromElement(this);if(d&&(d=a(d)[0])&&a(d).hasClass("carousel")){var e=f({},a(d).data(),a(this).data()),h=this.getAttribute("data-slide-to");h&&(e.interval=
!1);b._jQueryInterface.call(a(d),e);h&&a(d).data("bs.carousel").to(h);c.preventDefault()}};e(b,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return c}}]);return b}();a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",h._dataApiClickHandler);a(window).on("load.bs.carousel.data-api",function(){for(var b=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),c=0,d=b.length;c<d;c++){var e=a(b[c]);h._jQueryInterface.call(e,e.data())}});
a.fn.carousel=h._jQueryInterface;a.fn.carousel.Constructor=h;a.fn.carousel.noConflict=function(){a.fn.carousel=b;return h._jQueryInterface};return h}(b),m=function(a){var b=a.fn.collapse,c={toggle:!0,parent:""},d={toggle:"boolean",parent:"(string|element)"},h=function(){function b(b,c){this._isTransitioning=!1;this._element=b;this._config=this._getConfig(c);this._triggerArray=a.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+b.id+'"],'+('[data-toggle="collapse"][data-target="#'+
b.id+'"]')));c=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]'));for(var d=0,e=c.length;d<e;d++){var f=c[d],h=g.getSelectorFromElement(f),k=[].slice.call(document.querySelectorAll(h)).filter(function(a){return a===b});null!==h&&0<k.length&&(this._selector=h,this._triggerArray.push(f))}this._parent=this._config.parent?this._getParent():null;this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray);this._config.toggle&&this.toggle()}var h=b.prototype;h.toggle=
function(){a(this._element).hasClass("show")?this.hide():this.show()};h.show=function(){var c=this;if(!this._isTransitioning&&!a(this._element).hasClass("show")){var d;if(this._parent){var e=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(a){return a.getAttribute("data-parent")===c._config.parent});0===e.length&&(e=null)}if(e&&(d=a(e).not(this._selector).data("bs.collapse"))&&d._isTransitioning)return;var f=a.Event("show.bs.collapse");a(this._element).trigger(f);
if(!f.isDefaultPrevented()){e&&(b._jQueryInterface.call(a(e).not(this._selector),"hide"),d||a(e).data("bs.collapse",null));var h=this._getDimension();a(this._element).removeClass("collapse").addClass("collapsing");this._element.style[h]=0;this._triggerArray.length&&a(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0);this.setTransitioning(!0);e="scroll"+(h[0].toUpperCase()+h.slice(1));d=g.getTransitionDurationFromElement(this._element);a(this._element).one(g.TRANSITION_END,function(){a(c._element).removeClass("collapsing").addClass("collapse").addClass("show");
c._element.style[h]="";c.setTransitioning(!1);a(c._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(d);this._element.style[h]=this._element[e]+"px"}}};h.hide=function(){var b=this;if(!this._isTransitioning&&a(this._element).hasClass("show")){var c=a.Event("hide.bs.collapse");a(this._element).trigger(c);if(!c.isDefaultPrevented()){c=this._getDimension();this._element.style[c]=this._element.getBoundingClientRect()[c]+"px";g.reflow(this._element);a(this._element).addClass("collapsing").removeClass("collapse").removeClass("show");
var d=this._triggerArray.length;if(0<d)for(var e=0;e<d;e++){var f=this._triggerArray[e],h=g.getSelectorFromElement(f);null!==h&&(a([].slice.call(document.querySelectorAll(h))).hasClass("show")||a(f).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[c]="";c=g.getTransitionDurationFromElement(this._element);a(this._element).one(g.TRANSITION_END,function(){b.setTransitioning(!1);a(b._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")}).emulateTransitionEnd(c)}}};
h.setTransitioning=function(a){this._isTransitioning=a};h.dispose=function(){a.removeData(this._element,"bs.collapse");this._isTransitioning=this._triggerArray=this._element=this._parent=this._config=null};h._getConfig=function(a){a=f({},c,a);a.toggle=!!a.toggle;g.typeCheckConfig("collapse",a,d);return a};h._getDimension=function(){return a(this._element).hasClass("width")?"width":"height"};h._getParent=function(){var c=this,d=null;g.isElement(this._config.parent)?(d=this._config.parent,"undefined"!==
typeof this._config.parent.jquery&&(d=this._config.parent[0])):d=document.querySelector(this._config.parent);var e=[].slice.call(d.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));a(e).each(function(a,d){c._addAriaAndCollapsedClass(b._getTargetFromElement(d),[d])});return d};h._addAriaAndCollapsedClass=function(b,c){b&&(b=a(b).hasClass("show"),c.length&&a(c).toggleClass("collapsed",!b).attr("aria-expanded",b))};b._getTargetFromElement=function(a){return(a=g.getSelectorFromElement(a))?
document.querySelector(a):null};b._jQueryInterface=function(d){return this.each(function(){var e=a(this),g=e.data("bs.collapse"),h=f({},c,e.data(),"object"===typeof d&&d?d:{});!g&&h.toggle&&/show|hide/.test(d)&&(h.toggle=!1);g||(g=new b(this,h),e.data("bs.collapse",g));if("string"===typeof d){if("undefined"===typeof g[d])throw new TypeError('No method named "'+d+'"');g[d]()}})};e(b,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return c}}]);return b}();a(document).on("click.bs.collapse.data-api",
'[data-toggle="collapse"]',function(b){"A"===b.currentTarget.tagName&&b.preventDefault();var c=a(this);b=g.getSelectorFromElement(this);b=[].slice.call(document.querySelectorAll(b));a(b).each(function(){var b=a(this),d=b.data("bs.collapse")?"toggle":c.data();h._jQueryInterface.call(b,d)})});a.fn.collapse=h._jQueryInterface;a.fn.collapse.Constructor=h;a.fn.collapse.noConflict=function(){a.fn.collapse=b;return h._jQueryInterface};return h}(b),t=function(a){var b=a.fn.dropdown,d=/38|40|27/,h={offset:0,
flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},k={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},l=function(){function b(a,b){this._element=a;this._popper=null;this._config=this._getConfig(b);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var l=b.prototype;l.toggle=function(){if(!this._element.disabled&&!a(this._element).hasClass("disabled")){var d=b._getParentFromElement(this._element),
e=a(this._menu).hasClass("show");b._clearMenus();if(!e){e={relatedTarget:this._element};var f=a.Event("show.bs.dropdown",e);a(d).trigger(f);if(!f.isDefaultPrevented()){if(!this._inNavbar){if("undefined"===typeof c)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");f=this._element;"parent"===this._config.reference?f=d:g.isElement(this._config.reference)&&(f=this._config.reference,"undefined"!==typeof this._config.reference.jquery&&(f=this._config.reference[0]));"scrollParent"!==
this._config.boundary&&a(d).addClass("position-static");this._popper=new c(f,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&0===a(d).closest(".navbar-nav").length)a(document.body).children().on("mouseover",null,a.noop);this._element.focus();this._element.setAttribute("aria-expanded",!0);a(this._menu).toggleClass("show");a(d).toggleClass("show").trigger(a.Event("shown.bs.dropdown",e))}}}};l.dispose=function(){a.removeData(this._element,"bs.dropdown");a(this._element).off(".bs.dropdown");
this._menu=this._element=null;null!==this._popper&&(this._popper.destroy(),this._popper=null)};l.update=function(){this._inNavbar=this._detectNavbar();null!==this._popper&&this._popper.scheduleUpdate()};l._addEventListeners=function(){var b=this;a(this._element).on("click.bs.dropdown",function(a){a.preventDefault();a.stopPropagation();b.toggle()})};l._getConfig=function(b){b=f({},this.constructor.Default,a(this._element).data(),b);g.typeCheckConfig("dropdown",b,this.constructor.DefaultType);return b};
l._getMenuElement=function(){if(!this._menu){var a=b._getParentFromElement(this._element);a&&(this._menu=a.querySelector(".dropdown-menu"))}return this._menu};l._getPlacement=function(){var b=a(this._element.parentNode),c="bottom-start";b.hasClass("dropup")?(c="top-start",a(this._menu).hasClass("dropdown-menu-right")&&(c="top-end")):b.hasClass("dropright")?c="right-start":b.hasClass("dropleft")?c="left-start":a(this._menu).hasClass("dropdown-menu-right")&&(c="bottom-end");return c};l._detectNavbar=
function(){return 0<a(this._element).closest(".navbar").length};l._getPopperConfig=function(){var a=this,b={};"function"===typeof this._config.offset?b.fn=function(b){b.offsets=f({},b.offsets,a._config.offset(b.offsets)||{});return b}:b.offset=this._config.offset;b={placement:this._getPlacement(),modifiers:{offset:b,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};"static"===this._config.display&&(b.modifiers.applyStyle={enabled:!1});return b};b._jQueryInterface=
function(c){return this.each(function(){var d=a(this).data("bs.dropdown"),e="object"===typeof c?c:null;d||(d=new b(this,e),a(this).data("bs.dropdown",d));if("string"===typeof c){if("undefined"===typeof d[c])throw new TypeError('No method named "'+c+'"');d[c]()}})};b._clearMenus=function(c){if(!c||3!==c.which&&("keyup"!==c.type||9===c.which))for(var d=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),e=0,f=d.length;e<f;e++){var g=b._getParentFromElement(d[e]),h=a(d[e]).data("bs.dropdown"),
k={relatedTarget:d[e]};c&&"click"===c.type&&(k.clickEvent=c);if(h&&(h=h._menu,a(g).hasClass("show")&&!(c&&("click"===c.type&&/input|textarea/i.test(c.target.tagName)||"keyup"===c.type&&9===c.which)&&a.contains(g,c.target)))){var l=a.Event("hide.bs.dropdown",k);a(g).trigger(l);l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&a(document.body).children().off("mouseover",null,a.noop),d[e].setAttribute("aria-expanded","false"),a(h).removeClass("show"),a(g).removeClass("show").trigger(a.Event("hidden.bs.dropdown",
k)))}}};b._getParentFromElement=function(a){var b,c=g.getSelectorFromElement(a);c&&(b=document.querySelector(c));return b||a.parentNode};b._dataApiKeydownHandler=function(c){if(/input|textarea/i.test(c.target.tagName)?!(32===c.which||27!==c.which&&(40!==c.which&&38!==c.which||a(c.target).closest(".dropdown-menu").length)):d.test(c.which))if(c.preventDefault(),c.stopPropagation(),!this.disabled&&!a(this).hasClass("disabled")){var e=b._getParentFromElement(this),f=a(e).hasClass("show");!f&&(27!==c.which||
32!==c.which)||f&&(27===c.which||32===c.which)?(27===c.which&&(c=e.querySelector('[data-toggle="dropdown"]'),a(c).trigger("focus")),a(this).trigger("click")):(e=[].slice.call(e.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")),0!==e.length&&(f=e.indexOf(c.target),38===c.which&&0<f&&f--,40===c.which&&f<e.length-1&&f++,0>f&&(f=0),e[f].focus()))}};e(b,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return h}},{key:"DefaultType",get:function(){return k}}]);
return b}();a(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',l._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",l._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",l._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',function(b){b.preventDefault();b.stopPropagation();l._jQueryInterface.call(a(this),"toggle")}).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()});a.fn.dropdown=
l._jQueryInterface;a.fn.dropdown.Constructor=l;a.fn.dropdown.noConflict=function(){a.fn.dropdown=b;return l._jQueryInterface};return l}(b,c),u=function(a){var b=a.fn.modal,c={backdrop:!0,keyboard:!0,focus:!0,show:!0},d={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},h=function(){function b(a,b){this._config=this._getConfig(b);this._element=a;this._dialog=a.querySelector(".modal-dialog");this._backdrop=null;this._ignoreBackdropClick=this._isBodyOverflowing=this._isShown=
!1;this._scrollbarWidth=0}var h=b.prototype;h.toggle=function(a){return this._isShown?this.hide():this.show(a)};h.show=function(b){var c=this;if(!this._isTransitioning&&!this._isShown){a(this._element).hasClass("fade")&&(this._isTransitioning=!0);var d=a.Event("show.bs.modal",{relatedTarget:b});a(this._element).trigger(d);this._isShown||d.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),a(document.body).addClass("modal-open"),this._setEscapeEvent(),
this._setResizeEvent(),a(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',function(a){return c.hide(a)}),a(this._dialog).on("mousedown.dismiss.bs.modal",function(){a(c._element).one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(c._element)&&(c._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return c._showElement(b)}))}};h.hide=function(b){var c=this;b&&b.preventDefault();if(!this._isTransitioning&&this._isShown&&(b=a.Event("hide.bs.modal"),a(this._element).trigger(b),
this._isShown&&!b.isDefaultPrevented())){this._isShown=!1;if(b=a(this._element).hasClass("fade"))this._isTransitioning=!0;this._setEscapeEvent();this._setResizeEvent();a(document).off("focusin.bs.modal");a(this._element).removeClass("show");a(this._element).off("click.dismiss.bs.modal");a(this._dialog).off("mousedown.dismiss.bs.modal");b?(b=g.getTransitionDurationFromElement(this._element),a(this._element).one(g.TRANSITION_END,function(a){return c._hideModal(a)}).emulateTransitionEnd(b)):this._hideModal()}};
h.dispose=function(){a.removeData(this._element,"bs.modal");a(window,document,this._element,this._backdrop).off(".bs.modal");this._scrollbarWidth=this._ignoreBackdropClick=this._isBodyOverflowing=this._isShown=this._backdrop=this._dialog=this._element=this._config=null};h.handleUpdate=function(){this._adjustDialog()};h._getConfig=function(a){a=f({},c,a);g.typeCheckConfig("modal",a,d);return a};h._showElement=function(b){var c=this,d=a(this._element).hasClass("fade");this._element.parentNode&&this._element.parentNode.nodeType===
Node.ELEMENT_NODE||document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.scrollTop=0;d&&g.reflow(this._element);a(this._element).addClass("show");this._config.focus&&this._enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});b=function(){c._config.focus&&c._element.focus();c._isTransitioning=!1;a(c._element).trigger(e)};d?(d=g.getTransitionDurationFromElement(this._element),a(this._dialog).one(g.TRANSITION_END,
b).emulateTransitionEnd(d)):b()};h._enforceFocus=function(){var b=this;a(document).off("focusin.bs.modal").on("focusin.bs.modal",function(c){document!==c.target&&b._element!==c.target&&0===a(b._element).has(c.target).length&&b._element.focus()})};h._setEscapeEvent=function(){var b=this;if(this._isShown&&this._config.keyboard)a(this._element).on("keydown.dismiss.bs.modal",function(a){27===a.which&&(a.preventDefault(),b.hide())});else this._isShown||a(this._element).off("keydown.dismiss.bs.modal")};
h._setResizeEvent=function(){var b=this;if(this._isShown)a(window).on("resize.bs.modal",function(a){return b.handleUpdate(a)});else a(window).off("resize.bs.modal")};h._hideModal=function(){var b=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._isTransitioning=!1;this._showBackdrop(function(){a(document.body).removeClass("modal-open");b._resetAdjustments();b._resetScrollbar();a(b._element).trigger("hidden.bs.modal")})};h._removeBackdrop=function(){this._backdrop&&
(a(this._backdrop).remove(),this._backdrop=null)};h._showBackdrop=function(b){var c=this,d=a(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop)this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",d&&this._backdrop.classList.add(d),a(this._backdrop).appendTo(document.body),a(this._element).on("click.dismiss.bs.modal",function(a){c._ignoreBackdropClick?c._ignoreBackdropClick=!1:a.target===a.currentTarget&&("static"===c._config.backdrop?
c._element.focus():c.hide())}),d&&g.reflow(this._backdrop),a(this._backdrop).addClass("show"),b&&(d?(d=g.getTransitionDurationFromElement(this._backdrop),a(this._backdrop).one(g.TRANSITION_END,b).emulateTransitionEnd(d)):b());else if(!this._isShown&&this._backdrop)if(a(this._backdrop).removeClass("show"),d=function(){c._removeBackdrop();b&&b()},a(this._element).hasClass("fade")){var e=g.getTransitionDurationFromElement(this._backdrop);a(this._backdrop).one(g.TRANSITION_END,d).emulateTransitionEnd(e)}else d();
else b&&b()};h._adjustDialog=function(){var a=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&a&&(this._element.style.paddingLeft=this._scrollbarWidth+"px");this._isBodyOverflowing&&!a&&(this._element.style.paddingRight=this._scrollbarWidth+"px")};h._resetAdjustments=function(){this._element.style.paddingLeft="";this._element.style.paddingRight=""};h._checkScrollbar=function(){var a=document.body.getBoundingClientRect();this._isBodyOverflowing=a.left+a.right<
window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()};h._setScrollbar=function(){var b=this;if(this._isBodyOverflowing){var c=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),d=[].slice.call(document.querySelectorAll(".sticky-top"));a(c).each(function(c,d){c=d.style.paddingRight;var e=a(d).css("padding-right");a(d).data("padding-right",c).css("padding-right",parseFloat(e)+b._scrollbarWidth+"px")});a(d).each(function(c,d){c=d.style.marginRight;
var e=a(d).css("margin-right");a(d).data("margin-right",c).css("margin-right",parseFloat(e)-b._scrollbarWidth+"px")});c=document.body.style.paddingRight;d=a(document.body).css("padding-right");a(document.body).data("padding-right",c).css("padding-right",parseFloat(d)+this._scrollbarWidth+"px")}};h._resetScrollbar=function(){var b=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));a(b).each(function(b,c){b=a(c).data("padding-right");a(c).removeData("padding-right");
c.style.paddingRight=b?b:""});b=[].slice.call(document.querySelectorAll(".sticky-top"));a(b).each(function(b,c){b=a(c).data("margin-right");"undefined"!==typeof b&&a(c).css("margin-right",b).removeData("margin-right")});b=a(document.body).data("padding-right");a(document.body).removeData("padding-right");document.body.style.paddingRight=b?b:""};h._getScrollbarWidth=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";document.body.appendChild(a);var b=a.getBoundingClientRect().width-
a.clientWidth;document.body.removeChild(a);return b};b._jQueryInterface=function(d,e){return this.each(function(){var g=a(this).data("bs.modal"),h=f({},c,a(this).data(),"object"===typeof d&&d?d:{});g||(g=new b(this,h),a(this).data("bs.modal",g));if("string"===typeof d){if("undefined"===typeof g[d])throw new TypeError('No method named "'+d+'"');g[d](e)}else h.show&&g.show(e)})};e(b,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return c}}]);return b}();a(document).on("click.bs.modal.data-api",
'[data-toggle="modal"]',function(b){var c=this,d,e=g.getSelectorFromElement(this);e&&(d=document.querySelector(e));e=a(d).data("bs.modal")?"toggle":f({},a(d).data(),a(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||b.preventDefault();var k=a(d).one("show.bs.modal",function(b){if(!b.isDefaultPrevented())k.one("hidden.bs.modal",function(){a(c).is(":visible")&&c.focus()})});h._jQueryInterface.call(a(d),e,this)});a.fn.modal=h._jQueryInterface;a.fn.modal.Constructor=h;a.fn.modal.noConflict=function(){a.fn.modal=
b;return h._jQueryInterface};return h}(b),v=function(a){var b=a.fn.tooltip,d=/(^|\s)bs-tooltip\S+/g,h={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},k={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},l={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',
trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},m={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},n=function(){function b(a,b){if("undefined"===typeof c)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");
this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=a;this.config=this._getConfig(b);this.tip=null;this._setListeners()}var n=b.prototype;n.enable=function(){this._isEnabled=!0};n.disable=function(){this._isEnabled=!1};n.toggleEnabled=function(){this._isEnabled=!this._isEnabled};n.toggle=function(b){if(this._isEnabled)if(b){var c=this.constructor.DATA_KEY,d=a(b.currentTarget).data(c);d||(d=new this.constructor(b.currentTarget,this._getDelegateConfig()),
a(b.currentTarget).data(c,d));d._activeTrigger.click=!d._activeTrigger.click;d._isWithActiveTrigger()?d._enter(null,d):d._leave(null,d)}else a(this.getTipElement()).hasClass("show")?this._leave(null,this):this._enter(null,this)};n.dispose=function(){clearTimeout(this._timeout);a.removeData(this.element,this.constructor.DATA_KEY);a(this.element).off(this.constructor.EVENT_KEY);a(this.element).closest(".modal").off("hide.bs.modal");this.tip&&a(this.tip).remove();this._activeTrigger=this._hoverState=
this._timeout=this._isEnabled=null;null!==this._popper&&this._popper.destroy();this.tip=this.config=this.element=this._popper=null};n.show=function(){var b=this;if("none"===a(this.element).css("display"))throw Error("Please use show on visible elements");var d=a.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){a(this.element).trigger(d);var e=a.contains(this.element.ownerDocument.documentElement,this.element);if(!d.isDefaultPrevented()&&e){d=this.getTipElement();e=g.getUID(this.constructor.NAME);
d.setAttribute("id",e);this.element.setAttribute("aria-describedby",e);this.setContent();this.config.animation&&a(d).addClass("fade");e="function"===typeof this.config.placement?this.config.placement.call(this,d,this.element):this.config.placement;e=this._getAttachment(e);this.addAttachmentClass(e);var f=!1===this.config.container?document.body:a(document).find(this.config.container);a(d).data(this.constructor.DATA_KEY,this);a.contains(this.element.ownerDocument.documentElement,this.tip)||a(d).appendTo(f);
a(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new c(this.element,d,{placement:e,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(a){a.originalPlacement!==a.placement&&b._handlePopperPlacementChange(a)},onUpdate:function(a){b._handlePopperPlacementChange(a)}});a(d).addClass("show");if("ontouchstart"in document.documentElement)a(document.body).children().on("mouseover",
null,a.noop);d=function(){b.config.animation&&b._fixTransition();var c=b._hoverState;b._hoverState=null;a(b.element).trigger(b.constructor.Event.SHOWN);"out"===c&&b._leave(null,b)};a(this.tip).hasClass("fade")?(e=g.getTransitionDurationFromElement(this.tip),a(this.tip).one(g.TRANSITION_END,d).emulateTransitionEnd(e)):d()}}};n.hide=function(b){var c=this,d=this.getTipElement(),e=a.Event(this.constructor.Event.HIDE),f=function(){"show"!==c._hoverState&&d.parentNode&&d.parentNode.removeChild(d);c._cleanTipClass();
c.element.removeAttribute("aria-describedby");a(c.element).trigger(c.constructor.Event.HIDDEN);null!==c._popper&&c._popper.destroy();b&&b()};a(this.element).trigger(e);e.isDefaultPrevented()||(a(d).removeClass("show"),"ontouchstart"in document.documentElement&&a(document.body).children().off("mouseover",null,a.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,a(this.tip).hasClass("fade")?(e=g.getTransitionDurationFromElement(d),a(d).one(g.TRANSITION_END,
f).emulateTransitionEnd(e)):f(),this._hoverState="")};n.update=function(){null!==this._popper&&this._popper.scheduleUpdate()};n.isWithContent=function(){return!!this.getTitle()};n.addAttachmentClass=function(b){a(this.getTipElement()).addClass("bs-tooltip-"+b)};n.getTipElement=function(){return this.tip=this.tip||a(this.config.template)[0]};n.setContent=function(){var b=this.getTipElement();this.setElementContent(a(b.querySelectorAll(".tooltip-inner")),this.getTitle());a(b).removeClass("fade show")};
n.setElementContent=function(b,c){var d=this.config.html;if("object"===typeof c&&(c.nodeType||c.jquery))d?a(c).parent().is(b)||b.empty().append(c):b.text(a(c).text());else b[d?"html":"text"](c)};n.getTitle=function(){var a=this.element.getAttribute("data-original-title");a||(a="function"===typeof this.config.title?this.config.title.call(this.element):this.config.title);return a};n._getAttachment=function(a){return k[a.toUpperCase()]};n._setListeners=function(){var b=this;this.config.trigger.split(" ").forEach(function(c){if("click"===
c)a(b.element).on(b.constructor.Event.CLICK,b.config.selector,function(a){return b.toggle(a)});else if("manual"!==c){var d="hover"===c?b.constructor.Event.MOUSEENTER:b.constructor.Event.FOCUSIN;c="hover"===c?b.constructor.Event.MOUSELEAVE:b.constructor.Event.FOCUSOUT;a(b.element).on(d,b.config.selector,function(a){return b._enter(a)}).on(c,b.config.selector,function(a){return b._leave(a)})}a(b.element).closest(".modal").on("hide.bs.modal",function(){return b.hide()})});this.config.selector?this.config=
f({},this.config,{trigger:"manual",selector:""}):this._fixTitle()};n._fixTitle=function(){var a=typeof this.element.getAttribute("data-original-title");if(this.element.getAttribute("title")||"string"!==a)this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title","")};n._enter=function(b,c){var d=this.constructor.DATA_KEY;c=c||a(b.currentTarget).data(d);c||(c=new this.constructor(b.currentTarget,this._getDelegateConfig()),a(b.currentTarget).data(d,
c));b&&(c._activeTrigger["focusin"===b.type?"focus":"hover"]=!0);a(c.getTipElement()).hasClass("show")||"show"===c._hoverState?c._hoverState="show":(clearTimeout(c._timeout),c._hoverState="show",c.config.delay&&c.config.delay.show?c._timeout=setTimeout(function(){"show"===c._hoverState&&c.show()},c.config.delay.show):c.show())};n._leave=function(b,c){var d=this.constructor.DATA_KEY;c=c||a(b.currentTarget).data(d);c||(c=new this.constructor(b.currentTarget,this._getDelegateConfig()),a(b.currentTarget).data(d,
c));b&&(c._activeTrigger["focusout"===b.type?"focus":"hover"]=!1);c._isWithActiveTrigger()||(clearTimeout(c._timeout),c._hoverState="out",c.config.delay&&c.config.delay.hide?c._timeout=setTimeout(function(){"out"===c._hoverState&&c.hide()},c.config.delay.hide):c.hide())};n._isWithActiveTrigger=function(){for(var a in this._activeTrigger)if(this._activeTrigger[a])return!0;return!1};n._getConfig=function(b){b=f({},this.constructor.Default,a(this.element).data(),"object"===typeof b&&b?b:{});"number"===
typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});"number"===typeof b.title&&(b.title=b.title.toString());"number"===typeof b.content&&(b.content=b.content.toString());g.typeCheckConfig("tooltip",b,this.constructor.DefaultType);return b};n._getDelegateConfig=function(){var a={};if(this.config)for(var b in this.config)this.constructor.Default[b]!==this.config[b]&&(a[b]=this.config[b]);return a};n._cleanTipClass=function(){var b=a(this.getTipElement()),c=b.attr("class").match(d);null!==c&&c.length&&
b.removeClass(c.join(""))};n._handlePopperPlacementChange=function(a){this.tip=a.instance.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(a.placement))};n._fixTransition=function(){var b=this.getTipElement(),c=this.config.animation;null===b.getAttribute("x-placement")&&(a(b).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=c)};b._jQueryInterface=function(c){return this.each(function(){var d=a(this).data("bs.tooltip"),e="object"===
typeof c&&c;if(d||!/dispose|hide/.test(c))if(d||(d=new b(this,e),a(this).data("bs.tooltip",d)),"string"===typeof c){if("undefined"===typeof d[c])throw new TypeError('No method named "'+c+'"');d[c]()}})};e(b,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return l}},{key:"NAME",get:function(){return"tooltip"}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return m}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",
get:function(){return h}}]);return b}();a.fn.tooltip=n._jQueryInterface;a.fn.tooltip.Constructor=n;a.fn.tooltip.noConflict=function(){a.fn.tooltip=b;return n._jQueryInterface};return n}(b,c),n=function(a){var b=a.fn.popover,c=/(^|\s)bs-popover\S+/g,d=f({},v.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),g=f({},v.DefaultType,{content:"(string|element|function)"}),
k={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},l=function(b){function f(){return b.apply(this,arguments)||this}h(f,b);var l=f.prototype;l.isWithContent=function(){return this.getTitle()||this._getContent()};l.addAttachmentClass=function(b){a(this.getTipElement()).addClass("bs-popover-"+
b)};l.getTipElement=function(){return this.tip=this.tip||a(this.config.template)[0]};l.setContent=function(){var b=a(this.getTipElement());this.setElementContent(b.find(".popover-header"),this.getTitle());var c=this._getContent();"function"===typeof c&&(c=c.call(this.element));this.setElementContent(b.find(".popover-body"),c);b.removeClass("fade show")};l._getContent=function(){return this.element.getAttribute("data-content")||this.config.content};l._cleanTipClass=function(){var b=a(this.getTipElement()),
d=b.attr("class").match(c);null!==d&&0<d.length&&b.removeClass(d.join(""))};f._jQueryInterface=function(b){return this.each(function(){var c=a(this).data("bs.popover"),d="object"===typeof b?b:null;if(c||!/destroy|hide/.test(b))if(c||(c=new f(this,d),a(this).data("bs.popover",c)),"string"===typeof b){if("undefined"===typeof c[b])throw new TypeError('No method named "'+b+'"');c[b]()}})};e(f,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return d}},{key:"NAME",get:function(){return"popover"}},
{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return k}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return g}}]);return f}(v);a.fn.popover=l._jQueryInterface;a.fn.popover.Constructor=l;a.fn.popover.noConflict=function(){a.fn.popover=b;return l._jQueryInterface};return l}(b),w=function(a){var b=a.fn.scrollspy,c={offset:10,method:"auto",target:""},d={offset:"number",method:"string",target:"(string|element)"},h=function(){function b(b,
c){var d=this;this._element=b;this._scrollElement="BODY"===b.tagName?window:b;this._config=this._getConfig(c);this._selector=this._config.target+" .nav-link,"+(this._config.target+" .list-group-item,")+(this._config.target+" .dropdown-item");this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;a(this._scrollElement).on("scroll.bs.scrollspy",function(a){return d._process(a)});this.refresh();this._process()}var h=b.prototype;h.refresh=function(){var b=this,c=this._scrollElement===
this._scrollElement.window?"offset":"position",d="auto"===this._config.method?c:this._config.method,e="position"===d?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();[].slice.call(document.querySelectorAll(this._selector)).map(function(b){var c;(b=g.getSelectorFromElement(b))&&(c=document.querySelector(b));if(c){var f=c.getBoundingClientRect();if(f.width||f.height)return[a(c)[d]().top+e,b]}return null}).filter(function(a){return a}).sort(function(a,
b){return a[0]-b[0]}).forEach(function(a){b._offsets.push(a[0]);b._targets.push(a[1])})};h.dispose=function(){a.removeData(this._element,"bs.scrollspy");a(this._scrollElement).off(".bs.scrollspy");this._scrollHeight=this._activeTarget=this._targets=this._offsets=this._selector=this._config=this._scrollElement=this._element=null};h._getConfig=function(b){b=f({},c,"object"===typeof b&&b?b:{});if("string"!==typeof b.target){var e=a(b.target).attr("id");e||(e=g.getUID("scrollspy"),a(b.target).attr("id",
e));b.target="#"+e}g.typeCheckConfig("scrollspy",b,d);return b};h._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop};h._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};h._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height};h._process=function(){var a=
this._getScrollTop()+this._config.offset,b=this._getScrollHeight(),c=this._config.offset+b-this._getOffsetHeight();this._scrollHeight!==b&&this.refresh();if(a>=c)a=this._targets[this._targets.length-1],this._activeTarget!==a&&this._activate(a);else if(this._activeTarget&&a<this._offsets[0]&&0<this._offsets[0])this._activeTarget=null,this._clear();else for(b=this._offsets.length;b--;)this._activeTarget!==this._targets[b]&&a>=this._offsets[b]&&("undefined"===typeof this._offsets[b+1]||a<this._offsets[b+
1])&&this._activate(this._targets[b])};h._activate=function(b){this._activeTarget=b;this._clear();var c=this._selector.split(",");c=c.map(function(a){return a+'[data-target="'+b+'"],'+(a+'[href="'+b+'"]')});c=a([].slice.call(document.querySelectorAll(c.join(","))));c.hasClass("dropdown-item")?(c.closest(".dropdown").find(".dropdown-toggle").addClass("active"),c.addClass("active")):(c.addClass("active"),c.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),c.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active"));
a(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:b})};h._clear=function(){var b=[].slice.call(document.querySelectorAll(this._selector));a(b).filter(".active").removeClass("active")};b._jQueryInterface=function(c){return this.each(function(){var d=a(this).data("bs.scrollspy"),e="object"===typeof c&&c;d||(d=new b(this,e),a(this).data("bs.scrollspy",d));if("string"===typeof c){if("undefined"===typeof d[c])throw new TypeError('No method named "'+c+'"');d[c]()}})};e(b,null,[{key:"VERSION",
get:function(){return"4.1.3"}},{key:"Default",get:function(){return c}}]);return b}();a(window).on("load.bs.scrollspy.data-api",function(){for(var b=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),c=b.length;c--;){var d=a(b[c]);h._jQueryInterface.call(d,d.data())}});a.fn.scrollspy=h._jQueryInterface;a.fn.scrollspy.Constructor=h;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=b;return h._jQueryInterface};return h}(b),D=function(a){var b=a.fn.tab,c=function(){function b(a){this._element=
a}var c=b.prototype;c.show=function(){var b=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&a(this._element).hasClass("active")||a(this._element).hasClass("disabled"))){var c,d=a(this._element).closest(".nav, .list-group")[0],e=g.getSelectorFromElement(this._element);if(d){var f="UL"===d.nodeName?"> li > .active":".active";var h=a.makeArray(a(d).find(f));h=h[h.length-1]}f=a.Event("hide.bs.tab",{relatedTarget:this._element});var k=a.Event("show.bs.tab",{relatedTarget:h});
h&&a(h).trigger(f);a(this._element).trigger(k);k.isDefaultPrevented()||f.isDefaultPrevented()||(e&&(c=document.querySelector(e)),this._activate(this._element,d),d=function(){var c=a.Event("hidden.bs.tab",{relatedTarget:b._element}),d=a.Event("shown.bs.tab",{relatedTarget:h});a(h).trigger(c);a(b._element).trigger(d)},c?this._activate(c,c.parentNode,d):d())}};c.dispose=function(){a.removeData(this._element,"bs.tab");this._element=null};c._activate=function(b,c,d){var e=this,f=("UL"===c.nodeName?a(c).find("> li > .active"):
a(c).children(".active"))[0],h=d&&f&&a(f).hasClass("fade");c=function(){return e._transitionComplete(b,f,d)};f&&h?(h=g.getTransitionDurationFromElement(f),a(f).one(g.TRANSITION_END,c).emulateTransitionEnd(h)):c()};c._transitionComplete=function(b,c,d){if(c){a(c).removeClass("show active");var e=a(c.parentNode).find("> .dropdown-menu .active")[0];e&&a(e).removeClass("active");"tab"===c.getAttribute("role")&&c.setAttribute("aria-selected",!1)}a(b).addClass("active");"tab"===b.getAttribute("role")&&
b.setAttribute("aria-selected",!0);g.reflow(b);a(b).addClass("show");if(b.parentNode&&a(b.parentNode).hasClass("dropdown-menu")){if(c=a(b).closest(".dropdown")[0])c=[].slice.call(c.querySelectorAll(".dropdown-toggle")),a(c).addClass("active");b.setAttribute("aria-expanded",!0)}d&&d()};b._jQueryInterface=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||(e=new b(this),d.data("bs.tab",e));if("string"===typeof c){if("undefined"===typeof e[c])throw new TypeError('No method named "'+
c+'"');e[c]()}})};e(b,null,[{key:"VERSION",get:function(){return"4.1.3"}}]);return b}();a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(b){b.preventDefault();c._jQueryInterface.call(a(this),"show")});a.fn.tab=c._jQueryInterface;a.fn.tab.Constructor=c;a.fn.tab.noConflict=function(){a.fn.tab=b;return c._jQueryInterface};return c}(b);(function(a){if("undefined"===typeof a)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");
a=a.fn.jquery.split(" ")[0].split(".");if(2>a[0]&&9>a[1]||1===a[0]&&9===a[1]&&1>a[2]||4<=a[0])throw Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");})(b);a.Util=g;a.Alert=k;a.Button=p;a.Carousel=l;a.Collapse=m;a.Dropdown=t;a.Modal=u;a.Popover=n;a.Scrollspy=w;a.Tab=D;a.Tooltip=v;Object.defineProperty(a,"__esModule",{value:!0})});var Controls$classdecl$var1=function(){var a=Math.random().toString(36).substr(2,9),b='<div class=" my-5 " style="display:block;"  >\n  \n               <button id="execute_'+a+'" type="button" class="btn  btn-danger">Execute</button> \n             \n               <div class="btn-group btn-group-toggle float-right" data-toggle="buttons" >\n\n                 <button class="btn btn-secondary" id="speed2x_'+a+'">\n                    <input type="radio" name="speed_'+a+'"  > 2x\n                 </button>\n\n                 <button class="btn btn-secondary active" id="speed1x_'+
a+'">\n                    <input type="radio" name="speed_'+a+'" > 1x\n                 </button>\n\n                 <button class="btn btn-secondary" id="speed0.5x_'+a+"\">\n                    <input type='radio'  name=\"speed_"+a+'" > 0.5x\n                 </button>\n\n               </div>\n\n               <div class="btn-group float-right mr-2" > \n                 \n                 <button id="pause_'+a+'" type="button" class="btn btn-secondary ">Pause</button> \n\n                 <button id="shuffle_'+
a+'" type="button" class="btn btn-secondary ">Shuffle</button>   \n \n               </div> \n  \n            </div>';b=(new DOMParser).parseFromString(b,"text/html");this.container=b.body.children[0];this.buttons={execute:b.getElementById("execute_"+a),pause:b.getElementById("pause_"+a),shuffle:b.getElementById("shuffle_"+a)};this.speed_radio={"2x":b.getElementById("speed2x_"+a),"1x":b.getElementById("speed1x_"+a),"0.5x":b.getElementById("speed0.5x_"+a)}};Sorter.Controls=Controls$classdecl$var1;var App$classdecl$var2=function(){var a=this;this.VISUAL_ARRAY_MAX_WIDTH=600;this.VISUAL_ARRAY_MAX_HEIGHT=150;this.WORKSPACE_HEIGHT=500;this.grid=this._initGrid();this.ticker=new PIXI.ticker.Ticker;this.renderer=this._injectRenderer();this.visual_array=new Sorter.VisualArray({x:0,y:0,length:10,width:this.VISUAL_ARRAY_MAX_WIDTH,height:this.VISUAL_ARRAY_MAX_HEIGHT});this.execution_context=Sorter.Generators.init(this.visual_array);this.workspace=this._injectBlockly();this.controls=this._injectControls();
this.is_executing=!1;this.visual_array.listen("onAnimationStart",function(){a.is_executing=!0});this.visual_array.listen("onAnimationComplete",function(){a.is_executing=!1});this.ticker.add(function(){this.visual_array.render(this.renderer)},this);this.ticker.start();window.addEventListener("resize",function(){a._resize()});this._resize();this._shuffleVisualArray()};
App$classdecl$var2.prototype._resize=function(){this._resizeVisualArray();this.renderer.view.width=this.visual_array.width;this.renderer.view.height=this.visual_array.height};App$classdecl$var2.prototype._resizeVisualArray=function(){var a=document.body.clientWidth,b=a/(this.visual_array.width/this.visual_array.height);if(a>this.VISUAL_ARRAY_MAX_WIDTH||b>this.VISUAL_ARRAY_MAX_HEIGHT)a=this.VISUAL_ARRAY_MAX_WIDTH,b=this.VISUAL_ARRAY_MAX_HEIGHT;this.visual_array.resize(a,b)};
App$classdecl$var2.prototype._generateRandomArray=function(a){for(var b=[],c=0;c<a;c++)b[c]=c;for(c=0;c<a;c++){var d=Math.round(Math.random()*(a-1)),e=Math.round(Math.random()*(a-1)),f=$jscomp.makeIterator([b[e],b[d]]);b[d]=f.next().value;b[e]=f.next().value}return b};App$classdecl$var2.prototype._shuffleVisualArray=function(){this.visual_array.reset(this._generateRandomArray(this.visual_array.length))};
App$classdecl$var2.prototype._alert=function(a){var b=document.createElement("div");b.setAttribute("class","alert alert-danger");b.innerText=a;this.grid.column1.appendChild(b);setTimeout(function(){b.remove()},2E3)};App$classdecl$var2.prototype._execute=function(){var a=new Function(Blockly.JavaScript.workspaceToCode(this.workspace));try{a.call(this.execution_context)}catch(b){this._alert(b.toString()),this.visual_array.reset(this.visual_array.toPlainArray())}};
App$classdecl$var2.prototype._initGrid=function(){var a=goog.dom.createDom("div"),b=goog.dom.createDom("div",{"class":"row justify-content-center no-gutters"}),c=goog.dom.createDom("div",{"class":"col-auto no-gutters",id:"col_1_"+Math.random().toString(36).substr(2,9)}),d=goog.dom.createDom("div",{"class":"w-100"}),e=goog.dom.createDom("div",{"class":"col-12 col-xl-9 no-gutters ",id:"col_2_"+Math.random().toString(36).substr(2,9),style:"height:"+this.WORKSPACE_HEIGHT+"px;"});document.body.appendChild(a);
a.appendChild(b);b.appendChild(c);b.appendChild(d);b.appendChild(e);return{container:a,column1:c,column2:e}};
App$classdecl$var2.prototype._injectControls=function(){var a=this,b=new Sorter.Controls,c=b.buttons.execute,d=b.buttons.pause,e=b.buttons.shuffle,f=this.visual_array;this.grid.column1.appendChild(b.container);f.listen("onAnimationStart",function(){c.setAttribute("disabled","")});f.listen("onAnimationComplete",function(){c.removeAttribute("disabled")});c.addEventListener("click",function(){a._execute()});d.innerText="Pause";f.listen("onPause",function(){d.innerText="Resume";c.setAttribute("disabled",
"")});f.listen("onResume",function(){d.innerText="Pause";a.is_executing||c.removeAttribute("disabled")});d.addEventListener("click",function(){f.paused=!f.paused});e.addEventListener("click",function(){a._shuffleVisualArray()});b.speed_radio["2x"].addEventListener("click",function(){f.speed=3});b.speed_radio["1x"].addEventListener("click",function(){f.speed=1});b.speed_radio["0.5x"].addEventListener("click",function(){f.speed=.5});return b};
App$classdecl$var2.prototype._injectRenderer=function(){var a=new PIXI.CanvasRenderer({width:this.VISUAL_ARRAY_MAX_WIDTH,height:this.VISUAL_ARRAY_MAX_HEIGHT,transparent:!0});this.grid.column1.appendChild(a.view);return a};
App$classdecl$var2.prototype._injectBlockly=function(){window.loop_limit=1E4;Blockly.JavaScript.INFINITE_LOOP_TRAP='if( !(window.loop_limit--) )\n                                                  {                                \n                                                        window.loop_limit = 10000;\n                                                        throw "Infinite loop.";\n\n                                                  };\n';return Blockly.inject(this.grid.column2.id,{toolbox:Sorter.ToolBox,
zoom:{controls:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2},grid:{spacing:20,length:1,colour:"#ccc",snap:!0}})};App$classdecl$var2.prototype.destroy=function(){};Sorter.App=App$classdecl$var2;Sorter.Start=function(){new Sorter.App};
